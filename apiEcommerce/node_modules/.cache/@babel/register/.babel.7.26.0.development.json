{"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _router = _interopRequireDefault(require(\"./router\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n//CONEXION A LA BASE DE DATOS db_adcee\n\nconst dburl = \"mongodb://127.0.0.1:27017/db_adcee\";\n_mongoose.default.connect(dburl).then(() => console.log(\"CONECTADO A LA BD db_adcee en el puerto 27017\")).catch(err => console.log(err));\n\n//DECLARACION EXPRESS\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use(_express.default.json());\napp.use(_express.default.urlencoded({\n  extended: true\n}));\napp.use(_express.default.static(_path.default.join(__dirname, 'public')));\napp.use('/api/', _router.default);\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => {\n  console.log(\"EL SERVIDOR SE EJECUTO PERFECTAMENTE EN EL PUERTO 3000\");\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NvcnMiLCJfcGF0aCIsIl9tb25nb29zZSIsIl9yb3V0ZXIiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJkYnVybCIsIm1vbmdvb3NlIiwiY29ubmVjdCIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnIiLCJhcHAiLCJleHByZXNzIiwidXNlIiwiY29ycyIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJzdGF0aWMiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsInJvdXRlciIsInNldCIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwibGlzdGVuIiwiZ2V0Il0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgY29ycyBmcm9tIFwiY29yc1wiO1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcbmltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcbmltcG9ydCByb3V0ZXIgZnJvbSBcIi4vcm91dGVyXCI7XG5cbi8vQ09ORVhJT04gQSBMQSBCQVNFIERFIERBVE9TIGRiX2FkY2VlXG5cbmNvbnN0IGRidXJsID0gXCJtb25nb2RiOi8vMTI3LjAuMC4xOjI3MDE3L2RiX2FkY2VlXCI7XG5cbm1vbmdvb3NlLmNvbm5lY3QoZGJ1cmwpXG4gIC50aGVuKCgpID0+IGNvbnNvbGUubG9nKFwiQ09ORUNUQURPIEEgTEEgQkQgZGJfYWRjZWUgZW4gZWwgcHVlcnRvIDI3MDE3XCIpKVxuICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xuXG5cbi8vREVDTEFSQUNJT04gRVhQUkVTU1xuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuYXBwLnVzZShjb3JzKCkpO1xuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XG5hcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcbmFwcC51c2UoZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgJ3B1YmxpYycpKSk7XG5hcHAudXNlKCcvYXBpLycsIHJvdXRlcik7XG5cbmFwcC5zZXQoJ3BvcnQnLCBwcm9jZXNzLmVudi5QT1JUIHx8IDMwMDApO1xuYXBwLmxpc3RlbihhcHAuZ2V0KCdwb3J0JyksICgpID0+IHsgXG4gIGNvbnNvbGUubG9nKFwiRUwgU0VSVklET1IgU0UgRUpFQ1VUTyBQRVJGRUNUQU1FTlRFIEVOIEVMIFBVRVJUTyAzMDAwXCIpO1xufSk7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsU0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksT0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQThCLFNBQUFELHVCQUFBTSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBRTlCOztBQUVBLE1BQU1HLEtBQUssR0FBRyxvQ0FBb0M7QUFFbERDLGlCQUFRLENBQUNDLE9BQU8sQ0FBQ0YsS0FBSyxDQUFDLENBQ3BCRyxJQUFJLENBQUMsTUFBTUMsT0FBTyxDQUFDQyxHQUFHLENBQUMsK0NBQStDLENBQUMsQ0FBQyxDQUN4RUMsS0FBSyxDQUFDQyxHQUFHLElBQUlILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxHQUFHLENBQUMsQ0FBQzs7QUFHakM7QUFDQSxNQUFNQyxHQUFHLEdBQUcsSUFBQUMsZ0JBQU8sRUFBQyxDQUFDO0FBQ3JCRCxHQUFHLENBQUNFLEdBQUcsQ0FBQyxJQUFBQyxhQUFJLEVBQUMsQ0FBQyxDQUFDO0FBQ2ZILEdBQUcsQ0FBQ0UsR0FBRyxDQUFDRCxnQkFBTyxDQUFDRyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ3ZCSixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ0ksVUFBVSxDQUFDO0VBQUVDLFFBQVEsRUFBRTtBQUFLLENBQUMsQ0FBQyxDQUFDO0FBQy9DTixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ00sTUFBTSxDQUFDQyxhQUFJLENBQUNDLElBQUksQ0FBQ0MsU0FBUyxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDdkRWLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBRVMsZUFBTSxDQUFDO0FBRXhCWCxHQUFHLENBQUNZLEdBQUcsQ0FBQyxNQUFNLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxJQUFJLElBQUksSUFBSSxDQUFDO0FBQ3pDZixHQUFHLENBQUNnQixNQUFNLENBQUNoQixHQUFHLENBQUNpQixHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsTUFBTTtFQUNoQ3JCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHdEQUF3RCxDQUFDO0FBQ3ZFLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_cors","_path","_mongoose","_router","e","__esModule","default","dburl","mongoose","connect","then","console","log","catch","err","app","express","use","cors","json","urlencoded","extended","static","path","join","__dirname","router","set","process","env","PORT","listen","get"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/","sources":["index.js"],"sourcesContent":["import express from \"express\";\nimport cors from \"cors\";\nimport path from \"path\";\nimport mongoose from \"mongoose\";\nimport router from \"./router\";\n\n//CONEXION A LA BASE DE DATOS db_adcee\n\nconst dburl = \"mongodb://127.0.0.1:27017/db_adcee\";\n\nmongoose.connect(dburl)\n  .then(() => console.log(\"CONECTADO A LA BD db_adcee en el puerto 27017\"))\n  .catch(err => console.log(err));\n\n\n//DECLARACION EXPRESS\nconst app = express();\napp.use(cors());\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\napp.use(express.static(path.join(__dirname, 'public')));\napp.use('/api/', router);\n\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => { \n  console.log(\"EL SERVIDOR SE EJECUTO PERFECTAMENTE EN EL PUERTO 3000\");\n});\n"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAM,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAE9B;;AAEA,MAAMG,KAAK,GAAG,oCAAoC;AAElDC,iBAAQ,CAACC,OAAO,CAACF,KAAK,CAAC,CACpBG,IAAI,CAAC,MAAMC,OAAO,CAACC,GAAG,CAAC,+CAA+C,CAAC,CAAC,CACxEC,KAAK,CAACC,GAAG,IAAIH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CAAC;;AAGjC;AACA,MAAMC,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AACrBD,GAAG,CAACE,GAAG,CAAC,IAAAC,aAAI,EAAC,CAAC,CAAC;AACfH,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACG,IAAI,CAAC,CAAC,CAAC;AACvBJ,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACI,UAAU,CAAC;EAAEC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAAC;AAC/CN,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACM,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAE,QAAQ,CAAC,CAAC,CAAC;AACvDV,GAAG,CAACE,GAAG,CAAC,OAAO,EAAES,eAAM,CAAC;AAExBX,GAAG,CAACY,GAAG,CAAC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,IAAI,IAAI,IAAI,CAAC;AACzCf,GAAG,CAACgB,MAAM,CAAChB,GAAG,CAACiB,GAAG,CAAC,MAAM,CAAC,EAAE,MAAM;EAChCrB,OAAO,CAACC,GAAG,CAAC,wDAAwD,CAAC;AACvE,CAAC,CAAC","ignoreList":[]}},"mtime":1736649276298},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _router = _interopRequireDefault(require(\"./router\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n//CONEXION A LA BASE DE DATOS db_adcee\n\nconst dburl = \"mongodb://127.0.0.1:27017/db_adcee\";\n_mongoose.default.connect(dburl).then(() => console.log(\"CONECTADO A LA BD db_adcee en el puerto 27017\")).catch(err => console.log(err));\n\n//DECLARACION EXPRESS\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use(_express.default.json());\napp.use(_express.default.urlencoded({\n  extended: true\n}));\napp.use(_express.default.static(_path.default.join(__dirname, 'public')));\napp.use('/api/', _router.default);\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => {\n  console.log(\"EL SERVIDOR SE EJECUTO PERFECTAMENTE EN EL PUERTO 3000\");\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NvcnMiLCJfcGF0aCIsIl9tb25nb29zZSIsIl9yb3V0ZXIiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJkYnVybCIsIm1vbmdvb3NlIiwiY29ubmVjdCIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnIiLCJhcHAiLCJleHByZXNzIiwidXNlIiwiY29ycyIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJzdGF0aWMiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsInJvdXRlciIsInNldCIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwibGlzdGVuIiwiZ2V0Il0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgY29ycyBmcm9tIFwiY29yc1wiO1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcbmltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcbmltcG9ydCByb3V0ZXIgZnJvbSBcIi4vcm91dGVyXCI7XG5cbi8vQ09ORVhJT04gQSBMQSBCQVNFIERFIERBVE9TIGRiX2FkY2VlXG5cbmNvbnN0IGRidXJsID0gXCJtb25nb2RiOi8vMTI3LjAuMC4xOjI3MDE3L2RiX2FkY2VlXCI7XG5cbm1vbmdvb3NlLmNvbm5lY3QoZGJ1cmwpXG4gIC50aGVuKCgpID0+IGNvbnNvbGUubG9nKFwiQ09ORUNUQURPIEEgTEEgQkQgZGJfYWRjZWUgZW4gZWwgcHVlcnRvIDI3MDE3XCIpKVxuICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xuXG5cbi8vREVDTEFSQUNJT04gRVhQUkVTU1xuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuYXBwLnVzZShjb3JzKCkpO1xuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XG5hcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcbmFwcC51c2UoZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgJ3B1YmxpYycpKSk7XG5hcHAudXNlKCcvYXBpLycsIHJvdXRlcik7XG5cbmFwcC5zZXQoJ3BvcnQnLCBwcm9jZXNzLmVudi5QT1JUIHx8IDMwMDApO1xuYXBwLmxpc3RlbihhcHAuZ2V0KCdwb3J0JyksICgpID0+IHsgXG4gIGNvbnNvbGUubG9nKFwiRUwgU0VSVklET1IgU0UgRUpFQ1VUTyBQRVJGRUNUQU1FTlRFIEVOIEVMIFBVRVJUTyAzMDAwXCIpO1xufSk7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsU0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksT0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQThCLFNBQUFELHVCQUFBTSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBRTlCOztBQUVBLE1BQU1HLEtBQUssR0FBRyxvQ0FBb0M7QUFFbERDLGlCQUFRLENBQUNDLE9BQU8sQ0FBQ0YsS0FBSyxDQUFDLENBQ3BCRyxJQUFJLENBQUMsTUFBTUMsT0FBTyxDQUFDQyxHQUFHLENBQUMsK0NBQStDLENBQUMsQ0FBQyxDQUN4RUMsS0FBSyxDQUFDQyxHQUFHLElBQUlILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxHQUFHLENBQUMsQ0FBQzs7QUFHakM7QUFDQSxNQUFNQyxHQUFHLEdBQUcsSUFBQUMsZ0JBQU8sRUFBQyxDQUFDO0FBQ3JCRCxHQUFHLENBQUNFLEdBQUcsQ0FBQyxJQUFBQyxhQUFJLEVBQUMsQ0FBQyxDQUFDO0FBQ2ZILEdBQUcsQ0FBQ0UsR0FBRyxDQUFDRCxnQkFBTyxDQUFDRyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ3ZCSixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ0ksVUFBVSxDQUFDO0VBQUVDLFFBQVEsRUFBRTtBQUFLLENBQUMsQ0FBQyxDQUFDO0FBQy9DTixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ00sTUFBTSxDQUFDQyxhQUFJLENBQUNDLElBQUksQ0FBQ0MsU0FBUyxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDdkRWLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBRVMsZUFBTSxDQUFDO0FBRXhCWCxHQUFHLENBQUNZLEdBQUcsQ0FBQyxNQUFNLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxJQUFJLElBQUksSUFBSSxDQUFDO0FBQ3pDZixHQUFHLENBQUNnQixNQUFNLENBQUNoQixHQUFHLENBQUNpQixHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsTUFBTTtFQUNoQ3JCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHdEQUF3RCxDQUFDO0FBQ3ZFLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_cors","_path","_mongoose","_router","e","__esModule","default","dburl","mongoose","connect","then","console","log","catch","err","app","express","use","cors","json","urlencoded","extended","static","path","join","__dirname","router","set","process","env","PORT","listen","get"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/","sources":["index.js"],"sourcesContent":["import express from \"express\";\nimport cors from \"cors\";\nimport path from \"path\";\nimport mongoose from \"mongoose\";\nimport router from \"./router\";\n\n//CONEXION A LA BASE DE DATOS db_adcee\n\nconst dburl = \"mongodb://127.0.0.1:27017/db_adcee\";\n\nmongoose.connect(dburl)\n  .then(() => console.log(\"CONECTADO A LA BD db_adcee en el puerto 27017\"))\n  .catch(err => console.log(err));\n\n\n//DECLARACION EXPRESS\nconst app = express();\napp.use(cors());\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\napp.use(express.static(path.join(__dirname, 'public')));\napp.use('/api/', router);\n\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => { \n  console.log(\"EL SERVIDOR SE EJECUTO PERFECTAMENTE EN EL PUERTO 3000\");\n});\n"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAM,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAE9B;;AAEA,MAAMG,KAAK,GAAG,oCAAoC;AAElDC,iBAAQ,CAACC,OAAO,CAACF,KAAK,CAAC,CACpBG,IAAI,CAAC,MAAMC,OAAO,CAACC,GAAG,CAAC,+CAA+C,CAAC,CAAC,CACxEC,KAAK,CAACC,GAAG,IAAIH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CAAC;;AAGjC;AACA,MAAMC,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AACrBD,GAAG,CAACE,GAAG,CAAC,IAAAC,aAAI,EAAC,CAAC,CAAC;AACfH,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACG,IAAI,CAAC,CAAC,CAAC;AACvBJ,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACI,UAAU,CAAC;EAAEC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAAC;AAC/CN,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACM,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAE,QAAQ,CAAC,CAAC,CAAC;AACvDV,GAAG,CAACE,GAAG,CAAC,OAAO,EAAES,eAAM,CAAC;AAExBX,GAAG,CAACY,GAAG,CAAC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,IAAI,IAAI,IAAI,CAAC;AACzCf,GAAG,CAACgB,MAAM,CAAChB,GAAG,CAACiB,GAAG,CAAC,MAAM,CAAC,EAAE,MAAM;EAChCrB,OAAO,CAACC,GAAG,CAAC,wDAAwD,CAAC;AACvE,CAAC,CAAC","ignoreList":[]}},"mtime":1736649276298},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cupone = _interopRequireDefault(require(\"./Cupone\"));\nvar _Discount = _interopRequireDefault(require(\"./Discount\"));\nvar _Home = _interopRequireDefault(require(\"./Home\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.use('/users', _User.default);\nrouter.use('/categories', _Categorie.default);\nrouter.use('/products', _Product.default);\nrouter.use('/sliders', _Slider.default);\nrouter.use('/cupones', _Cupone.default);\nrouter.use('/discount', _Discount.default);\nrouter.use('/home', _Home.default);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwiX0NhdGVnb3JpZSIsIl9Qcm9kdWN0IiwiX1NsaWRlciIsIl9DdXBvbmUiLCJfRGlzY291bnQiLCJfSG9tZSIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsInJvdXRlcngiLCJ1c2UiLCJVc2VyIiwiQ2F0ZWdvcmllIiwiUHJvZHVjdCIsIlNsaWRlciIsIkN1cG9uZSIsIkRpc2NvdW50IiwiSG9tZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudG9zL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2Uvcm91dGVyLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcbmltcG9ydCBVc2VyIGZyb20gJy4vVXNlcidcbmltcG9ydCBDYXRlZ29yaWUgZnJvbSAnLi9DYXRlZ29yaWUnXG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuL1Byb2R1Y3QnXG5pbXBvcnQgU2xpZGVyIGZyb20gJy4vU2xpZGVyJ1xuaW1wb3J0IEN1cG9uZSBmcm9tICcuL0N1cG9uZSdcbmltcG9ydCBEaXNjb3VudCBmcm9tICcuL0Rpc2NvdW50J1xuaW1wb3J0IEhvbWUgZnJvbSAnLi9Ib21lJ1xuXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5yb3V0ZXIudXNlKCcvdXNlcnMnLCBVc2VyKTtcbnJvdXRlci51c2UoJy9jYXRlZ29yaWVzJywgQ2F0ZWdvcmllKTtcbnJvdXRlci51c2UoJy9wcm9kdWN0cycsIFByb2R1Y3QpO1xucm91dGVyLnVzZSgnL3NsaWRlcnMnLCBTbGlkZXIpO1xucm91dGVyLnVzZSgnL2N1cG9uZXMnLCBDdXBvbmUpO1xucm91dGVyLnVzZSgnL2Rpc2NvdW50JywgRGlzY291bnQpO1xucm91dGVyLnVzZSgnL2hvbWUnLCBIb21lKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFVBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFFBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLE9BQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLE9BQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFNLFNBQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFPLEtBQUEsR0FBQVIsc0JBQUEsQ0FBQUMsT0FBQTtBQUF5QixTQUFBRCx1QkFBQVMsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUV6QixNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBQ3hCRCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxRQUFRLEVBQUVDLGFBQUksQ0FBQztBQUMxQkgsTUFBTSxDQUFDRSxHQUFHLENBQUMsYUFBYSxFQUFFRSxrQkFBUyxDQUFDO0FBQ3BDSixNQUFNLENBQUNFLEdBQUcsQ0FBQyxXQUFXLEVBQUVHLGdCQUFPLENBQUM7QUFDaENMLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLFVBQVUsRUFBRUksZUFBTSxDQUFDO0FBQzlCTixNQUFNLENBQUNFLEdBQUcsQ0FBQyxVQUFVLEVBQUVLLGVBQU0sQ0FBQztBQUM5QlAsTUFBTSxDQUFDRSxHQUFHLENBQUMsV0FBVyxFQUFFTSxpQkFBUSxDQUFDO0FBQ2pDUixNQUFNLENBQUNFLEdBQUcsQ0FBQyxPQUFPLEVBQUVPLGFBQUksQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBWixPQUFBLEdBRVhDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_User","_Categorie","_Product","_Slider","_Cupone","_Discount","_Home","e","__esModule","default","router","routerx","use","User","Categorie","Product","Slider","Cupone","Discount","Home","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/","sources":["index.js"],"sourcesContent":["import routerx from 'express-promise-router'\nimport User from './User'\nimport Categorie from './Categorie'\nimport Product from './Product'\nimport Slider from './Slider'\nimport Cupone from './Cupone'\nimport Discount from './Discount'\nimport Home from './Home'\n\nconst router = routerx();\nrouter.use('/users', User);\nrouter.use('/categories', Categorie);\nrouter.use('/products', Product);\nrouter.use('/sliders', Slider);\nrouter.use('/cupones', Cupone);\nrouter.use('/discount', Discount);\nrouter.use('/home', Home);\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,QAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,OAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,SAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,KAAA,GAAAR,sBAAA,CAAAC,OAAA;AAAyB,SAAAD,uBAAAS,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEzB,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxBD,MAAM,CAACE,GAAG,CAAC,QAAQ,EAAEC,aAAI,CAAC;AAC1BH,MAAM,CAACE,GAAG,CAAC,aAAa,EAAEE,kBAAS,CAAC;AACpCJ,MAAM,CAACE,GAAG,CAAC,WAAW,EAAEG,gBAAO,CAAC;AAChCL,MAAM,CAACE,GAAG,CAAC,UAAU,EAAEI,eAAM,CAAC;AAC9BN,MAAM,CAACE,GAAG,CAAC,UAAU,EAAEK,eAAM,CAAC;AAC9BP,MAAM,CAACE,GAAG,CAAC,WAAW,EAAEM,iBAAQ,CAAC;AACjCR,MAAM,CAACE,GAAG,CAAC,OAAO,EAAEO,aAAI,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAZ,OAAA,GAEXC,MAAM","ignoreList":[]}},"mtime":1738254611177},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\n\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", _UserController.default.register);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post(\"/register_admin\", _auth.default.verifyAdmin, _UserController.default.register_admin);\nrouter.post(\"/login\", _UserController.default.login);\nrouter.post(\"/login_admin\", _UserController.default.login_admin);\nrouter.delete(\"/delete\", _UserController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyQ29udHJvbGxlciIsIl9hdXRoIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJVc2VyQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwibGlzdCIsInJlZ2lzdGVyX2FkbWluIiwibG9naW4iLCJsb2dpbl9hZG1pbiIsImRlbGV0ZSIsInJlbW92ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudG9zL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2Uvcm91dGVyLyIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiXG5pbXBvcnQgVXNlckNvbnRyb2xsZXIgZnJvbSBcIi4uL2NvbnRyb2xsZXJzL1VzZXJDb250cm9sbGVyXCJcbmltcG9ydCBhdXRoIGZyb20gXCIuLi9taWRkbGV3YXJlcy9hdXRoXCJcblxuXG5cbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcblxuLy8gaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycy9yZWdpc3RlclxuXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCBVc2VyQ29udHJvbGxlci5yZWdpc3Rlcik7XG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLCBVc2VyQ29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLmdldChcIi9saXN0XCIsYXV0aC52ZXJpZnlBZG1pbiwgVXNlckNvbnRyb2xsZXIubGlzdCk7XG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlcl9hZG1pblwiLGF1dGgudmVyaWZ5QWRtaW4sIFVzZXJDb250cm9sbGVyLnJlZ2lzdGVyX2FkbWluKTtcbnJvdXRlci5wb3N0KFwiL2xvZ2luXCIsIFVzZXJDb250cm9sbGVyLmxvZ2luKTtcbnJvdXRlci5wb3N0KFwiL2xvZ2luX2FkbWluXCIsIFVzZXJDb250cm9sbGVyLmxvZ2luX2FkbWluKTtcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlXCIsIFVzZXJDb250cm9sbGVyLnJlbW92ZSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUksQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUl0QyxNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDOztBQUV4Qjs7QUFFQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFQyx1QkFBYyxDQUFDQyxRQUFRLENBQUM7QUFDakRKLE1BQU0sQ0FBQ0ssR0FBRyxDQUFDLFNBQVMsRUFBRUYsdUJBQWMsQ0FBQ0csTUFBTSxDQUFDO0FBQzVDTixNQUFNLENBQUNPLEdBQUcsQ0FBQyxPQUFPLEVBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFFTix1QkFBYyxDQUFDTyxJQUFJLENBQUM7QUFDekRWLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLGlCQUFpQixFQUFDTSxhQUFJLENBQUNDLFdBQVcsRUFBRU4sdUJBQWMsQ0FBQ1EsY0FBYyxDQUFDO0FBQzlFWCxNQUFNLENBQUNFLElBQUksQ0FBQyxRQUFRLEVBQUVDLHVCQUFjLENBQUNTLEtBQUssQ0FBQztBQUMzQ1osTUFBTSxDQUFDRSxJQUFJLENBQUMsY0FBYyxFQUFFQyx1QkFBYyxDQUFDVSxXQUFXLENBQUM7QUFDdkRiLE1BQU0sQ0FBQ2MsTUFBTSxDQUFDLFNBQVMsRUFBRVgsdUJBQWMsQ0FBQ1ksTUFBTSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFsQixPQUFBLEdBR2pDQyxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_UserController","_auth","e","__esModule","default","router","routerx","post","UserController","register","put","update","get","auth","verifyAdmin","list","register_admin","login","login_admin","delete","remove","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/","sources":["User.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport UserController from \"../controllers/UserController\"\nimport auth from \"../middlewares/auth\"\n\n\n\nconst router = routerx();\n\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", UserController.register);\nrouter.put(\"/update\", UserController.update);\nrouter.get(\"/list\",auth.verifyAdmin, UserController.list);\nrouter.post(\"/register_admin\",auth.verifyAdmin, UserController.register_admin);\nrouter.post(\"/login\", UserController.login);\nrouter.post(\"/login_admin\", UserController.login_admin);\nrouter.delete(\"/delete\", UserController.remove);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAItC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEC,uBAAc,CAACC,QAAQ,CAAC;AACjDJ,MAAM,CAACK,GAAG,CAAC,SAAS,EAAEF,uBAAc,CAACG,MAAM,CAAC;AAC5CN,MAAM,CAACO,GAAG,CAAC,OAAO,EAACC,aAAI,CAACC,WAAW,EAAEN,uBAAc,CAACO,IAAI,CAAC;AACzDV,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAACM,aAAI,CAACC,WAAW,EAAEN,uBAAc,CAACQ,cAAc,CAAC;AAC9EX,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAEC,uBAAc,CAACS,KAAK,CAAC;AAC3CZ,MAAM,CAACE,IAAI,CAAC,cAAc,EAAEC,uBAAc,CAACU,WAAW,CAAC;AACvDb,MAAM,CAACc,MAAM,CAAC,SAAS,EAAEX,uBAAc,CAACY,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAlB,OAAA,GAGjCC,MAAM","ignoreList":[]}},"mtime":1736876492384},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_admin: async (req, res) => {\n    try {\n      const userV = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userV) {\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"admin\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      let user = await _models.default.User.create(req.body);\n      res.status(200).json({\n        user: _resourses.default.User.user_list(user)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        //SI ESTA REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: \"admin\"\n      });\n      if (user) {\n        //SI ESTA REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('/');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let UserT = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: _resourses.default.User.user_list(UserT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Users = await _models.default.User.find({\n        $or: [{\n          \"name\": new RegExp(search, \"i\")\n        }, {\n          \"surname\": new RegExp(search, \"i\")\n        }, {\n          \"email\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Users = Users.map(user => {\n        return _resourses.default.User.user_list(user);\n      });\n      res.status(200).json({\n        users: Users\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await _models.default.User.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmNyeXB0anMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9tb2RlbHMiLCJfdG9rZW4iLCJfcmVzb3Vyc2VzIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJib2R5IiwicGFzc3dvcmQiLCJiY3J5cHQiLCJoYXNoIiwidXNlciIsIm1vZGVscyIsIlVzZXIiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJyZWdpc3Rlcl9hZG1pbiIsInVzZXJWIiwiZmluZE9uZSIsImVtYWlsIiwicm9sIiwicmVzb3Vyc2VzIiwidXNlcl9saXN0IiwibG9naW4iLCJzdGF0ZSIsImNvbXBhcmUiLCJ0b2tlblQiLCJ0b2tlbiIsImVuY29kZSIsIl9pZCIsIlVTRVJfRlJPTlRFRCIsIm5hbWUiLCJzdXJuYW1lIiwiYXZhdGFyIiwibG9naW5fYWRtaW4iLCJ1cGRhdGUiLCJmaWxlcyIsImltZ19wYXRoIiwicGF0aCIsInNwbGl0IiwiYXZhdGFyX25hbWUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIlVzZXJUIiwibGlzdCIsInNlYXJjaCIsInF1ZXJ5IiwiVXNlcnMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsInVzZXJzIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRvcy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiVXNlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0anNcIlxuaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5pbXBvcnQgdG9rZW4gZnJvbSBcIi4uL3NlcnZpY2VzL3Rva2VuXCI7XG5pbXBvcnQgcmVzb3Vyc2VzIGZyb20gXCIuLi9yZXNvdXJzZXNcIjtcblxuXG5leHBvcnQgZGVmYXVsdHtcbiAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgcmVxLmJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChyZXEuYm9keS5wYXNzd29yZCwxMCk7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVzZXIpO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cbiAgfSxcbiAgcmVnaXN0ZXJfYWRtaW46IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlclYgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtlbWFpbDogcmVxLmJvZHkuZW1haWx9KTtcbiAgICAgIGlmKHVzZXJWKXtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBZQSBFWElTVEVcIlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJlcS5ib2R5LnJvbCA9IFwiYWRtaW5cIlxuICAgICAgcmVxLmJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChyZXEuYm9keS5wYXNzd29yZCwxMCk7XG4gICAgICBsZXQgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIHVzZXI6IHJlc291cnNlcy5Vc2VyLnVzZXJfbGlzdCh1c2VyKVxuICAgICAgfSk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuICB9LFxuXG4gIGxvZ2luOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe2VtYWlsOiByZXEuYm9keS5lbWFpbCxzdGF0ZToxfSk7XG4gICAgICAgIGlmKHVzZXIpe1xuICAgICAgICAgICAgLy9TSSBFU1RBIFJFR0lTVFJBRE8gRU4gRUwgU0lTVEVNQVxuICAgICAgICAgICAgbGV0IGNvbXBhcmUgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShyZXEuYm9keS5wYXNzd29yZCx1c2VyLnBhc3N3b3JkKTtcbiAgICAgICAgICAgIGlmKGNvbXBhcmUpe1xuICAgICAgICAgICAgICAgIGxldCB0b2tlblQgPSBhd2FpdCB0b2tlbi5lbmNvZGUodXNlci5faWQsdXNlci5yb2wsdXNlci5lbWFpbCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBVU0VSX0ZST05URUQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuOnRva2VuVCxcbiAgICAgICAgICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdmF0YXI6IHVzZXIuYXZhdGFyLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICAgICAgVVNFUl9GUk9OVEVEOlVTRVJfRlJPTlRFRCxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxufSxcbmxvZ2luX2FkbWluOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsLHN0YXRlOjEscm9sOlwiYWRtaW5cIn0pO1xuICAgICAgaWYodXNlcil7XG4gICAgICAgICAgLy9TSSBFU1RBIFJFR0lTVFJBRE8gRU4gRUwgU0lTVEVNQVxuICAgICAgICAgIGxldCBjb21wYXJlID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocmVxLmJvZHkucGFzc3dvcmQsdXNlci5wYXNzd29yZCk7XG4gICAgICAgICAgaWYoY29tcGFyZSl7XG4gICAgICAgICAgICAgIGxldCB0b2tlblQgPSBhd2FpdCB0b2tlbi5lbmNvZGUodXNlci5faWQsdXNlci5yb2wsdXNlci5lbWFpbCk7XG5cbiAgICAgICAgICAgICAgY29uc3QgVVNFUl9GUk9OVEVEID0ge1xuICAgICAgICAgICAgICAgICAgdG9rZW46dG9rZW5ULFxuICAgICAgICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhcixcbiAgICAgICAgICAgICAgICAgICAgICByb2w6IHVzZXIucm9sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgICAgVVNFUl9GUk9OVEVEOlVTRVJfRlJPTlRFRCxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICB9XG59LFxuICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgIGlmKHJlcS5maWxlcyl7XG4gICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMuYXZhdGFyLnBhdGg7XG4gICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCcvJyk7XG4gICAgICAgICB2YXIgYXZhdGFyX25hbWUgPSBuYW1lWzJdO1xuICAgICAgICAgY29uc29sZS5sb2coYXZhdGFyX25hbWUpXG4gICAgICAgfVxuICAgICAgXG4gICAgICBpZihyZXEuYm9keS5wYXNzd29yZCl7XG4gICAgICAgIHJlcS5ib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsMTApO1xuICAgICAgfVxuICAgICBhd2FpdCBtb2RlbHMuVXNlci5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiByZXEuYm9keS5faWR9LHJlcS5ib2R5KTtcblxuICAgICBsZXQgVXNlclQgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtfaWQ6IHJlcS5ib2R5Ll9pZH0pO1xuXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBTRSBIQSBNT0RJRklDQURPIENPUlJFQ1RBTUVOVEVcIixcbiAgICAgICAgdXNlcjogcmVzb3Vyc2VzLlVzZXIudXNlcl9saXN0KFVzZXJUKSxcbiAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG5cbiAgfSxcbiAgbGlzdDogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICB2YXIgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcbiAgICAgIGxldCBVc2VycyAgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kKHtcbiAgICAgICAgJG9yOltcbiAgICAgICAgICB7XCJuYW1lXCI6IG5ldyBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxuICAgICAgICAgIHtcInN1cm5hbWVcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgICAge1wiZW1haWxcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgIF1cbiAgICB9KS5zb3J0KHsnY3JlYXRlZEF0JzotMX0pO1xuXG4gICAgVXNlcnMgPSBVc2Vycy5tYXAoKHVzZXIpID0+IHtcbiAgICAgIHJldHVybiByZXNvdXJzZXMuVXNlci51c2VyX2xpc3QodXNlcik7XG4gICAgfSlcblxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgIHVzZXJzOiBVc2Vyc1xuICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICBcbiAgICB9XG4gIH0sXG4gIHJlbW92ZTogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgVXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IHJlcS5xdWVyeS5faWR9KTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG4gIH0sXG59Il0sIm1hcHBp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","map":{"version":3,"names":["_bcryptjs","_interopRequireDefault","require","_models","_token","_resourses","e","__esModule","default","_default","exports","register","req","res","body","password","bcrypt","hash","user","models","User","create","status","json","error","send","message","console","log","register_admin","userV","findOne","email","rol","resourses","user_list","login","state","compare","tokenT","token","encode","_id","USER_FRONTED","name","surname","avatar","login_admin","update","files","img_path","path","split","avatar_name","findByIdAndUpdate","UserT","list","search","query","Users","find","$or","RegExp","sort","map","users","remove","findByIdAndDelete"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["UserController.js"],"sourcesContent":["import bcrypt from \"bcryptjs\"\nimport models from \"../models\";\nimport token from \"../services/token\";\nimport resourses from \"../resourses\";\n\n\nexport default{\n  register: async(req,res) => {\n    try {\n      req.body.password = await bcrypt.hash(req.body.password,10);\n      const user = await models.User.create(req.body);\n      res.status(200).json(user);\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n  register_admin: async(req,res) => {\n    try {\n      const userV = await models.User.findOne({email: req.body.email});\n      if(userV){\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"admin\"\n      req.body.password = await bcrypt.hash(req.body.password,10);\n      let user = await models.User.create(req.body);\n      res.status(200).json({\n        user: resourses.User.user_list(user)\n      });\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n\n  login: async(req,res) => {\n    try {\n        const user = await models.User.findOne({email: req.body.email,state:1});\n        if(user){\n            //SI ESTA REGISTRADO EN EL SISTEMA\n            let compare = await bcrypt.compare(req.body.password,user.password);\n            if(compare){\n                let tokenT = await token.encode(user._id,user.rol,user.email);\n\n                const USER_FRONTED = {\n                    token:tokenT,\n                    user: {\n                        name: user.name,\n                        email: user.email,\n                        surname: user.surname,\n                        avatar: user.avatar,\n                    },\n                }\n\n                res.status(200).json({\n                    USER_FRONTED:USER_FRONTED,\n                })\n            }else{\n                res.status(500).send({\n                    message: \"EL USUARIO NO EXISTE\"\n                });\n            }\n        }else{\n            res.status(500).send({\n                message: \"EL USUARIO NO EXISTE\"\n            });\n        }\n    } catch (error) {\n        res.status(500).send({\n            message: \"OCURRIO UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n},\nlogin_admin: async(req,res) => {\n  try {\n      const user = await models.User.findOne({email: req.body.email,state:1,rol:\"admin\"});\n      if(user){\n          //SI ESTA REGISTRADO EN EL SISTEMA\n          let compare = await bcrypt.compare(req.body.password,user.password);\n          if(compare){\n              let tokenT = await token.encode(user._id,user.rol,user.email);\n\n              const USER_FRONTED = {\n                  token:tokenT,\n                  user: {\n                      name: user.name,\n                      email: user.email,\n                      surname: user.surname,\n                      avatar: user.avatar,\n                      rol: user.rol\n                  },\n              }\n\n              res.status(200).json({\n                  USER_FRONTED:USER_FRONTED,\n              })\n          }else{\n              res.status(500).send({\n                  message: \"EL USUARIO NO EXISTE\"\n              });\n          }\n      }else{\n          res.status(500).send({\n              message: \"EL USUARIO NO EXISTE\"\n          });\n      }\n  } catch (error) {\n      res.status(500).send({\n          message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n  }\n},\n  update: async(req,res) => {\n    try {\n       if(req.files){\n         var img_path = req.files.avatar.path;\n         var name = img_path.split('/');\n         var avatar_name = name[2];\n         console.log(avatar_name)\n       }\n      \n      if(req.body.password){\n        req.body.password = await bcrypt.hash(req.body.password,10);\n      }\n     await models.User.findByIdAndUpdate({_id: req.body._id},req.body);\n\n     let UserT = await models.User.findOne({_id: req.body._id});\n\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: resourses.User.user_list(UserT),\n      })\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n\n  },\n  list: async(req,res) => {\n    try {\n      var search = req.query.search;\n      let Users  = await models.User.find({\n        $or:[\n          {\"name\": new RegExp(search, \"i\")},\n          {\"surname\": new RegExp(search, \"i\")},\n          {\"email\": new RegExp(search, \"i\")},\n        ]\n    }).sort({'createdAt':-1});\n\n    Users = Users.map((user) => {\n      return resourses.User.user_list(user);\n    })\n\n    res.status(200).json({\n      users: Users\n    });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n      \n    }\n  },\n  remove: async(req, res) => {\n    try {\n      const User = await models.User.findByIdAndDelete({_id: req.query._id});\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\",\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n}"],"mappings":"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","ignoreList":[]}},"mtime":1737071607195},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Variedad = _interopRequireDefault(require(\"./Variedad\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cupone = _interopRequireDefault(require(\"./Cupone\"));\nvar _Discount = _interopRequireDefault(require(\"./Discount\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default,\n  Variedad: _Variedad.default,\n  Slider: _Slider.default,\n  Cupone: _Cupone.default,\n  Discount: _Discount.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQ2F0ZWdvcmllIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfVXNlciIsIl9Qcm9kdWN0IiwiX1ZhcmllZGFkIiwiX1NsaWRlciIsIl9DdXBvbmUiLCJfRGlzY291bnQiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJVc2VyIiwiQ2F0ZWdvcmllIiwiUHJvZHVjdCIsIlZhcmllZGFkIiwiU2xpZGVyIiwiQ3Vwb25lIiwiRGlzY291bnQiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRvcy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDYXRlZ29yaWUgZnJvbSBcIi4vQ2F0ZWdvcmllXCI7XG5pbXBvcnQgVXNlciBmcm9tIFwiLi9Vc2VyXCI7XG5pbXBvcnQgUHJvZHVjdCBmcm9tIFwiLi9Qcm9kdWN0XCI7XG5pbXBvcnQgVmFyaWVkYWQgZnJvbSBcIi4vVmFyaWVkYWRcIjtcbmltcG9ydCBTbGlkZXIgZnJvbSBcIi4vU2xpZGVyXCI7XG5pbXBvcnQgQ3Vwb25lIGZyb20gXCIuL0N1cG9uZVwiO1xuaW1wb3J0IERpc2NvdW50IGZyb20gXCIuL0Rpc2NvdW50XCI7XG5cbmV4cG9ydCBkZWZhdWx0e1xuICBVc2VyLFxuICBDYXRlZ29yaWUsXG4gIFByb2R1Y3QsXG4gIFZhcmllZGFkLFxuICBTbGlkZXIsXG4gIEN1cG9uZSxcbiAgRGlzY291bnQsXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxVQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxRQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxTQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxPQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSyxPQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBTSxTQUFBLEdBQUFQLHNCQUFBLENBQUFDLE9BQUE7QUFBa0MsU0FBQUQsdUJBQUFRLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVwQjtFQUNaRyxJQUFJLEVBQUpBLGFBQUk7RUFDSkMsU0FBUyxFQUFUQSxrQkFBUztFQUNUQyxPQUFPLEVBQVBBLGdCQUFPO0VBQ1BDLFFBQVEsRUFBUkEsaUJBQVE7RUFDUkMsTUFBTSxFQUFOQSxlQUFNO0VBQ05DLE1BQU0sRUFBTkEsZUFBTTtFQUNOQyxRQUFRLEVBQVJBO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_Categorie","_interopRequireDefault","require","_User","_Product","_Variedad","_Slider","_Cupone","_Discount","e","__esModule","default","_default","exports","User","Categorie","Product","Variedad","Slider","Cupone","Discount"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/","sources":["index.js"],"sourcesContent":["import Categorie from \"./Categorie\";\nimport User from \"./User\";\nimport Product from \"./Product\";\nimport Variedad from \"./Variedad\";\nimport Slider from \"./Slider\";\nimport Cupone from \"./Cupone\";\nimport Discount from \"./Discount\";\n\nexport default{\n  User,\n  Categorie,\n  Product,\n  Variedad,\n  Slider,\n  Cupone,\n  Discount,\n}"],"mappings":";;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,OAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,SAAA,GAAAP,sBAAA,CAAAC,OAAA;AAAkC,SAAAD,uBAAAQ,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEpB;EACZG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,QAAQ,EAARA,iBAAQ;EACRC,MAAM,EAANA,eAAM;EACNC,MAAM,EAANA,eAAM;EACNC,QAAQ,EAARA;AACF,CAAC","ignoreList":[]}},"mtime":1738097256170},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst UserSchema = new _mongoose.Schema({\n  rol: {\n    type: String,\n    maxlength: 30,\n    require: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    require: false\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    require: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  avatar: {\n    type: String,\n    maxlength: 250,\n    require: false\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  // 1 es activo y 2 es desactivo\n  phone: {\n    type: String,\n    maxlength: 20,\n    require: false\n  },\n  birthday: {\n    type: String,\n    maxlength: 250,\n    require: true\n  }\n}, {\n  timestamps: true\n});\nconst User = _mongoose.default.model(\"user\", UserSchema);\nvar _default = exports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJVc2VyU2NoZW1hIiwiU2NoZW1hIiwicm9sIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsIm5hbWUiLCJzdXJuYW1lIiwiZW1haWwiLCJ1bmlxdWUiLCJwYXNzd29yZCIsImF2YXRhciIsInN0YXRlIiwiTnVtYmVyIiwicGhvbmUiLCJiaXJ0aGRheSIsInRpbWVzdGFtcHMiLCJVc2VyIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudG9zL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvbW9kZWxzLyIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IFVzZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgcm9sOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MzAsIHJlcXVpcmU6dHJ1ZX0sXG4gIG5hbWU6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmU6dHJ1ZX0sXG4gIHN1cm5hbWU6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmU6ZmFsc2V9LFxuICBlbWFpbDoge3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZTp0cnVlLCB1bmlxdWU6dHJ1ZX0sXG4gIHBhc3N3b3JkOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwLCByZXF1aXJlOnRydWV9LFxuICBhdmF0YXI6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmU6ZmFsc2V9LFxuICBzdGF0ZToge3R5cGU6IE51bWJlciwgZGVmYXVsdDoxfSwvLyAxIGVzIGFjdGl2byB5IDIgZXMgZGVzYWN0aXZvXG4gIHBob25lOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjAsIHJlcXVpcmU6ZmFsc2V9LFxuICBiaXJ0aGRheToge3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZTp0cnVlfSxcbn0se1xuICB0aW1lc3RhbXBzOnRydWVcbn0pO1xuXG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWwoXCJ1c2VyXCIsVXNlclNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBVc2VyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FBQSxDQUFBSSxHQUFBLENBQUFQLENBQUEsT0FBQVEsQ0FBQSxLQUFBQyxTQUFBLFVBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsQ0FBQSxJQUFBZCxDQUFBLG9CQUFBYyxDQUFBLE9BQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBaEIsQ0FBQSxFQUFBYyxDQUFBLFNBQUFHLENBQUEsR0FBQVAsQ0FBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFiLENBQUEsRUFBQWMsQ0FBQSxVQUFBRyxDQUFBLEtBQUFBLENBQUEsQ0FBQVYsR0FBQSxJQUFBVSxDQUFBLENBQUFDLEdBQUEsSUFBQVAsTUFBQSxDQUFBQyxjQUFBLENBQUFKLENBQUEsRUFBQU0sQ0FBQSxFQUFBRyxDQUFBLElBQUFULENBQUEsQ0FBQU0sQ0FBQSxJQUFBZCxDQUFBLENBQUFjLENBQUEsWUFBQU4sQ0FBQSxDQUFBSCxPQUFBLEdBQUFMLENBQUEsRUFBQUcsQ0FBQSxJQUFBQSxDQUFBLENBQUFlLEdBQUEsQ0FBQWxCLENBQUEsRUFBQVEsQ0FBQSxHQUFBQSxDQUFBO0FBRXpDLE1BQU1XLFVBQVUsR0FBRyxJQUFJQyxnQkFBTSxDQUFDO0VBQzVCQyxHQUFHLEVBQUU7SUFBQ0MsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFNBQVMsRUFBQyxFQUFFO0lBQUUxQixPQUFPLEVBQUM7RUFBSSxDQUFDO0VBQy9DMkIsSUFBSSxFQUFFO0lBQUNILElBQUksRUFBRUMsTUFBTTtJQUFFQyxTQUFTLEVBQUMsR0FBRztJQUFFMUIsT0FBTyxFQUFDO0VBQUksQ0FBQztFQUNqRDRCLE9BQU8sRUFBRTtJQUFDSixJQUFJLEVBQUVDLE1BQU07SUFBRUMsU0FBUyxFQUFDLEdBQUc7SUFBRTFCLE9BQU8sRUFBQztFQUFLLENBQUM7RUFDckQ2QixLQUFLLEVBQUU7SUFBQ0wsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFNBQVMsRUFBQyxHQUFHO0lBQUUxQixPQUFPLEVBQUMsSUFBSTtJQUFFOEIsTUFBTSxFQUFDO0VBQUksQ0FBQztFQUMvREMsUUFBUSxFQUFFO0lBQUNQLElBQUksRUFBRUMsTUFBTTtJQUFFQyxTQUFTLEVBQUMsR0FBRztJQUFFMUIsT0FBTyxFQUFDO0VBQUksQ0FBQztFQUNyRGdDLE1BQU0sRUFBRTtJQUFDUixJQUFJLEVBQUVDLE1BQU07SUFBRUMsU0FBUyxFQUFDLEdBQUc7SUFBRTFCLE9BQU8sRUFBQztFQUFLLENBQUM7RUFDcERpQyxLQUFLLEVBQUU7SUFBQ1QsSUFBSSxFQUFFVSxNQUFNO0lBQUUzQixPQUFPLEVBQUM7RUFBQyxDQUFDO0VBQUM7RUFDakM0QixLQUFLLEVBQUU7SUFBQ1gsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFNBQVMsRUFBQyxFQUFFO0lBQUUxQixPQUFPLEVBQUM7RUFBSyxDQUFDO0VBQ2xEb0MsUUFBUSxFQUFFO0lBQUNaLElBQUksRUFBRUMsTUFBTTtJQUFFQyxTQUFTLEVBQUMsR0FBRztJQUFFMUIsT0FBTyxFQUFDO0VBQUk7QUFDdEQsQ0FBQyxFQUFDO0VBQ0FxQyxVQUFVLEVBQUM7QUFDYixDQUFDLENBQUM7QUFFRixNQUFNQyxJQUFJLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxNQUFNLEVBQUNuQixVQUFVLENBQUM7QUFBQyxJQUFBb0IsUUFBQSxHQUFBQyxPQUFBLENBQUFuQyxPQUFBLEdBQ2hDK0IsSUFBSSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","UserSchema","Schema","rol","type","String","maxlength","name","surname","email","unique","password","avatar","state","Number","phone","birthday","timestamps","User","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/","sources":["User.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst UserSchema = new Schema({\n  rol: {type: String, maxlength:30, require:true},\n  name: {type: String, maxlength:250, require:true},\n  surname: {type: String, maxlength:250, require:false},\n  email: {type: String, maxlength:250, require:true, unique:true},\n  password: {type: String, maxlength:250, require:true},\n  avatar: {type: String, maxlength:250, require:false},\n  state: {type: Number, default:1},// 1 es activo y 2 es desactivo\n  phone: {type: String, maxlength:20, require:false},\n  birthday: {type: String, maxlength:250, require:true},\n},{\n  timestamps:true\n});\n\nconst User = mongoose.model(\"user\",UserSchema);\nexport default User"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,GAAG,EAAE;IAACC,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAE1B,OAAO,EAAC;EAAI,CAAC;EAC/C2B,IAAI,EAAE;IAACH,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAI,CAAC;EACjD4B,OAAO,EAAE;IAACJ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAK,CAAC;EACrD6B,KAAK,EAAE;IAACL,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC,IAAI;IAAE8B,MAAM,EAAC;EAAI,CAAC;EAC/DC,QAAQ,EAAE;IAACP,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAI,CAAC;EACrDgC,MAAM,EAAE;IAACR,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAK,CAAC;EACpDiC,KAAK,EAAE;IAACT,IAAI,EAAEU,MAAM;IAAE3B,OAAO,EAAC;EAAC,CAAC;EAAC;EACjC4B,KAAK,EAAE;IAACX,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAE1B,OAAO,EAAC;EAAK,CAAC;EAClDoC,QAAQ,EAAE;IAACZ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAI;AACtD,CAAC,EAAC;EACAqC,UAAU,EAAC;AACb,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAACnB,UAAU,CAAC;AAAC,IAAAoB,QAAA,GAAAC,OAAA,CAAAnC,OAAA,GAChC+B,IAAI","ignoreList":[]}},"mtime":1736621895356},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/services/token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  encode: async (_id, rol, email) => {\n    const token = _jsonwebtoken.default.sign({\n      _id: _id,\n      rol: rol,\n      email: email\n    }, 'adcee', {\n      expiresIn: '1d'\n    });\n    return token;\n  },\n  decode: async token => {\n    try {\n      const {\n        _id\n      } = await _jsonwebtoken.default.verify(token, 'adcee');\n      const user = _models.default.User.findOne({\n        _id: _id,\n        state: 1\n      });\n      if (user) {\n        return user;\n      }\n      return false;\n    } catch (error) {\n      console.log(error);\n      return false;\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfbW9kZWxzIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiZW5jb2RlIiwiX2lkIiwicm9sIiwiZW1haWwiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJleHBpcmVzSW4iLCJkZWNvZGUiLCJ2ZXJpZnkiLCJ1c2VyIiwibW9kZWxzIiwiVXNlciIsImZpbmRPbmUiLCJzdGF0ZSIsImVycm9yIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudG9zL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2Uvc2VydmljZXMvIiwic291cmNlcyI6WyJ0b2tlbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIlxuaW1wb3J0IG1vZGVscyAgZnJvbSBcIi4uL21vZGVsc1wiO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZW5jb2RlOiBhc3luYyhfaWQscm9sLGVtYWlsKSA9PntcbiAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHtfaWQ6X2lkLHJvbDogcm9sLGVtYWlsOiBlbWFpbH0sICdhZGNlZScsIHtleHBpcmVzSW46ICcxZCd9KTtcbiAgICByZXR1cm4gdG9rZW47XG4gIH0sXG4gIGRlY29kZTogYXN5bmModG9rZW4pID0+e1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7X2lkfT0gYXdhaXQgand0LnZlcmlmeSh0b2tlbiwgJ2FkY2VlJyk7XG4gICAgICBjb25zdCB1c2VyID0gbW9kZWxzLlVzZXIuZmluZE9uZSh7X2lkOiBfaWQsc3RhdGU6IDF9KTtcbiAgICAgIGlmKHVzZXIpe1xuICAgICAgICByZXR1cm4gdXNlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLGFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUFnQyxTQUFBRCx1QkFBQUcsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBR2pCO0VBQ2JHLE1BQU0sRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsRUFBQ0MsS0FBSyxLQUFJO0lBQzdCLE1BQU1DLEtBQUssR0FBR0MscUJBQUcsQ0FBQ0MsSUFBSSxDQUFDO01BQUNMLEdBQUcsRUFBQ0EsR0FBRztNQUFDQyxHQUFHLEVBQUVBLEdBQUc7TUFBQ0MsS0FBSyxFQUFFQTtJQUFLLENBQUMsRUFBRSxPQUFPLEVBQUU7TUFBQ0ksU0FBUyxFQUFFO0lBQUksQ0FBQyxDQUFDO0lBQ25GLE9BQU9ILEtBQUs7RUFDZCxDQUFDO0VBQ0RJLE1BQU0sRUFBRSxNQUFNSixLQUFLLElBQUk7SUFDckIsSUFBSTtNQUNGLE1BQU07UUFBQ0g7TUFBRyxDQUFDLEdBQUUsTUFBTUkscUJBQUcsQ0FBQ0ksTUFBTSxDQUFDTCxLQUFLLEVBQUUsT0FBTyxDQUFDO01BQzdDLE1BQU1NLElBQUksR0FBR0MsZUFBTSxDQUFDQyxJQUFJLENBQUNDLE9BQU8sQ0FBQztRQUFDWixHQUFHLEVBQUVBLEdBQUc7UUFBQ2EsS0FBSyxFQUFFO01BQUMsQ0FBQyxDQUFDO01BQ3JELElBQUdKLElBQUksRUFBQztRQUNOLE9BQU9BLElBQUk7TUFDYjtNQUNBLE9BQU8sS0FBSztJQUNkLENBQUMsQ0FBQyxPQUFPSyxLQUFLLEVBQUU7TUFDWkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEtBQUssQ0FBQztNQUNsQixPQUFPLEtBQUs7SUFDaEI7RUFDRjtBQUNGLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_models","e","__esModule","default","_default","exports","encode","_id","rol","email","token","jwt","sign","expiresIn","decode","verify","user","models","User","findOne","state","error","console","log"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/services/","sources":["token.js"],"sourcesContent":["import jwt from \"jsonwebtoken\"\nimport models  from \"../models\";\n\n\nexport default {\n  encode: async(_id,rol,email) =>{\n    const token = jwt.sign({_id:_id,rol: rol,email: email}, 'adcee', {expiresIn: '1d'});\n    return token;\n  },\n  decode: async(token) =>{\n    try {\n      const {_id}= await jwt.verify(token, 'adcee');\n      const user = models.User.findOne({_id: _id,state: 1});\n      if(user){\n        return user;\n      }\n      return false;\n    } catch (error) {\n        console.log(error);\n        return false;\n    }\n  }\n}"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAGjB;EACbG,MAAM,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,EAACC,KAAK,KAAI;IAC7B,MAAMC,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAAC;MAACL,GAAG,EAACA,GAAG;MAACC,GAAG,EAAEA,GAAG;MAACC,KAAK,EAAEA;IAAK,CAAC,EAAE,OAAO,EAAE;MAACI,SAAS,EAAE;IAAI,CAAC,CAAC;IACnF,OAAOH,KAAK;EACd,CAAC;EACDI,MAAM,EAAE,MAAMJ,KAAK,IAAI;IACrB,IAAI;MACF,MAAM;QAACH;MAAG,CAAC,GAAE,MAAMI,qBAAG,CAACI,MAAM,CAACL,KAAK,EAAE,OAAO,CAAC;MAC7C,MAAMM,IAAI,GAAGC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACZ,GAAG,EAAEA,GAAG;QAACa,KAAK,EAAE;MAAC,CAAC,CAAC;MACrD,IAAGJ,IAAI,EAAC;QACN,OAAOA,IAAI;MACb;MACA,OAAO,KAAK;IACd,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClB,OAAO,KAAK;IAChB;EACF;AACF,CAAC","ignoreList":[]}},"mtime":1736654558327},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\n\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", _UserController.default.register);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post(\"/register_admin\", _auth.default.verifyAdmin, _UserController.default.register_admin);\nrouter.post(\"/login\", _UserController.default.login);\nrouter.post(\"/login_admin\", _UserController.default.login_admin);\nrouter.delete(\"/delete\", _UserController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyQ29udHJvbGxlciIsIl9hdXRoIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJVc2VyQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwibGlzdCIsInJlZ2lzdGVyX2FkbWluIiwibG9naW4iLCJsb2dpbl9hZG1pbiIsImRlbGV0ZSIsInJlbW92ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudG9zL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2Uvcm91dGVyLyIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiXG5pbXBvcnQgVXNlckNvbnRyb2xsZXIgZnJvbSBcIi4uL2NvbnRyb2xsZXJzL1VzZXJDb250cm9sbGVyXCJcbmltcG9ydCBhdXRoIGZyb20gXCIuLi9taWRkbGV3YXJlcy9hdXRoXCJcblxuXG5cbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcblxuLy8gaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycy9yZWdpc3RlclxuXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCBVc2VyQ29udHJvbGxlci5yZWdpc3Rlcik7XG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLCBVc2VyQ29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLmdldChcIi9saXN0XCIsYXV0aC52ZXJpZnlBZG1pbiwgVXNlckNvbnRyb2xsZXIubGlzdCk7XG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlcl9hZG1pblwiLGF1dGgudmVyaWZ5QWRtaW4sIFVzZXJDb250cm9sbGVyLnJlZ2lzdGVyX2FkbWluKTtcbnJvdXRlci5wb3N0KFwiL2xvZ2luXCIsIFVzZXJDb250cm9sbGVyLmxvZ2luKTtcbnJvdXRlci5wb3N0KFwiL2xvZ2luX2FkbWluXCIsIFVzZXJDb250cm9sbGVyLmxvZ2luX2FkbWluKTtcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlXCIsIFVzZXJDb250cm9sbGVyLnJlbW92ZSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUksQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUl0QyxNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDOztBQUV4Qjs7QUFFQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFQyx1QkFBYyxDQUFDQyxRQUFRLENBQUM7QUFDakRKLE1BQU0sQ0FBQ0ssR0FBRyxDQUFDLFNBQVMsRUFBRUYsdUJBQWMsQ0FBQ0csTUFBTSxDQUFDO0FBQzVDTixNQUFNLENBQUNPLEdBQUcsQ0FBQyxPQUFPLEVBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFFTix1QkFBYyxDQUFDTyxJQUFJLENBQUM7QUFDekRWLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLGlCQUFpQixFQUFDTSxhQUFJLENBQUNDLFdBQVcsRUFBRU4sdUJBQWMsQ0FBQ1EsY0FBYyxDQUFDO0FBQzlFWCxNQUFNLENBQUNFLElBQUksQ0FBQyxRQUFRLEVBQUVDLHVCQUFjLENBQUNTLEtBQUssQ0FBQztBQUMzQ1osTUFBTSxDQUFDRSxJQUFJLENBQUMsY0FBYyxFQUFFQyx1QkFBYyxDQUFDVSxXQUFXLENBQUM7QUFDdkRiLE1BQU0sQ0FBQ2MsTUFBTSxDQUFDLFNBQVMsRUFBRVgsdUJBQWMsQ0FBQ1ksTUFBTSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFsQixPQUFBLEdBR2pDQyxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_UserController","_auth","e","__esModule","default","router","routerx","post","UserController","register","put","update","get","auth","verifyAdmin","list","register_admin","login","login_admin","delete","remove","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/","sources":["User.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport UserController from \"../controllers/UserController\"\nimport auth from \"../middlewares/auth\"\n\n\n\nconst router = routerx();\n\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", UserController.register);\nrouter.put(\"/update\", UserController.update);\nrouter.get(\"/list\",auth.verifyAdmin, UserController.list);\nrouter.post(\"/register_admin\",auth.verifyAdmin, UserController.register_admin);\nrouter.post(\"/login\", UserController.login);\nrouter.post(\"/login_admin\", UserController.login_admin);\nrouter.delete(\"/delete\", UserController.remove);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAItC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEC,uBAAc,CAACC,QAAQ,CAAC;AACjDJ,MAAM,CAACK,GAAG,CAAC,SAAS,EAAEF,uBAAc,CAACG,MAAM,CAAC;AAC5CN,MAAM,CAACO,GAAG,CAAC,OAAO,EAACC,aAAI,CAACC,WAAW,EAAEN,uBAAc,CAACO,IAAI,CAAC;AACzDV,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAACM,aAAI,CAACC,WAAW,EAAEN,uBAAc,CAACQ,cAAc,CAAC;AAC9EX,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAEC,uBAAc,CAACS,KAAK,CAAC;AAC3CZ,MAAM,CAACE,IAAI,CAAC,cAAc,EAAEC,uBAAc,CAACU,WAAW,CAAC;AACvDb,MAAM,CAACc,MAAM,CAAC,SAAS,EAAEX,uBAAc,CAACY,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAlB,OAAA,GAGjCC,MAAM","ignoreList":[]}},"mtime":1736876492384},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst mainrouter = (0, _expressPromiseRouter.default)();\n_User.default.use('/users', _User.default);\nvar _default = exports.default = _User.default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibWFpbnJvdXRlciIsInJvdXRlcngiLCJyb3V0ZXIiLCJ1c2UiLCJVc2VyIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiXG5pbXBvcnQgVXNlciBmcm9tIFwiLi9Vc2VyXCJcbmltcG9ydCByb3V0ZXIgZnJvbSBcIi4vVXNlclwiO1xuXG5jb25zdCBtYWlucm91dGVyID0gcm91dGVyeCgpO1xucm91dGVyLnVzZSgnL3VzZXJzJywgVXNlcik7XG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUF5QixTQUFBRCx1QkFBQUcsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUd6QixNQUFNRyxVQUFVLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBQzVCQyxhQUFNLENBQUNDLEdBQUcsQ0FBQyxRQUFRLEVBQUVDLGFBQUksQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBUCxPQUFBLEdBR1pHLGFBQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_User","e","__esModule","default","mainrouter","routerx","router","use","User","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/","sources":["index.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport User from \"./User\"\nimport router from \"./User\";\n\nconst mainrouter = routerx();\nrouter.use('/users', User);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAyB,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAGzB,MAAMG,UAAU,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAC5BC,aAAM,CAACC,GAAG,CAAC,QAAQ,EAAEC,aAAI,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAP,OAAA,GAGZG,aAAM","ignoreList":[]}},"mtime":1736649244999},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_admin: async (req, res) => {\n    try {\n      const userV = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userV) {\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"admin\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      let user = await _models.default.User.create(req.body);\n      res.status(200).json({\n        user: _resourses.default.User.user_list(user)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        //SI ESTA REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: \"admin\"\n      });\n      if (user) {\n        //SI ESTA REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('/');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let UserT = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: _resourses.default.User.user_list(UserT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Users = await _models.default.User.find({\n        $or: [{\n          \"name\": new RegExp(search, \"i\")\n        }, {\n          \"surname\": new RegExp(search, \"i\")\n        }, {\n          \"email\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Users = Users.map(user => {\n        return _resourses.default.User.user_list(user);\n      });\n      res.status(200).json({\n        users: Users\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await _models.default.User.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmNyeXB0anMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9tb2RlbHMiLCJfdG9rZW4iLCJfcmVzb3Vyc2VzIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJib2R5IiwicGFzc3dvcmQiLCJiY3J5cHQiLCJoYXNoIiwidXNlciIsIm1vZGVscyIsIlVzZXIiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJyZWdpc3Rlcl9hZG1pbiIsInVzZXJWIiwiZmluZE9uZSIsImVtYWlsIiwicm9sIiwicmVzb3Vyc2VzIiwidXNlcl9saXN0IiwibG9naW4iLCJzdGF0ZSIsImNvbXBhcmUiLCJ0b2tlblQiLCJ0b2tlbiIsImVuY29kZSIsIl9pZCIsIlVTRVJfRlJPTlRFRCIsIm5hbWUiLCJzdXJuYW1lIiwiYXZhdGFyIiwibG9naW5fYWRtaW4iLCJ1cGRhdGUiLCJmaWxlcyIsImltZ19wYXRoIiwicGF0aCIsInNwbGl0IiwiYXZhdGFyX25hbWUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIlVzZXJUIiwibGlzdCIsInNlYXJjaCIsInF1ZXJ5IiwiVXNlcnMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsInVzZXJzIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRvcy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiVXNlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0anNcIlxuaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5pbXBvcnQgdG9rZW4gZnJvbSBcIi4uL3NlcnZpY2VzL3Rva2VuXCI7XG5pbXBvcnQgcmVzb3Vyc2VzIGZyb20gXCIuLi9yZXNvdXJzZXNcIjtcblxuXG5leHBvcnQgZGVmYXVsdHtcbiAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgcmVxLmJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChyZXEuYm9keS5wYXNzd29yZCwxMCk7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVzZXIpO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cbiAgfSxcbiAgcmVnaXN0ZXJfYWRtaW46IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlclYgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtlbWFpbDogcmVxLmJvZHkuZW1haWx9KTtcbiAgICAgIGlmKHVzZXJWKXtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBZQSBFWElTVEVcIlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJlcS5ib2R5LnJvbCA9IFwiYWRtaW5cIlxuICAgICAgcmVxLmJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChyZXEuYm9keS5wYXNzd29yZCwxMCk7XG4gICAgICBsZXQgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIHVzZXI6IHJlc291cnNlcy5Vc2VyLnVzZXJfbGlzdCh1c2VyKVxuICAgICAgfSk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuICB9LFxuXG4gIGxvZ2luOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe2VtYWlsOiByZXEuYm9keS5lbWFpbCxzdGF0ZToxfSk7XG4gICAgICAgIGlmKHVzZXIpe1xuICAgICAgICAgICAgLy9TSSBFU1RBIFJFR0lTVFJBRE8gRU4gRUwgU0lTVEVNQVxuICAgICAgICAgICAgbGV0IGNvbXBhcmUgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShyZXEuYm9keS5wYXNzd29yZCx1c2VyLnBhc3N3b3JkKTtcbiAgICAgICAgICAgIGlmKGNvbXBhcmUpe1xuICAgICAgICAgICAgICAgIGxldCB0b2tlblQgPSBhd2FpdCB0b2tlbi5lbmNvZGUodXNlci5faWQsdXNlci5yb2wsdXNlci5lbWFpbCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBVU0VSX0ZST05URUQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuOnRva2VuVCxcbiAgICAgICAgICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdmF0YXI6IHVzZXIuYXZhdGFyLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICAgICAgVVNFUl9GUk9OVEVEOlVTRVJfRlJPTlRFRCxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxufSxcbmxvZ2luX2FkbWluOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsLHN0YXRlOjEscm9sOlwiYWRtaW5cIn0pO1xuICAgICAgaWYodXNlcil7XG4gICAgICAgICAgLy9TSSBFU1RBIFJFR0lTVFJBRE8gRU4gRUwgU0lTVEVNQVxuICAgICAgICAgIGxldCBjb21wYXJlID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocmVxLmJvZHkucGFzc3dvcmQsdXNlci5wYXNzd29yZCk7XG4gICAgICAgICAgaWYoY29tcGFyZSl7XG4gICAgICAgICAgICAgIGxldCB0b2tlblQgPSBhd2FpdCB0b2tlbi5lbmNvZGUodXNlci5faWQsdXNlci5yb2wsdXNlci5lbWFpbCk7XG5cbiAgICAgICAgICAgICAgY29uc3QgVVNFUl9GUk9OVEVEID0ge1xuICAgICAgICAgICAgICAgICAgdG9rZW46dG9rZW5ULFxuICAgICAgICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhcixcbiAgICAgICAgICAgICAgICAgICAgICByb2w6IHVzZXIucm9sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgICAgVVNFUl9GUk9OVEVEOlVTRVJfRlJPTlRFRCxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICB9XG59LFxuICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgIGlmKHJlcS5maWxlcyl7XG4gICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMuYXZhdGFyLnBhdGg7XG4gICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCcvJyk7XG4gICAgICAgICB2YXIgYXZhdGFyX25hbWUgPSBuYW1lWzJdO1xuICAgICAgICAgY29uc29sZS5sb2coYXZhdGFyX25hbWUpXG4gICAgICAgfVxuICAgICAgXG4gICAgICBpZihyZXEuYm9keS5wYXNzd29yZCl7XG4gICAgICAgIHJlcS5ib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsMTApO1xuICAgICAgfVxuICAgICBhd2FpdCBtb2RlbHMuVXNlci5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiByZXEuYm9keS5faWR9LHJlcS5ib2R5KTtcblxuICAgICBsZXQgVXNlclQgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtfaWQ6IHJlcS5ib2R5Ll9pZH0pO1xuXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBTRSBIQSBNT0RJRklDQURPIENPUlJFQ1RBTUVOVEVcIixcbiAgICAgICAgdXNlcjogcmVzb3Vyc2VzLlVzZXIudXNlcl9saXN0KFVzZXJUKSxcbiAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG5cbiAgfSxcbiAgbGlzdDogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICB2YXIgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcbiAgICAgIGxldCBVc2VycyAgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kKHtcbiAgICAgICAgJG9yOltcbiAgICAgICAgICB7XCJuYW1lXCI6IG5ldyBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxuICAgICAgICAgIHtcInN1cm5hbWVcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgICAge1wiZW1haWxcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgIF1cbiAgICB9KS5zb3J0KHsnY3JlYXRlZEF0JzotMX0pO1xuXG4gICAgVXNlcnMgPSBVc2Vycy5tYXAoKHVzZXIpID0+IHtcbiAgICAgIHJldHVybiByZXNvdXJzZXMuVXNlci51c2VyX2xpc3QodXNlcik7XG4gICAgfSlcblxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgIHVzZXJzOiBVc2Vyc1xuICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICBcbiAgICB9XG4gIH0sXG4gIHJlbW92ZTogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgVXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IHJlcS5xdWVyeS5faWR9KTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG4gIH0sXG59Il0sIm1hcHBp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","map":{"version":3,"names":["_bcryptjs","_interopRequireDefault","require","_models","_token","_resourses","e","__esModule","default","_default","exports","register","req","res","body","password","bcrypt","hash","user","models","User","create","status","json","error","send","message","console","log","register_admin","userV","findOne","email","rol","resourses","user_list","login","state","compare","tokenT","token","encode","_id","USER_FRONTED","name","surname","avatar","login_admin","update","files","img_path","path","split","avatar_name","findByIdAndUpdate","UserT","list","search","query","Users","find","$or","RegExp","sort","map","users","remove","findByIdAndDelete"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["UserController.js"],"sourcesContent":["import bcrypt from \"bcryptjs\"\nimport models from \"../models\";\nimport token from \"../services/token\";\nimport resourses from \"../resourses\";\n\n\nexport default{\n  register: async(req,res) => {\n    try {\n      req.body.password = await bcrypt.hash(req.body.password,10);\n      const user = await models.User.create(req.body);\n      res.status(200).json(user);\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n  register_admin: async(req,res) => {\n    try {\n      const userV = await models.User.findOne({email: req.body.email});\n      if(userV){\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"admin\"\n      req.body.password = await bcrypt.hash(req.body.password,10);\n      let user = await models.User.create(req.body);\n      res.status(200).json({\n        user: resourses.User.user_list(user)\n      });\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n\n  login: async(req,res) => {\n    try {\n        const user = await models.User.findOne({email: req.body.email,state:1});\n        if(user){\n            //SI ESTA REGISTRADO EN EL SISTEMA\n            let compare = await bcrypt.compare(req.body.password,user.password);\n            if(compare){\n                let tokenT = await token.encode(user._id,user.rol,user.email);\n\n                const USER_FRONTED = {\n                    token:tokenT,\n                    user: {\n                        name: user.name,\n                        email: user.email,\n                        surname: user.surname,\n                        avatar: user.avatar,\n                    },\n                }\n\n                res.status(200).json({\n                    USER_FRONTED:USER_FRONTED,\n                })\n            }else{\n                res.status(500).send({\n                    message: \"EL USUARIO NO EXISTE\"\n                });\n            }\n        }else{\n            res.status(500).send({\n                message: \"EL USUARIO NO EXISTE\"\n            });\n        }\n    } catch (error) {\n        res.status(500).send({\n            message: \"OCURRIO UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n},\nlogin_admin: async(req,res) => {\n  try {\n      const user = await models.User.findOne({email: req.body.email,state:1,rol:\"admin\"});\n      if(user){\n          //SI ESTA REGISTRADO EN EL SISTEMA\n          let compare = await bcrypt.compare(req.body.password,user.password);\n          if(compare){\n              let tokenT = await token.encode(user._id,user.rol,user.email);\n\n              const USER_FRONTED = {\n                  token:tokenT,\n                  user: {\n                      name: user.name,\n                      email: user.email,\n                      surname: user.surname,\n                      avatar: user.avatar,\n                      rol: user.rol\n                  },\n              }\n\n              res.status(200).json({\n                  USER_FRONTED:USER_FRONTED,\n              })\n          }else{\n              res.status(500).send({\n                  message: \"EL USUARIO NO EXISTE\"\n              });\n          }\n      }else{\n          res.status(500).send({\n              message: \"EL USUARIO NO EXISTE\"\n          });\n      }\n  } catch (error) {\n      res.status(500).send({\n          message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n  }\n},\n  update: async(req,res) => {\n    try {\n       if(req.files){\n         var img_path = req.files.avatar.path;\n         var name = img_path.split('/');\n         var avatar_name = name[2];\n         console.log(avatar_name)\n       }\n      \n      if(req.body.password){\n        req.body.password = await bcrypt.hash(req.body.password,10);\n      }\n     await models.User.findByIdAndUpdate({_id: req.body._id},req.body);\n\n     let UserT = await models.User.findOne({_id: req.body._id});\n\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: resourses.User.user_list(UserT),\n      })\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n\n  },\n  list: async(req,res) => {\n    try {\n      var search = req.query.search;\n      let Users  = await models.User.find({\n        $or:[\n          {\"name\": new RegExp(search, \"i\")},\n          {\"surname\": new RegExp(search, \"i\")},\n          {\"email\": new RegExp(search, \"i\")},\n        ]\n    }).sort({'createdAt':-1});\n\n    Users = Users.map((user) => {\n      return resourses.User.user_list(user);\n    })\n\n    res.status(200).json({\n      users: Users\n    });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n      \n    }\n  },\n  remove: async(req, res) => {\n    try {\n      const User = await models.User.findByIdAndDelete({_id: req.query._id});\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\",\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n}"],"mappings":"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","ignoreList":[]}},"mtime":1737071607195},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Variedad = _interopRequireDefault(require(\"./Variedad\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cupone = _interopRequireDefault(require(\"./Cupone\"));\nvar _Discount = _interopRequireDefault(require(\"./Discount\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default,\n  Variedad: _Variedad.default,\n  Slider: _Slider.default,\n  Cupone: _Cupone.default,\n  Discount: _Discount.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQ2F0ZWdvcmllIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfVXNlciIsIl9Qcm9kdWN0IiwiX1ZhcmllZGFkIiwiX1NsaWRlciIsIl9DdXBvbmUiLCJfRGlzY291bnQiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJVc2VyIiwiQ2F0ZWdvcmllIiwiUHJvZHVjdCIsIlZhcmllZGFkIiwiU2xpZGVyIiwiQ3Vwb25lIiwiRGlzY291bnQiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRvcy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDYXRlZ29yaWUgZnJvbSBcIi4vQ2F0ZWdvcmllXCI7XG5pbXBvcnQgVXNlciBmcm9tIFwiLi9Vc2VyXCI7XG5pbXBvcnQgUHJvZHVjdCBmcm9tIFwiLi9Qcm9kdWN0XCI7XG5pbXBvcnQgVmFyaWVkYWQgZnJvbSBcIi4vVmFyaWVkYWRcIjtcbmltcG9ydCBTbGlkZXIgZnJvbSBcIi4vU2xpZGVyXCI7XG5pbXBvcnQgQ3Vwb25lIGZyb20gXCIuL0N1cG9uZVwiO1xuaW1wb3J0IERpc2NvdW50IGZyb20gXCIuL0Rpc2NvdW50XCI7XG5cbmV4cG9ydCBkZWZhdWx0e1xuICBVc2VyLFxuICBDYXRlZ29yaWUsXG4gIFByb2R1Y3QsXG4gIFZhcmllZGFkLFxuICBTbGlkZXIsXG4gIEN1cG9uZSxcbiAgRGlzY291bnQsXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxVQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxRQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxTQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxPQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSyxPQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBTSxTQUFBLEdBQUFQLHNCQUFBLENBQUFDLE9BQUE7QUFBa0MsU0FBQUQsdUJBQUFRLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVwQjtFQUNaRyxJQUFJLEVBQUpBLGFBQUk7RUFDSkMsU0FBUyxFQUFUQSxrQkFBUztFQUNUQyxPQUFPLEVBQVBBLGdCQUFPO0VBQ1BDLFFBQVEsRUFBUkEsaUJBQVE7RUFDUkMsTUFBTSxFQUFOQSxlQUFNO0VBQ05DLE1BQU0sRUFBTkEsZUFBTTtFQUNOQyxRQUFRLEVBQVJBO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_Categorie","_interopRequireDefault","require","_User","_Product","_Variedad","_Slider","_Cupone","_Discount","e","__esModule","default","_default","exports","User","Categorie","Product","Variedad","Slider","Cupone","Discount"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/","sources":["index.js"],"sourcesContent":["import Categorie from \"./Categorie\";\nimport User from \"./User\";\nimport Product from \"./Product\";\nimport Variedad from \"./Variedad\";\nimport Slider from \"./Slider\";\nimport Cupone from \"./Cupone\";\nimport Discount from \"./Discount\";\n\nexport default{\n  User,\n  Categorie,\n  Product,\n  Variedad,\n  Slider,\n  Cupone,\n  Discount,\n}"],"mappings":";;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,OAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,SAAA,GAAAP,sBAAA,CAAAC,OAAA;AAAkC,SAAAD,uBAAAQ,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEpB;EACZG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,QAAQ,EAARA,iBAAQ;EACRC,MAAM,EAANA,eAAM;EACNC,MAAM,EAANA,eAAM;EACNC,QAAQ,EAARA;AACF,CAAC","ignoreList":[]}},"mtime":1738097256170},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/middleware/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/middleware/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"cliente\" || response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  },\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInZlcmlmeUVjb21tZXJjZSIsInJlcSIsInJlcyIsIm5leHQiLCJoZWFkZXJzIiwidG9rZW4iLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsInJlc3BvbnNlIiwiZGVjb2RlIiwicm9sIiwidmVyaWZ5QWRtaW4iXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRvcy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21pZGRsZXdhcmUvIiwic291cmNlcyI6WyJhdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0b2tlbiBmcm9tIFwiLi4vc2VydmljZXMvdG9rZW5cIlxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHZlcmlmeUVjb21tZXJjZTogYXN5bmMocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBpZighcmVxLmhlYWRlcnMudG9rZW4pe1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk5PIFNFIEVOVknDkyBFTCBUT0tFTlwiXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0b2tlbi5kZWNvZGUocmVxLmhlYWRlcnMudG9rZW4pO1xuICAgIGlmKHJlc3BvbnNlKXtcbiAgICAgIGlmKHJlc3BvbnNlLnJvbCA9PSBcImNsaWVudGVcIiB8fCByZXNwb25zZS5yb2wgPT0gXCJhZG1pblwiKXtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfVxuICAgICAgZWxzZXtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiTk8gRVNUQSBQRVJNSVRJRE8gVklTSVRBUiBFU1RBIFJVVEFcIlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9ZWxzZXtcbiAgICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJFTCBUT0tFTiBOTyBFUyBWQUxJRE9cIlxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICB2ZXJpZnlBZG1pbjogYXN5bmMocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBpZighcmVxLmhlYWRlcnMudG9rZW4pe1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk5PIFNFIEVOVknDkyBFTCBUT0tFTlwiXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0b2tlbi5kZWNvZGUocmVxLmhlYWRlcnMudG9rZW4pO1xuICAgIGlmKHJlc3BvbnNlKXtcbiAgICAgIGlmKHJlc3BvbnNlLnJvbCA9PSBcImFkbWluXCIpe1xuICAgICAgICBuZXh0KCk7XG4gICAgICB9XG4gICAgICBlbHNle1xuICAgICAgICByZXMuc3RhdHVzKDQwMykuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJOTyBFU1RBIFBFUk1JVElETyBWSVNJVEFSIEVTVEEgUlVUQVwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1lbHNle1xuICAgICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIkVMIFRPS0VOIE5PIEVTIFZBTElET1wiXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBcUMsU0FBQUQsdUJBQUFFLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUV0QjtFQUNiRyxlQUFlLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSztJQUN4QyxJQUFHLENBQUNGLEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLEVBQUM7TUFDcEJILEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDbkJDLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUNKO0lBQ0EsTUFBTUMsUUFBUSxHQUFHLE1BQU1KLGNBQUssQ0FBQ0ssTUFBTSxDQUFDVCxHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDO0lBQ3RELElBQUdJLFFBQVEsRUFBQztNQUNWLElBQUdBLFFBQVEsQ0FBQ0UsR0FBRyxJQUFJLFNBQVMsSUFBSUYsUUFBUSxDQUFDRSxHQUFHLElBQUksT0FBTyxFQUFDO1FBQ3REUixJQUFJLENBQUMsQ0FBQztNQUNSLENBQUMsTUFDRztRQUNGRCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQ25CQyxPQUFPLEVBQUU7UUFDWCxDQUFDLENBQUM7TUFDSjtJQUNGLENBQUMsTUFBSTtNQUNITixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ25CQyxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7SUFDSjtFQUNGLENBQUM7RUFDREksV0FBVyxFQUFFLE1BQUFBLENBQU1YLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7SUFDcEMsSUFBRyxDQUFDRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxFQUFDO01BQ3BCSCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ25CQyxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7SUFDSjtJQUNBLE1BQU1DLFFBQVEsR0FBRyxNQUFNSixjQUFLLENBQUNLLE1BQU0sQ0FBQ1QsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssQ0FBQztJQUN0RCxJQUFHSSxRQUFRLEVBQUM7TUFDVixJQUFHQSxRQUFRLENBQUNFLEdBQUcsSUFBSSxPQUFPLEVBQUM7UUFDekJSLElBQUksQ0FBQyxDQUFDO01BQ1IsQ0FBQyxNQUNHO1FBQ0ZELEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDbkJDLE9BQU8sRUFBRTtRQUNYLENBQUMsQ0FBQztNQUNKO0lBQ0YsQ0FBQyxNQUFJO01BQ0hOLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDbkJDLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUNKO0VBQ0Y7QUFDRixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_token","_interopRequireDefault","require","e","__esModule","default","_default","exports","verifyEcommerce","req","res","next","headers","token","status","send","message","response","decode","rol","verifyAdmin"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/middleware/","sources":["auth.js"],"sourcesContent":["import token from \"../services/token\"\n\nexport default {\n  verifyEcommerce: async(req, res, next) => {\n    if(!req.headers.token){\n      res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await token.decode(req.headers.token);\n    if(response){\n      if(response.rol == \"cliente\" || response.rol == \"admin\"){\n        next();\n      }\n      else{\n        res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    }else{\n      res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  },\n  verifyAdmin: async(req, res, next) => {\n    if(!req.headers.token){\n      res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await token.decode(req.headers.token);\n    if(response){\n      if(response.rol == \"admin\"){\n        next();\n      }\n      else{\n        res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    }else{\n      res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  },\n}"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAqC,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEtB;EACbG,eAAe,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IACxC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MACpBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACV,IAAGA,QAAQ,CAACE,GAAG,IAAI,SAAS,IAAIF,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACtDR,IAAI,CAAC,CAAC;MACR,CAAC,MACG;QACFD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACnBC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;IACF,CAAC,MAAI;MACHN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF,CAAC;EACDI,WAAW,EAAE,MAAAA,CAAMX,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IACpC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MACpBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACV,IAAGA,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACzBR,IAAI,CAAC,CAAC;MACR,CAAC,MACG;QACFD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACnBC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;IACF,CAAC,MAAI;MACHN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF;AACF,CAAC","ignoreList":[]}},"mtime":1736639450868},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst UserSchema = new _mongoose.Schema({\n  rol: {\n    type: String,\n    maxlength: 30,\n    require: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    require: false\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    require: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  avatar: {\n    type: String,\n    maxlength: 250,\n    require: false\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  // 1 es activo y 2 es desactivo\n  phone: {\n    type: String,\n    maxlength: 20,\n    require: false\n  },\n  birthday: {\n    type: String,\n    maxlength: 250,\n    require: true\n  }\n}, {\n  timestamps: true\n});\nconst User = _mongoose.default.model(\"user\", UserSchema);\nvar _default = exports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJVc2VyU2NoZW1hIiwiU2NoZW1hIiwicm9sIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsIm5hbWUiLCJzdXJuYW1lIiwiZW1haWwiLCJ1bmlxdWUiLCJwYXNzd29yZCIsImF2YXRhciIsInN0YXRlIiwiTnVtYmVyIiwicGhvbmUiLCJiaXJ0aGRheSIsInRpbWVzdGFtcHMiLCJVc2VyIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudG9zL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvbW9kZWxzLyIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IFVzZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgcm9sOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MzAsIHJlcXVpcmU6dHJ1ZX0sXG4gIG5hbWU6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmU6dHJ1ZX0sXG4gIHN1cm5hbWU6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmU6ZmFsc2V9LFxuICBlbWFpbDoge3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZTp0cnVlLCB1bmlxdWU6dHJ1ZX0sXG4gIHBhc3N3b3JkOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwLCByZXF1aXJlOnRydWV9LFxuICBhdmF0YXI6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmU6ZmFsc2V9LFxuICBzdGF0ZToge3R5cGU6IE51bWJlciwgZGVmYXVsdDoxfSwvLyAxIGVzIGFjdGl2byB5IDIgZXMgZGVzYWN0aXZvXG4gIHBob25lOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjAsIHJlcXVpcmU6ZmFsc2V9LFxuICBiaXJ0aGRheToge3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZTp0cnVlfSxcbn0se1xuICB0aW1lc3RhbXBzOnRydWVcbn0pO1xuXG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWwoXCJ1c2VyXCIsVXNlclNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBVc2VyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FBQSxDQUFBSSxHQUFBLENBQUFQLENBQUEsT0FBQVEsQ0FBQSxLQUFBQyxTQUFBLFVBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsQ0FBQSxJQUFBZCxDQUFBLG9CQUFBYyxDQUFBLE9BQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBaEIsQ0FBQSxFQUFBYyxDQUFBLFNBQUFHLENBQUEsR0FBQVAsQ0FBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFiLENBQUEsRUFBQWMsQ0FBQSxVQUFBRyxDQUFBLEtBQUFBLENBQUEsQ0FBQVYsR0FBQSxJQUFBVSxDQUFBLENBQUFDLEdBQUEsSUFBQVAsTUFBQSxDQUFBQyxjQUFBLENBQUFKLENBQUEsRUFBQU0sQ0FBQSxFQUFBRyxDQUFBLElBQUFULENBQUEsQ0FBQU0sQ0FBQSxJQUFBZCxDQUFBLENBQUFjLENBQUEsWUFBQU4sQ0FBQSxDQUFBSCxPQUFBLEdBQUFMLENBQUEsRUFBQUcsQ0FBQSxJQUFBQSxDQUFBLENBQUFlLEdBQUEsQ0FBQWxCLENBQUEsRUFBQVEsQ0FBQSxHQUFBQSxDQUFBO0FBRXpDLE1BQU1XLFVBQVUsR0FBRyxJQUFJQyxnQkFBTSxDQUFDO0VBQzVCQyxHQUFHLEVBQUU7SUFBQ0MsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFNBQVMsRUFBQyxFQUFFO0lBQUUxQixPQUFPLEVBQUM7RUFBSSxDQUFDO0VBQy9DMkIsSUFBSSxFQUFFO0lBQUNILElBQUksRUFBRUMsTUFBTTtJQUFFQyxTQUFTLEVBQUMsR0FBRztJQUFFMUIsT0FBTyxFQUFDO0VBQUksQ0FBQztFQUNqRDRCLE9BQU8sRUFBRTtJQUFDSixJQUFJLEVBQUVDLE1BQU07SUFBRUMsU0FBUyxFQUFDLEdBQUc7SUFBRTFCLE9BQU8sRUFBQztFQUFLLENBQUM7RUFDckQ2QixLQUFLLEVBQUU7SUFBQ0wsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFNBQVMsRUFBQyxHQUFHO0lBQUUxQixPQUFPLEVBQUMsSUFBSTtJQUFFOEIsTUFBTSxFQUFDO0VBQUksQ0FBQztFQUMvREMsUUFBUSxFQUFFO0lBQUNQLElBQUksRUFBRUMsTUFBTTtJQUFFQyxTQUFTLEVBQUMsR0FBRztJQUFFMUIsT0FBTyxFQUFDO0VBQUksQ0FBQztFQUNyRGdDLE1BQU0sRUFBRTtJQUFDUixJQUFJLEVBQUVDLE1BQU07SUFBRUMsU0FBUyxFQUFDLEdBQUc7SUFBRTFCLE9BQU8sRUFBQztFQUFLLENBQUM7RUFDcERpQyxLQUFLLEVBQUU7SUFBQ1QsSUFBSSxFQUFFVSxNQUFNO0lBQUUzQixPQUFPLEVBQUM7RUFBQyxDQUFDO0VBQUM7RUFDakM0QixLQUFLLEVBQUU7SUFBQ1gsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFNBQVMsRUFBQyxFQUFFO0lBQUUxQixPQUFPLEVBQUM7RUFBSyxDQUFDO0VBQ2xEb0MsUUFBUSxFQUFFO0lBQUNaLElBQUksRUFBRUMsTUFBTTtJQUFFQyxTQUFTLEVBQUMsR0FBRztJQUFFMUIsT0FBTyxFQUFDO0VBQUk7QUFDdEQsQ0FBQyxFQUFDO0VBQ0FxQyxVQUFVLEVBQUM7QUFDYixDQUFDLENBQUM7QUFFRixNQUFNQyxJQUFJLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxNQUFNLEVBQUNuQixVQUFVLENBQUM7QUFBQyxJQUFBb0IsUUFBQSxHQUFBQyxPQUFBLENBQUFuQyxPQUFBLEdBQ2hDK0IsSUFBSSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","UserSchema","Schema","rol","type","String","maxlength","name","surname","email","unique","password","avatar","state","Number","phone","birthday","timestamps","User","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/","sources":["User.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst UserSchema = new Schema({\n  rol: {type: String, maxlength:30, require:true},\n  name: {type: String, maxlength:250, require:true},\n  surname: {type: String, maxlength:250, require:false},\n  email: {type: String, maxlength:250, require:true, unique:true},\n  password: {type: String, maxlength:250, require:true},\n  avatar: {type: String, maxlength:250, require:false},\n  state: {type: Number, default:1},// 1 es activo y 2 es desactivo\n  phone: {type: String, maxlength:20, require:false},\n  birthday: {type: String, maxlength:250, require:true},\n},{\n  timestamps:true\n});\n\nconst User = mongoose.model(\"user\",UserSchema);\nexport default User"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,GAAG,EAAE;IAACC,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAE1B,OAAO,EAAC;EAAI,CAAC;EAC/C2B,IAAI,EAAE;IAACH,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAI,CAAC;EACjD4B,OAAO,EAAE;IAACJ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAK,CAAC;EACrD6B,KAAK,EAAE;IAACL,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC,IAAI;IAAE8B,MAAM,EAAC;EAAI,CAAC;EAC/DC,QAAQ,EAAE;IAACP,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAI,CAAC;EACrDgC,MAAM,EAAE;IAACR,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAK,CAAC;EACpDiC,KAAK,EAAE;IAACT,IAAI,EAAEU,MAAM;IAAE3B,OAAO,EAAC;EAAC,CAAC;EAAC;EACjC4B,KAAK,EAAE;IAACX,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAE1B,OAAO,EAAC;EAAK,CAAC;EAClDoC,QAAQ,EAAE;IAACZ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAI;AACtD,CAAC,EAAC;EACAqC,UAAU,EAAC;AACb,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAACnB,UAAU,CAAC;AAAC,IAAAoB,QAAA,GAAAC,OAAA,CAAAnC,OAAA,GAChC+B,IAAI","ignoreList":[]}},"mtime":1736621895356},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/middlewares/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/middlewares/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"cliente\" || response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  },\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInZlcmlmeUVjb21tZXJjZSIsInJlcSIsInJlcyIsIm5leHQiLCJoZWFkZXJzIiwidG9rZW4iLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsInJlc3BvbnNlIiwiZGVjb2RlIiwicm9sIiwidmVyaWZ5QWRtaW4iXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRvcy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21pZGRsZXdhcmVzLyIsInNvdXJjZXMiOlsiYXV0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdG9rZW4gZnJvbSBcIi4uL3NlcnZpY2VzL3Rva2VuXCJcblxuZXhwb3J0IGRlZmF1bHQge1xuICB2ZXJpZnlFY29tbWVyY2U6IGFzeW5jKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgaWYoIXJlcS5oZWFkZXJzLnRva2VuKXtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJOTyBTRSBFTlZJw5MgRUwgVE9LRU5cIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdG9rZW4uZGVjb2RlKHJlcS5oZWFkZXJzLnRva2VuKTtcbiAgICBpZihyZXNwb25zZSl7XG4gICAgICBpZihyZXNwb25zZS5yb2wgPT0gXCJjbGllbnRlXCIgfHwgcmVzcG9uc2Uucm9sID09IFwiYWRtaW5cIil7XG4gICAgICAgIG5leHQoKTtcbiAgICAgIH1cbiAgICAgIGVsc2V7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIk5PIEVTVEEgUEVSTUlUSURPIFZJU0lUQVIgRVNUQSBSVVRBXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfWVsc2V7XG4gICAgICByZXMuc3RhdHVzKDQwMykuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiRUwgVE9LRU4gTk8gRVMgVkFMSURPXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgdmVyaWZ5QWRtaW46IGFzeW5jKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgaWYoIXJlcS5oZWFkZXJzLnRva2VuKXtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJOTyBTRSBFTlZJw5MgRUwgVE9LRU5cIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdG9rZW4uZGVjb2RlKHJlcS5oZWFkZXJzLnRva2VuKTtcbiAgICBpZihyZXNwb25zZSl7XG4gICAgICBpZihyZXNwb25zZS5yb2wgPT0gXCJhZG1pblwiKXtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfVxuICAgICAgZWxzZXtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiTk8gRVNUQSBQRVJNSVRJRE8gVklTSVRBUiBFU1RBIFJVVEFcIlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9ZWxzZXtcbiAgICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJFTCBUT0tFTiBOTyBFUyBWQUxJRE9cIlxuICAgICAgfSk7XG4gICAgfVxuICB9LFxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQXFDLFNBQUFELHVCQUFBRSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFdEI7RUFDYkcsZUFBZSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7SUFDeEMsSUFBRyxDQUFDRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxFQUFDO01BQ3BCSCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ25CQyxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7SUFDSjtJQUNBLE1BQU1DLFFBQVEsR0FBRyxNQUFNSixjQUFLLENBQUNLLE1BQU0sQ0FBQ1QsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssQ0FBQztJQUN0RCxJQUFHSSxRQUFRLEVBQUM7TUFDVixJQUFHQSxRQUFRLENBQUNFLEdBQUcsSUFBSSxTQUFTLElBQUlGLFFBQVEsQ0FBQ0UsR0FBRyxJQUFJLE9BQU8sRUFBQztRQUN0RFIsSUFBSSxDQUFDLENBQUM7TUFDUixDQUFDLE1BQ0c7UUFDRkQsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUNuQkMsT0FBTyxFQUFFO1FBQ1gsQ0FBQyxDQUFDO01BQ0o7SUFDRixDQUFDLE1BQUk7TUFDSE4sR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNuQkMsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ0o7RUFDRixDQUFDO0VBQ0RJLFdBQVcsRUFBRSxNQUFBQSxDQUFNWCxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0lBQ3BDLElBQUcsQ0FBQ0YsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssRUFBQztNQUNwQkgsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNuQkMsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ0o7SUFDQSxNQUFNQyxRQUFRLEdBQUcsTUFBTUosY0FBSyxDQUFDSyxNQUFNLENBQUNULEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLENBQUM7SUFDdEQsSUFBR0ksUUFBUSxFQUFDO01BQ1YsSUFBR0EsUUFBUSxDQUFDRSxHQUFHLElBQUksT0FBTyxFQUFDO1FBQ3pCUixJQUFJLENBQUMsQ0FBQztNQUNSLENBQUMsTUFDRztRQUNGRCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQ25CQyxPQUFPLEVBQUU7UUFDWCxDQUFDLENBQUM7TUFDSjtJQUNGLENBQUMsTUFBSTtNQUNITixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ25CQyxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7SUFDSjtFQUNGO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_token","_interopRequireDefault","require","e","__esModule","default","_default","exports","verifyEcommerce","req","res","next","headers","token","status","send","message","response","decode","rol","verifyAdmin"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/middlewares/","sources":["auth.js"],"sourcesContent":["import token from \"../services/token\"\n\nexport default {\n  verifyEcommerce: async(req, res, next) => {\n    if(!req.headers.token){\n      res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await token.decode(req.headers.token);\n    if(response){\n      if(response.rol == \"cliente\" || response.rol == \"admin\"){\n        next();\n      }\n      else{\n        res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    }else{\n      res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  },\n  verifyAdmin: async(req, res, next) => {\n    if(!req.headers.token){\n      res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await token.decode(req.headers.token);\n    if(response){\n      if(response.rol == \"admin\"){\n        next();\n      }\n      else{\n        res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    }else{\n      res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  },\n}"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAqC,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEtB;EACbG,eAAe,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IACxC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MACpBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACV,IAAGA,QAAQ,CAACE,GAAG,IAAI,SAAS,IAAIF,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACtDR,IAAI,CAAC,CAAC;MACR,CAAC,MACG;QACFD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACnBC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;IACF,CAAC,MAAI;MACHN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF,CAAC;EACDI,WAAW,EAAE,MAAAA,CAAMX,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IACpC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MACpBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACV,IAAGA,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACzBR,IAAI,CAAC,CAAC;MACR,CAAC,MACG;QACFD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACnBC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;IACF,CAAC,MAAI;MACHN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF;AACF,CAAC","ignoreList":[]}},"mtime":1736639450868},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst mainrouter = (0, _expressPromiseRouter.default)();\n_User.default.use('/users', _User.default);\nvar _default = exports.default = _User.default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibWFpbnJvdXRlciIsInJvdXRlcngiLCJyb3V0ZXIiLCJ1c2UiLCJVc2VyIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiXG5pbXBvcnQgVXNlciBmcm9tIFwiLi9Vc2VyXCJcbmltcG9ydCByb3V0ZXIgZnJvbSBcIi4vVXNlclwiO1xuXG5jb25zdCBtYWlucm91dGVyID0gcm91dGVyeCgpO1xucm91dGVyLnVzZSgnL3VzZXJzJywgVXNlcik7XG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUF5QixTQUFBRCx1QkFBQUcsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUd6QixNQUFNRyxVQUFVLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBQzVCQyxhQUFNLENBQUNDLEdBQUcsQ0FBQyxRQUFRLEVBQUVDLGFBQUksQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBUCxPQUFBLEdBR1pHLGFBQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_User","e","__esModule","default","mainrouter","routerx","router","use","User","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/","sources":["index.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport User from \"./User\"\nimport router from \"./User\";\n\nconst mainrouter = routerx();\nrouter.use('/users', User);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAyB,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAGzB,MAAMG,UAAU,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAC5BC,aAAM,CAACC,GAAG,CAAC,QAAQ,EAAEC,aAAI,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAP,OAAA,GAGZG,aAAM","ignoreList":[]}},"mtime":1736649244999},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\n\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", _UserController.default.register);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post(\"/login\", _UserController.default.login);\nrouter.delete(\"/delete\", _UserController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyQ29udHJvbGxlciIsIl9hdXRoIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJVc2VyQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwibGlzdCIsImxvZ2luIiwiZGVsZXRlIiwicmVtb3ZlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gXCJleHByZXNzLXByb21pc2Utcm91dGVyXCJcbmltcG9ydCBVc2VyQ29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXJcIlxuaW1wb3J0IGF1dGggZnJvbSBcIi4uL21pZGRsZXdhcmVzL2F1dGhcIlxuXG5cblxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG4vLyBodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VzZXJzL3JlZ2lzdGVyXG5cbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsIFVzZXJDb250cm9sbGVyLnJlZ2lzdGVyKTtcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsIFVzZXJDb250cm9sbGVyLnVwZGF0ZSk7XG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUFkbWluLCBVc2VyQ29udHJvbGxlci5saXN0KTtcbnJvdXRlci5wb3N0KFwiL2xvZ2luXCIsIFVzZXJDb250cm9sbGVyLmxvZ2luKTtcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlXCIsIFVzZXJDb250cm9sbGVyLnJlbW92ZSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUksQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUl0QyxNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDOztBQUV4Qjs7QUFFQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFQyx1QkFBYyxDQUFDQyxRQUFRLENBQUM7QUFDakRKLE1BQU0sQ0FBQ0ssR0FBRyxDQUFDLFNBQVMsRUFBRUYsdUJBQWMsQ0FBQ0csTUFBTSxDQUFDO0FBQzVDTixNQUFNLENBQUNPLEdBQUcsQ0FBQyxPQUFPLEVBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFFTix1QkFBYyxDQUFDTyxJQUFJLENBQUM7QUFDekRWLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFFBQVEsRUFBRUMsdUJBQWMsQ0FBQ1EsS0FBSyxDQUFDO0FBQzNDWCxNQUFNLENBQUNZLE1BQU0sQ0FBQyxTQUFTLEVBQUVULHVCQUFjLENBQUNVLE1BQU0sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBaEIsT0FBQSxHQUdqQ0MsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_UserController","_auth","e","__esModule","default","router","routerx","post","UserController","register","put","update","get","auth","verifyAdmin","list","login","delete","remove","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/","sources":["User.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport UserController from \"../controllers/UserController\"\nimport auth from \"../middlewares/auth\"\n\n\n\nconst router = routerx();\n\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", UserController.register);\nrouter.put(\"/update\", UserController.update);\nrouter.get(\"/list\",auth.verifyAdmin, UserController.list);\nrouter.post(\"/login\", UserController.login);\nrouter.delete(\"/delete\", UserController.remove);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAItC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEC,uBAAc,CAACC,QAAQ,CAAC;AACjDJ,MAAM,CAACK,GAAG,CAAC,SAAS,EAAEF,uBAAc,CAACG,MAAM,CAAC;AAC5CN,MAAM,CAACO,GAAG,CAAC,OAAO,EAACC,aAAI,CAACC,WAAW,EAAEN,uBAAc,CAACO,IAAI,CAAC;AACzDV,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAEC,uBAAc,CAACQ,KAAK,CAAC;AAC3CX,MAAM,CAACY,MAAM,CAAC,SAAS,EAAET,uBAAc,CAACU,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAGjCC,MAAM","ignoreList":[]}},"mtime":1736655095027},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (!user) {\n        return res.status(404).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n      const compare = await _bcryptjs.default.compare(req.body.password, user.password);\n      if (!compare) {\n        return res.status(401).send({\n          message: \"CONTRASEÑA INCORRECTA\"\n        });\n      }\n      const tokenT = await _token.default.encode(user._id, user.rol, user.email);\n      if (!tokenT) {\n        throw new Error(\"Error al generar el token\");\n      }\n      const USER_FRONTED = {\n        token: tokenT,\n        user: {\n          name: user.name,\n          email: user.email,\n          surname: user.surname,\n          avatar: user.avatar\n        }\n      };\n      res.status(200).json({\n        USER_FRONTED: USER_FRONTED\n      });\n    } catch (error) {\n      console.error(error);\n      if (error instanceof Error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA INTERNO\",\n          error: error.message\n        });\n      } else {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA DESCONOCIDO\"\n        });\n      }\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      const UsersT = await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: UsersT\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.body.search;\n      const Users = await _models.default.User.find({\n        $or: [{\n          \"name\": new RegExp(search, \"i\")\n        }, {\n          \"surname\": new RegExp(search, \"i\")\n        }, {\n          \"email\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createAt': -1\n      });\n      res.status(200).json({\n        users: Users\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await _models.default.User.findByIdAndDelete({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmNyeXB0anMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9tb2RlbHMiLCJfdG9rZW4iLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImJvZHkiLCJwYXNzd29yZCIsImJjcnlwdCIsImhhc2giLCJ1c2VyIiwibW9kZWxzIiwiVXNlciIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsImxvZ2luIiwiZmluZE9uZSIsImVtYWlsIiwic3RhdGUiLCJjb21wYXJlIiwidG9rZW5UIiwidG9rZW4iLCJlbmNvZGUiLCJfaWQiLCJyb2wiLCJFcnJvciIsIlVTRVJfRlJPTlRFRCIsIm5hbWUiLCJzdXJuYW1lIiwiYXZhdGFyIiwidXBkYXRlIiwiZmlsZXMiLCJpbWdfcGF0aCIsInBhdGgiLCJzcGxpdCIsImF2YXRhcl9uYW1lIiwiVXNlcnNUIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJsaXN0Iiwic2VhcmNoIiwiVXNlcnMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsInVzZXJzIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRvcy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiVXNlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0anNcIlxuaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5pbXBvcnQgdG9rZW4gZnJvbSBcIi4uL3NlcnZpY2VzL3Rva2VuXCI7XG5cblxuZXhwb3J0IGRlZmF1bHR7XG4gIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHJlcS5ib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsMTApO1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih1c2VyKTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG4gIH0sXG5cbiAgbG9naW46IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7IGVtYWlsOiByZXEuYm9keS5lbWFpbCwgc3RhdGU6IDEgfSk7XG4gICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gIFxuICAgICAgY29uc3QgY29tcGFyZSA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHJlcS5ib2R5LnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcbiAgICAgIGlmICghY29tcGFyZSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiQ09OVFJBU0XDkUEgSU5DT1JSRUNUQVwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICBcbiAgICAgIGNvbnN0IHRva2VuVCA9IGF3YWl0IHRva2VuLmVuY29kZSh1c2VyLl9pZCwgdXNlci5yb2wsIHVzZXIuZW1haWwpO1xuICAgICAgaWYgKCF0b2tlblQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgYWwgZ2VuZXJhciBlbCB0b2tlblwiKTtcbiAgICAgIH1cbiAgXG4gICAgICBjb25zdCBVU0VSX0ZST05URUQgPSB7XG4gICAgICAgIHRva2VuOiB0b2tlblQsXG4gICAgICAgIHVzZXI6IHtcbiAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgc3VybmFtZTogdXNlci5zdXJuYW1lLFxuICAgICAgICAgIGF2YXRhcjogdXNlci5hdmF0YXIsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICBcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgVVNFUl9GUk9OVEVEOiBVU0VSX0ZST05URUQsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQSBJTlRFUk5PXCIsXG4gICAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUEgREVTQ09OT0NJRE9cIixcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYocmVxLmZpbGVzKXtcbiAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLmF2YXRhci5wYXRoO1xuICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XG4gICAgICAgIHZhciBhdmF0YXJfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgIGNvbnNvbGUubG9nKGF2YXRhcl9uYW1lKVxuICAgICAgfVxuICAgICAgaWYocmVxLmJvZHkucGFzc3dvcmQpe1xuICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLDEwKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IFVzZXJzVCA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0scmVxLmJvZHkpO1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gU0UgSEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFXCIsXG4gICAgICAgIHVzZXI6IFVzZXJzVFxuICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cblxuICB9LFxuICBsaXN0OiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBzZWFyY2ggPSByZXEuYm9keS5zZWFyY2g7XG4gICAgICBjb25zdCBVc2VycyAgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kKHtcbiAgICAgICAgJG9yOltcbiAgICAgICAgICB7XCJuYW1lXCI6IG5ldyBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxuICAgICAgICAgIHtcInN1cm5hbWVcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgICAge1wiZW1haWxcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgIF1cbiAgICB9KS5zb3J0KHsnY3JlYXRlQXQnOi0xfSk7XG5cbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICB1c2VyczogVXNlcnNcbiAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgXG4gICAgfVxuICB9LFxuICByZW1vdmU6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IFVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiByZXEuYm9keS5faWR9KTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG4gIH0sXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxNQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBc0MsU0FBQUQsdUJBQUFJLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUd4QjtFQUNaRyxRQUFRLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDMUIsSUFBSTtNQUNGRCxHQUFHLENBQUNFLElB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QUFBLENBQU14QyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUN0QixJQUFJO01BQ0YsSUFBSXdDLE1BQU0sR0FBR3pDLEdBQUcsQ0FBQ0UsSUFBSSxDQUFDdUMsTUFBTTtNQUM1QixNQUFNQyxLQUFLLEdBQUksTUFBTW5DLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDbUMsSUFBSSxDQUFDO1FBQ3BDQyxHQUFHLEVBQUMsQ0FDRjtVQUFDLE1BQU0sRUFBRSxJQUFJQyxNQUFNLENBQUNKLE1BQU0sRUFBRSxHQUFHO1FBQUMsQ0FBQyxFQUNqQztVQUFDLFNBQVMsRUFBRSxJQUFJSSxNQUFNLENBQUNKLE1BQU0sRUFBRSxHQUFHO1FBQUMsQ0FBQyxFQUNwQztVQUFDLE9BQU8sRUFBRSxJQUFJSSxNQUFNLENBQUNKLE1BQU0sRUFBRSxHQUFHO1FBQUMsQ0FBQztNQUV4QyxDQUFDLENBQUMsQ0FBQ0ssSUFBSSxDQUFDO1FBQUMsVUFBVSxFQUFDLENBQUM7TUFBQyxDQUFDLENBQUM7TUFFeEI3QyxHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ25Cb0MsS0FBSyxFQUFFTDtNQUNULENBQUMsQ0FBQztJQUNGLENBQUMsQ0FBQyxPQUFPOUIsS0FBSyxFQUFFO01BQ2RYLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFDbkJDLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztNQUNGQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBRXBCO0VBQ0YsQ0FBQztFQUNEb0MsTUFBTSxFQUFFLE1BQUFBLENBQU1oRCxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUN6QixJQUFJO01BQ0YsTUFBTU8sSUFBSSxHQUFHLE1BQU1ELGVBQU0sQ0FBQ0MsSUFBSSxDQUFDeUMsaUJBQWlCLENBQUM7UUFBQ3hCLEdBQUcsRUFBRXpCLEdBQUcsQ0FBQ0UsSUFBSSxDQUFDdUI7TUFBRyxDQUFDLENBQUM7TUFDckV4QixHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ25CRyxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7SUFDSixDQUFDLENBQUMsT0FBT0YsS0FBSyxFQUFFO01BQ2RYLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFDbkJDLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztNQUNGQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3BCO0VBQ0Y7QUFDRixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_bcryptjs","_interopRequireDefault","require","_models","_token","e","__esModule","default","_default","exports","register","req","res","body","password","bcrypt","hash","user","models","User","create","status","json","error","send","message","console","log","login","findOne","email","state","compare","tokenT","token","encode","_id","rol","Error","USER_FRONTED","name","surname","avatar","update","files","img_path","path","split","avatar_name","UsersT","findByIdAndUpdate","list","search","Users","find","$or","RegExp","sort","users","remove","findByIdAndDelete"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["UserController.js"],"sourcesContent":["import bcrypt from \"bcryptjs\"\nimport models from \"../models\";\nimport token from \"../services/token\";\n\n\nexport default{\n  register: async(req,res) => {\n    try {\n      req.body.password = await bcrypt.hash(req.body.password,10);\n      const user = await models.User.create(req.body);\n      res.status(200).json(user);\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n\n  login: async (req, res) => {\n    try {\n      const user = await models.User.findOne({ email: req.body.email, state: 1 });\n      if (!user) {\n        return res.status(404).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n  \n      const compare = await bcrypt.compare(req.body.password, user.password);\n      if (!compare) {\n        return res.status(401).send({\n          message: \"CONTRASEÑA INCORRECTA\"\n        });\n      }\n  \n      const tokenT = await token.encode(user._id, user.rol, user.email);\n      if (!tokenT) {\n        throw new Error(\"Error al generar el token\");\n      }\n  \n      const USER_FRONTED = {\n        token: tokenT,\n        user: {\n          name: user.name,\n          email: user.email,\n          surname: user.surname,\n          avatar: user.avatar,\n        },\n      };\n  \n      res.status(200).json({\n        USER_FRONTED: USER_FRONTED,\n      });\n    } catch (error) {\n      console.error(error);\n      if (error instanceof Error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA INTERNO\",\n          error: error.message,\n        });\n      } else {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA DESCONOCIDO\",\n        });\n      }\n    }\n  },\n  update: async(req,res) => {\n    try {\n      if(req.files){\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name)\n      }\n      if(req.body.password){\n        req.body.password = await bcrypt.hash(req.body.password,10);\n      }\n      const UsersT = await models.User.findByIdAndUpdate({_id: req.body._id},req.body);\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: UsersT\n      })\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n\n  },\n  list: async(req,res) => {\n    try {\n      var search = req.body.search;\n      const Users  = await models.User.find({\n        $or:[\n          {\"name\": new RegExp(search, \"i\")},\n          {\"surname\": new RegExp(search, \"i\")},\n          {\"email\": new RegExp(search, \"i\")},\n        ]\n    }).sort({'createAt':-1});\n\n    res.status(200).json({\n      users: Users\n    });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n      \n    }\n  },\n  remove: async(req, res) => {\n    try {\n      const User = await models.User.findByIdAndDelete({_id: req.body._id});\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\",\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n}"],"mappings":"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","ignoreList":[]}},"mtime":1736654041485},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  User: _User.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiVXNlciJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudG9zL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvbW9kZWxzLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVzZXIgZnJvbSBcIi4vVXNlclwiO1xuXG5leHBvcnQgZGVmYXVsdHtcbiAgVXNlcixcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLEtBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUEwQixTQUFBRCx1QkFBQUUsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRVo7RUFDWkcsSUFBSSxFQUFKQTtBQUNGLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_User","_interopRequireDefault","require","e","__esModule","default","_default","exports","User"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/","sources":["index.js"],"sourcesContent":["import User from \"./User\";\n\nexport default{\n  User,\n}"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA0B,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEZ;EACZG,IAAI,EAAJA;AACF,CAAC","ignoreList":[]}},"mtime":1736621836610},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst UserSchema = new _mongoose.Schema({\n  rol: {\n    type: String,\n    maxlength: 30,\n    require: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    require: false\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    require: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  avatar: {\n    type: String,\n    maxlength: 250,\n    require: false\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  // 1 es activo y 2 es desactivo\n  phone: {\n    type: String,\n    maxlength: 20,\n    require: false\n  },\n  birthday: {\n    type: String,\n    maxlength: 250,\n    require: true\n  }\n}, {\n  timestamps: true\n});\nconst User = _mongoose.default.model(\"user\", UserSchema);\nvar _default = exports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJVc2VyU2NoZW1hIiwiU2NoZW1hIiwicm9sIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsIm5hbWUiLCJzdXJuYW1lIiwiZW1haWwiLCJ1bmlxdWUiLCJwYXNzd29yZCIsImF2YXRhciIsInN0YXRlIiwiTnVtYmVyIiwicGhvbmUiLCJiaXJ0aGRheSIsInRpbWVzdGFtcHMiLCJVc2VyIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudG9zL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvbW9kZWxzLyIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IFVzZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgcm9sOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MzAsIHJlcXVpcmU6dHJ1ZX0sXG4gIG5hbWU6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmU6dHJ1ZX0sXG4gIHN1cm5hbWU6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmU6ZmFsc2V9LFxuICBlbWFpbDoge3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZTp0cnVlLCB1bmlxdWU6dHJ1ZX0sXG4gIHBhc3N3b3JkOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwLCByZXF1aXJlOnRydWV9LFxuICBhdmF0YXI6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmU6ZmFsc2V9LFxuICBzdGF0ZToge3R5cGU6IE51bWJlciwgZGVmYXVsdDoxfSwvLyAxIGVzIGFjdGl2byB5IDIgZXMgZGVzYWN0aXZvXG4gIHBob25lOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjAsIHJlcXVpcmU6ZmFsc2V9LFxuICBiaXJ0aGRheToge3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZTp0cnVlfSxcbn0se1xuICB0aW1lc3RhbXBzOnRydWVcbn0pO1xuXG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWwoXCJ1c2VyXCIsVXNlclNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBVc2VyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FBQSxDQUFBSSxHQUFBLENBQUFQLENBQUEsT0FBQVEsQ0FBQSxLQUFBQyxTQUFBLFVBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsQ0FBQSxJQUFBZCxDQUFBLG9CQUFBYyxDQUFBLE9BQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBaEIsQ0FBQSxFQUFBYyxDQUFBLFNBQUFHLENBQUEsR0FBQVAsQ0FBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFiLENBQUEsRUFBQWMsQ0FBQSxVQUFBRyxDQUFBLEtBQUFBLENBQUEsQ0FBQVYsR0FBQSxJQUFBVSxDQUFBLENBQUFDLEdBQUEsSUFBQVAsTUFBQSxDQUFBQyxjQUFBLENBQUFKLENBQUEsRUFBQU0sQ0FBQSxFQUFBRyxDQUFBLElBQUFULENBQUEsQ0FBQU0sQ0FBQSxJQUFBZCxDQUFBLENBQUFjLENBQUEsWUFBQU4sQ0FBQSxDQUFBSCxPQUFBLEdBQUFMLENBQUEsRUFBQUcsQ0FBQSxJQUFBQSxDQUFBLENBQUFlLEdBQUEsQ0FBQWxCLENBQUEsRUFBQVEsQ0FBQSxHQUFBQSxDQUFBO0FBRXpDLE1BQU1XLFVBQVUsR0FBRyxJQUFJQyxnQkFBTSxDQUFDO0VBQzVCQyxHQUFHLEVBQUU7SUFBQ0MsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFNBQVMsRUFBQyxFQUFFO0lBQUUxQixPQUFPLEVBQUM7RUFBSSxDQUFDO0VBQy9DMkIsSUFBSSxFQUFFO0lBQUNILElBQUksRUFBRUMsTUFBTTtJQUFFQyxTQUFTLEVBQUMsR0FBRztJQUFFMUIsT0FBTyxFQUFDO0VBQUksQ0FBQztFQUNqRDRCLE9BQU8sRUFBRTtJQUFDSixJQUFJLEVBQUVDLE1BQU07SUFBRUMsU0FBUyxFQUFDLEdBQUc7SUFBRTFCLE9BQU8sRUFBQztFQUFLLENBQUM7RUFDckQ2QixLQUFLLEVBQUU7SUFBQ0wsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFNBQVMsRUFBQyxHQUFHO0lBQUUxQixPQUFPLEVBQUMsSUFBSTtJQUFFOEIsTUFBTSxFQUFDO0VBQUksQ0FBQztFQUMvREMsUUFBUSxFQUFFO0lBQUNQLElBQUksRUFBRUMsTUFBTTtJQUFFQyxTQUFTLEVBQUMsR0FBRztJQUFFMUIsT0FBTyxFQUFDO0VBQUksQ0FBQztFQUNyRGdDLE1BQU0sRUFBRTtJQUFDUixJQUFJLEVBQUVDLE1BQU07SUFBRUMsU0FBUyxFQUFDLEdBQUc7SUFBRTFCLE9BQU8sRUFBQztFQUFLLENBQUM7RUFDcERpQyxLQUFLLEVBQUU7SUFBQ1QsSUFBSSxFQUFFVSxNQUFNO0lBQUUzQixPQUFPLEVBQUM7RUFBQyxDQUFDO0VBQUM7RUFDakM0QixLQUFLLEVBQUU7SUFBQ1gsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFNBQVMsRUFBQyxFQUFFO0lBQUUxQixPQUFPLEVBQUM7RUFBSyxDQUFDO0VBQ2xEb0MsUUFBUSxFQUFFO0lBQUNaLElBQUksRUFBRUMsTUFBTTtJQUFFQyxTQUFTLEVBQUMsR0FBRztJQUFFMUIsT0FBTyxFQUFDO0VBQUk7QUFDdEQsQ0FBQyxFQUFDO0VBQ0FxQyxVQUFVLEVBQUM7QUFDYixDQUFDLENBQUM7QUFFRixNQUFNQyxJQUFJLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxNQUFNLEVBQUNuQixVQUFVLENBQUM7QUFBQyxJQUFBb0IsUUFBQSxHQUFBQyxPQUFBLENBQUFuQyxPQUFBLEdBQ2hDK0IsSUFBSSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","UserSchema","Schema","rol","type","String","maxlength","name","surname","email","unique","password","avatar","state","Number","phone","birthday","timestamps","User","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/","sources":["User.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst UserSchema = new Schema({\n  rol: {type: String, maxlength:30, require:true},\n  name: {type: String, maxlength:250, require:true},\n  surname: {type: String, maxlength:250, require:false},\n  email: {type: String, maxlength:250, require:true, unique:true},\n  password: {type: String, maxlength:250, require:true},\n  avatar: {type: String, maxlength:250, require:false},\n  state: {type: Number, default:1},// 1 es activo y 2 es desactivo\n  phone: {type: String, maxlength:20, require:false},\n  birthday: {type: String, maxlength:250, require:true},\n},{\n  timestamps:true\n});\n\nconst User = mongoose.model(\"user\",UserSchema);\nexport default User"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,GAAG,EAAE;IAACC,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAE1B,OAAO,EAAC;EAAI,CAAC;EAC/C2B,IAAI,EAAE;IAACH,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAI,CAAC;EACjD4B,OAAO,EAAE;IAACJ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAK,CAAC;EACrD6B,KAAK,EAAE;IAACL,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC,IAAI;IAAE8B,MAAM,EAAC;EAAI,CAAC;EAC/DC,QAAQ,EAAE;IAACP,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAI,CAAC;EACrDgC,MAAM,EAAE;IAACR,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAK,CAAC;EACpDiC,KAAK,EAAE;IAACT,IAAI,EAAEU,MAAM;IAAE3B,OAAO,EAAC;EAAC,CAAC;EAAC;EACjC4B,KAAK,EAAE;IAACX,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAE1B,OAAO,EAAC;EAAK,CAAC;EAClDoC,QAAQ,EAAE;IAACZ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAI;AACtD,CAAC,EAAC;EACAqC,UAAU,EAAC;AACb,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAACnB,UAAU,CAAC;AAAC,IAAAoB,QAAA,GAAAC,OAAA,CAAAnC,OAAA,GAChC+B,IAAI","ignoreList":[]}},"mtime":1736621895356},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/services/token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  encode: async (_id, rol, email) => {\n    const token = _jsonwebtoken.default.sign({\n      _id: _id,\n      rol: rol,\n      email: email\n    }, 'adcee', {\n      expiresIn: '1d'\n    });\n    return token;\n  },\n  decode: async token => {\n    try {\n      const {\n        _id\n      } = await _jsonwebtoken.default.verify(token, 'adcee');\n      const user = _models.default.User.findOne({\n        _id: _id,\n        state: 1\n      });\n      if (user) {\n        return user;\n      }\n      return false;\n    } catch (error) {\n      console.log(error);\n      return false;\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfbW9kZWxzIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiZW5jb2RlIiwiX2lkIiwicm9sIiwiZW1haWwiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJleHBpcmVzSW4iLCJkZWNvZGUiLCJ2ZXJpZnkiLCJ1c2VyIiwibW9kZWxzIiwiVXNlciIsImZpbmRPbmUiLCJzdGF0ZSIsImVycm9yIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudG9zL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2Uvc2VydmljZXMvIiwic291cmNlcyI6WyJ0b2tlbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIlxuaW1wb3J0IG1vZGVscyAgZnJvbSBcIi4uL21vZGVsc1wiO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZW5jb2RlOiBhc3luYyhfaWQscm9sLGVtYWlsKSA9PntcbiAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHtfaWQ6X2lkLHJvbDogcm9sLGVtYWlsOiBlbWFpbH0sICdhZGNlZScsIHtleHBpcmVzSW46ICcxZCd9KTtcbiAgICByZXR1cm4gdG9rZW47XG4gIH0sXG4gIGRlY29kZTogYXN5bmModG9rZW4pID0+e1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7X2lkfT0gYXdhaXQgand0LnZlcmlmeSh0b2tlbiwgJ2FkY2VlJyk7XG4gICAgICBjb25zdCB1c2VyID0gbW9kZWxzLlVzZXIuZmluZE9uZSh7X2lkOiBfaWQsc3RhdGU6IDF9KTtcbiAgICAgIGlmKHVzZXIpe1xuICAgICAgICByZXR1cm4gdXNlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLGFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUFnQyxTQUFBRCx1QkFBQUcsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBR2pCO0VBQ2JHLE1BQU0sRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsRUFBQ0MsS0FBSyxLQUFJO0lBQzdCLE1BQU1DLEtBQUssR0FBR0MscUJBQUcsQ0FBQ0MsSUFBSSxDQUFDO01BQUNMLEdBQUcsRUFBQ0EsR0FBRztNQUFDQyxHQUFHLEVBQUVBLEdBQUc7TUFBQ0MsS0FBSyxFQUFFQTtJQUFLLENBQUMsRUFBRSxPQUFPLEVBQUU7TUFBQ0ksU0FBUyxFQUFFO0lBQUksQ0FBQyxDQUFDO0lBQ25GLE9BQU9ILEtBQUs7RUFDZCxDQUFDO0VBQ0RJLE1BQU0sRUFBRSxNQUFNSixLQUFLLElBQUk7SUFDckIsSUFBSTtNQUNGLE1BQU07UUFBQ0g7TUFBRyxDQUFDLEdBQUUsTUFBTUkscUJBQUcsQ0FBQ0ksTUFBTSxDQUFDTCxLQUFLLEVBQUUsT0FBTyxDQUFDO01BQzdDLE1BQU1NLElBQUksR0FBR0MsZUFBTSxDQUFDQyxJQUFJLENBQUNDLE9BQU8sQ0FBQztRQUFDWixHQUFHLEVBQUVBLEdBQUc7UUFBQ2EsS0FBSyxFQUFFO01BQUMsQ0FBQyxDQUFDO01BQ3JELElBQUdKLElBQUksRUFBQztRQUNOLE9BQU9BLElBQUk7TUFDYjtNQUNBLE9BQU8sS0FBSztJQUNkLENBQUMsQ0FBQyxPQUFPSyxLQUFLLEVBQUU7TUFDWkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEtBQUssQ0FBQztNQUNsQixPQUFPLEtBQUs7SUFDaEI7RUFDRjtBQUNGLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_models","e","__esModule","default","_default","exports","encode","_id","rol","email","token","jwt","sign","expiresIn","decode","verify","user","models","User","findOne","state","error","console","log"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/services/","sources":["token.js"],"sourcesContent":["import jwt from \"jsonwebtoken\"\nimport models  from \"../models\";\n\n\nexport default {\n  encode: async(_id,rol,email) =>{\n    const token = jwt.sign({_id:_id,rol: rol,email: email}, 'adcee', {expiresIn: '1d'});\n    return token;\n  },\n  decode: async(token) =>{\n    try {\n      const {_id}= await jwt.verify(token, 'adcee');\n      const user = models.User.findOne({_id: _id,state: 1});\n      if(user){\n        return user;\n      }\n      return false;\n    } catch (error) {\n        console.log(error);\n        return false;\n    }\n  }\n}"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAGjB;EACbG,MAAM,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,EAACC,KAAK,KAAI;IAC7B,MAAMC,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAAC;MAACL,GAAG,EAACA,GAAG;MAACC,GAAG,EAAEA,GAAG;MAACC,KAAK,EAAEA;IAAK,CAAC,EAAE,OAAO,EAAE;MAACI,SAAS,EAAE;IAAI,CAAC,CAAC;IACnF,OAAOH,KAAK;EACd,CAAC;EACDI,MAAM,EAAE,MAAMJ,KAAK,IAAI;IACrB,IAAI;MACF,MAAM;QAACH;MAAG,CAAC,GAAE,MAAMI,qBAAG,CAACI,MAAM,CAACL,KAAK,EAAE,OAAO,CAAC;MAC7C,MAAMM,IAAI,GAAGC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACZ,GAAG,EAAEA,GAAG;QAACa,KAAK,EAAE;MAAC,CAAC,CAAC;MACrD,IAAGJ,IAAI,EAAC;QACN,OAAOA,IAAI;MACb;MACA,OAAO,KAAK;IACd,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClB,OAAO,KAAK;IAChB;EACF;AACF,CAAC","ignoreList":[]}},"mtime":1736654558327},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/middlewares/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/middlewares/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"cliente\" || response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  },\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInZlcmlmeUVjb21tZXJjZSIsInJlcSIsInJlcyIsIm5leHQiLCJoZWFkZXJzIiwidG9rZW4iLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsInJlc3BvbnNlIiwiZGVjb2RlIiwicm9sIiwidmVyaWZ5QWRtaW4iXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRvcy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21pZGRsZXdhcmVzLyIsInNvdXJjZXMiOlsiYXV0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdG9rZW4gZnJvbSBcIi4uL3NlcnZpY2VzL3Rva2VuXCJcblxuZXhwb3J0IGRlZmF1bHQge1xuICB2ZXJpZnlFY29tbWVyY2U6IGFzeW5jKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgaWYoIXJlcS5oZWFkZXJzLnRva2VuKXtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJOTyBTRSBFTlZJw5MgRUwgVE9LRU5cIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdG9rZW4uZGVjb2RlKHJlcS5oZWFkZXJzLnRva2VuKTtcbiAgICBpZihyZXNwb25zZSl7XG4gICAgICBpZihyZXNwb25zZS5yb2wgPT0gXCJjbGllbnRlXCIgfHwgcmVzcG9uc2Uucm9sID09IFwiYWRtaW5cIil7XG4gICAgICAgIG5leHQoKTtcbiAgICAgIH1cbiAgICAgIGVsc2V7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIk5PIEVTVEEgUEVSTUlUSURPIFZJU0lUQVIgRVNUQSBSVVRBXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfWVsc2V7XG4gICAgICByZXMuc3RhdHVzKDQwMykuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiRUwgVE9LRU4gTk8gRVMgVkFMSURPXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgdmVyaWZ5QWRtaW46IGFzeW5jKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgaWYoIXJlcS5oZWFkZXJzLnRva2VuKXtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJOTyBTRSBFTlZJw5MgRUwgVE9LRU5cIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdG9rZW4uZGVjb2RlKHJlcS5oZWFkZXJzLnRva2VuKTtcbiAgICBpZihyZXNwb25zZSl7XG4gICAgICBpZihyZXNwb25zZS5yb2wgPT0gXCJhZG1pblwiKXtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfVxuICAgICAgZWxzZXtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiTk8gRVNUQSBQRVJNSVRJRE8gVklTSVRBUiBFU1RBIFJVVEFcIlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9ZWxzZXtcbiAgICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJFTCBUT0tFTiBOTyBFUyBWQUxJRE9cIlxuICAgICAgfSk7XG4gICAgfVxuICB9LFxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQXFDLFNBQUFELHVCQUFBRSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFdEI7RUFDYkcsZUFBZSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7SUFDeEMsSUFBRyxDQUFDRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxFQUFDO01BQ3BCSCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ25CQyxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7SUFDSjtJQUNBLE1BQU1DLFFBQVEsR0FBRyxNQUFNSixjQUFLLENBQUNLLE1BQU0sQ0FBQ1QsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssQ0FBQztJQUN0RCxJQUFHSSxRQUFRLEVBQUM7TUFDVixJQUFHQSxRQUFRLENBQUNFLEdBQUcsSUFBSSxTQUFTLElBQUlGLFFBQVEsQ0FBQ0UsR0FBRyxJQUFJLE9BQU8sRUFBQztRQUN0RFIsSUFBSSxDQUFDLENBQUM7TUFDUixDQUFDLE1BQ0c7UUFDRkQsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUNuQkMsT0FBTyxFQUFFO1FBQ1gsQ0FBQyxDQUFDO01BQ0o7SUFDRixDQUFDLE1BQUk7TUFDSE4sR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNuQkMsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ0o7RUFDRixDQUFDO0VBQ0RJLFdBQVcsRUFBRSxNQUFBQSxDQUFNWCxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0lBQ3BDLElBQUcsQ0FBQ0YsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssRUFBQztNQUNwQkgsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNuQkMsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ0o7SUFDQSxNQUFNQyxRQUFRLEdBQUcsTUFBTUosY0FBSyxDQUFDSyxNQUFNLENBQUNULEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLENBQUM7SUFDdEQsSUFBR0ksUUFBUSxFQUFDO01BQ1YsSUFBR0EsUUFBUSxDQUFDRSxHQUFHLElBQUksT0FBTyxFQUFDO1FBQ3pCUixJQUFJLENBQUMsQ0FBQztNQUNSLENBQUMsTUFDRztRQUNGRCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQ25CQyxPQUFPLEVBQUU7UUFDWCxDQUFDLENBQUM7TUFDSjtJQUNGLENBQUMsTUFBSTtNQUNITixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ25CQyxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7SUFDSjtFQUNGO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_token","_interopRequireDefault","require","e","__esModule","default","_default","exports","verifyEcommerce","req","res","next","headers","token","status","send","message","response","decode","rol","verifyAdmin"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/middlewares/","sources":["auth.js"],"sourcesContent":["import token from \"../services/token\"\n\nexport default {\n  verifyEcommerce: async(req, res, next) => {\n    if(!req.headers.token){\n      res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await token.decode(req.headers.token);\n    if(response){\n      if(response.rol == \"cliente\" || response.rol == \"admin\"){\n        next();\n      }\n      else{\n        res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    }else{\n      res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  },\n  verifyAdmin: async(req, res, next) => {\n    if(!req.headers.token){\n      res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await token.decode(req.headers.token);\n    if(response){\n      if(response.rol == \"admin\"){\n        next();\n      }\n      else{\n        res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    }else{\n      res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  },\n}"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAqC,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEtB;EACbG,eAAe,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IACxC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MACpBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACV,IAAGA,QAAQ,CAACE,GAAG,IAAI,SAAS,IAAIF,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACtDR,IAAI,CAAC,CAAC;MACR,CAAC,MACG;QACFD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACnBC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;IACF,CAAC,MAAI;MACHN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF,CAAC;EACDI,WAAW,EAAE,MAAAA,CAAMX,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IACpC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MACpBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACV,IAAGA,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACzBR,IAAI,CAAC,CAAC;MACR,CAAC,MACG;QACFD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACnBC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;IACF,CAAC,MAAI;MACHN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF;AACF,CAAC","ignoreList":[]}},"mtime":1736639450868},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst mainrouter = (0, _expressPromiseRouter.default)();\n_User.default.use('/users', _User.default);\nvar _default = exports.default = _User.default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibWFpbnJvdXRlciIsInJvdXRlcngiLCJyb3V0ZXIiLCJ1c2UiLCJVc2VyIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiXG5pbXBvcnQgVXNlciBmcm9tIFwiLi9Vc2VyXCJcbmltcG9ydCByb3V0ZXIgZnJvbSBcIi4vVXNlclwiO1xuXG5jb25zdCBtYWlucm91dGVyID0gcm91dGVyeCgpO1xucm91dGVyLnVzZSgnL3VzZXJzJywgVXNlcik7XG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUF5QixTQUFBRCx1QkFBQUcsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUd6QixNQUFNRyxVQUFVLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBQzVCQyxhQUFNLENBQUNDLEdBQUcsQ0FBQyxRQUFRLEVBQUVDLGFBQUksQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBUCxPQUFBLEdBR1pHLGFBQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_User","e","__esModule","default","mainrouter","routerx","router","use","User","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/","sources":["index.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport User from \"./User\"\nimport router from \"./User\";\n\nconst mainrouter = routerx();\nrouter.use('/users', User);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAyB,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAGzB,MAAMG,UAAU,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAC5BC,aAAM,CAACC,GAAG,CAAC,QAAQ,EAAEC,aAAI,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAP,OAAA,GAGZG,aAAM","ignoreList":[]}},"mtime":1736649244999},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\n\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", _UserController.default.register);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post(\"/login\", _UserController.default.login);\nrouter.post(\"/login_admin\", _UserController.default.login_admin);\nrouter.delete(\"/delete\", _UserController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyQ29udHJvbGxlciIsIl9hdXRoIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJVc2VyQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwibGlzdCIsImxvZ2luIiwibG9naW5fYWRtaW4iLCJkZWxldGUiLCJyZW1vdmUiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRvcy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSBcImV4cHJlc3MtcHJvbWlzZS1yb3V0ZXJcIlxuaW1wb3J0IFVzZXJDb250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9Vc2VyQ29udHJvbGxlclwiXG5pbXBvcnQgYXV0aCBmcm9tIFwiLi4vbWlkZGxld2FyZXMvYXV0aFwiXG5cblxuXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5cbi8vIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvcmVnaXN0ZXJcblxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgVXNlckNvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnB1dChcIi91cGRhdGVcIiwgVXNlckNvbnRyb2xsZXIudXBkYXRlKTtcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sIFVzZXJDb250cm9sbGVyLmxpc3QpO1xucm91dGVyLnBvc3QoXCIvbG9naW5cIiwgVXNlckNvbnRyb2xsZXIubG9naW4pO1xucm91dGVyLnBvc3QoXCIvbG9naW5fYWRtaW5cIiwgVXNlckNvbnRyb2xsZXIubG9naW5fYWRtaW4pO1xucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIiwgVXNlckNvbnRyb2xsZXIucmVtb3ZlKTtcblxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsZUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBSXRDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7O0FBRXhCOztBQUVBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUVDLHVCQUFjLENBQUNDLFFBQVEsQ0FBQztBQUNqREosTUFBTSxDQUFDSyxHQUFHLENBQUMsU0FBUyxFQUFFRix1QkFBYyxDQUFDRyxNQUFNLENBQUM7QUFDNUNOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLE9BQU8sRUFBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUVOLHVCQUFjLENBQUNPLElBQUksQ0FBQztBQUN6RFYsTUFBTSxDQUFDRSxJQUFJLENBQUMsUUFBUSxFQUFFQyx1QkFBYyxDQUFDUSxLQUFLLENBQUM7QUFDM0NYLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLGNBQWMsRUFBRUMsdUJBQWMsQ0FBQ1MsV0FBVyxDQUFDO0FBQ3ZEWixNQUFNLENBQUNhLE1BQU0sQ0FBQyxTQUFTLEVBQUVWLHVCQUFjLENBQUNXLE1BQU0sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBakIsT0FBQSxHQUdqQ0MsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_UserController","_auth","e","__esModule","default","router","routerx","post","UserController","register","put","update","get","auth","verifyAdmin","list","login","login_admin","delete","remove","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/","sources":["User.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport UserController from \"../controllers/UserController\"\nimport auth from \"../middlewares/auth\"\n\n\n\nconst router = routerx();\n\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", UserController.register);\nrouter.put(\"/update\", UserController.update);\nrouter.get(\"/list\",auth.verifyAdmin, UserController.list);\nrouter.post(\"/login\", UserController.login);\nrouter.post(\"/login_admin\", UserController.login_admin);\nrouter.delete(\"/delete\", UserController.remove);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAItC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEC,uBAAc,CAACC,QAAQ,CAAC;AACjDJ,MAAM,CAACK,GAAG,CAAC,SAAS,EAAEF,uBAAc,CAACG,MAAM,CAAC;AAC5CN,MAAM,CAACO,GAAG,CAAC,OAAO,EAACC,aAAI,CAACC,WAAW,EAAEN,uBAAc,CAACO,IAAI,CAAC;AACzDV,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAEC,uBAAc,CAACQ,KAAK,CAAC;AAC3CX,MAAM,CAACE,IAAI,CAAC,cAAc,EAAEC,uBAAc,CAACS,WAAW,CAAC;AACvDZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAAEV,uBAAc,CAACW,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAjB,OAAA,GAGjCC,MAAM","ignoreList":[]}},"mtime":1736809343127},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        //SI ESTA REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: \"admin\"\n      });\n      if (user) {\n        //SI ESTA REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      const UsersT = await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: UsersT\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.body.search;\n      const Users = await _models.default.User.find({\n        $or: [{\n          \"name\": new RegExp(search, \"i\")\n        }, {\n          \"surname\": new RegExp(search, \"i\")\n        }, {\n          \"email\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createAt': -1\n      });\n      res.status(200).json({\n        users: Users\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await _models.default.User.findByIdAndDelete({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmNyeXB0anMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9tb2RlbHMiLCJfdG9rZW4iLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImJvZHkiLCJwYXNzd29yZCIsImJjcnlwdCIsImhhc2giLCJ1c2VyIiwibW9kZWxzIiwiVXNlciIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsImxvZ2luIiwiZmluZE9uZSIsImVtYWlsIiwic3RhdGUiLCJjb21wYXJlIiwidG9rZW5UIiwidG9rZW4iLCJlbmNvZGUiLCJfaWQiLCJyb2wiLCJVU0VSX0ZST05URUQiLCJuYW1lIiwic3VybmFtZSIsImF2YXRhciIsImxvZ2luX2FkbWluIiwidXBkYXRlIiwiZmlsZXMiLCJpbWdfcGF0aCIsInBhdGgiLCJzcGxpdCIsImF2YXRhcl9uYW1lIiwiVXNlcnNUIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJsaXN0Iiwic2VhcmNoIiwiVXNlcnMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsInVzZXJzIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRvcy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiVXNlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0anNcIlxuaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5pbXBvcnQgdG9rZW4gZnJvbSBcIi4uL3NlcnZpY2VzL3Rva2VuXCI7XG5cblxuZXhwb3J0IGRlZmF1bHR7XG4gIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHJlcS5ib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsMTApO1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih1c2VyKTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG4gIH0sXG5cbiAgbG9naW46IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsLHN0YXRlOjF9KTtcbiAgICAgICAgaWYodXNlcil7XG4gICAgICAgICAgICAvL1NJIEVTVEEgUkVHSVNUUkFETyBFTiBFTCBTSVNURU1BXG4gICAgICAgICAgICBsZXQgY29tcGFyZSA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHJlcS5ib2R5LnBhc3N3b3JkLHVzZXIucGFzc3dvcmQpO1xuICAgICAgICAgICAgaWYoY29tcGFyZSl7XG4gICAgICAgICAgICAgICAgbGV0IHRva2VuVCA9IGF3YWl0IHRva2VuLmVuY29kZSh1c2VyLl9pZCx1c2VyLnJvbCx1c2VyLmVtYWlsKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IFVTRVJfRlJPTlRFRCA9IHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW46dG9rZW5ULFxuICAgICAgICAgICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1cm5hbWU6IHVzZXIuc3VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2YXRhcjogdXNlci5hdmF0YXIsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgICAgICBVU0VSX0ZST05URUQ6VVNFUl9GUk9OVEVELFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBOTyBFWElTVEVcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG59LFxubG9naW5fYWRtaW46IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtlbWFpbDogcmVxLmJvZHkuZW1haWwsc3RhdGU6MSxyb2w6XCJhZG1pblwifSk7XG4gICAgICBpZih1c2VyKXtcbiAgICAgICAgICAvL1NJIEVTVEEgUkVHSVNUUkFETyBFTiBFTCBTSVNURU1BXG4gICAgICAgICAgbGV0IGNvbXBhcmUgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShyZXEuYm9keS5wYXNzd29yZCx1c2VyLnBhc3N3b3JkKTtcbiAgICAgICAgICBpZihjb21wYXJlKXtcbiAgICAgICAgICAgICAgbGV0IHRva2VuVCA9IGF3YWl0IHRva2VuLmVuY29kZSh1c2VyLl9pZCx1c2VyLnJvbCx1c2VyLmVtYWlsKTtcblxuICAgICAgICAgICAgICBjb25zdCBVU0VSX0ZST05URUQgPSB7XG4gICAgICAgICAgICAgICAgICB0b2tlbjp0b2tlblQsXG4gICAgICAgICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgIHN1cm5hbWU6IHVzZXIuc3VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICBhdmF0YXI6IHVzZXIuYXZhdGFyLFxuICAgICAgICAgICAgICAgICAgICAgIHJvbDogdXNlci5yb2xcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgICBVU0VSX0ZST05URUQ6VVNFUl9GUk9OVEVELFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgfWVsc2V7XG4gICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gIH1cbn0sXG5cbiAgdXBkYXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmKHJlcS5maWxlcyl7XG4gICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5hdmF0YXIucGF0aDtcbiAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnXFxcXCcpO1xuICAgICAgICB2YXIgYXZhdGFyX25hbWUgPSBuYW1lWzJdO1xuICAgICAgICBjb25zb2xlLmxvZyhhdmF0YXJfbmFtZSlcbiAgICAgIH1cbiAgICAgIGlmKHJlcS5ib2R5LnBhc3N3b3JkKXtcbiAgICAgICAgcmVxLmJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChyZXEuYm9keS5wYXNzd29yZCwxMCk7XG4gICAgICB9XG4gICAgICBjb25zdCBVc2Vyc1QgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiByZXEuYm9keS5faWR9LHJlcS5ib2R5KTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIFNFIEhBIE1PRElGSUNBRE8gQ09SUkVDVEFNRU5URVwiLFxuICAgICAgICB1c2VyOiBVc2Vyc1RcbiAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG5cbiAgfSxcbiAgbGlzdDogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICB2YXIgc2VhcmNoID0gcmVxLmJvZHkuc2VhcmNoO1xuICAgICAgY29uc3QgVXNlcnMgID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZCh7XG4gICAgICAgICRvcjpbXG4gICAgICAgICAge1wibmFtZVwiOiBuZXcgUmVnRXhwKHNlYXJjaCwgXCJpXCIpfSxcbiAgICAgICAgICB7XCJzdXJuYW1lXCI6IG5ldyBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxuICAgICAgICAgIHtcImVtYWlsXCI6IG5ldyBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxuICAgICAgICBdXG4gICAgfSkuc29ydCh7J2NyZWF0ZUF0JzotMX0pO1xuXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgdXNlcnM6IFVzZXJzXG4gICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIFxuICAgIH1cbiAgfSxcbiAgcmVtb3ZlOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBVc2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZEJ5SWRBbmREZWxldGUoe19pZDogcmVxLmJvZHkuX2lkfSk7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBTRSBFTElNSU5PIENPUlJFQ1RBTUVOVEVcIixcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuICB9LFxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyxzQkFBQSxD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","map":{"version":3,"names":["_bcryptjs","_interopRequireDefault","require","_models","_token","e","__esModule","default","_default","exports","register","req","res","body","password","bcrypt","hash","user","models","User","create","status","json","error","send","message","console","log","login","findOne","email","state","compare","tokenT","token","encode","_id","rol","USER_FRONTED","name","surname","avatar","login_admin","update","files","img_path","path","split","avatar_name","UsersT","findByIdAndUpdate","list","search","Users","find","$or","RegExp","sort","users","remove","findByIdAndDelete"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["UserController.js"],"sourcesContent":["import bcrypt from \"bcryptjs\"\nimport models from \"../models\";\nimport token from \"../services/token\";\n\n\nexport default{\n  register: async(req,res) => {\n    try {\n      req.body.password = await bcrypt.hash(req.body.password,10);\n      const user = await models.User.create(req.body);\n      res.status(200).json(user);\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n\n  login: async(req,res) => {\n    try {\n        const user = await models.User.findOne({email: req.body.email,state:1});\n        if(user){\n            //SI ESTA REGISTRADO EN EL SISTEMA\n            let compare = await bcrypt.compare(req.body.password,user.password);\n            if(compare){\n                let tokenT = await token.encode(user._id,user.rol,user.email);\n\n                const USER_FRONTED = {\n                    token:tokenT,\n                    user: {\n                        name: user.name,\n                        email: user.email,\n                        surname: user.surname,\n                        avatar: user.avatar,\n                    },\n                }\n\n                res.status(200).json({\n                    USER_FRONTED:USER_FRONTED,\n                })\n            }else{\n                res.status(500).send({\n                    message: \"EL USUARIO NO EXISTE\"\n                });\n            }\n        }else{\n            res.status(500).send({\n                message: \"EL USUARIO NO EXISTE\"\n            });\n        }\n    } catch (error) {\n        res.status(500).send({\n            message: \"OCURRIO UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n},\nlogin_admin: async(req,res) => {\n  try {\n      const user = await models.User.findOne({email: req.body.email,state:1,rol:\"admin\"});\n      if(user){\n          //SI ESTA REGISTRADO EN EL SISTEMA\n          let compare = await bcrypt.compare(req.body.password,user.password);\n          if(compare){\n              let tokenT = await token.encode(user._id,user.rol,user.email);\n\n              const USER_FRONTED = {\n                  token:tokenT,\n                  user: {\n                      name: user.name,\n                      email: user.email,\n                      surname: user.surname,\n                      avatar: user.avatar,\n                      rol: user.rol\n                  },\n              }\n\n              res.status(200).json({\n                  USER_FRONTED:USER_FRONTED,\n              })\n          }else{\n              res.status(500).send({\n                  message: \"EL USUARIO NO EXISTE\"\n              });\n          }\n      }else{\n          res.status(500).send({\n              message: \"EL USUARIO NO EXISTE\"\n          });\n      }\n  } catch (error) {\n      res.status(500).send({\n          message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n  }\n},\n\n  update: async(req,res) => {\n    try {\n      if(req.files){\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name)\n      }\n      if(req.body.password){\n        req.body.password = await bcrypt.hash(req.body.password,10);\n      }\n      const UsersT = await models.User.findByIdAndUpdate({_id: req.body._id},req.body);\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: UsersT\n      })\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n\n  },\n  list: async(req,res) => {\n    try {\n      var search = req.body.search;\n      const Users  = await models.User.find({\n        $or:[\n          {\"name\": new RegExp(search, \"i\")},\n          {\"surname\": new RegExp(search, \"i\")},\n          {\"email\": new RegExp(search, \"i\")},\n        ]\n    }).sort({'createAt':-1});\n\n    res.status(200).json({\n      users: Users\n    });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n      \n    }\n  },\n  remove: async(req, res) => {\n    try {\n      const User = await models.User.findByIdAndDelete({_id: req.body._id});\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\",\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n}"],"mappings":"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","ignoreList":[]}},"mtime":1736812883248},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/services/token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  encode: async (_id, rol, email) => {\n    const token = _jsonwebtoken.default.sign({\n      _id: _id,\n      rol: rol,\n      email: email\n    }, 'adcee', {\n      expiresIn: '1d'\n    });\n    return token;\n  },\n  decode: async token => {\n    try {\n      const {\n        _id\n      } = await _jsonwebtoken.default.verify(token, 'adcee');\n      const user = _models.default.User.findOne({\n        _id: _id,\n        state: 1\n      });\n      if (user) {\n        return user;\n      }\n      return false;\n    } catch (error) {\n      console.log(error);\n      return false;\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfbW9kZWxzIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiZW5jb2RlIiwiX2lkIiwicm9sIiwiZW1haWwiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJleHBpcmVzSW4iLCJkZWNvZGUiLCJ2ZXJpZnkiLCJ1c2VyIiwibW9kZWxzIiwiVXNlciIsImZpbmRPbmUiLCJzdGF0ZSIsImVycm9yIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudG9zL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2Uvc2VydmljZXMvIiwic291cmNlcyI6WyJ0b2tlbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIlxuaW1wb3J0IG1vZGVscyAgZnJvbSBcIi4uL21vZGVsc1wiO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZW5jb2RlOiBhc3luYyhfaWQscm9sLGVtYWlsKSA9PntcbiAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHtfaWQ6X2lkLHJvbDogcm9sLGVtYWlsOiBlbWFpbH0sICdhZGNlZScsIHtleHBpcmVzSW46ICcxZCd9KTtcbiAgICByZXR1cm4gdG9rZW47XG4gIH0sXG4gIGRlY29kZTogYXN5bmModG9rZW4pID0+e1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7X2lkfT0gYXdhaXQgand0LnZlcmlmeSh0b2tlbiwgJ2FkY2VlJyk7XG4gICAgICBjb25zdCB1c2VyID0gbW9kZWxzLlVzZXIuZmluZE9uZSh7X2lkOiBfaWQsc3RhdGU6IDF9KTtcbiAgICAgIGlmKHVzZXIpe1xuICAgICAgICByZXR1cm4gdXNlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLGFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUFnQyxTQUFBRCx1QkFBQUcsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBR2pCO0VBQ2JHLE1BQU0sRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsRUFBQ0MsS0FBSyxLQUFJO0lBQzdCLE1BQU1DLEtBQUssR0FBR0MscUJBQUcsQ0FBQ0MsSUFBSSxDQUFDO01BQUNMLEdBQUcsRUFBQ0EsR0FBRztNQUFDQyxHQUFHLEVBQUVBLEdBQUc7TUFBQ0MsS0FBSyxFQUFFQTtJQUFLLENBQUMsRUFBRSxPQUFPLEVBQUU7TUFBQ0ksU0FBUyxFQUFFO0lBQUksQ0FBQyxDQUFDO0lBQ25GLE9BQU9ILEtBQUs7RUFDZCxDQUFDO0VBQ0RJLE1BQU0sRUFBRSxNQUFNSixLQUFLLElBQUk7SUFDckIsSUFBSTtNQUNGLE1BQU07UUFBQ0g7TUFBRyxDQUFDLEdBQUUsTUFBTUkscUJBQUcsQ0FBQ0ksTUFBTSxDQUFDTCxLQUFLLEVBQUUsT0FBTyxDQUFDO01BQzdDLE1BQU1NLElBQUksR0FBR0MsZUFBTSxDQUFDQyxJQUFJLENBQUNDLE9BQU8sQ0FBQztRQUFDWixHQUFHLEVBQUVBLEdBQUc7UUFBQ2EsS0FBSyxFQUFFO01BQUMsQ0FBQyxDQUFDO01BQ3JELElBQUdKLElBQUksRUFBQztRQUNOLE9BQU9BLElBQUk7TUFDYjtNQUNBLE9BQU8sS0FBSztJQUNkLENBQUMsQ0FBQyxPQUFPSyxLQUFLLEVBQUU7TUFDWkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEtBQUssQ0FBQztNQUNsQixPQUFPLEtBQUs7SUFDaEI7RUFDRjtBQUNGLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_models","e","__esModule","default","_default","exports","encode","_id","rol","email","token","jwt","sign","expiresIn","decode","verify","user","models","User","findOne","state","error","console","log"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/services/","sources":["token.js"],"sourcesContent":["import jwt from \"jsonwebtoken\"\nimport models  from \"../models\";\n\n\nexport default {\n  encode: async(_id,rol,email) =>{\n    const token = jwt.sign({_id:_id,rol: rol,email: email}, 'adcee', {expiresIn: '1d'});\n    return token;\n  },\n  decode: async(token) =>{\n    try {\n      const {_id}= await jwt.verify(token, 'adcee');\n      const user = models.User.findOne({_id: _id,state: 1});\n      if(user){\n        return user;\n      }\n      return false;\n    } catch (error) {\n        console.log(error);\n        return false;\n    }\n  }\n}"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAGjB;EACbG,MAAM,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,EAACC,KAAK,KAAI;IAC7B,MAAMC,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAAC;MAACL,GAAG,EAACA,GAAG;MAACC,GAAG,EAAEA,GAAG;MAACC,KAAK,EAAEA;IAAK,CAAC,EAAE,OAAO,EAAE;MAACI,SAAS,EAAE;IAAI,CAAC,CAAC;IACnF,OAAOH,KAAK;EACd,CAAC;EACDI,MAAM,EAAE,MAAMJ,KAAK,IAAI;IACrB,IAAI;MACF,MAAM;QAACH;MAAG,CAAC,GAAE,MAAMI,qBAAG,CAACI,MAAM,CAACL,KAAK,EAAE,OAAO,CAAC;MAC7C,MAAMM,IAAI,GAAGC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACZ,GAAG,EAAEA,GAAG;QAACa,KAAK,EAAE;MAAC,CAAC,CAAC;MACrD,IAAGJ,IAAI,EAAC;QACN,OAAOA,IAAI;MACb;MACA,OAAO,KAAK;IACd,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClB,OAAO,KAAK;IAChB;EACF;AACF,CAAC","ignoreList":[]}},"mtime":1736654558327},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/middlewares/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/middlewares/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"cliente\" || response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  },\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInZlcmlmeUVjb21tZXJjZSIsInJlcSIsInJlcyIsIm5leHQiLCJoZWFkZXJzIiwidG9rZW4iLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsInJlc3BvbnNlIiwiZGVjb2RlIiwicm9sIiwidmVyaWZ5QWRtaW4iXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRvcy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21pZGRsZXdhcmVzLyIsInNvdXJjZXMiOlsiYXV0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdG9rZW4gZnJvbSBcIi4uL3NlcnZpY2VzL3Rva2VuXCJcblxuZXhwb3J0IGRlZmF1bHQge1xuICB2ZXJpZnlFY29tbWVyY2U6IGFzeW5jKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgaWYoIXJlcS5oZWFkZXJzLnRva2VuKXtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJOTyBTRSBFTlZJw5MgRUwgVE9LRU5cIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdG9rZW4uZGVjb2RlKHJlcS5oZWFkZXJzLnRva2VuKTtcbiAgICBpZihyZXNwb25zZSl7XG4gICAgICBpZihyZXNwb25zZS5yb2wgPT0gXCJjbGllbnRlXCIgfHwgcmVzcG9uc2Uucm9sID09IFwiYWRtaW5cIil7XG4gICAgICAgIG5leHQoKTtcbiAgICAgIH1cbiAgICAgIGVsc2V7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIk5PIEVTVEEgUEVSTUlUSURPIFZJU0lUQVIgRVNUQSBSVVRBXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfWVsc2V7XG4gICAgICByZXMuc3RhdHVzKDQwMykuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiRUwgVE9LRU4gTk8gRVMgVkFMSURPXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgdmVyaWZ5QWRtaW46IGFzeW5jKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgaWYoIXJlcS5oZWFkZXJzLnRva2VuKXtcbiAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJOTyBTRSBFTlZJw5MgRUwgVE9LRU5cIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdG9rZW4uZGVjb2RlKHJlcS5oZWFkZXJzLnRva2VuKTtcbiAgICBpZihyZXNwb25zZSl7XG4gICAgICBpZihyZXNwb25zZS5yb2wgPT0gXCJhZG1pblwiKXtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfVxuICAgICAgZWxzZXtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiTk8gRVNUQSBQRVJNSVRJRE8gVklTSVRBUiBFU1RBIFJVVEFcIlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9ZWxzZXtcbiAgICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJFTCBUT0tFTiBOTyBFUyBWQUxJRE9cIlxuICAgICAgfSk7XG4gICAgfVxuICB9LFxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQXFDLFNBQUFELHVCQUFBRSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFdEI7RUFDYkcsZUFBZSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7SUFDeEMsSUFBRyxDQUFDRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxFQUFDO01BQ3BCSCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ25CQyxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7SUFDSjtJQUNBLE1BQU1DLFFBQVEsR0FBRyxNQUFNSixjQUFLLENBQUNLLE1BQU0sQ0FBQ1QsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssQ0FBQztJQUN0RCxJQUFHSSxRQUFRLEVBQUM7TUFDVixJQUFHQSxRQUFRLENBQUNFLEdBQUcsSUFBSSxTQUFTLElBQUlGLFFBQVEsQ0FBQ0UsR0FBRyxJQUFJLE9BQU8sRUFBQztRQUN0RFIsSUFBSSxDQUFDLENBQUM7TUFDUixDQUFDLE1BQ0c7UUFDRkQsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUNuQkMsT0FBTyxFQUFFO1FBQ1gsQ0FBQyxDQUFDO01BQ0o7SUFDRixDQUFDLE1BQUk7TUFDSE4sR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNuQkMsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ0o7RUFDRixDQUFDO0VBQ0RJLFdBQVcsRUFBRSxNQUFBQSxDQUFNWCxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0lBQ3BDLElBQUcsQ0FBQ0YsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssRUFBQztNQUNwQkgsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNuQkMsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ0o7SUFDQSxNQUFNQyxRQUFRLEdBQUcsTUFBTUosY0FBSyxDQUFDSyxNQUFNLENBQUNULEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLENBQUM7SUFDdEQsSUFBR0ksUUFBUSxFQUFDO01BQ1YsSUFBR0EsUUFBUSxDQUFDRSxHQUFHLElBQUksT0FBTyxFQUFDO1FBQ3pCUixJQUFJLENBQUMsQ0FBQztNQUNSLENBQUMsTUFDRztRQUNGRCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQ25CQyxPQUFPLEVBQUU7UUFDWCxDQUFDLENBQUM7TUFDSjtJQUNGLENBQUMsTUFBSTtNQUNITixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ25CQyxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7SUFDSjtFQUNGO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_token","_interopRequireDefault","require","e","__esModule","default","_default","exports","verifyEcommerce","req","res","next","headers","token","status","send","message","response","decode","rol","verifyAdmin"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/middlewares/","sources":["auth.js"],"sourcesContent":["import token from \"../services/token\"\n\nexport default {\n  verifyEcommerce: async(req, res, next) => {\n    if(!req.headers.token){\n      res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await token.decode(req.headers.token);\n    if(response){\n      if(response.rol == \"cliente\" || response.rol == \"admin\"){\n        next();\n      }\n      else{\n        res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    }else{\n      res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  },\n  verifyAdmin: async(req, res, next) => {\n    if(!req.headers.token){\n      res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await token.decode(req.headers.token);\n    if(response){\n      if(response.rol == \"admin\"){\n        next();\n      }\n      else{\n        res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    }else{\n      res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  },\n}"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAqC,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEtB;EACbG,eAAe,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IACxC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MACpBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACV,IAAGA,QAAQ,CAACE,GAAG,IAAI,SAAS,IAAIF,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACtDR,IAAI,CAAC,CAAC;MACR,CAAC,MACG;QACFD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACnBC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;IACF,CAAC,MAAI;MACHN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF,CAAC;EACDI,WAAW,EAAE,MAAAA,CAAMX,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IACpC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MACpBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACV,IAAGA,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACzBR,IAAI,CAAC,CAAC;MACR,CAAC,MACG;QACFD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACnBC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;IACF,CAAC,MAAI;MACHN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF;AACF,CAAC","ignoreList":[]}},"mtime":1736639450868},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default,\n  Slider: _Slider.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQ2F0ZWdvcmllIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfVXNlciIsIl9Qcm9kdWN0IiwiX1NsaWRlciIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsIlVzZXIiLCJDYXRlZ29yaWUiLCJQcm9kdWN0IiwiU2xpZGVyIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yZXNvdXJzZXMvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2F0ZWdvcmllIGZyb20gJy4vQ2F0ZWdvcmllJ1xuaW1wb3J0IFVzZXIgZnJvbSAnLi9Vc2VyJ1xuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi9Qcm9kdWN0J1xuaW1wb3J0IFNsaWRlciBmcm9tICcuL1NsaWRlcidcblxuZXhwb3J0IGRlZmF1bHQge1xuICBVc2VyLFxuICBDYXRlZ29yaWUsXG4gIFByb2R1Y3QsXG4gIFNsaWRlcixcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFVBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFFBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLE9BQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUE2QixTQUFBRCx1QkFBQUssQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRWQ7RUFDYkcsSUFBSSxFQUFKQSxhQUFJO0VBQ0pDLFNBQVMsRUFBVEEsa0JBQVM7RUFDVEMsT0FBTyxFQUFQQSxnQkFBTztFQUNQQyxNQUFNLEVBQU5BO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_Categorie","_interopRequireDefault","require","_User","_Product","_Slider","e","__esModule","default","_default","exports","User","Categorie","Product","Slider"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["index.js"],"sourcesContent":["import Categorie from './Categorie'\nimport User from './User'\nimport Product from './Product'\nimport Slider from './Slider'\n\nexport default {\n  User,\n  Categorie,\n  Product,\n  Slider,\n}"],"mappings":";;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,OAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAK,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEd;EACbG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,MAAM,EAANA;AACF,CAAC","ignoreList":[]}},"mtime":1737839073721},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  user_list: user => {\n    return {\n      _id: user._id,\n      name: user.name,\n      surname: user.surname,\n      rol: user.rol,\n      email: user.email\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyX2xpc3QiLCJ1c2VyIiwiX2lkIiwibmFtZSIsInN1cm5hbWUiLCJyb2wiLCJlbWFpbCJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudG9zL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvcmVzb3Vyc2VzLyIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdHtcbiAgdXNlcl9saXN0OiAodXNlcikgPT4ge1xuICAgIHJldHVybntcbiAgICAgIF9pZDogdXNlci5faWQsXG4gICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXG4gICAgICByb2w6IHVzZXIucm9sLFxuICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgfVxuICB9XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7aUNBQWM7RUFDWkEsU0FBUyxFQUFHQyxJQUFJLElBQUs7SUFDbkIsT0FBTTtNQUNKQyxHQUFHLEVBQUVELElBQUksQ0FBQ0MsR0FBRztNQUNiQyxJQUFJLEVBQUVGLElBQUksQ0FBQ0UsSUFBSTtNQUNmQyxPQUFPLEVBQUVILElBQUksQ0FBQ0csT0FBTztNQUNyQkMsR0FBRyxFQUFFSixJQUFJLENBQUNJLEdBQUc7TUFDYkMsS0FBSyxFQUFFTCxJQUFJLENBQUNLO0lBQ2QsQ0FBQztFQUNIO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["user_list","user","_id","name","surname","rol","email"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["User.js"],"sourcesContent":["export default{\n  user_list: (user) => {\n    return{\n      _id: user._id,\n      name: user.name,\n      surname: user.surname,\n      rol: user.rol,\n      email: user.email,\n    }\n  }\n}"],"mappings":";;;;;;iCAAc;EACZA,SAAS,EAAGC,IAAI,IAAK;IACnB,OAAM;MACJC,GAAG,EAAED,IAAI,CAACC,GAAG;MACbC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAEH,IAAI,CAACG,OAAO;MACrBC,GAAG,EAAEJ,IAAI,CAACI,GAAG;MACbC,KAAK,EAAEL,IAAI,CAACK;IACd,CAAC;EACH;AACF,CAAC","ignoreList":[]}},"mtime":1736915212073},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default,\n  Slider: _Slider.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQ2F0ZWdvcmllIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfVXNlciIsIl9Qcm9kdWN0IiwiX1NsaWRlciIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsIlVzZXIiLCJDYXRlZ29yaWUiLCJQcm9kdWN0IiwiU2xpZGVyIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yZXNvdXJzZXMvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2F0ZWdvcmllIGZyb20gJy4vQ2F0ZWdvcmllJ1xuaW1wb3J0IFVzZXIgZnJvbSAnLi9Vc2VyJ1xuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi9Qcm9kdWN0J1xuaW1wb3J0IFNsaWRlciBmcm9tICcuL1NsaWRlcidcblxuZXhwb3J0IGRlZmF1bHQge1xuICBVc2VyLFxuICBDYXRlZ29yaWUsXG4gIFByb2R1Y3QsXG4gIFNsaWRlcixcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFVBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFFBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLE9BQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUE2QixTQUFBRCx1QkFBQUssQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRWQ7RUFDYkcsSUFBSSxFQUFKQSxhQUFJO0VBQ0pDLFNBQVMsRUFBVEEsa0JBQVM7RUFDVEMsT0FBTyxFQUFQQSxnQkFBTztFQUNQQyxNQUFNLEVBQU5BO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_Categorie","_interopRequireDefault","require","_User","_Product","_Slider","e","__esModule","default","_default","exports","User","Categorie","Product","Slider"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["index.js"],"sourcesContent":["import Categorie from './Categorie'\nimport User from './User'\nimport Product from './Product'\nimport Slider from './Slider'\n\nexport default {\n  User,\n  Categorie,\n  Product,\n  Slider,\n}"],"mappings":";;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,OAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAK,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEd;EACbG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,MAAM,EAANA;AACF,CAAC","ignoreList":[]}},"mtime":1737839073721},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  user_list: user => {\n    return {\n      _id: user._id,\n      name: user.name,\n      surname: user.surname,\n      rol: user.rol,\n      email: user.email\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyX2xpc3QiLCJ1c2VyIiwiX2lkIiwibmFtZSIsInN1cm5hbWUiLCJyb2wiLCJlbWFpbCJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudG9zL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvcmVzb3Vyc2VzLyIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdHtcbiAgdXNlcl9saXN0OiAodXNlcikgPT4ge1xuICAgIHJldHVybntcbiAgICAgIF9pZDogdXNlci5faWQsXG4gICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXG4gICAgICByb2w6IHVzZXIucm9sLFxuICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgfVxuICB9XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7aUNBQWM7RUFDWkEsU0FBUyxFQUFHQyxJQUFJLElBQUs7SUFDbkIsT0FBTTtNQUNKQyxHQUFHLEVBQUVELElBQUksQ0FBQ0MsR0FBRztNQUNiQyxJQUFJLEVBQUVGLElBQUksQ0FBQ0UsSUFBSTtNQUNmQyxPQUFPLEVBQUVILElBQUksQ0FBQ0csT0FBTztNQUNyQkMsR0FBRyxFQUFFSixJQUFJLENBQUNJLEdBQUc7TUFDYkMsS0FBSyxFQUFFTCxJQUFJLENBQUNLO0lBQ2QsQ0FBQztFQUNIO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["user_list","user","_id","name","surname","rol","email"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["User.js"],"sourcesContent":["export default{\n  user_list: (user) => {\n    return{\n      _id: user._id,\n      name: user.name,\n      surname: user.surname,\n      rol: user.rol,\n      email: user.email,\n    }\n  }\n}"],"mappings":";;;;;;iCAAc;EACZA,SAAS,EAAGC,IAAI,IAAK;IACnB,OAAM;MACJC,GAAG,EAAED,IAAI,CAACC,GAAG;MACbC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAEH,IAAI,CAACG,OAAO;MACrBC,GAAG,EAAEJ,IAAI,CAACI,GAAG;MACbC,KAAK,EAAEL,IAAI,CAACK;IACd,CAAC;EACH;AACF,CAAC","ignoreList":[]}},"mtime":1736915212073},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CategorieController = _interopRequireDefault(require(\"../controllers/CategorieController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/categorie'\n});\nconst router = (0, _expressPromiseRouter.default)();\n\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _CategorieController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _CategorieController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CategorieController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CategorieController.default.remove);\nrouter.get(\"/uploads/categorie/:img\", _CategorieController.default.obtener_imagen);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXRlZ29yaWVDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJwYXRoIiwibXVsdGlwYXJ0eSIsInVwbG9hZERpciIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwiY2F0ZWdvcmllQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSIsIm9idGVuZXJfaW1hZ2VuIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJDYXRlZ29yaWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSBcImV4cHJlc3MtcHJvbWlzZS1yb3V0ZXJcIlxuaW1wb3J0IGNhdGVnb3JpZUNvbnRyb2xsZXIgZnJvbSBcIi4uL2NvbnRyb2xsZXJzL0NhdGVnb3JpZUNvbnRyb2xsZXJcIlxuaW1wb3J0IGF1dGggZnJvbSBcIi4uL21pZGRsZXdhcmVzL2F1dGhcIlxuaW1wb3J0IG11bHRpcGFydHkgZnJvbSAnY29ubmVjdC1tdWx0aXBhcnR5JztcblxuXG52YXIgcGF0aCA9IG11bHRpcGFydHkoe3VwbG9hZERpcjonLi91cGxvYWRzL2NhdGVnb3JpZSd9KTtcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcblxuLy8gaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycy9yZWdpc3RlclxuXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCBbYXV0aC52ZXJpZnlBZG1pbiwgcGF0aF0sIGNhdGVnb3JpZUNvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnB1dChcIi91cGRhdGVcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxjYXRlZ29yaWVDb250cm9sbGVyLnVwZGF0ZSk7XG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUFkbWluLGNhdGVnb3JpZUNvbnRyb2xsZXIubGlzdCk7XG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLGF1dGgudmVyaWZ5QWRtaW4sY2F0ZWdvcmllQ29udHJvbGxlci5yZW1vdmUpO1xuXG5yb3V0ZXIuZ2V0KFwiL3VwbG9hZHMvY2F0ZWdvcmllLzppbWdcIixjYXRlZ29yaWVDb250cm9sbGVyLm9idGVuZXJfaW1hZ2VuKTtcblxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsb0JBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLGtCQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBNEMsU0FBQUQsdUJBQUFLLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFHNUMsSUFBSUcsSUFBSSxHQUFHLElBQUFDLDBCQUFVLEVBQUM7RUFBQ0MsU0FBUyxFQUFDO0FBQXFCLENBQUMsQ0FBQztBQUN4RCxNQUFNQyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDOztBQUV4Qjs7QUFFQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFFUCxJQUFJLENBQUMsRUFBRVEsNEJBQW1CLENBQUNDLFFBQVEsQ0FBQztBQUNoRk4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDLENBQUNKLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EsNEJBQW1CLENBQUNHLE1BQU0sQ0FBQztBQUN4RVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsNEJBQW1CLENBQUNLLElBQUksQ0FBQztBQUM3RFYsTUFBTSxDQUFDVyxNQUFNLENBQUMsU0FBUyxFQUFDUixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsNEJBQW1CLENBQUNPLE1BQU0sQ0FBQztBQUVwRVosTUFBTSxDQUFDUyxHQUFHLENBQUMseUJBQXlCLEVBQUNKLDRCQUFtQixDQUFDUSxjQUFjLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQW5CLE9BQUEsR0FHMURJLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CategorieController","_auth","_connectMultiparty","e","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","categorieController","register","put","update","get","list","delete","remove","obtener_imagen","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Categorie.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport categorieController from \"../controllers/CategorieController\"\nimport auth from \"../middlewares/auth\"\nimport multiparty from 'connect-multiparty';\n\n\nvar path = multiparty({uploadDir:'./uploads/categorie'});\nconst router = routerx();\n\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", [auth.verifyAdmin, path], categorieController.register);\nrouter.put(\"/update\",[auth.verifyAdmin,path],categorieController.update);\nrouter.get(\"/list\",auth.verifyAdmin,categorieController.list);\nrouter.delete(\"/delete\",auth.verifyAdmin,categorieController.remove);\n\nrouter.get(\"/uploads/categorie/:img\",categorieController.obtener_imagen);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,oBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA4C,SAAAD,uBAAAK,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAG5C,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAC;AAAqB,CAAC,CAAC;AACxD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,4BAAmB,CAACC,QAAQ,CAAC;AAChFN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAC,CAACJ,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,4BAAmB,CAACG,MAAM,CAAC;AACxER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACK,IAAI,CAAC;AAC7DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAACR,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACO,MAAM,CAAC;AAEpEZ,MAAM,CAACS,GAAG,CAAC,yBAAyB,EAACJ,4BAAmB,CAACQ,cAAc,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAnB,OAAA,GAG1DI,MAAM","ignoreList":[]}},"mtime":1737169385545},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/CategorieController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      //console.log(req.files);\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      const categorie = await _models.default.Categorie.create(req.body);\n      res.status(200).json(categorie);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Categorie.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let CategorieT = await _models.default.Categorie.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORÍA SE HA MODIFICADO CORRECTAMENTE\",\n        categorie: _resourses.default.Categorie.categorie_list(CategorieT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Categories = await _models.default.Categorie.find({\n        $or: [{\n          \"title\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Categories = Categories.map(user => {\n        return _resourses.default.Categorie.categorie_list(user);\n      });\n      res.status(200).json({\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/categorie/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/categorie/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Categorie.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"  LA CATEGORÍA SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3Vyc2VzIiwiX2ZzIiwiX3BhdGgiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImZpbGVzIiwiaW1nX3BhdGgiLCJwb3J0YWRhIiwicGF0aCIsIm5hbWUiLCJzcGxpdCIsInBvcnRhZGFfbmFtZSIsImJvZHkiLCJpbWFnZW4iLCJjYXRlZ29yaWUiLCJtb2RlbHMiLCJDYXRlZ29yaWUiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsIkNhdGVnb3JpZVQiLCJmaW5kT25lIiwicmVzb3Vyc2UiLCJjYXRlZ29yaWVfbGlzdCIsImxpc3QiLCJzZWFyY2giLCJxdWVyeSIsIkNhdGVnb3JpZXMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsInVzZXIiLCJjYXRlZ29yaWVzIiwib2J0ZW5lcl9pbWFnZW4iLCJpbWciLCJwYXJhbXMiLCJmcyIsInN0YXQiLCJlcnIiLCJwYXRoX2ltZyIsInNlbmRGaWxlIiwicmVzb2x2ZSIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5pbXBvcnQgcmVzb3Vyc2UgZnJvbSAnLi4vcmVzb3Vyc2VzJ1xuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vY29uc29sZS5sb2cocmVxLmZpbGVzKTtcbiAgICAgICBpZihyZXEuZmlsZXMpe1xuICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcbiAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xuICAgICAgICAgLy9jb25zb2xlLmxvZyhwb3J0YWRhX25hbWUpXG4gICAgICAgICByZXEuYm9keS5pbWFnZW4gPSBwb3J0YWRhX25hbWU7XG4gICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBjYXRlZ29yaWUgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihjYXRlZ29yaWUpO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cbiAgfSxcbiAgdXBkYXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICBpZihyZXEuZmlsZXMgJiYgcmVxLmZpbGVzLnBvcnRhZGEpe1xuICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcbiAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xuICAgICAgICAgLy9jb25zb2xlLmxvZyhwb3J0YWRhX25hbWUpXG4gICAgICAgcmVxLmJvZHkuaW1hZ2VuID0gcG9ydGFkYV9uYW1lO1xuICAgICAgIH1cblxuICAgICBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0scmVxLmJvZHkpO1xuXG4gICAgIGxldCBDYXRlZ29yaWVUID0gYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kT25lKHtfaWQ6IHJlcS5ib2R5Ll9pZH0pO1xuXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IFwiTEEgQ0FURUdPUsONQSBTRSBIQSBNT0RJRklDQURPIENPUlJFQ1RBTUVOVEVcIixcbiAgICAgICAgY2F0ZWdvcmllOiByZXNvdXJzZS5DYXRlZ29yaWUuY2F0ZWdvcmllX2xpc3QoQ2F0ZWdvcmllVCksXG4gICAgICB9KVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuXG4gIH0sXG4gIGxpc3Q6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgdmFyIHNlYXJjaCA9IHJlcS5xdWVyeS5zZWFyY2g7XG4gICAgICBsZXQgQ2F0ZWdvcmllcyAgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmQoe1xuICAgICAgICAkb3I6W1xuICAgICAgICAgIHtcInRpdGxlXCI6IG5ldyBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxuICAgICAgICBdXG4gICAgfSkuc29ydCh7J2NyZWF0ZWRBdCc6LTF9KTtcblxuICAgIENhdGVnb3JpZXMgPSBDYXRlZ29yaWVzLm1hcCgodXNlcikgPT4ge1xuICAgICAgcmV0dXJuIHJlc291cnNlLkNhdGVnb3JpZS5jYXRlZ29yaWVfbGlzdCh1c2VyKTtcbiAgICB9KVxuXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgY2F0ZWdvcmllczogQ2F0ZWdvcmllc1xuICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICBcbiAgICB9XG4gIH0sXG4gIG9idGVuZXJfaW1hZ2VuOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIGltZyA9IHJlcS5wYXJhbXNbJ2ltZyddO1xuICAgICAgICBcblxuICAgICAgICBmcy5zdGF0KCcuL3VwbG9hZHMvY2F0ZWdvcmllLycrIGltZywgZnVuY3Rpb24oZXJyKXtcbiAgICAgICAgICAgIGlmKCFlcnIpe1xuICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvY2F0ZWdvcmllLycraW1nO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kRmlsZShwYXRoLnJlc29sdmUocGF0aF9pbWcpKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvZGVmYXVsdC5qcGcnO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kRmlsZShwYXRoLnJlc29sdmUocGF0aF9pbWcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9Y2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuICB9LFxuICByZW1vdmU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiByZXEucXVlcnkuX2lkfSk7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IFwiICBMQSBDQVRFR09Sw41BIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG4gIH0sXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxHQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxLQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBdUIsU0FBQUQsdUJBQUFLLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUdSO0VBQ2JHLFFBQVEsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUMxQixJQUFJO01BQ0Y7TUFDQyxJQUFHRCxHQUFHLENBQUNFLEtBQUssRUFBQztRQUNYLElBQUlDLFFBQVEsR0FBR0gsR0FBRyxDQUFDRSxLQUFLLENBQUNFLE9BQU8sQ0FBQ0MsSUFBSTtRQUNyQyxJQUFJQyxJQUFJLEdBQUdILFFBQVEsQ0FBQ0ksS0FBSyxDQUFDLEdBQUcsQ0FBQztRQUM5QixJQUFJQyxZQUFZLEdBQUdGLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDMUI7UUFDQU4sR0FBRyxDQUFDUyxJQUFJLENBQUNDLE1BQU0sR0FBR0YsWUFBWTtNQUNoQztNQUVELE1BQU1H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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resourses","_fs","_path","e","__esModule","default","_default","exports","register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","categorie","models","Categorie","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","CategorieT","findOne","resourse","categorie_list","list","search","query","Categories","find","$or","RegExp","sort","map","user","categories","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","remove","findByIdAndDelete"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["CategorieController.js"],"sourcesContent":["import models from \"../models\";\nimport resourse from '../resourses'\nimport fs from 'fs'\nimport path from 'path'\n\n\nexport default {\n  register: async(req,res) => {\n    try {\n      //console.log(req.files);\n       if(req.files){\n         var img_path = req.files.portada.path;\n         var name = img_path.split('/');\n         var portada_name = name[2];\n         //console.log(portada_name)\n         req.body.imagen = portada_name;\n       }\n      \n      const categorie = await models.Categorie.create(req.body);\n      res.status(200).json(categorie);\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n  update: async(req,res) => {\n    try {\n       if(req.files && req.files.portada){\n         var img_path = req.files.portada.path;\n         var name = img_path.split('/');\n         var portada_name = name[2];\n         //console.log(portada_name)\n       req.body.imagen = portada_name;\n       }\n\n     await models.Categorie.findByIdAndUpdate({_id: req.body._id},req.body);\n\n     let CategorieT = await models.Categorie.findOne({_id: req.body._id});\n\n      res.status(200).json({\n        message: \"LA CATEGORÍA SE HA MODIFICADO CORRECTAMENTE\",\n        categorie: resourse.Categorie.categorie_list(CategorieT),\n      })\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n\n  },\n  list: async(req,res) => {\n    try {\n      var search = req.query.search;\n      let Categories  = await models.Categorie.find({\n        $or:[\n          {\"title\": new RegExp(search, \"i\")},\n        ]\n    }).sort({'createdAt':-1});\n\n    Categories = Categories.map((user) => {\n      return resourse.Categorie.categorie_list(user);\n    })\n\n    res.status(200).json({\n      categories: Categories\n    });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n      \n    }\n  },\n  obtener_imagen: async(req,res) => {\n    try {\n        var img = req.params['img'];\n        \n\n        fs.stat('./uploads/categorie/'+ img, function(err){\n            if(!err){\n                let path_img = './uploads/categorie/'+img;\n                res.status(200).sendFile(path.resolve(path_img));\n            }else{\n                let path_img = './uploads/default.jpg';\n                res.status(200).sendFile(path.resolve(path_img));\n            }\n        })\n    }catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async(req,res) => {\n    try {\n      await models.Categorie.findByIdAndDelete({_id: req.query._id});\n      res.status(200).json({\n        message: \"  LA CATEGORÍA SE ELIMINO CORRECTAMENTE\",\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n}"],"mappings":"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","ignoreList":[]}},"mtime":1737174922357},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CategorieSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  } // 1 es activo y 2 es desactivo\n}, {\n  timestamps: true\n});\nconst Categorie = _mongoose.default.model(\"categorie\", CategorieSchema);\nvar _default = exports.default = Categorie;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDYXRlZ29yaWVTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsImltYWdlbiIsInN0YXRlIiwiTnVtYmVyIiwidGltZXN0YW1wcyIsIkNhdGVnb3JpZSIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRvcy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IENhdGVnb3JpZVNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICB0aXRsZTp7dHlwZTpTdHJpbmcsIG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZX0sXG4gIGltYWdlbjp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOjI1MCxyZXF1aXJlZDp0cnVlfSxcbiAgc3RhdGU6e3R5cGU6IE51bWJlcixtYXhsZW5ndGg6MixkZWZhdWx0OjF9LC8vIDEgZXMgYWN0aXZvIHkgMiBlcyBkZXNhY3Rpdm9cbn0se1xuICB0aW1lc3RhbXBzOnRydWVcbn0pO1xuXG5jb25zdCBDYXRlZ29yaWUgPSBtb25nb29zZS5tb2RlbChcImNhdGVnb3JpZVwiLENhdGVnb3JpZVNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBDYXRlZ29yaWU7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FBQSxDQUFBSSxHQUFBLENBQUFQLENBQUEsT0FBQVEsQ0FBQSxLQUFBQyxTQUFBLFVBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsQ0FBQSxJQUFBZCxDQUFBLG9CQUFBYyxDQUFBLE9BQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBaEIsQ0FBQSxFQUFBYyxDQUFBLFNBQUFHLENBQUEsR0FBQVAsQ0FBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFiLENBQUEsRUFBQWMsQ0FBQSxVQUFBRyxDQUFBLEtBQUFBLENBQUEsQ0FBQVYsR0FBQSxJQUFBVSxDQUFBLENBQUFDLEdBQUEsSUFBQVAsTUFBQSxDQUFBQyxjQUFBLENBQUFKLENBQUEsRUFBQU0sQ0FBQSxFQUFBRyxDQUFBLElBQUFULENBQUEsQ0FBQU0sQ0FBQSxJQUFBZCxDQUFBLENBQUFjLENBQUEsWUFBQU4sQ0FBQSxDQUFBSCxPQUFBLEdBQUFMLENBQUEsRUFBQUcsQ0FBQSxJQUFBQSxDQUFBLENBQUFlLEdBQUEsQ0FBQWxCLENBQUEsRUFBQVEsQ0FBQSxHQUFBQSxDQUFBO0FBRXpDLE1BQU1XLGVBQWUsR0FBRyxJQUFJQyxnQkFBTSxDQUFDO0VBQ2pDQyxLQUFLLEVBQUM7SUFBQ0MsSUFBSSxFQUFDQyxNQUFNO0lBQUVDLFNBQVMsRUFBQyxHQUFHO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDaERDLE1BQU0sRUFBQztJQUFDSixJQUFJLEVBQUNDLE1BQU07SUFBQ0MsU0FBUyxFQUFDLEdBQUc7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNoREUsS0FBSyxFQUFDO0lBQUNMLElBQUksRUFBRU0sTUFBTTtJQUFDSixTQUFTLEVBQUMsQ0FBQztJQUFDbkIsT0FBTyxFQUFDO0VBQUMsQ0FBQyxDQUFDO0FBQzdDLENBQUMsRUFBQztFQUNBd0IsVUFBVSxFQUFDO0FBQ2IsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsU0FBUyxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsV0FBVyxFQUFDYixlQUFlLENBQUM7QUFBQyxJQUFBYyxRQUFBLEdBQUFDLE9BQUEsQ0FBQTdCLE9BQUEsR0FDL0N5QixTQUFTIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CategorieSchema","Schema","title","type","String","maxlength","required","imagen","state","Number","timestamps","Categorie","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Categorie.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst CategorieSchema = new Schema({\n  title:{type:String, maxlength:250,required:true},\n  imagen:{type:String,maxlength:250,required:true},\n  state:{type: Number,maxlength:2,default:1},// 1 es activo y 2 es desactivo\n},{\n  timestamps:true\n});\n\nconst Categorie = mongoose.model(\"categorie\",CategorieSchema);\nexport default Categorie;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,eAAe,GAAG,IAAIC,gBAAM,CAAC;EACjCC,KAAK,EAAC;IAACC,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChDC,MAAM,EAAC;IAACJ,IAAI,EAACC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChDE,KAAK,EAAC;IAACL,IAAI,EAAEM,MAAM;IAACJ,SAAS,EAAC,CAAC;IAACnB,OAAO,EAAC;EAAC,CAAC,CAAC;AAC7C,CAAC,EAAC;EACAwB,UAAU,EAAC;AACb,CAAC,CAAC;AAEF,MAAMC,SAAS,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAACb,eAAe,CAAC;AAAC,IAAAc,QAAA,GAAAC,OAAA,CAAA7B,OAAA,GAC/CyB,SAAS","ignoreList":[]}},"mtime":1737065419804},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CategorieSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  } // 1 es activo y 2 es desactivo\n}, {\n  timestamps: true\n});\nconst Categorie = _mongoose.default.model(\"categorie\", CategorieSchema);\nvar _default = exports.default = Categorie;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDYXRlZ29yaWVTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsImltYWdlbiIsInN0YXRlIiwiTnVtYmVyIiwidGltZXN0YW1wcyIsIkNhdGVnb3JpZSIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRvcy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IENhdGVnb3JpZVNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICB0aXRsZTp7dHlwZTpTdHJpbmcsIG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZX0sXG4gIGltYWdlbjp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOjI1MCxyZXF1aXJlZDp0cnVlfSxcbiAgc3RhdGU6e3R5cGU6IE51bWJlcixtYXhsZW5ndGg6MixkZWZhdWx0OjF9LC8vIDEgZXMgYWN0aXZvIHkgMiBlcyBkZXNhY3Rpdm9cbn0se1xuICB0aW1lc3RhbXBzOnRydWVcbn0pO1xuXG5jb25zdCBDYXRlZ29yaWUgPSBtb25nb29zZS5tb2RlbChcImNhdGVnb3JpZVwiLENhdGVnb3JpZVNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBDYXRlZ29yaWU7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FBQSxDQUFBSSxHQUFBLENBQUFQLENBQUEsT0FBQVEsQ0FBQSxLQUFBQyxTQUFBLFVBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsQ0FBQSxJQUFBZCxDQUFBLG9CQUFBYyxDQUFBLE9BQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBaEIsQ0FBQSxFQUFBYyxDQUFBLFNBQUFHLENBQUEsR0FBQVAsQ0FBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFiLENBQUEsRUFBQWMsQ0FBQSxVQUFBRyxDQUFBLEtBQUFBLENBQUEsQ0FBQVYsR0FBQSxJQUFBVSxDQUFBLENBQUFDLEdBQUEsSUFBQVAsTUFBQSxDQUFBQyxjQUFBLENBQUFKLENBQUEsRUFBQU0sQ0FBQSxFQUFBRyxDQUFBLElBQUFULENBQUEsQ0FBQU0sQ0FBQSxJQUFBZCxDQUFBLENBQUFjLENBQUEsWUFBQU4sQ0FBQSxDQUFBSCxPQUFBLEdBQUFMLENBQUEsRUFBQUcsQ0FBQSxJQUFBQSxDQUFBLENBQUFlLEdBQUEsQ0FBQWxCLENBQUEsRUFBQVEsQ0FBQSxHQUFBQSxDQUFBO0FBRXpDLE1BQU1XLGVBQWUsR0FBRyxJQUFJQyxnQkFBTSxDQUFDO0VBQ2pDQyxLQUFLLEVBQUM7SUFBQ0MsSUFBSSxFQUFDQyxNQUFNO0lBQUVDLFNBQVMsRUFBQyxHQUFHO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDaERDLE1BQU0sRUFBQztJQUFDSixJQUFJLEVBQUNDLE1BQU07SUFBQ0MsU0FBUyxFQUFDLEdBQUc7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNoREUsS0FBSyxFQUFDO0lBQUNMLElBQUksRUFBRU0sTUFBTTtJQUFDSixTQUFTLEVBQUMsQ0FBQztJQUFDbkIsT0FBTyxFQUFDO0VBQUMsQ0FBQyxDQUFDO0FBQzdDLENBQUMsRUFBQztFQUNBd0IsVUFBVSxFQUFDO0FBQ2IsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsU0FBUyxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsV0FBVyxFQUFDYixlQUFlLENBQUM7QUFBQyxJQUFBYyxRQUFBLEdBQUFDLE9BQUEsQ0FBQTdCLE9BQUEsR0FDL0N5QixTQUFTIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CategorieSchema","Schema","title","type","String","maxlength","required","imagen","state","Number","timestamps","Categorie","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Categorie.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst CategorieSchema = new Schema({\n  title:{type:String, maxlength:250,required:true},\n  imagen:{type:String,maxlength:250,required:true},\n  state:{type: Number,maxlength:2,default:1},// 1 es activo y 2 es desactivo\n},{\n  timestamps:true\n});\n\nconst Categorie = mongoose.model(\"categorie\",CategorieSchema);\nexport default Categorie;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,eAAe,GAAG,IAAIC,gBAAM,CAAC;EACjCC,KAAK,EAAC;IAACC,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChDC,MAAM,EAAC;IAACJ,IAAI,EAACC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChDE,KAAK,EAAC;IAACL,IAAI,EAAEM,MAAM;IAACJ,SAAS,EAAC,CAAC;IAACnB,OAAO,EAAC;EAAC,CAAC,CAAC;AAC7C,CAAC,EAAC;EACAwB,UAAU,EAAC;AACb,CAAC,CAAC;AAEF,MAAMC,SAAS,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAACb,eAAe,CAAC;AAAC,IAAAc,QAAA,GAAAC,OAAA,CAAA7B,OAAA,GAC/CyB,SAAS","ignoreList":[]}},"mtime":1737065419804},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CategorieController = _interopRequireDefault(require(\"../controllers/CategorieController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/categorie'\n});\nconst router = (0, _expressPromiseRouter.default)();\n\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _CategorieController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _CategorieController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CategorieController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CategorieController.default.remove);\nrouter.get(\"/uploads/categorie/:img\", _CategorieController.default.obtener_imagen);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXRlZ29yaWVDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJwYXRoIiwibXVsdGlwYXJ0eSIsInVwbG9hZERpciIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwiY2F0ZWdvcmllQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSIsIm9idGVuZXJfaW1hZ2VuIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJDYXRlZ29yaWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSBcImV4cHJlc3MtcHJvbWlzZS1yb3V0ZXJcIlxuaW1wb3J0IGNhdGVnb3JpZUNvbnRyb2xsZXIgZnJvbSBcIi4uL2NvbnRyb2xsZXJzL0NhdGVnb3JpZUNvbnRyb2xsZXJcIlxuaW1wb3J0IGF1dGggZnJvbSBcIi4uL21pZGRsZXdhcmVzL2F1dGhcIlxuaW1wb3J0IG11bHRpcGFydHkgZnJvbSAnY29ubmVjdC1tdWx0aXBhcnR5JztcblxuXG52YXIgcGF0aCA9IG11bHRpcGFydHkoe3VwbG9hZERpcjonLi91cGxvYWRzL2NhdGVnb3JpZSd9KTtcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcblxuLy8gaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycy9yZWdpc3RlclxuXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCBbYXV0aC52ZXJpZnlBZG1pbiwgcGF0aF0sIGNhdGVnb3JpZUNvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnB1dChcIi91cGRhdGVcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxjYXRlZ29yaWVDb250cm9sbGVyLnVwZGF0ZSk7XG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUFkbWluLGNhdGVnb3JpZUNvbnRyb2xsZXIubGlzdCk7XG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLGF1dGgudmVyaWZ5QWRtaW4sY2F0ZWdvcmllQ29udHJvbGxlci5yZW1vdmUpO1xuXG5yb3V0ZXIuZ2V0KFwiL3VwbG9hZHMvY2F0ZWdvcmllLzppbWdcIixjYXRlZ29yaWVDb250cm9sbGVyLm9idGVuZXJfaW1hZ2VuKTtcblxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsb0JBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLGtCQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBNEMsU0FBQUQsdUJBQUFLLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFHNUMsSUFBSUcsSUFBSSxHQUFHLElBQUFDLDBCQUFVLEVBQUM7RUFBQ0MsU0FBUyxFQUFDO0FBQXFCLENBQUMsQ0FBQztBQUN4RCxNQUFNQyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDOztBQUV4Qjs7QUFFQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFFUCxJQUFJLENBQUMsRUFBRVEsNEJBQW1CLENBQUNDLFFBQVEsQ0FBQztBQUNoRk4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDLENBQUNKLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EsNEJBQW1CLENBQUNHLE1BQU0sQ0FBQztBQUN4RVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsNEJBQW1CLENBQUNLLElBQUksQ0FBQztBQUM3RFYsTUFBTSxDQUFDVyxNQUFNLENBQUMsU0FBUyxFQUFDUixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsNEJBQW1CLENBQUNPLE1BQU0sQ0FBQztBQUVwRVosTUFBTSxDQUFDUyxHQUFHLENBQUMseUJBQXlCLEVBQUNKLDRCQUFtQixDQUFDUSxjQUFjLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQW5CLE9BQUEsR0FHMURJLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CategorieController","_auth","_connectMultiparty","e","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","categorieController","register","put","update","get","list","delete","remove","obtener_imagen","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Categorie.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport categorieController from \"../controllers/CategorieController\"\nimport auth from \"../middlewares/auth\"\nimport multiparty from 'connect-multiparty';\n\n\nvar path = multiparty({uploadDir:'./uploads/categorie'});\nconst router = routerx();\n\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", [auth.verifyAdmin, path], categorieController.register);\nrouter.put(\"/update\",[auth.verifyAdmin,path],categorieController.update);\nrouter.get(\"/list\",auth.verifyAdmin,categorieController.list);\nrouter.delete(\"/delete\",auth.verifyAdmin,categorieController.remove);\n\nrouter.get(\"/uploads/categorie/:img\",categorieController.obtener_imagen);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,oBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA4C,SAAAD,uBAAAK,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAG5C,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAC;AAAqB,CAAC,CAAC;AACxD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,4BAAmB,CAACC,QAAQ,CAAC;AAChFN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAC,CAACJ,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,4BAAmB,CAACG,MAAM,CAAC;AACxER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACK,IAAI,CAAC;AAC7DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAACR,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACO,MAAM,CAAC;AAEpEZ,MAAM,CAACS,GAAG,CAAC,yBAAyB,EAACJ,4BAAmB,CAACQ,cAAc,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAnB,OAAA,GAG1DI,MAAM","ignoreList":[]}},"mtime":1737169385545},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/CategorieController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      //console.log(req.files);\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      const categorie = await _models.default.Categorie.create(req.body);\n      res.status(200).json(categorie);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Categorie.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let CategorieT = await _models.default.Categorie.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORÍA SE HA MODIFICADO CORRECTAMENTE\",\n        categorie: _resourses.default.Categorie.categorie_list(CategorieT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Categories = await _models.default.Categorie.find({\n        $or: [{\n          \"title\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Categories = Categories.map(user => {\n        return _resourses.default.Categorie.categorie_list(user);\n      });\n      res.status(200).json({\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/categorie/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/categorie/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Categorie.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"  LA CATEGORÍA SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3Vyc2VzIiwiX2ZzIiwiX3BhdGgiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImZpbGVzIiwiaW1nX3BhdGgiLCJwb3J0YWRhIiwicGF0aCIsIm5hbWUiLCJzcGxpdCIsInBvcnRhZGFfbmFtZSIsImJvZHkiLCJpbWFnZW4iLCJjYXRlZ29yaWUiLCJtb2RlbHMiLCJDYXRlZ29yaWUiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsIkNhdGVnb3JpZVQiLCJmaW5kT25lIiwicmVzb3Vyc2UiLCJjYXRlZ29yaWVfbGlzdCIsImxpc3QiLCJzZWFyY2giLCJxdWVyeSIsIkNhdGVnb3JpZXMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsInVzZXIiLCJjYXRlZ29yaWVzIiwib2J0ZW5lcl9pbWFnZW4iLCJpbWciLCJwYXJhbXMiLCJmcyIsInN0YXQiLCJlcnIiLCJwYXRoX2ltZyIsInNlbmRGaWxlIiwicmVzb2x2ZSIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5pbXBvcnQgcmVzb3Vyc2UgZnJvbSAnLi4vcmVzb3Vyc2VzJ1xuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vY29uc29sZS5sb2cocmVxLmZpbGVzKTtcbiAgICAgICBpZihyZXEuZmlsZXMpe1xuICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcbiAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xuICAgICAgICAgLy9jb25zb2xlLmxvZyhwb3J0YWRhX25hbWUpXG4gICAgICAgICByZXEuYm9keS5pbWFnZW4gPSBwb3J0YWRhX25hbWU7XG4gICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBjYXRlZ29yaWUgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihjYXRlZ29yaWUpO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cbiAgfSxcbiAgdXBkYXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICBpZihyZXEuZmlsZXMgJiYgcmVxLmZpbGVzLnBvcnRhZGEpe1xuICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcbiAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xuICAgICAgICAgLy9jb25zb2xlLmxvZyhwb3J0YWRhX25hbWUpXG4gICAgICAgcmVxLmJvZHkuaW1hZ2VuID0gcG9ydGFkYV9uYW1lO1xuICAgICAgIH1cblxuICAgICBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0scmVxLmJvZHkpO1xuXG4gICAgIGxldCBDYXRlZ29yaWVUID0gYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kT25lKHtfaWQ6IHJlcS5ib2R5Ll9pZH0pO1xuXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IFwiTEEgQ0FURUdPUsONQSBTRSBIQSBNT0RJRklDQURPIENPUlJFQ1RBTUVOVEVcIixcbiAgICAgICAgY2F0ZWdvcmllOiByZXNvdXJzZS5DYXRlZ29yaWUuY2F0ZWdvcmllX2xpc3QoQ2F0ZWdvcmllVCksXG4gICAgICB9KVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuXG4gIH0sXG4gIGxpc3Q6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgdmFyIHNlYXJjaCA9IHJlcS5xdWVyeS5zZWFyY2g7XG4gICAgICBsZXQgQ2F0ZWdvcmllcyAgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmQoe1xuICAgICAgICAkb3I6W1xuICAgICAgICAgIHtcInRpdGxlXCI6IG5ldyBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxuICAgICAgICBdXG4gICAgfSkuc29ydCh7J2NyZWF0ZWRBdCc6LTF9KTtcblxuICAgIENhdGVnb3JpZXMgPSBDYXRlZ29yaWVzLm1hcCgodXNlcikgPT4ge1xuICAgICAgcmV0dXJuIHJlc291cnNlLkNhdGVnb3JpZS5jYXRlZ29yaWVfbGlzdCh1c2VyKTtcbiAgICB9KVxuXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgY2F0ZWdvcmllczogQ2F0ZWdvcmllc1xuICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICBcbiAgICB9XG4gIH0sXG4gIG9idGVuZXJfaW1hZ2VuOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIGltZyA9IHJlcS5wYXJhbXNbJ2ltZyddO1xuICAgICAgICBcblxuICAgICAgICBmcy5zdGF0KCcuL3VwbG9hZHMvY2F0ZWdvcmllLycrIGltZywgZnVuY3Rpb24oZXJyKXtcbiAgICAgICAgICAgIGlmKCFlcnIpe1xuICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvY2F0ZWdvcmllLycraW1nO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kRmlsZShwYXRoLnJlc29sdmUocGF0aF9pbWcpKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvZGVmYXVsdC5qcGcnO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kRmlsZShwYXRoLnJlc29sdmUocGF0aF9pbWcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9Y2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuICB9LFxuICByZW1vdmU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiByZXEucXVlcnkuX2lkfSk7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IFwiICBMQSBDQVRFR09Sw41BIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG4gIH0sXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxHQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxLQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBdUIsU0FBQUQsdUJBQUFLLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUdSO0VBQ2JHLFFBQVEsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUMxQixJQUFJO01BQ0Y7TUFDQyxJQUFHRCxHQUFHLENBQUNFLEtBQUssRUFBQztRQUNYLElBQUlDLFFBQVEsR0FBR0gsR0FBRyxDQUFDRSxLQUFLLENBQUNFLE9BQU8sQ0FBQ0MsSUFBSTtRQUNyQyxJQUFJQyxJQUFJLEdBQUdILFFBQVEsQ0FBQ0ksS0FBSyxDQUFDLEdBQUcsQ0FBQztRQUM5QixJQUFJQyxZQUFZLEdBQUdGLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDMUI7UUFDQU4sR0FBRyxDQUFDUyxJQUFJLENBQUNDLE1BQU0sR0FBR0YsWUFBWTtNQUNoQztNQUVELE1BQU1H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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resourses","_fs","_path","e","__esModule","default","_default","exports","register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","categorie","models","Categorie","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","CategorieT","findOne","resourse","categorie_list","list","search","query","Categories","find","$or","RegExp","sort","map","user","categories","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","remove","findByIdAndDelete"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["CategorieController.js"],"sourcesContent":["import models from \"../models\";\nimport resourse from '../resourses'\nimport fs from 'fs'\nimport path from 'path'\n\n\nexport default {\n  register: async(req,res) => {\n    try {\n      //console.log(req.files);\n       if(req.files){\n         var img_path = req.files.portada.path;\n         var name = img_path.split('/');\n         var portada_name = name[2];\n         //console.log(portada_name)\n         req.body.imagen = portada_name;\n       }\n      \n      const categorie = await models.Categorie.create(req.body);\n      res.status(200).json(categorie);\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n  update: async(req,res) => {\n    try {\n       if(req.files && req.files.portada){\n         var img_path = req.files.portada.path;\n         var name = img_path.split('/');\n         var portada_name = name[2];\n         //console.log(portada_name)\n       req.body.imagen = portada_name;\n       }\n\n     await models.Categorie.findByIdAndUpdate({_id: req.body._id},req.body);\n\n     let CategorieT = await models.Categorie.findOne({_id: req.body._id});\n\n      res.status(200).json({\n        message: \"LA CATEGORÍA SE HA MODIFICADO CORRECTAMENTE\",\n        categorie: resourse.Categorie.categorie_list(CategorieT),\n      })\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n\n  },\n  list: async(req,res) => {\n    try {\n      var search = req.query.search;\n      let Categories  = await models.Categorie.find({\n        $or:[\n          {\"title\": new RegExp(search, \"i\")},\n        ]\n    }).sort({'createdAt':-1});\n\n    Categories = Categories.map((user) => {\n      return resourse.Categorie.categorie_list(user);\n    })\n\n    res.status(200).json({\n      categories: Categories\n    });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n      \n    }\n  },\n  obtener_imagen: async(req,res) => {\n    try {\n        var img = req.params['img'];\n        \n\n        fs.stat('./uploads/categorie/'+ img, function(err){\n            if(!err){\n                let path_img = './uploads/categorie/'+img;\n                res.status(200).sendFile(path.resolve(path_img));\n            }else{\n                let path_img = './uploads/default.jpg';\n                res.status(200).sendFile(path.resolve(path_img));\n            }\n        })\n    }catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async(req,res) => {\n    try {\n      await models.Categorie.findByIdAndDelete({_id: req.query._id});\n      res.status(200).json({\n        message: \"  LA CATEGORÍA SE ELIMINO CORRECTAMENTE\",\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n}"],"mappings":"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","ignoreList":[]}},"mtime":1737174922357},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  categorie_list: categorie => {\n    return {\n      _id: categorie._id,\n      title: categorie.title,\n      imagen: categorie.imagen,\n      state: categorie.state\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXRlZ29yaWVfbGlzdCIsImNhdGVnb3JpZSIsIl9pZCIsInRpdGxlIiwiaW1hZ2VuIiwic3RhdGUiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRvcy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3Jlc291cnNlcy8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdHtcbiAgY2F0ZWdvcmllX2xpc3Q6IChjYXRlZ29yaWUpID0+IHtcbiAgICByZXR1cm57XG4gICAgICBfaWQ6IGNhdGVnb3JpZS5faWQsXG4gICAgICB0aXRsZTogY2F0ZWdvcmllLnRpdGxlLFxuICAgICAgaW1hZ2VuOiBjYXRlZ29yaWUuaW1hZ2VuLFxuICAgICAgc3RhdGU6IGNhdGVnb3JpZS5zdGF0ZSxcbiAgICB9XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztpQ0FBYztFQUNaQSxjQUFjLEVBQUdDLFNBQVMsSUFBSztJQUM3QixPQUFNO01BQ0pDLEdBQUcsRUFBRUQsU0FBUyxDQUFDQyxHQUFHO01BQ2xCQyxLQUFLLEVBQUVGLFNBQVMsQ0FBQ0UsS0FBSztNQUN0QkMsTUFBTSxFQUFFSCxTQUFTLENBQUNHLE1BQU07TUFDeEJDLEtBQUssRUFBRUosU0FBUyxDQUFDSTtJQUNuQixDQUFDO0VBQ0g7QUFDRixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["categorie_list","categorie","_id","title","imagen","state"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["Categorie.js"],"sourcesContent":["export default{\n  categorie_list: (categorie) => {\n    return{\n      _id: categorie._id,\n      title: categorie.title,\n      imagen: categorie.imagen,\n      state: categorie.state,\n    }\n  }\n}"],"mappings":";;;;;;iCAAc;EACZA,cAAc,EAAGC,SAAS,IAAK;IAC7B,OAAM;MACJC,GAAG,EAAED,SAAS,CAACC,GAAG;MAClBC,KAAK,EAAEF,SAAS,CAACE,KAAK;MACtBC,MAAM,EAAEH,SAAS,CAACG,MAAM;MACxBC,KAAK,EAAEJ,SAAS,CAACI;IACnB,CAAC;EACH;AACF,CAAC","ignoreList":[]}},"mtime":1736991992474},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  categorie_list: categorie => {\n    return {\n      _id: categorie._id,\n      title: categorie.title,\n      imagen: categorie.imagen,\n      imagen_home: \"http://localhost:3000\" + \"/api/categories/uploads/categorie/\" + categorie.imagen,\n      state: categorie.state\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXRlZ29yaWVfbGlzdCIsImNhdGVnb3JpZSIsIl9pZCIsInRpdGxlIiwiaW1hZ2VuIiwiaW1hZ2VuX2hvbWUiLCJzdGF0ZSJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudG9zL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvcmVzb3Vyc2VzLyIsInNvdXJjZXMiOlsiQ2F0ZWdvcmllLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0e1xuICBjYXRlZ29yaWVfbGlzdDogKGNhdGVnb3JpZSkgPT4ge1xuICAgIHJldHVybntcbiAgICAgIF9pZDogY2F0ZWdvcmllLl9pZCxcbiAgICAgIHRpdGxlOiBjYXRlZ29yaWUudGl0bGUsXG4gICAgICBpbWFnZW46IGNhdGVnb3JpZS5pbWFnZW4sXG4gICAgICBpbWFnZW5faG9tZTogXCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIitcIi9hcGkvY2F0ZWdvcmllcy91cGxvYWRzL2NhdGVnb3JpZS9cIitjYXRlZ29yaWUuaW1hZ2VuLFxuICAgICAgc3RhdGU6IGNhdGVnb3JpZS5zdGF0ZSxcbiAgICB9XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztpQ0FBYztFQUNaQSxjQUFjLEVBQUdDLFNBQVMsSUFBSztJQUM3QixPQUFNO01BQ0pDLEdBQUcsRUFBRUQsU0FBUyxDQUFDQyxHQUFHO01BQ2xCQyxLQUFLLEVBQUVGLFNBQVMsQ0FBQ0UsS0FBSztNQUN0QkMsTUFBTSxFQUFFSCxTQUFTLENBQUNHLE1BQU07TUFDeEJDLFdBQVcsRUFBRSx1QkFBdUIsR0FBQyxvQ0FBb0MsR0FBQ0osU0FBUyxDQUFDRyxNQUFNO01BQzFGRSxLQUFLLEVBQUVMLFNBQVMsQ0FBQ0s7SUFDbkIsQ0FBQztFQUNIO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["categorie_list","categorie","_id","title","imagen","imagen_home","state"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["Categorie.js"],"sourcesContent":["export default{\n  categorie_list: (categorie) => {\n    return{\n      _id: categorie._id,\n      title: categorie.title,\n      imagen: categorie.imagen,\n      imagen_home: \"http://localhost:3000\"+\"/api/categories/uploads/categorie/\"+categorie.imagen,\n      state: categorie.state,\n    }\n  }\n}"],"mappings":";;;;;;iCAAc;EACZA,cAAc,EAAGC,SAAS,IAAK;IAC7B,OAAM;MACJC,GAAG,EAAED,SAAS,CAACC,GAAG;MAClBC,KAAK,EAAEF,SAAS,CAACE,KAAK;MACtBC,MAAM,EAAEH,SAAS,CAACG,MAAM;MACxBC,WAAW,EAAE,uBAAuB,GAAC,oCAAoC,GAACJ,SAAS,CAACG,MAAM;MAC1FE,KAAK,EAAEL,SAAS,CAACK;IACnB,CAAC;EACH;AACF,CAAC","ignoreList":[]}},"mtime":1738360953780},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst ProductSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  slug: {\n    type: String,\n    required: true,\n    maxlength: 1000\n  },\n  sku: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  categorie: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'categorie',\n    required: true\n  },\n  price_bs: {\n    type: Number,\n    required: true\n  },\n  price_usd: {\n    type: Number,\n    required: true\n  },\n  portada: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  galerias: [{\n    type: Object,\n    required: false\n  }],\n  state: {\n    type: Number,\n    default: 1\n  },\n  //(1: Demo, 2:publico, 3: anulado)\n  stock: {\n    type: Number,\n    default: 0\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  resumen: {\n    type: String,\n    required: true\n  },\n  tags: {\n    type: String,\n    required: true\n  },\n  type_inventario: {\n    type: Number,\n    default: 1\n  },\n  // 1: unico, 2: multiple\n  condition: {\n    type: Number,\n    required: true\n  } // 1:nuevo, 2:usado, 3:donacion\n}, {\n  timestamps: true\n});\nconst Product = _mongoose.default.model('product', ProductSchema);\nvar _default = exports.default = Product;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJQcm9kdWN0U2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJtYXhsZW5ndGgiLCJzbHVnIiwic2t1IiwiY2F0ZWdvcmllIiwiT2JqZWN0SWQiLCJyZWYiLCJwcmljZV9icyIsIk51bWJlciIsInByaWNlX3VzZCIsInBvcnRhZGEiLCJnYWxlcmlhcyIsInN0YXRlIiwic3RvY2siLCJkZXNjcmlwdGlvbiIsInJlc3VtZW4iLCJ0YWdzIiwidHlwZV9pbnZlbnRhcmlvIiwiY29uZGl0aW9uIiwidGltZXN0YW1wcyIsIlByb2R1Y3QiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJQcm9kdWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSAgZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IFByb2R1Y3RTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgdGl0bGU6e3R5cGU6U3RyaW5nLCByZXF1aXJlZDp0cnVlLCBtYXhsZW5ndGg6MjUwfSxcbiAgc2x1Zzp7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOnRydWUsIG1heGxlbmd0aDoxMDAwfSxcbiAgc2t1OiB7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOnRydWUsIG1heGxlbmd0aDoyNTB9LFxuICBjYXRlZ29yaWU6e3R5cGU6U2NoZW1hLk9iamVjdElkLCByZWY6J2NhdGVnb3JpZScsIHJlcXVpcmVkOnRydWV9LFxuICBwcmljZV9iczoge3R5cGU6TnVtYmVyLCByZXF1aXJlZDp0cnVlfSxcbiAgcHJpY2VfdXNkOiB7dHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWV9LFxuICBwb3J0YWRhOnt0eXBlOlN0cmluZywgcmVxdWlyZWQ6dHJ1ZSwgbWF4bGVuZ3RoOjI1MH0sXG4gIGdhbGVyaWFzOlt7dHlwZTpPYmplY3QsIHJlcXVpcmVkOmZhbHNlfV0sXG4gIHN0YXRlOnt0eXBlOk51bWJlciwgZGVmYXVsdDoxfSwgLy8oMTogRGVtbywgMjpwdWJsaWNvLCAzOiBhbnVsYWRvKVxuICBzdG9jazoge3R5cGU6TnVtYmVyLCBkZWZhdWx0OjB9LFxuICBkZXNjcmlwdGlvbjp7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOnRydWV9LFxuICByZXN1bWVuOnt0eXBlOlN0cmluZywgcmVxdWlyZWQ6dHJ1ZX0sXG4gIHRhZ3M6e3R5cGU6U3RyaW5nLCByZXF1aXJlZDp0cnVlfSxcbiAgdHlwZV9pbnZlbnRhcmlvOnt0eXBlOk51bWJlciwgZGVmYXVsdDoxfSwgLy8gMTogdW5pY28sIDI6IG11bHRpcGxlXG4gIGNvbmRpdGlvbjp7dHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWV9IC8vIDE6bnVldm8sIDI6dXNhZG8sIDM6ZG9uYWNpb25cbn0se1xuICB0aW1lc3RhbXBzOnRydWUsXG59KTtcblxuY29uc3QgUHJvZHVjdCA9IG1vbmdvb3NlLm1vZGVsKCdwcm9kdWN0JyxQcm9kdWN0U2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgUHJvZHVjdDsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ProductSchema","Schema","title","type","String","required","maxlength","slug","sku","categorie","ObjectId","ref","price_bs","Number","price_usd","portada","galerias","state","stock","description","resumen","tags","type_inventario","condition","timestamps","Product","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Product.js"],"sourcesContent":["import mongoose,{Schema}  from \"mongoose\";\n\nconst ProductSchema = new Schema({\n  title:{type:String, required:true, maxlength:250},\n  slug:{type:String, required:true, maxlength:1000},\n  sku: {type:String, required:true, maxlength:250},\n  categorie:{type:Schema.ObjectId, ref:'categorie', required:true},\n  price_bs: {type:Number, required:true},\n  price_usd: {type:Number, required:true},\n  portada:{type:String, required:true, maxlength:250},\n  galerias:[{type:Object, required:false}],\n  state:{type:Number, default:1}, //(1: Demo, 2:publico, 3: anulado)\n  stock: {type:Number, default:0},\n  description:{type:String, required:true},\n  resumen:{type:String, required:true},\n  tags:{type:String, required:true},\n  type_inventario:{type:Number, default:1}, // 1: unico, 2: multiple\n  condition:{type:Number, required:true} // 1:nuevo, 2:usado, 3:donacion\n},{\n  timestamps:true,\n});\n\nconst Product = mongoose.model('product',ProductSchema);\n\nexport default Product;"],"mappings":"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","ignoreList":[]}},"mtime":1738061755295},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/variedad.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst VariedadSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  valor: {\n    type: String,\n    required: true\n  },\n  stock: {\n    type: Number,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Variedad = _mongoose.default.model('variedad', VariedadSchema);\nvar _default = exports.default = Variedad;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJWYXJpZWRhZFNjaGVtYSIsIlNjaGVtYSIsInByb2R1Y3QiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsInZhbG9yIiwiU3RyaW5nIiwic3RvY2siLCJOdW1iZXIiLCJ0aW1lc3RhbXBzIiwiVmFyaWVkYWQiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJ2YXJpZWRhZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gIGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBWYXJpZWRhZFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICBwcm9kdWN0Ont0eXBlOlNjaGVtYS5PYmplY3RJZCwgcmVmOidwcm9kdWN0JywgcmVxdWlyZWQ6dHJ1ZX0sXG4gIHZhbG9yOnt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOnRydWV9LFxuICBzdG9jazp7dHlwZTogTnVtYmVyLCByZXF1aXJlZDp0cnVlfSxcbn0se1xuICB0aW1lc3RhbXBzOnRydWUsXG59KTtcblxuY29uc3QgVmFyaWVkYWQgPSBtb25nb29zZS5tb2RlbCgndmFyaWVkYWQnLFZhcmllZGFkU2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IFZhcmllZGFkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBMEMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FBQSxDQUFBSSxHQUFBLENBQUFQLENBQUEsT0FBQVEsQ0FBQSxLQUFBQyxTQUFBLFVBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsQ0FBQSxJQUFBZCxDQUFBLG9CQUFBYyxDQUFBLE9BQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBaEIsQ0FBQSxFQUFBYyxDQUFBLFNBQUFHLENBQUEsR0FBQVAsQ0FBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFiLENBQUEsRUFBQWMsQ0FBQSxVQUFBRyxDQUFBLEtBQUFBLENBQUEsQ0FBQVYsR0FBQSxJQUFBVSxDQUFBLENBQUFDLEdBQUEsSUFBQVAsTUFBQSxDQUFBQyxjQUFBLENBQUFKLENBQUEsRUFBQU0sQ0FBQSxFQUFBRyxDQUFBLElBQUFULENBQUEsQ0FBQU0sQ0FBQSxJQUFBZCxDQUFBLENBQUFjLENBQUEsWUFBQU4sQ0FBQSxDQUFBSCxPQUFBLEdBQUFMLENBQUEsRUFBQUcsQ0FBQSxJQUFBQSxDQUFBLENBQUFlLEdBQUEsQ0FBQWxCLENBQUEsRUFBQVEsQ0FBQSxHQUFBQSxDQUFBO0FBRTFDLE1BQU1XLGNBQWMsR0FBRyxJQUFJQyxnQkFBTSxDQUFDO0VBQ2hDQyxPQUFPLEVBQUM7SUFBQ0MsSUFBSSxFQUFDRixnQkFBTSxDQUFDRyxRQUFRO0lBQUVDLEdBQUcsRUFBQyxTQUFTO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDNURDLEtBQUssRUFBQztJQUFDSixJQUFJLEVBQUVLLE1BQU07SUFBRUYsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNuQ0csS0FBSyxFQUFDO0lBQUNOLElBQUksRUFBRU8sTUFBTTtJQUFFSixRQUFRLEVBQUM7RUFBSTtBQUNwQyxDQUFDLEVBQUM7RUFDQUssVUFBVSxFQUFDO0FBQ2IsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsUUFBUSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsVUFBVSxFQUFDZCxjQUFjLENBQUM7QUFBQyxJQUFBZSxRQUFBLEdBQUFDLE9BQUEsQ0FBQTlCLE9BQUEsR0FDNUMwQixRQUFRIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","VariedadSchema","Schema","product","type","ObjectId","ref","required","valor","String","stock","Number","timestamps","Variedad","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/","sources":["variedad.js"],"sourcesContent":["import mongoose,{Schema}  from \"mongoose\";\n\nconst VariedadSchema = new Schema({\n  product:{type:Schema.ObjectId, ref:'product', required:true},\n  valor:{type: String, required:true},\n  stock:{type: Number, required:true},\n},{\n  timestamps:true,\n});\n\nconst Variedad = mongoose.model('variedad',VariedadSchema);\nexport default Variedad"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMW,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAChCC,OAAO,EAAC;IAACC,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAC,SAAS;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAC5DC,KAAK,EAAC;IAACJ,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC;EAAI,CAAC;EACnCG,KAAK,EAAC;IAACN,IAAI,EAAEO,MAAM;IAAEJ,QAAQ,EAAC;EAAI;AACpC,CAAC,EAAC;EACAK,UAAU,EAAC;AACb,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,UAAU,EAACd,cAAc,CAAC;AAAC,IAAAe,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GAC5C0B,QAAQ","ignoreList":[]}},"mtime":1737220657416},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst ProductSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  slug: {\n    type: String,\n    required: true,\n    maxlength: 1000\n  },\n  sku: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  categorie: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'categorie',\n    required: true\n  },\n  price_bs: {\n    type: Number,\n    required: true\n  },\n  price_usd: {\n    type: Number,\n    required: true\n  },\n  portada: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  galerias: [{\n    type: Object,\n    required: false\n  }],\n  state: {\n    type: Number,\n    default: 1\n  },\n  //(1: Demo, 2:publico, 3: anulado)\n  stock: {\n    type: Number,\n    default: 0\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  resumen: {\n    type: String,\n    required: true\n  },\n  tags: {\n    type: String,\n    required: true\n  },\n  type_inventario: {\n    type: Number,\n    default: 1\n  },\n  // 1: unico, 2: multiple\n  condition: {\n    type: Number,\n    required: true\n  } // 1:nuevo, 2:usado, 3:donacion\n}, {\n  timestamps: true\n});\nconst Product = _mongoose.default.model('product', ProductSchema);\nvar _default = exports.default = Product;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJQcm9kdWN0U2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJtYXhsZW5ndGgiLCJzbHVnIiwic2t1IiwiY2F0ZWdvcmllIiwiT2JqZWN0SWQiLCJyZWYiLCJwcmljZV9icyIsIk51bWJlciIsInByaWNlX3VzZCIsInBvcnRhZGEiLCJnYWxlcmlhcyIsInN0YXRlIiwic3RvY2siLCJkZXNjcmlwdGlvbiIsInJlc3VtZW4iLCJ0YWdzIiwidHlwZV9pbnZlbnRhcmlvIiwiY29uZGl0aW9uIiwidGltZXN0YW1wcyIsIlByb2R1Y3QiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJQcm9kdWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSAgZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IFByb2R1Y3RTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgdGl0bGU6e3R5cGU6U3RyaW5nLCByZXF1aXJlZDp0cnVlLCBtYXhsZW5ndGg6MjUwfSxcbiAgc2x1Zzp7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOnRydWUsIG1heGxlbmd0aDoxMDAwfSxcbiAgc2t1OiB7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOnRydWUsIG1heGxlbmd0aDoyNTB9LFxuICBjYXRlZ29yaWU6e3R5cGU6U2NoZW1hLk9iamVjdElkLCByZWY6J2NhdGVnb3JpZScsIHJlcXVpcmVkOnRydWV9LFxuICBwcmljZV9iczoge3R5cGU6TnVtYmVyLCByZXF1aXJlZDp0cnVlfSxcbiAgcHJpY2VfdXNkOiB7dHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWV9LFxuICBwb3J0YWRhOnt0eXBlOlN0cmluZywgcmVxdWlyZWQ6dHJ1ZSwgbWF4bGVuZ3RoOjI1MH0sXG4gIGdhbGVyaWFzOlt7dHlwZTpPYmplY3QsIHJlcXVpcmVkOmZhbHNlfV0sXG4gIHN0YXRlOnt0eXBlOk51bWJlciwgZGVmYXVsdDoxfSwgLy8oMTogRGVtbywgMjpwdWJsaWNvLCAzOiBhbnVsYWRvKVxuICBzdG9jazoge3R5cGU6TnVtYmVyLCBkZWZhdWx0OjB9LFxuICBkZXNjcmlwdGlvbjp7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOnRydWV9LFxuICByZXN1bWVuOnt0eXBlOlN0cmluZywgcmVxdWlyZWQ6dHJ1ZX0sXG4gIHRhZ3M6e3R5cGU6U3RyaW5nLCByZXF1aXJlZDp0cnVlfSxcbiAgdHlwZV9pbnZlbnRhcmlvOnt0eXBlOk51bWJlciwgZGVmYXVsdDoxfSwgLy8gMTogdW5pY28sIDI6IG11bHRpcGxlXG4gIGNvbmRpdGlvbjp7dHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWV9IC8vIDE6bnVldm8sIDI6dXNhZG8sIDM6ZG9uYWNpb25cbn0se1xuICB0aW1lc3RhbXBzOnRydWUsXG59KTtcblxuY29uc3QgUHJvZHVjdCA9IG1vbmdvb3NlLm1vZGVsKCdwcm9kdWN0JyxQcm9kdWN0U2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgUHJvZHVjdDsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ProductSchema","Schema","title","type","String","required","maxlength","slug","sku","categorie","ObjectId","ref","price_bs","Number","price_usd","portada","galerias","state","stock","description","resumen","tags","type_inventario","condition","timestamps","Product","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Product.js"],"sourcesContent":["import mongoose,{Schema}  from \"mongoose\";\n\nconst ProductSchema = new Schema({\n  title:{type:String, required:true, maxlength:250},\n  slug:{type:String, required:true, maxlength:1000},\n  sku: {type:String, required:true, maxlength:250},\n  categorie:{type:Schema.ObjectId, ref:'categorie', required:true},\n  price_bs: {type:Number, required:true},\n  price_usd: {type:Number, required:true},\n  portada:{type:String, required:true, maxlength:250},\n  galerias:[{type:Object, required:false}],\n  state:{type:Number, default:1}, //(1: Demo, 2:publico, 3: anulado)\n  stock: {type:Number, default:0},\n  description:{type:String, required:true},\n  resumen:{type:String, required:true},\n  tags:{type:String, required:true},\n  type_inventario:{type:Number, default:1}, // 1: unico, 2: multiple\n  condition:{type:Number, required:true} // 1:nuevo, 2:usado, 3:donacion\n},{\n  timestamps:true,\n});\n\nconst Product = mongoose.model('product',ProductSchema);\n\nexport default Product;"],"mappings":"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","ignoreList":[]}},"mtime":1738061755295},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/variedad.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst VariedadSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  valor: {\n    type: String,\n    required: true\n  },\n  stock: {\n    type: Number,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Variedad = _mongoose.default.model('variedad', VariedadSchema);\nvar _default = exports.default = Variedad;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJWYXJpZWRhZFNjaGVtYSIsIlNjaGVtYSIsInByb2R1Y3QiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsInZhbG9yIiwiU3RyaW5nIiwic3RvY2siLCJOdW1iZXIiLCJ0aW1lc3RhbXBzIiwiVmFyaWVkYWQiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJ2YXJpZWRhZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gIGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBWYXJpZWRhZFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICBwcm9kdWN0Ont0eXBlOlNjaGVtYS5PYmplY3RJZCwgcmVmOidwcm9kdWN0JywgcmVxdWlyZWQ6dHJ1ZX0sXG4gIHZhbG9yOnt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOnRydWV9LFxuICBzdG9jazp7dHlwZTogTnVtYmVyLCByZXF1aXJlZDp0cnVlfSxcbn0se1xuICB0aW1lc3RhbXBzOnRydWUsXG59KTtcblxuY29uc3QgVmFyaWVkYWQgPSBtb25nb29zZS5tb2RlbCgndmFyaWVkYWQnLFZhcmllZGFkU2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IFZhcmllZGFkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBMEMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FBQSxDQUFBSSxHQUFBLENBQUFQLENBQUEsT0FBQVEsQ0FBQSxLQUFBQyxTQUFBLFVBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsQ0FBQSxJQUFBZCxDQUFBLG9CQUFBYyxDQUFBLE9BQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBaEIsQ0FBQSxFQUFBYyxDQUFBLFNBQUFHLENBQUEsR0FBQVAsQ0FBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFiLENBQUEsRUFBQWMsQ0FBQSxVQUFBRyxDQUFBLEtBQUFBLENBQUEsQ0FBQVYsR0FBQSxJQUFBVSxDQUFBLENBQUFDLEdBQUEsSUFBQVAsTUFBQSxDQUFBQyxjQUFBLENBQUFKLENBQUEsRUFBQU0sQ0FBQSxFQUFBRyxDQUFBLElBQUFULENBQUEsQ0FBQU0sQ0FBQSxJQUFBZCxDQUFBLENBQUFjLENBQUEsWUFBQU4sQ0FBQSxDQUFBSCxPQUFBLEdBQUFMLENBQUEsRUFBQUcsQ0FBQSxJQUFBQSxDQUFBLENBQUFlLEdBQUEsQ0FBQWxCLENBQUEsRUFBQVEsQ0FBQSxHQUFBQSxDQUFBO0FBRTFDLE1BQU1XLGNBQWMsR0FBRyxJQUFJQyxnQkFBTSxDQUFDO0VBQ2hDQyxPQUFPLEVBQUM7SUFBQ0MsSUFBSSxFQUFDRixnQkFBTSxDQUFDRyxRQUFRO0lBQUVDLEdBQUcsRUFBQyxTQUFTO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDNURDLEtBQUssRUFBQztJQUFDSixJQUFJLEVBQUVLLE1BQU07SUFBRUYsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNuQ0csS0FBSyxFQUFDO0lBQUNOLElBQUksRUFBRU8sTUFBTTtJQUFFSixRQUFRLEVBQUM7RUFBSTtBQUNwQyxDQUFDLEVBQUM7RUFDQUssVUFBVSxFQUFDO0FBQ2IsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsUUFBUSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsVUFBVSxFQUFDZCxjQUFjLENBQUM7QUFBQyxJQUFBZSxRQUFBLEdBQUFDLE9BQUEsQ0FBQTlCLE9BQUEsR0FDNUMwQixRQUFRIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","VariedadSchema","Schema","product","type","ObjectId","ref","required","valor","String","stock","Number","timestamps","Variedad","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/","sources":["variedad.js"],"sourcesContent":["import mongoose,{Schema}  from \"mongoose\";\n\nconst VariedadSchema = new Schema({\n  product:{type:Schema.ObjectId, ref:'product', required:true},\n  valor:{type: String, required:true},\n  stock:{type: Number, required:true},\n},{\n  timestamps:true,\n});\n\nconst Variedad = mongoose.model('variedad',VariedadSchema);\nexport default Variedad"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMW,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAChCC,OAAO,EAAC;IAACC,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAC,SAAS;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAC5DC,KAAK,EAAC;IAACJ,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC;EAAI,CAAC;EACnCG,KAAK,EAAC;IAACN,IAAI,EAAEO,MAAM;IAAEJ,QAAQ,EAAC;EAAI;AACpC,CAAC,EAAC;EACAK,UAAU,EAAC;AACb,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,UAAU,EAACd,cAAc,CAAC;AAAC,IAAAe,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GAC5C0B,QAAQ","ignoreList":[]}},"mtime":1737220657416},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  product_list: (product, variedades = []) => {\n    return {\n      _id: product._id,\n      title: product.title,\n      imagen: \"http://localhost:3000\" + \"/api/products/uploads/product/\" + product.portada,\n      state: product.state,\n      slug: product.slug,\n      sku: product.sku,\n      categorie: product.categorie,\n      price_bs: product.price_bs,\n      price_usd: product.price_usd,\n      stock: product.stock,\n      description: product.description,\n      resumen: product.resumen,\n      tags: product.tags ? JSON.parse(product.tags) : [],\n      type_inventario: product.type_inventario,\n      condition: product.condition,\n      variedades: variedades,\n      galerias: product.galerias.map(galeria => {\n        galeria.imagen = \"http://localhost:3000\" + \"/api/products/uploads/product/\" + galeria.imagen;\n        return galeria;\n      })\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0X2xpc3QiLCJwcm9kdWN0IiwidmFyaWVkYWRlcyIsIl9pZCIsInRpdGxlIiwiaW1hZ2VuIiwicG9ydGFkYSIsInN0YXRlIiwic2x1ZyIsInNrdSIsImNhdGVnb3JpZSIsInByaWNlX2JzIiwicHJpY2VfdXNkIiwic3RvY2siLCJkZXNjcmlwdGlvbiIsInJlc3VtZW4iLCJ0YWdzIiwiSlNPTiIsInBhcnNlIiwidHlwZV9pbnZlbnRhcmlvIiwiY29uZGl0aW9uIiwiZ2FsZXJpYXMiLCJtYXAiLCJnYWxlcmlhIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yZXNvdXJzZXMvIiwic291cmNlcyI6WyJQcm9kdWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0e1xuICBwcm9kdWN0X2xpc3Q6IChwcm9kdWN0LCB2YXJpZWRhZGVzID0gW10pID0+IHtcbiAgICByZXR1cm57XG4gICAgICBfaWQ6IHByb2R1Y3QuX2lkLFxuICAgICAgdGl0bGU6IHByb2R1Y3QudGl0bGUsXG4gICAgICBpbWFnZW46XCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIitcIi9hcGkvcHJvZHVjdHMvdXBsb2Fkcy9wcm9kdWN0L1wiK3Byb2R1Y3QucG9ydGFkYSwgXG4gICAgICBzdGF0ZTogcHJvZHVjdC5zdGF0ZSxcbiAgICAgIHNsdWc6IHByb2R1Y3Quc2x1ZyxcbiAgICAgIHNrdTogcHJvZHVjdC5za3UsXG4gICAgICBjYXRlZ29yaWU6cHJvZHVjdC5jYXRlZ29yaWUsXG4gICAgICBwcmljZV9iczpwcm9kdWN0LnByaWNlX2JzLFxuICAgICAgcHJpY2VfdXNkOnByb2R1Y3QucHJpY2VfdXNkLFxuICAgICAgc3RvY2s6cHJvZHVjdC5zdG9jayxcbiAgICAgIGRlc2NyaXB0aW9uOiBwcm9kdWN0LmRlc2NyaXB0aW9uLFxuICAgICAgcmVzdW1lbjpwcm9kdWN0LnJlc3VtZW4sXG4gICAgICB0YWdzOnByb2R1Y3QudGFncz8gSlNPTi5wYXJzZShwcm9kdWN0LnRhZ3MpIDogW10sXG4gICAgICB0eXBlX2ludmVudGFyaW86cHJvZHVjdC50eXBlX2ludmVudGFyaW8sXG4gICAgICBjb25kaXRpb246cHJvZHVjdC5jb25kaXRpb24sXG4gICAgICB2YXJpZWRhZGVzOiB2YXJpZWRhZGVzLFxuICAgICAgZ2FsZXJpYXM6cHJvZHVjdC5nYWxlcmlhcy5tYXAoKGdhbGVyaWEpID0+e1xuICAgICAgICBnYWxlcmlhLmltYWdlbiA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwXCIrXCIvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC9cIitnYWxlcmlhLmltYWdlbjtcbiAgICAgICAgcmV0dXJuIGdhbGVyaWE7XG4gICAgICB9KVxuICAgIH1cbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7aUNBQWM7RUFDWkEsWUFBWSxFQUFFQSxDQUFDQyxPQUFPLEVBQUVDLFVBQVUsR0FBRyxFQUFFLEtBQUs7SUFDMUMsT0FBTTtNQUNKQyxHQUFHLEVBQUVGLE9BQU8sQ0FBQ0UsR0FBRztNQUNoQkMsS0FBSyxFQUFFSCxPQUFPLENBQUNHLEtBQUs7TUFDcEJDLE1BQU0sRUFBQyx1QkFBdUIsR0FBQyxnQ0FBZ0MsR0FBQ0osT0FBTyxDQUFDSyxPQUFPO01BQy9FQyxLQUFLLEVBQUVOLE9BQU8sQ0FBQ00sS0FBSztNQUNwQkMsSUFBSSxFQUFFUCxPQUFPLENBQUNPLElBQUk7TUFDbEJDLEdBQUcsRUFBRVIsT0FBTyxDQUFDUSxHQUFHO01BQ2hCQyxTQUFTLEVBQUNULE9BQU8sQ0FBQ1MsU0FBUztNQUMzQkMsUUFBUSxFQUFDVixPQUFPLENBQUNVLFFBQVE7TUFDekJDLFNBQVMsRUFBQ1gsT0FBTyxDQUFDVyxTQUFTO01BQzNCQyxLQUFLLEVBQUNaLE9BQU8sQ0FBQ1ksS0FBSztNQUNuQkMsV0FBVyxFQUFFYixPQUFPLENBQUNhLFdBQVc7TUFDaENDLE9BQU8sRUFBQ2QsT0FBTyxDQUFDYyxPQUFPO01BQ3ZCQyxJQUFJLEVBQUNmLE9BQU8sQ0FBQ2UsSUFBSSxHQUFFQyxJQUFJLENBQUNDLEtBQUssQ0FBQ2pCLE9BQU8sQ0FBQ2UsSUFBSSxDQUFDLEdBQUcsRUFBRTtNQUNoREcsZUFBZSxFQUFDbEIsT0FBTyxDQUFDa0IsZUFBZTtNQUN2Q0MsU0FBUyxFQUFDbkIsT0FBTyxDQUFDbUIsU0FBUztNQUMzQmxCLFVBQVUsRUFBRUEsVUFBVTtNQUN0Qm1CLFFBQVEsRUFBQ3BCLE9BQU8sQ0FBQ29CLFFBQVEsQ0FBQ0MsR0FBRyxDQUFFQyxPQUFPLElBQUk7UUFDeENBLE9BQU8sQ0FBQ2xCLE1BQU0sR0FBRyx1QkFBdUIsR0FBQyxnQ0FBZ0MsR0FBQ2tCLE9BQU8sQ0FBQ2xCLE1BQU07UUFDeEYsT0FBT2tCLE9BQU87TUFDaEIsQ0FBQztJQUNILENBQUM7RUFDSDtBQUNGLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["product_list","product","variedades","_id","title","imagen","portada","state","slug","sku","categorie","price_bs","price_usd","stock","description","resumen","tags","JSON","parse","type_inventario","condition","galerias","map","galeria"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["Product.js"],"sourcesContent":["export default{\n  product_list: (product, variedades = []) => {\n    return{\n      _id: product._id,\n      title: product.title,\n      imagen:\"http://localhost:3000\"+\"/api/products/uploads/product/\"+product.portada, \n      state: product.state,\n      slug: product.slug,\n      sku: product.sku,\n      categorie:product.categorie,\n      price_bs:product.price_bs,\n      price_usd:product.price_usd,\n      stock:product.stock,\n      description: product.description,\n      resumen:product.resumen,\n      tags:product.tags? JSON.parse(product.tags) : [],\n      type_inventario:product.type_inventario,\n      condition:product.condition,\n      variedades: variedades,\n      galerias:product.galerias.map((galeria) =>{\n        galeria.imagen = \"http://localhost:3000\"+\"/api/products/uploads/product/\"+galeria.imagen;\n        return galeria;\n      })\n    }\n  }\n}\n"],"mappings":";;;;;;iCAAc;EACZA,YAAY,EAAEA,CAACC,OAAO,EAAEC,UAAU,GAAG,EAAE,KAAK;IAC1C,OAAM;MACJC,GAAG,EAAEF,OAAO,CAACE,GAAG;MAChBC,KAAK,EAAEH,OAAO,CAACG,KAAK;MACpBC,MAAM,EAAC,uBAAuB,GAAC,gCAAgC,GAACJ,OAAO,CAACK,OAAO;MAC/EC,KAAK,EAAEN,OAAO,CAACM,KAAK;MACpBC,IAAI,EAAEP,OAAO,CAACO,IAAI;MAClBC,GAAG,EAAER,OAAO,CAACQ,GAAG;MAChBC,SAAS,EAACT,OAAO,CAACS,SAAS;MAC3BC,QAAQ,EAACV,OAAO,CAACU,QAAQ;MACzBC,SAAS,EAACX,OAAO,CAACW,SAAS;MAC3BC,KAAK,EAACZ,OAAO,CAACY,KAAK;MACnBC,WAAW,EAAEb,OAAO,CAACa,WAAW;MAChCC,OAAO,EAACd,OAAO,CAACc,OAAO;MACvBC,IAAI,EAACf,OAAO,CAACe,IAAI,GAAEC,IAAI,CAACC,KAAK,CAACjB,OAAO,CAACe,IAAI,CAAC,GAAG,EAAE;MAChDG,eAAe,EAAClB,OAAO,CAACkB,eAAe;MACvCC,SAAS,EAACnB,OAAO,CAACmB,SAAS;MAC3BlB,UAAU,EAAEA,UAAU;MACtBmB,QAAQ,EAACpB,OAAO,CAACoB,QAAQ,CAACC,GAAG,CAAEC,OAAO,IAAI;QACxCA,OAAO,CAAClB,MAAM,GAAG,uBAAuB,GAAC,gCAAgC,GAACkB,OAAO,CAAClB,MAAM;QACxF,OAAOkB,OAAO;MAChB,CAAC;IACH,CAAC;EACH;AACF,CAAC","ignoreList":[]}},"mtime":1737765508894},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  product_list: (product, variedades = []) => {\n    return {\n      _id: product._id,\n      title: product.title,\n      imagen: \"http://localhost:3000\" + \"/api/products/uploads/product/\" + product.portada,\n      state: product.state,\n      slug: product.slug,\n      sku: product.sku,\n      categorie: product.categorie,\n      price_bs: product.price_bs,\n      price_usd: product.price_usd,\n      stock: product.stock,\n      description: product.description,\n      resumen: product.resumen,\n      tags: product.tags ? JSON.parse(product.tags) : [],\n      type_inventario: product.type_inventario,\n      condition: product.condition,\n      variedades: variedades,\n      galerias: product.galerias.map(galeria => {\n        galeria.imagen = \"http://localhost:3000\" + \"/api/products/uploads/product/\" + galeria.imagen;\n        return galeria;\n      })\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0X2xpc3QiLCJwcm9kdWN0IiwidmFyaWVkYWRlcyIsIl9pZCIsInRpdGxlIiwiaW1hZ2VuIiwicG9ydGFkYSIsInN0YXRlIiwic2x1ZyIsInNrdSIsImNhdGVnb3JpZSIsInByaWNlX2JzIiwicHJpY2VfdXNkIiwic3RvY2siLCJkZXNjcmlwdGlvbiIsInJlc3VtZW4iLCJ0YWdzIiwiSlNPTiIsInBhcnNlIiwidHlwZV9pbnZlbnRhcmlvIiwiY29uZGl0aW9uIiwiZ2FsZXJpYXMiLCJtYXAiLCJnYWxlcmlhIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yZXNvdXJzZXMvIiwic291cmNlcyI6WyJQcm9kdWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0e1xuICBwcm9kdWN0X2xpc3Q6IChwcm9kdWN0LCB2YXJpZWRhZGVzID0gW10pID0+IHtcbiAgICByZXR1cm57XG4gICAgICBfaWQ6IHByb2R1Y3QuX2lkLFxuICAgICAgdGl0bGU6IHByb2R1Y3QudGl0bGUsXG4gICAgICBpbWFnZW46XCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIitcIi9hcGkvcHJvZHVjdHMvdXBsb2Fkcy9wcm9kdWN0L1wiK3Byb2R1Y3QucG9ydGFkYSwgXG4gICAgICBzdGF0ZTogcHJvZHVjdC5zdGF0ZSxcbiAgICAgIHNsdWc6IHByb2R1Y3Quc2x1ZyxcbiAgICAgIHNrdTogcHJvZHVjdC5za3UsXG4gICAgICBjYXRlZ29yaWU6cHJvZHVjdC5jYXRlZ29yaWUsXG4gICAgICBwcmljZV9iczpwcm9kdWN0LnByaWNlX2JzLFxuICAgICAgcHJpY2VfdXNkOnByb2R1Y3QucHJpY2VfdXNkLFxuICAgICAgc3RvY2s6cHJvZHVjdC5zdG9jayxcbiAgICAgIGRlc2NyaXB0aW9uOiBwcm9kdWN0LmRlc2NyaXB0aW9uLFxuICAgICAgcmVzdW1lbjpwcm9kdWN0LnJlc3VtZW4sXG4gICAgICB0YWdzOnByb2R1Y3QudGFncz8gSlNPTi5wYXJzZShwcm9kdWN0LnRhZ3MpIDogW10sXG4gICAgICB0eXBlX2ludmVudGFyaW86cHJvZHVjdC50eXBlX2ludmVudGFyaW8sXG4gICAgICBjb25kaXRpb246cHJvZHVjdC5jb25kaXRpb24sXG4gICAgICB2YXJpZWRhZGVzOiB2YXJpZWRhZGVzLFxuICAgICAgZ2FsZXJpYXM6cHJvZHVjdC5nYWxlcmlhcy5tYXAoKGdhbGVyaWEpID0+e1xuICAgICAgICBnYWxlcmlhLmltYWdlbiA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwXCIrXCIvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC9cIitnYWxlcmlhLmltYWdlbjtcbiAgICAgICAgcmV0dXJuIGdhbGVyaWE7XG4gICAgICB9KVxuICAgIH1cbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7aUNBQWM7RUFDWkEsWUFBWSxFQUFFQSxDQUFDQyxPQUFPLEVBQUVDLFVBQVUsR0FBRyxFQUFFLEtBQUs7SUFDMUMsT0FBTTtNQUNKQyxHQUFHLEVBQUVGLE9BQU8sQ0FBQ0UsR0FBRztNQUNoQkMsS0FBSyxFQUFFSCxPQUFPLENBQUNHLEtBQUs7TUFDcEJDLE1BQU0sRUFBQyx1QkFBdUIsR0FBQyxnQ0FBZ0MsR0FBQ0osT0FBTyxDQUFDSyxPQUFPO01BQy9FQyxLQUFLLEVBQUVOLE9BQU8sQ0FBQ00sS0FBSztNQUNwQkMsSUFBSSxFQUFFUCxPQUFPLENBQUNPLElBQUk7TUFDbEJDLEdBQUcsRUFBRVIsT0FBTyxDQUFDUSxHQUFHO01BQ2hCQyxTQUFTLEVBQUNULE9BQU8sQ0FBQ1MsU0FBUztNQUMzQkMsUUFBUSxFQUFDVixPQUFPLENBQUNVLFFBQVE7TUFDekJDLFNBQVMsRUFBQ1gsT0FBTyxDQUFDVyxTQUFTO01BQzNCQyxLQUFLLEVBQUNaLE9BQU8sQ0FBQ1ksS0FBSztNQUNuQkMsV0FBVyxFQUFFYixPQUFPLENBQUNhLFdBQVc7TUFDaENDLE9BQU8sRUFBQ2QsT0FBTyxDQUFDYyxPQUFPO01BQ3ZCQyxJQUFJLEVBQUNmLE9BQU8sQ0FBQ2UsSUFBSSxHQUFFQyxJQUFJLENBQUNDLEtBQUssQ0FBQ2pCLE9BQU8sQ0FBQ2UsSUFBSSxDQUFDLEdBQUcsRUFBRTtNQUNoREcsZUFBZSxFQUFDbEIsT0FBTyxDQUFDa0IsZUFBZTtNQUN2Q0MsU0FBUyxFQUFDbkIsT0FBTyxDQUFDbUIsU0FBUztNQUMzQmxCLFVBQVUsRUFBRUEsVUFBVTtNQUN0Qm1CLFFBQVEsRUFBQ3BCLE9BQU8sQ0FBQ29CLFFBQVEsQ0FBQ0MsR0FBRyxDQUFFQyxPQUFPLElBQUk7UUFDeENBLE9BQU8sQ0FBQ2xCLE1BQU0sR0FBRyx1QkFBdUIsR0FBQyxnQ0FBZ0MsR0FBQ2tCLE9BQU8sQ0FBQ2xCLE1BQU07UUFDeEYsT0FBT2tCLE9BQU87TUFDaEIsQ0FBQztJQUNILENBQUM7RUFDSDtBQUNGLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["product_list","product","variedades","_id","title","imagen","portada","state","slug","sku","categorie","price_bs","price_usd","stock","description","resumen","tags","JSON","parse","type_inventario","condition","galerias","map","galeria"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["Product.js"],"sourcesContent":["export default{\n  product_list: (product, variedades = []) => {\n    return{\n      _id: product._id,\n      title: product.title,\n      imagen:\"http://localhost:3000\"+\"/api/products/uploads/product/\"+product.portada, \n      state: product.state,\n      slug: product.slug,\n      sku: product.sku,\n      categorie:product.categorie,\n      price_bs:product.price_bs,\n      price_usd:product.price_usd,\n      stock:product.stock,\n      description: product.description,\n      resumen:product.resumen,\n      tags:product.tags? JSON.parse(product.tags) : [],\n      type_inventario:product.type_inventario,\n      condition:product.condition,\n      variedades: variedades,\n      galerias:product.galerias.map((galeria) =>{\n        galeria.imagen = \"http://localhost:3000\"+\"/api/products/uploads/product/\"+galeria.imagen;\n        return galeria;\n      })\n    }\n  }\n}\n"],"mappings":";;;;;;iCAAc;EACZA,YAAY,EAAEA,CAACC,OAAO,EAAEC,UAAU,GAAG,EAAE,KAAK;IAC1C,OAAM;MACJC,GAAG,EAAEF,OAAO,CAACE,GAAG;MAChBC,KAAK,EAAEH,OAAO,CAACG,KAAK;MACpBC,MAAM,EAAC,uBAAuB,GAAC,gCAAgC,GAACJ,OAAO,CAACK,OAAO;MAC/EC,KAAK,EAAEN,OAAO,CAACM,KAAK;MACpBC,IAAI,EAAEP,OAAO,CAACO,IAAI;MAClBC,GAAG,EAAER,OAAO,CAACQ,GAAG;MAChBC,SAAS,EAACT,OAAO,CAACS,SAAS;MAC3BC,QAAQ,EAACV,OAAO,CAACU,QAAQ;MACzBC,SAAS,EAACX,OAAO,CAACW,SAAS;MAC3BC,KAAK,EAACZ,OAAO,CAACY,KAAK;MACnBC,WAAW,EAAEb,OAAO,CAACa,WAAW;MAChCC,OAAO,EAACd,OAAO,CAACc,OAAO;MACvBC,IAAI,EAACf,OAAO,CAACe,IAAI,GAAEC,IAAI,CAACC,KAAK,CAACjB,OAAO,CAACe,IAAI,CAAC,GAAG,EAAE;MAChDG,eAAe,EAAClB,OAAO,CAACkB,eAAe;MACvCC,SAAS,EAACnB,OAAO,CAACmB,SAAS;MAC3BlB,UAAU,EAAEA,UAAU;MACtBmB,QAAQ,EAACpB,OAAO,CAACoB,QAAQ,CAACC,GAAG,CAAEC,OAAO,IAAI;QACxCA,OAAO,CAAClB,MAAM,GAAG,uBAAuB,GAAC,gCAAgC,GAACkB,OAAO,CAAClB,MAAM;QACxF,OAAOkB,OAAO;MAChB,CAAC;IACH,CAAC;EACH;AACF,CAAC","ignoreList":[]}},"mtime":1737765508894},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _ProductController = _interopRequireDefault(require(\"../controllers/ProductController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nvar _VariedadController = _interopRequireDefault(require(\"../controllers/VariedadController\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/product'\n});\nconst router = (0, _expressPromiseRouter.default)();\n\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _ProductController.default.register);\n\n//IMAGEN PORTADA Y GALERIA\nrouter.post(\"/register_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.register_imagen);\nrouter.post(\"/remove_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.remove_imagen);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _ProductController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _ProductController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _ProductController.default.remove);\nrouter.get(\"/uploads/product/:img\", _ProductController.default.obtener_imagen);\nrouter.get(\"/show/:id\", _ProductController.default.show);\n\n// VARIEDAD\nrouter.post(\"/register-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.register);\nrouter.put(\"/update-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.update);\nrouter.delete(\"/delete-variedad/:id\", [_auth.default.verifyAdmin, path], _VariedadController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Qcm9kdWN0Q29udHJvbGxlciIsIl9hdXRoIiwiX2Nvbm5lY3RNdWx0aXBhcnR5IiwiX1ZhcmllZGFkQ29udHJvbGxlciIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInBhdGgiLCJtdWx0aXBhcnR5IiwidXBsb2FkRGlyIiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJwcm9kdWN0Q29udHJvbGxlciIsInJlZ2lzdGVyIiwicmVnaXN0ZXJfaW1hZ2VuIiwicmVtb3ZlX2ltYWdlbiIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJkZWxldGUiLCJyZW1vdmUiLCJvYnRlbmVyX2ltYWdlbiIsInNob3ciLCJ2YXJpZWRhZENvbnRyb2xsZXIiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRvcy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbIlByb2R1Y3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSBcImV4cHJlc3MtcHJvbWlzZS1yb3V0ZXJcIlxuaW1wb3J0IHByb2R1Y3RDb250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9Qcm9kdWN0Q29udHJvbGxlclwiXG5pbXBvcnQgYXV0aCBmcm9tIFwiLi4vbWlkZGxld2FyZXMvYXV0aFwiXG5pbXBvcnQgbXVsdGlwYXJ0eSBmcm9tICdjb25uZWN0LW11bHRpcGFydHknO1xuaW1wb3J0IHZhcmllZGFkQ29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvVmFyaWVkYWRDb250cm9sbGVyXCI7XG5cblxudmFyIHBhdGggPSBtdWx0aXBhcnR5KHt1cGxvYWREaXI6Jy4vdXBsb2Fkcy9wcm9kdWN0J30pO1xuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG4vLyBodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VzZXJzL3JlZ2lzdGVyXG5cbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsIFthdXRoLnZlcmlmeUFkbWluLCBwYXRoXSwgcHJvZHVjdENvbnRyb2xsZXIucmVnaXN0ZXIpO1xuXG5cbi8vSU1BR0VOIFBPUlRBREEgWSBHQUxFUklBXG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlcl9pbWFnZW5cIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGhdLCBwcm9kdWN0Q29udHJvbGxlci5yZWdpc3Rlcl9pbWFnZW4pO1xucm91dGVyLnBvc3QoXCIvcmVtb3ZlX2ltYWdlblwiLCBbYXV0aC52ZXJpZnlBZG1pbiwgcGF0aF0sIHByb2R1Y3RDb250cm9sbGVyLnJlbW92ZV9pbWFnZW4pO1xuXG5cbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0scHJvZHVjdENvbnRyb2xsZXIudXBkYXRlKTtcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4scHJvZHVjdENvbnRyb2xsZXIubGlzdCk7XG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLGF1dGgudmVyaWZ5QWRtaW4scHJvZHVjdENvbnRyb2xsZXIucmVtb3ZlKTtcblxucm91dGVyLmdldChcIi91cGxvYWRzL3Byb2R1Y3QvOmltZ1wiLHByb2R1Y3RDb250cm9sbGVyLm9idGVuZXJfaW1hZ2VuKTtcblxucm91dGVyLmdldChcIi9zaG93LzppZFwiLHByb2R1Y3RDb250cm9sbGVyLnNob3cpO1xuXG4vLyBWQVJJRURBRFxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXItdmFyaWVkYWRcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSx2YXJpZWRhZENvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnB1dChcIi91cGRhdGUtdmFyaWVkYWRcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSx2YXJpZWRhZENvbnRyb2xsZXIudXBkYXRlKTtcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlLXZhcmllZGFkLzppZFwiLFthdXRoLnZlcmlmeUFkbWluLHBhdGhdLHZhcmllZGFkQ29udHJvbGxlci5kZWxldGUpO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxrQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsa0JBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLG1CQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFBbUUsU0FBQUQsdUJBQUFNLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFHbkUsSUFBSUcsSUFBSSxHQUFHLElBQUFDLDBCQUFVLEVBQUM7RUFBQ0MsU0FBUyxFQUFDO0FBQW1CLENBQUMsQ0FBQztBQUN0RCxNQUFNQyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDOztBQUV4Qjs7QUFFQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFFUCxJQUFJLENBQUMsRUFBRVEsMEJBQWlCLENBQUNDLFFBQVEsQ0FBQzs7QUFHOUU7QUFDQU4sTUFBTSxDQUFDRSxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUVQLElBQUksQ0FBQyxFQUFFUSwwQkFBaUIsQ0FBQ0UsZUFBZSxDQUFDO0FBQzVGUCxNQUFNLENBQUNFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFDLEVBQUVRLDBCQUFpQixDQUFDRyxhQUFhLENBQUM7QUFHeEZSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLFNBQVMsRUFBQyxDQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNRLDBCQUFpQixDQUFDSyxNQUFNLENBQUM7QUFDdEVWLE1BQU0sQ0FBQ1csR0FBRyxDQUFDLE9BQU8sRUFBQ1IsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDBCQUFpQixDQUFDTyxJQUFJLENBQUM7QUFDM0RaLE1BQU0sQ0FBQ2EsTUFBTSxDQUFDLFNBQVMsRUFBQ1YsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDBCQUFpQixDQUFDUyxNQUFNLENBQUM7QUFFbEVkLE1BQU0sQ0FBQ1csR0FBRyxDQUFDLHVCQUF1QixFQUFDTiwwQkFBaUIsQ0FBQ1UsY0FBYyxDQUFDO0FBRXBFZixNQUFNLENBQUNXLEdBQUcsQ0FBQyxXQUFXLEVBQUNOLDBCQUFpQixDQUFDVyxJQUFJLENBQUM7O0FBRTlDO0FBQ0FoQixNQUFNLENBQUNFLElBQUksQ0FBQyxvQkFBb0IsRUFBQyxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNvQiwyQkFBa0IsQ0FBQ1gsUUFBUSxDQUFDO0FBQ3JGTixNQUFNLENBQUNTLEdBQUcsQ0FBQyxrQkFBa0IsRUFBQyxDQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNvQiwyQkFBa0IsQ0FBQ1AsTUFBTSxDQUFDO0FBQ2hGVixNQUFNLENBQUNhLE1BQU0sQ0FBQyxzQkFBc0IsRUFBQyxDQUFDVixhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNvQiwyQkFBa0IsQ0FBQ0osTUFBTSxDQUFDO0FBQUMsSUFBQUssUUFBQSxHQUFBQyxPQUFBLENBQUF2QixPQUFBLEdBR3pFSSxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_ProductController","_auth","_connectMultiparty","_VariedadController","e","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","productController","register","register_imagen","remove_imagen","put","update","get","list","delete","remove","obtener_imagen","show","variedadController","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Product.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport productController from \"../controllers/ProductController\"\nimport auth from \"../middlewares/auth\"\nimport multiparty from 'connect-multiparty';\nimport variedadController from \"../controllers/VariedadController\";\n\n\nvar path = multiparty({uploadDir:'./uploads/product'});\nconst router = routerx();\n\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", [auth.verifyAdmin, path], productController.register);\n\n\n//IMAGEN PORTADA Y GALERIA\nrouter.post(\"/register_imagen\", [auth.verifyAdmin, path], productController.register_imagen);\nrouter.post(\"/remove_imagen\", [auth.verifyAdmin, path], productController.remove_imagen);\n\n\nrouter.put(\"/update\",[auth.verifyAdmin,path],productController.update);\nrouter.get(\"/list\",auth.verifyAdmin,productController.list);\nrouter.delete(\"/delete\",auth.verifyAdmin,productController.remove);\n\nrouter.get(\"/uploads/product/:img\",productController.obtener_imagen);\n\nrouter.get(\"/show/:id\",productController.show);\n\n// VARIEDAD\nrouter.post(\"/register-variedad\",[auth.verifyAdmin,path],variedadController.register);\nrouter.put(\"/update-variedad\",[auth.verifyAdmin,path],variedadController.update);\nrouter.delete(\"/delete-variedad/:id\",[auth.verifyAdmin,path],variedadController.delete);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,kBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,mBAAA,GAAAL,sBAAA,CAAAC,OAAA;AAAmE,SAAAD,uBAAAM,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAGnE,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAC;AAAmB,CAAC,CAAC;AACtD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,0BAAiB,CAACC,QAAQ,CAAC;;AAG9E;AACAN,MAAM,CAACE,IAAI,CAAC,kBAAkB,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,0BAAiB,CAACE,eAAe,CAAC;AAC5FP,MAAM,CAACE,IAAI,CAAC,gBAAgB,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,0BAAiB,CAACG,aAAa,CAAC;AAGxFR,MAAM,CAACS,GAAG,CAAC,SAAS,EAAC,CAACN,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,0BAAiB,CAACK,MAAM,CAAC;AACtEV,MAAM,CAACW,GAAG,CAAC,OAAO,EAACR,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACO,IAAI,CAAC;AAC3DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACS,MAAM,CAAC;AAElEd,MAAM,CAACW,GAAG,CAAC,uBAAuB,EAACN,0BAAiB,CAACU,cAAc,CAAC;AAEpEf,MAAM,CAACW,GAAG,CAAC,WAAW,EAACN,0BAAiB,CAACW,IAAI,CAAC;;AAE9C;AACAhB,MAAM,CAACE,IAAI,CAAC,oBAAoB,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACoB,2BAAkB,CAACX,QAAQ,CAAC;AACrFN,MAAM,CAACS,GAAG,CAAC,kBAAkB,EAAC,CAACN,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACoB,2BAAkB,CAACP,MAAM,CAAC;AAChFV,MAAM,CAACa,MAAM,CAAC,sBAAsB,EAAC,CAACV,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACoB,2BAAkB,CAACJ,MAAM,CAAC;AAAC,IAAAK,QAAA,GAAAC,OAAA,CAAAvB,OAAA,GAGzEI,MAAM","ignoreList":[]}},"mtime":1737742376098},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/ProductController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_Product = await _models.default.Product.findOne({\n        title: data.title\n      });\n      if (valid_Product) {\n        res.status(200).json({\n          code: 403,\n          message: \"EL PRODUCTO YA EXISTE\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\n      if (req.files) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        data.portada = portada_name;\n      }\n      let product = await _models.default.Product.create(data);\n      res.status(200).json({\n        message: \"EL PRODUCTO SE REGISTRO SATISFACTORIAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_product = await _models.default.Product.findOne({\n        title: data.title,\n        _id: {\n          $ne: data._id\n        }\n      });\n      if (valid_product) {\n        res.status(200).json({\n          code: 403,\n          message: \"EL PRODUCTO YA EXISTE\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, \"-\").replace(/[^\\w-]+/g, '');\n      if (req.files && req.files.imagen) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        data.portada = portada_name;\n      }\n      await _models.default.Product.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: \"EL PRODUCTO SE ACTUALIZO SATISFACTORIAMENTE\"\n      });\n    } catch (error) {\n      console.log('mi falla es:', error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var filter = [];\n      if (req.query.search) {\n        filter.push({\n          \"title\": RegExp(req.query.search, \"i\")\n        });\n      }\n      if (req.query.categorie) {\n        filter.push({\n          \"categorie\": req.query.categorie\n        });\n      }\n      if (req.query.condition) {\n        filter.push({\n          \"condition\": req.query.condition\n        });\n      }\n      let products = await _models.default.Product.find({\n        $and: filter\n      }).populate(\"categorie\");\n      products = products.map(product => {\n        return _resourses.default.Product.product_list(product);\n      });\n      res.status(200).json({\n        products: products\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Product.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        massage: \"EL PRODUCTO SE ELIMINÓ SATISFACTORIAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/product/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/product/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      var product_id = req.params.id;\n      let PRODUCT = await _models.default.Product.findById({\n        _id: product_id\n      });\n      let VARIEDADES = await _models.default.Variedad.find({\n        product: product_id\n      });\n      res.status(200).json({\n        product: _resourses.default.Product.product_list(PRODUCT, VARIEDADES)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_imagen: async (req, res) => {\n    try {\n      var img_path = req.files.imagen.path;\n      var name = img_path.split('/');\n      var imagen_name = name[2];\n      let product = await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $push: {\n          galerias: {\n            imagen: imagen_name,\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"LA IMAGEN SE SUBIO CORRECTAMENTE\",\n        imagen: {\n          imagen: \"http://localhost:3000\" + \"/api/products/uploads/product/\" + imagen_name,\n          _id: req.body.__id\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  remove_imagen: async (req, res) => {\n    try {\n      await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $pull: {\n          galerias: {\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"LA IMAGEN SE ELIMINÓ CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3Vyc2VzIiwiX2ZzIiwiX3BhdGgiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5IiwidmFsaWRfUHJvZHVjdCIsIm1vZGVscyIsIlByb2R1Y3QiLCJmaW5kT25lIiwidGl0bGUiLCJzdGF0dXMiLCJqc29uIiwiY29kZSIsIm1lc3NhZ2UiLCJzbHVnIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwiZmlsZXMiLCJpbWdfcGF0aCIsImltYWdlbiIsInBhdGgiLCJuYW1lIiwic3BsaXQiLCJwb3J0YWRhX25hbWUiLCJwb3J0YWRhIiwicHJvZHVjdCIsImNyZWF0ZSIsImVycm9yIiwic2VuZCIsInVwZGF0ZSIsInZhbGlkX3Byb2R1Y3QiLCJfaWQiLCIkbmUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsImNvbnNvbGUiLCJsb2ciLCJsaXN0IiwiZmlsdGVyIiwicXVlcnkiLCJzZWFyY2giLCJwdXNoIiwiUmVnRXhwIiwiY2F0ZWdvcmllIiwiY29uZGl0aW9uIiwicHJvZHVjdHMiLCJmaW5kIiwiJGFuZCIsInBvcHVsYXRlIiwibWFwIiwicmVzb3Vyc2VzIiwicHJvZHVjdF9saXN0IiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiLCJtYXNzYWdlIiwib2J0ZW5lcl9pbWFnZW4iLCJpbWciLCJwYXJhbXMiLCJmcyIsInN0YXQiLCJlcnIiLCJwYXRoX2ltZyIsInNlbmRGaWxlIiwicmVzb2x2ZSIsInNob3ciLCJwcm9kdWN0X2lkIiwiaWQiLCJQUk9EVUNUIiwiZmluZEJ5SWQiLCJWQVJJRURBREVTIiwiVmFyaWVkYWQiLCJyZWdpc3Rlcl9pbWFnZW4iLCJpbWFnZW5fbmFtZSIsIiRwdXNoIiwiZ2FsZXJpYXMiLCJfX2lkIiwicmVtb3ZlX2ltYWdlbiIsIiRwdWxsIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIlByb2R1Y3RDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSAnLi4vbW9kZWxzJ1xuaW1wb3J0IHJlc291cnNlcyBmcm9tICcuLi9yZXNvdXJzZXMnO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcblxuZXhwb3J0IGRlZmF1bHR7XG4gIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PntcbiAgICB0cnkge1xuICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcbiAgICBcbiAgICAgIGxldCB2YWxpZF9Qcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZE9uZSh7dGl0bGU6ZGF0YS50aXRsZX0pO1xuICAgICAgaWYodmFsaWRfUHJvZHVjdCl7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICBjb2RlOjQwMyxcbiAgICAgICAgICBtZXNzYWdlOiBcIkVMIFBST0RVQ1RPIFlBIEVYSVNURVwiXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkYXRhLnNsdWcgPSBkYXRhLnRpdGxlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvIC9nLCctJykucmVwbGFjZSgvW15cXHctXSsvZywnJyk7XG5cbiAgICAgIGlmKHJlcS5maWxlcyl7XG4gICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5pbWFnZW4ucGF0aDtcbiAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhwb3J0YWRhX25hbWUpXG4gICAgICAgIGRhdGEucG9ydGFkYSA9IHBvcnRhZGFfbmFtZTtcbiAgICAgIH1cblxuICAgICAgbGV0IHByb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5jcmVhdGUoZGF0YSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJFTCBQUk9EVUNUTyBTRSBSRUdJU1RSTyBTQVRJU0ZBQ1RPUklBTUVOVEVcIlxuICAgICAgfSk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIHVwZGF0ZTogYXN5bmMocmVxLHJlcykgPT57XG4gICAgdHJ5IHtcbiAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XG4gICAgICBcbiAgICAgIGxldCB2YWxpZF9wcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZE9uZSh7dGl0bGU6ZGF0YS50aXRsZSwgX2lkOnskbmU6IGRhdGEuX2lkfX0pO1xuXG4gICAgICBpZih2YWxpZF9wcm9kdWN0KXtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgIGNvZGU6NDAzLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgUFJPRFVDVE8gWUEgRVhJU1RFXCJcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRhdGEuc2x1ZyA9IGRhdGEudGl0bGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8gL2csXCItXCIpLnJlcGxhY2UoL1teXFx3LV0rL2csJycpO1xuXG4gICAgICBpZihyZXEuZmlsZXMgJiYgcmVxLmZpbGVzLmltYWdlbil7XG4gICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5pbWFnZW4ucGF0aDtcbiAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhwb3J0YWRhX25hbWUpXG4gICAgICAgIGRhdGEucG9ydGFkYSA9IHBvcnRhZGFfbmFtZTtcbiAgICAgIH1cblxuICAgICBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOmRhdGEuX2lkfSwgZGF0YSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJFTCBQUk9EVUNUTyBTRSBBQ1RVQUxJWk8gU0FUSVNGQUNUT1JJQU1FTlRFXCJcbiAgICAgIH0pO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdtaSBmYWxsYSBlczonLCBlcnJvcilcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgIH1cblxuICB9LFxuXG5cbiAgbGlzdDogYXN5bmMocmVxLHJlcykgPT57XG4gICAgdHJ5IHtcbiAgICAgIHZhciBmaWx0ZXIgPSBbXTtcbiAgICAgIGlmKHJlcS5xdWVyeS5zZWFyY2gpe1xuICAgICAgICBmaWx0ZXIucHVzaChcbiAgICAgICAgICB7XCJ0aXRsZVwiOiBSZWdFeHAocmVxLnF1ZXJ5LnNlYXJjaCwgXCJpXCIpfSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmKHJlcS5xdWVyeS5jYXRlZ29yaWUpe1xuICAgICAgICBmaWx0ZXIucHVzaChcbiAgICAgICAgICB7XCJjYXRlZ29yaWVcIjogcmVxLnF1ZXJ5LmNhdGVnb3JpZX0sXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZihyZXEucXVlcnkuY29uZGl0aW9uKXtcbiAgICAgICAgZmlsdGVyLnB1c2goXG4gICAgICAgICAge1wiY29uZGl0aW9uXCI6IHJlcS5xdWVyeS5jb25kaXRpb259LFxuICAgICAgICApO1xuICAgICAgfVxuICBcbiAgICAgIGxldCBwcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoe1xuICAgICAgICAkYW5kOiBmaWx0ZXIsXG4gICAgICB9KS5wb3B1bGF0ZShcImNhdGVnb3JpZVwiKVxuICBcbiAgICAgIHByb2R1Y3RzID0gcHJvZHVjdHMubWFwKHByb2R1Y3QgPT4ge1xuICAgICAgICByZXR1cm4gcmVzb3Vyc2VzLlByb2R1Y3QucHJvZHVjdF9saXN0KHByb2R1Y3QpO1xuICAgICAgfSlcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgcHJvZHVjdHM6IHByb2R1Y3RzLFxuICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBcblxuICByZW1vdmU6IGFzeW5jKHJlcSxyZXMpID0+e1xuICAgIHRyeSB7XG4gICAgICBsZXQgX2lkID0gcmVxLnF1ZXJ5Ll9pZDtcbiAgICAgIGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6X2lkfSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWFzc2FnZTogXCJFTCBQUk9EVUNUTyBTRSBFTElNSU7DkyBTQVRJU0ZBQ1RPUklBTUVOVEVcIlxuICAgICAgfSk7XG5cbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICB9XG5cbiAgfSxcblxuICBvYnRlbmVyX2ltYWdlbjogYXN5bmMocmVxLHJlcykgPT57XG4gICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBpbWcgPSByZXEucGFyYW1zWydpbWcnXTtcbiAgICAgICAgICAgIGZzLnN0YXQoJy4vdXBsb2Fkcy9wcm9kdWN0LycrIGltZywgZnVuY3Rpb24oZXJyKXtcbiAgICAgICAgICAgICAgICBpZighZXJyKXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9wcm9kdWN0LycraW1nO1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvZGVmYXVsdC5qcGcnO1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfWNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gIH0sXG5cbiAgc2hvdzogYXN5bmMocmVxLHJlcykgPT57XG4gICAgdHJ5IHtcbiAgICAgIHZhciBwcm9kdWN0X2lkID0gcmVxLnBhcmFtcy5pZDtcbiAgICAgIGxldCBQUk9EVUNUID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWQoe19pZDogcHJvZHVjdF9pZH0pO1xuXG4gICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OiBwcm9kdWN0X2lkfSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgcHJvZHVjdDogcmVzb3Vyc2VzLlByb2R1Y3QucHJvZHVjdF9saXN0KFBST0RVQ1QsIFZBUklFREFERVMpLFxuICAgICAgfSlcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuXG4gIH0sXG5cbiAgcmVnaXN0ZXJfaW1hZ2VuOiBhc3luYyhyZXEscmVzKSA9PntcbiAgICB0cnkge1xuICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMuaW1hZ2VuLnBhdGg7XG4gICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgdmFyIGltYWdlbl9uYW1lID0gbmFtZVsyXTtcblxuICAgICAgICBsZXQgcHJvZHVjdCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0sIHtcbiAgICAgICAgICAkcHVzaDoge1xuICAgICAgICAgICAgZ2FsZXJpYXM6e1xuICAgICAgICAgICAgICBpbWFnZW46IGltYWdlbl9uYW1lLFxuICAgICAgICAgICAgICBfaWQ6IHJlcS5ib2R5Ll9faWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIkxBIElNQUdFTiBTRSBTVUJJTyBDT1JSRUNUQU1FTlRFXCIsXG4gICAgICAgICAgaW1hZ2VuOiB7XG4gICAgICAgICAgICBpbWFnZW46IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwXCIrXCIvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC9cIitpbWFnZW5fbmFtZSxcbiAgICAgICAgICAgICAgX2lkOiByZXEuYm9keS5fX2lkLFxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgfVxuXG4gIH0sXG5cbiAgcmVtb3ZlX2ltYWdlbjphc3luYyhyZXEscmVzKSA9PntcbiAgICB0cnkge1xuICAgICAgIGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0sIHtcbiAgICAgICAgICAkcHVsbDoge1xuICAgICAgICAgICAgZ2FsZXJpYXM6e1xuICAgICAgICAgICAgICBfaWQ6IHJlcS5ib2R5Ll9faWQsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KSAgICAgXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIkxBIElNQUdFTiBTRSBFTElNSU7DkyBDT1JSRUNUQU1FTlRFXCIsXG4gICAgICAgIH0pXG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgICAgXG4gICAgfVxuXG4gIH0sXG5cblxuXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxHQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxLQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBdUIsU0FBQUQsdUJBQUFLLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVUO0VBQ1pHLFFBQVEsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FBSTtJQUN6QixJQUFJO01BQ0YsSUFBSUMsSUFBSSxHQUFHRixH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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resourses","_fs","_path","e","__esModule","default","_default","exports","register","req","res","data","body","valid_Product","models","Product","findOne","title","status","json","code","message","slug","toLowerCase","replace","files","img_path","imagen","path","name","split","portada_name","portada","product","create","error","send","update","valid_product","_id","$ne","findByIdAndUpdate","console","log","list","filter","query","search","push","RegExp","categorie","condition","products","find","$and","populate","map","resourses","product_list","remove","findByIdAndDelete","massage","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","show","product_id","id","PRODUCT","findById","VARIEDADES","Variedad","register_imagen","imagen_name","$push","galerias","__id","remove_imagen","$pull"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["ProductController.js"],"sourcesContent":["import models from '../models'\nimport resourses from '../resourses';\nimport fs from 'fs'\nimport path from 'path'\n\nexport default{\n  register: async(req,res) =>{\n    try {\n      let data = req.body;\n    \n      let valid_Product = await models.Product.findOne({title:data.title});\n      if(valid_Product){\n        res.status(200).json({\n          code:403,\n          message: \"EL PRODUCTO YA EXISTE\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g,'-').replace(/[^\\w-]+/g,'');\n\n      if(req.files){\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        data.portada = portada_name;\n      }\n\n      let product = await models.Product.create(data);\n\n      res.status(200).json({\n        message: \"EL PRODUCTO SE REGISTRO SATISFACTORIAMENTE\"\n      });\n\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n\n  update: async(req,res) =>{\n    try {\n      let data = req.body;\n      \n      let valid_product = await models.Product.findOne({title:data.title, _id:{$ne: data._id}});\n\n      if(valid_product){\n        res.status(200).json({\n          code:403,\n          message: \"EL PRODUCTO YA EXISTE\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g,\"-\").replace(/[^\\w-]+/g,'');\n\n      if(req.files && req.files.imagen){\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        data.portada = portada_name;\n      }\n\n     await models.Product.findByIdAndUpdate({_id:data._id}, data);\n\n      res.status(200).json({\n        message: \"EL PRODUCTO SE ACTUALIZO SATISFACTORIAMENTE\"\n      });\n\n    } catch (error) {\n      console.log('mi falla es:', error)\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n\n  },\n\n\n  list: async(req,res) =>{\n    try {\n      var filter = [];\n      if(req.query.search){\n        filter.push(\n          {\"title\": RegExp(req.query.search, \"i\")},\n        );\n      }\n      if(req.query.categorie){\n        filter.push(\n          {\"categorie\": req.query.categorie},\n        );\n      }\n      if(req.query.condition){\n        filter.push(\n          {\"condition\": req.query.condition},\n        );\n      }\n  \n      let products = await models.Product.find({\n        $and: filter,\n      }).populate(\"categorie\")\n  \n      products = products.map(product => {\n        return resourses.Product.product_list(product);\n      })\n      res.status(200).json({\n        products: products,\n      })\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  \n\n  remove: async(req,res) =>{\n    try {\n      let _id = req.query._id;\n      await models.Product.findByIdAndDelete({_id:_id});\n\n      res.status(200).json({\n        massage: \"EL PRODUCTO SE ELIMINÓ SATISFACTORIAMENTE\"\n      });\n\n      \n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n\n  },\n\n  obtener_imagen: async(req,res) =>{\n    try {\n            var img = req.params['img'];\n            fs.stat('./uploads/product/'+ img, function(err){\n                if(!err){\n                    let path_img = './uploads/product/'+img;\n                    res.status(200).sendFile(path.resolve(path_img));\n                }else{\n                    let path_img = './uploads/default.jpg';\n                    res.status(200).sendFile(path.resolve(path_img));\n                }\n            })\n        }catch (error) {\n          res.status(500).send({\n            message: \"OCURRIÓ UN PROBLEMA\"\n          });\n        }\n  },\n\n  show: async(req,res) =>{\n    try {\n      var product_id = req.params.id;\n      let PRODUCT = await models.Product.findById({_id: product_id});\n\n      let VARIEDADES = await models.Variedad.find({product: product_id});\n\n      res.status(200).json({\n        product: resourses.Product.product_list(PRODUCT, VARIEDADES),\n      })\n      \n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n\n  },\n\n  register_imagen: async(req,res) =>{\n    try {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var imagen_name = name[2];\n\n        let product = await models.Product.findByIdAndUpdate({_id: req.body._id}, {\n          $push: {\n            galerias:{\n              imagen: imagen_name,\n              _id: req.body.__id\n            }\n          }\n        })\n        res.status(200).json({\n          message: \"LA IMAGEN SE SUBIO CORRECTAMENTE\",\n          imagen: {\n            imagen: \"http://localhost:3000\"+\"/api/products/uploads/product/\"+imagen_name,\n              _id: req.body.__id,\n          }\n        })\n      \n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n\n  },\n\n  remove_imagen:async(req,res) =>{\n    try {\n       await models.Product.findByIdAndUpdate({_id: req.body._id}, {\n          $pull: {\n            galerias:{\n              _id: req.body.__id,\n            }\n          }\n        })     \n        res.status(200).json({\n          message: \"LA IMAGEN SE ELIMINÓ CORRECTAMENTE\",\n        })\n      \n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      \n    }\n\n  },\n\n\n\n}"],"mappings":"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","ignoreList":[]}},"mtime":1737903040346},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _ProductController = _interopRequireDefault(require(\"../controllers/ProductController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nvar _VariedadController = _interopRequireDefault(require(\"../controllers/VariedadController\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/product'\n});\nconst router = (0, _expressPromiseRouter.default)();\n\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _ProductController.default.register);\n\n//IMAGEN PORTADA Y GALERIA\nrouter.post(\"/register_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.register_imagen);\nrouter.post(\"/remove_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.remove_imagen);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _ProductController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _ProductController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _ProductController.default.remove);\nrouter.get(\"/uploads/product/:img\", _ProductController.default.obtener_imagen);\nrouter.get(\"/show/:id\", _ProductController.default.show);\n\n// VARIEDAD\nrouter.post(\"/register-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.register);\nrouter.put(\"/update-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.update);\nrouter.delete(\"/delete-variedad/:id\", [_auth.default.verifyAdmin, path], _VariedadController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Qcm9kdWN0Q29udHJvbGxlciIsIl9hdXRoIiwiX2Nvbm5lY3RNdWx0aXBhcnR5IiwiX1ZhcmllZGFkQ29udHJvbGxlciIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInBhdGgiLCJtdWx0aXBhcnR5IiwidXBsb2FkRGlyIiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJwcm9kdWN0Q29udHJvbGxlciIsInJlZ2lzdGVyIiwicmVnaXN0ZXJfaW1hZ2VuIiwicmVtb3ZlX2ltYWdlbiIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJkZWxldGUiLCJyZW1vdmUiLCJvYnRlbmVyX2ltYWdlbiIsInNob3ciLCJ2YXJpZWRhZENvbnRyb2xsZXIiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRvcy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbIlByb2R1Y3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSBcImV4cHJlc3MtcHJvbWlzZS1yb3V0ZXJcIlxuaW1wb3J0IHByb2R1Y3RDb250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9Qcm9kdWN0Q29udHJvbGxlclwiXG5pbXBvcnQgYXV0aCBmcm9tIFwiLi4vbWlkZGxld2FyZXMvYXV0aFwiXG5pbXBvcnQgbXVsdGlwYXJ0eSBmcm9tICdjb25uZWN0LW11bHRpcGFydHknO1xuaW1wb3J0IHZhcmllZGFkQ29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvVmFyaWVkYWRDb250cm9sbGVyXCI7XG5cblxudmFyIHBhdGggPSBtdWx0aXBhcnR5KHt1cGxvYWREaXI6Jy4vdXBsb2Fkcy9wcm9kdWN0J30pO1xuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG4vLyBodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VzZXJzL3JlZ2lzdGVyXG5cbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsIFthdXRoLnZlcmlmeUFkbWluLCBwYXRoXSwgcHJvZHVjdENvbnRyb2xsZXIucmVnaXN0ZXIpO1xuXG5cbi8vSU1BR0VOIFBPUlRBREEgWSBHQUxFUklBXG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlcl9pbWFnZW5cIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGhdLCBwcm9kdWN0Q29udHJvbGxlci5yZWdpc3Rlcl9pbWFnZW4pO1xucm91dGVyLnBvc3QoXCIvcmVtb3ZlX2ltYWdlblwiLCBbYXV0aC52ZXJpZnlBZG1pbiwgcGF0aF0sIHByb2R1Y3RDb250cm9sbGVyLnJlbW92ZV9pbWFnZW4pO1xuXG5cbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0scHJvZHVjdENvbnRyb2xsZXIudXBkYXRlKTtcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4scHJvZHVjdENvbnRyb2xsZXIubGlzdCk7XG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLGF1dGgudmVyaWZ5QWRtaW4scHJvZHVjdENvbnRyb2xsZXIucmVtb3ZlKTtcblxucm91dGVyLmdldChcIi91cGxvYWRzL3Byb2R1Y3QvOmltZ1wiLHByb2R1Y3RDb250cm9sbGVyLm9idGVuZXJfaW1hZ2VuKTtcblxucm91dGVyLmdldChcIi9zaG93LzppZFwiLHByb2R1Y3RDb250cm9sbGVyLnNob3cpO1xuXG4vLyBWQVJJRURBRFxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXItdmFyaWVkYWRcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSx2YXJpZWRhZENvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnB1dChcIi91cGRhdGUtdmFyaWVkYWRcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSx2YXJpZWRhZENvbnRyb2xsZXIudXBkYXRlKTtcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlLXZhcmllZGFkLzppZFwiLFthdXRoLnZlcmlmeUFkbWluLHBhdGhdLHZhcmllZGFkQ29udHJvbGxlci5kZWxldGUpO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxrQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsa0JBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLG1CQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFBbUUsU0FBQUQsdUJBQUFNLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFHbkUsSUFBSUcsSUFBSSxHQUFHLElBQUFDLDBCQUFVLEVBQUM7RUFBQ0MsU0FBUyxFQUFDO0FBQW1CLENBQUMsQ0FBQztBQUN0RCxNQUFNQyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDOztBQUV4Qjs7QUFFQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFFUCxJQUFJLENBQUMsRUFBRVEsMEJBQWlCLENBQUNDLFFBQVEsQ0FBQzs7QUFHOUU7QUFDQU4sTUFBTSxDQUFDRSxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUVQLElBQUksQ0FBQyxFQUFFUSwwQkFBaUIsQ0FBQ0UsZUFBZSxDQUFDO0FBQzVGUCxNQUFNLENBQUNFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFDLEVBQUVRLDBCQUFpQixDQUFDRyxhQUFhLENBQUM7QUFHeEZSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLFNBQVMsRUFBQyxDQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNRLDBCQUFpQixDQUFDSyxNQUFNLENBQUM7QUFDdEVWLE1BQU0sQ0FBQ1csR0FBRyxDQUFDLE9BQU8sRUFBQ1IsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDBCQUFpQixDQUFDTyxJQUFJLENBQUM7QUFDM0RaLE1BQU0sQ0FBQ2EsTUFBTSxDQUFDLFNBQVMsRUFBQ1YsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDBCQUFpQixDQUFDUyxNQUFNLENBQUM7QUFFbEVkLE1BQU0sQ0FBQ1csR0FBRyxDQUFDLHVCQUF1QixFQUFDTiwwQkFBaUIsQ0FBQ1UsY0FBYyxDQUFDO0FBRXBFZixNQUFNLENBQUNXLEdBQUcsQ0FBQyxXQUFXLEVBQUNOLDBCQUFpQixDQUFDVyxJQUFJLENBQUM7O0FBRTlDO0FBQ0FoQixNQUFNLENBQUNFLElBQUksQ0FBQyxvQkFBb0IsRUFBQyxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNvQiwyQkFBa0IsQ0FBQ1gsUUFBUSxDQUFDO0FBQ3JGTixNQUFNLENBQUNTLEdBQUcsQ0FBQyxrQkFBa0IsRUFBQyxDQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNvQiwyQkFBa0IsQ0FBQ1AsTUFBTSxDQUFDO0FBQ2hGVixNQUFNLENBQUNhLE1BQU0sQ0FBQyxzQkFBc0IsRUFBQyxDQUFDVixhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNvQiwyQkFBa0IsQ0FBQ0osTUFBTSxDQUFDO0FBQUMsSUFBQUssUUFBQSxHQUFBQyxPQUFBLENBQUF2QixPQUFBLEdBR3pFSSxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_ProductController","_auth","_connectMultiparty","_VariedadController","e","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","productController","register","register_imagen","remove_imagen","put","update","get","list","delete","remove","obtener_imagen","show","variedadController","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Product.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport productController from \"../controllers/ProductController\"\nimport auth from \"../middlewares/auth\"\nimport multiparty from 'connect-multiparty';\nimport variedadController from \"../controllers/VariedadController\";\n\n\nvar path = multiparty({uploadDir:'./uploads/product'});\nconst router = routerx();\n\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", [auth.verifyAdmin, path], productController.register);\n\n\n//IMAGEN PORTADA Y GALERIA\nrouter.post(\"/register_imagen\", [auth.verifyAdmin, path], productController.register_imagen);\nrouter.post(\"/remove_imagen\", [auth.verifyAdmin, path], productController.remove_imagen);\n\n\nrouter.put(\"/update\",[auth.verifyAdmin,path],productController.update);\nrouter.get(\"/list\",auth.verifyAdmin,productController.list);\nrouter.delete(\"/delete\",auth.verifyAdmin,productController.remove);\n\nrouter.get(\"/uploads/product/:img\",productController.obtener_imagen);\n\nrouter.get(\"/show/:id\",productController.show);\n\n// VARIEDAD\nrouter.post(\"/register-variedad\",[auth.verifyAdmin,path],variedadController.register);\nrouter.put(\"/update-variedad\",[auth.verifyAdmin,path],variedadController.update);\nrouter.delete(\"/delete-variedad/:id\",[auth.verifyAdmin,path],variedadController.delete);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,kBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,mBAAA,GAAAL,sBAAA,CAAAC,OAAA;AAAmE,SAAAD,uBAAAM,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAGnE,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAC;AAAmB,CAAC,CAAC;AACtD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,0BAAiB,CAACC,QAAQ,CAAC;;AAG9E;AACAN,MAAM,CAACE,IAAI,CAAC,kBAAkB,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,0BAAiB,CAACE,eAAe,CAAC;AAC5FP,MAAM,CAACE,IAAI,CAAC,gBAAgB,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,0BAAiB,CAACG,aAAa,CAAC;AAGxFR,MAAM,CAACS,GAAG,CAAC,SAAS,EAAC,CAACN,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,0BAAiB,CAACK,MAAM,CAAC;AACtEV,MAAM,CAACW,GAAG,CAAC,OAAO,EAACR,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACO,IAAI,CAAC;AAC3DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACS,MAAM,CAAC;AAElEd,MAAM,CAACW,GAAG,CAAC,uBAAuB,EAACN,0BAAiB,CAACU,cAAc,CAAC;AAEpEf,MAAM,CAACW,GAAG,CAAC,WAAW,EAACN,0BAAiB,CAACW,IAAI,CAAC;;AAE9C;AACAhB,MAAM,CAACE,IAAI,CAAC,oBAAoB,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACoB,2BAAkB,CAACX,QAAQ,CAAC;AACrFN,MAAM,CAACS,GAAG,CAAC,kBAAkB,EAAC,CAACN,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACoB,2BAAkB,CAACP,MAAM,CAAC;AAChFV,MAAM,CAACa,MAAM,CAAC,sBAAsB,EAAC,CAACV,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACoB,2BAAkB,CAACJ,MAAM,CAAC;AAAC,IAAAK,QAAA,GAAAC,OAAA,CAAAvB,OAAA,GAGzEI,MAAM","ignoreList":[]}},"mtime":1737742376098},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/ProductController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_Product = await _models.default.Product.findOne({\n        title: data.title\n      });\n      if (valid_Product) {\n        res.status(200).json({\n          code: 403,\n          message: \"EL PRODUCTO YA EXISTE\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\n      if (req.files) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        data.portada = portada_name;\n      }\n      let product = await _models.default.Product.create(data);\n      res.status(200).json({\n        message: \"EL PRODUCTO SE REGISTRO SATISFACTORIAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_product = await _models.default.Product.findOne({\n        title: data.title,\n        _id: {\n          $ne: data._id\n        }\n      });\n      if (valid_product) {\n        res.status(200).json({\n          code: 403,\n          message: \"EL PRODUCTO YA EXISTE\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, \"-\").replace(/[^\\w-]+/g, '');\n      if (req.files && req.files.imagen) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        data.portada = portada_name;\n      }\n      await _models.default.Product.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: \"EL PRODUCTO SE ACTUALIZO SATISFACTORIAMENTE\"\n      });\n    } catch (error) {\n      console.log('mi falla es:', error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var filter = [];\n      if (req.query.search) {\n        filter.push({\n          \"title\": RegExp(req.query.search, \"i\")\n        });\n      }\n      if (req.query.categorie) {\n        filter.push({\n          \"categorie\": req.query.categorie\n        });\n      }\n      if (req.query.condition) {\n        filter.push({\n          \"condition\": req.query.condition\n        });\n      }\n      let products = await _models.default.Product.find({\n        $and: filter\n      }).populate(\"categorie\");\n      products = products.map(product => {\n        return _resourses.default.Product.product_list(product);\n      });\n      res.status(200).json({\n        products: products\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Product.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        massage: \"EL PRODUCTO SE ELIMINÓ SATISFACTORIAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/product/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/product/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      var product_id = req.params.id;\n      let PRODUCT = await _models.default.Product.findById({\n        _id: product_id\n      });\n      let VARIEDADES = await _models.default.Variedad.find({\n        product: product_id\n      });\n      res.status(200).json({\n        product: _resourses.default.Product.product_list(PRODUCT, VARIEDADES)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_imagen: async (req, res) => {\n    try {\n      var img_path = req.files.imagen.path;\n      var name = img_path.split('/');\n      var imagen_name = name[2];\n      let product = await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $push: {\n          galerias: {\n            imagen: imagen_name,\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"LA IMAGEN SE SUBIO CORRECTAMENTE\",\n        imagen: {\n          imagen: \"http://localhost:3000\" + \"/api/products/uploads/product/\" + imagen_name,\n          _id: req.body.__id\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  remove_imagen: async (req, res) => {\n    try {\n      await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $pull: {\n          galerias: {\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"LA IMAGEN SE ELIMINÓ CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3Vyc2VzIiwiX2ZzIiwiX3BhdGgiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5IiwidmFsaWRfUHJvZHVjdCIsIm1vZGVscyIsIlByb2R1Y3QiLCJmaW5kT25lIiwidGl0bGUiLCJzdGF0dXMiLCJqc29uIiwiY29kZSIsIm1lc3NhZ2UiLCJzbHVnIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwiZmlsZXMiLCJpbWdfcGF0aCIsImltYWdlbiIsInBhdGgiLCJuYW1lIiwic3BsaXQiLCJwb3J0YWRhX25hbWUiLCJwb3J0YWRhIiwicHJvZHVjdCIsImNyZWF0ZSIsImVycm9yIiwic2VuZCIsInVwZGF0ZSIsInZhbGlkX3Byb2R1Y3QiLCJfaWQiLCIkbmUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsImNvbnNvbGUiLCJsb2ciLCJsaXN0IiwiZmlsdGVyIiwicXVlcnkiLCJzZWFyY2giLCJwdXNoIiwiUmVnRXhwIiwiY2F0ZWdvcmllIiwiY29uZGl0aW9uIiwicHJvZHVjdHMiLCJmaW5kIiwiJGFuZCIsInBvcHVsYXRlIiwibWFwIiwicmVzb3Vyc2VzIiwicHJvZHVjdF9saXN0IiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiLCJtYXNzYWdlIiwib2J0ZW5lcl9pbWFnZW4iLCJpbWciLCJwYXJhbXMiLCJmcyIsInN0YXQiLCJlcnIiLCJwYXRoX2ltZyIsInNlbmRGaWxlIiwicmVzb2x2ZSIsInNob3ciLCJwcm9kdWN0X2lkIiwiaWQiLCJQUk9EVUNUIiwiZmluZEJ5SWQiLCJWQVJJRURBREVTIiwiVmFyaWVkYWQiLCJyZWdpc3Rlcl9pbWFnZW4iLCJpbWFnZW5fbmFtZSIsIiRwdXNoIiwiZ2FsZXJpYXMiLCJfX2lkIiwicmVtb3ZlX2ltYWdlbiIsIiRwdWxsIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIlByb2R1Y3RDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSAnLi4vbW9kZWxzJ1xuaW1wb3J0IHJlc291cnNlcyBmcm9tICcuLi9yZXNvdXJzZXMnO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcblxuZXhwb3J0IGRlZmF1bHR7XG4gIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PntcbiAgICB0cnkge1xuICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcbiAgICBcbiAgICAgIGxldCB2YWxpZF9Qcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZE9uZSh7dGl0bGU6ZGF0YS50aXRsZX0pO1xuICAgICAgaWYodmFsaWRfUHJvZHVjdCl7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICBjb2RlOjQwMyxcbiAgICAgICAgICBtZXNzYWdlOiBcIkVMIFBST0RVQ1RPIFlBIEVYSVNURVwiXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkYXRhLnNsdWcgPSBkYXRhLnRpdGxlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvIC9nLCctJykucmVwbGFjZSgvW15cXHctXSsvZywnJyk7XG5cbiAgICAgIGlmKHJlcS5maWxlcyl7XG4gICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5pbWFnZW4ucGF0aDtcbiAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhwb3J0YWRhX25hbWUpXG4gICAgICAgIGRhdGEucG9ydGFkYSA9IHBvcnRhZGFfbmFtZTtcbiAgICAgIH1cblxuICAgICAgbGV0IHByb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5jcmVhdGUoZGF0YSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJFTCBQUk9EVUNUTyBTRSBSRUdJU1RSTyBTQVRJU0ZBQ1RPUklBTUVOVEVcIlxuICAgICAgfSk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIHVwZGF0ZTogYXN5bmMocmVxLHJlcykgPT57XG4gICAgdHJ5IHtcbiAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XG4gICAgICBcbiAgICAgIGxldCB2YWxpZF9wcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZE9uZSh7dGl0bGU6ZGF0YS50aXRsZSwgX2lkOnskbmU6IGRhdGEuX2lkfX0pO1xuXG4gICAgICBpZih2YWxpZF9wcm9kdWN0KXtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgIGNvZGU6NDAzLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgUFJPRFVDVE8gWUEgRVhJU1RFXCJcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRhdGEuc2x1ZyA9IGRhdGEudGl0bGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8gL2csXCItXCIpLnJlcGxhY2UoL1teXFx3LV0rL2csJycpO1xuXG4gICAgICBpZihyZXEuZmlsZXMgJiYgcmVxLmZpbGVzLmltYWdlbil7XG4gICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5pbWFnZW4ucGF0aDtcbiAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhwb3J0YWRhX25hbWUpXG4gICAgICAgIGRhdGEucG9ydGFkYSA9IHBvcnRhZGFfbmFtZTtcbiAgICAgIH1cblxuICAgICBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOmRhdGEuX2lkfSwgZGF0YSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJFTCBQUk9EVUNUTyBTRSBBQ1RVQUxJWk8gU0FUSVNGQUNUT1JJQU1FTlRFXCJcbiAgICAgIH0pO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdtaSBmYWxsYSBlczonLCBlcnJvcilcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgIH1cblxuICB9LFxuXG5cbiAgbGlzdDogYXN5bmMocmVxLHJlcykgPT57XG4gICAgdHJ5IHtcbiAgICAgIHZhciBmaWx0ZXIgPSBbXTtcbiAgICAgIGlmKHJlcS5xdWVyeS5zZWFyY2gpe1xuICAgICAgICBmaWx0ZXIucHVzaChcbiAgICAgICAgICB7XCJ0aXRsZVwiOiBSZWdFeHAocmVxLnF1ZXJ5LnNlYXJjaCwgXCJpXCIpfSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmKHJlcS5xdWVyeS5jYXRlZ29yaWUpe1xuICAgICAgICBmaWx0ZXIucHVzaChcbiAgICAgICAgICB7XCJjYXRlZ29yaWVcIjogcmVxLnF1ZXJ5LmNhdGVnb3JpZX0sXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZihyZXEucXVlcnkuY29uZGl0aW9uKXtcbiAgICAgICAgZmlsdGVyLnB1c2goXG4gICAgICAgICAge1wiY29uZGl0aW9uXCI6IHJlcS5xdWVyeS5jb25kaXRpb259LFxuICAgICAgICApO1xuICAgICAgfVxuICBcbiAgICAgIGxldCBwcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoe1xuICAgICAgICAkYW5kOiBmaWx0ZXIsXG4gICAgICB9KS5wb3B1bGF0ZShcImNhdGVnb3JpZVwiKVxuICBcbiAgICAgIHByb2R1Y3RzID0gcHJvZHVjdHMubWFwKHByb2R1Y3QgPT4ge1xuICAgICAgICByZXR1cm4gcmVzb3Vyc2VzLlByb2R1Y3QucHJvZHVjdF9saXN0KHByb2R1Y3QpO1xuICAgICAgfSlcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgcHJvZHVjdHM6IHByb2R1Y3RzLFxuICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBcblxuICByZW1vdmU6IGFzeW5jKHJlcSxyZXMpID0+e1xuICAgIHRyeSB7XG4gICAgICBsZXQgX2lkID0gcmVxLnF1ZXJ5Ll9pZDtcbiAgICAgIGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6X2lkfSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWFzc2FnZTogXCJFTCBQUk9EVUNUTyBTRSBFTElNSU7DkyBTQVRJU0ZBQ1RPUklBTUVOVEVcIlxuICAgICAgfSk7XG5cbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICB9XG5cbiAgfSxcblxuICBvYnRlbmVyX2ltYWdlbjogYXN5bmMocmVxLHJlcykgPT57XG4gICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBpbWcgPSByZXEucGFyYW1zWydpbWcnXTtcbiAgICAgICAgICAgIGZzLnN0YXQoJy4vdXBsb2Fkcy9wcm9kdWN0LycrIGltZywgZnVuY3Rpb24oZXJyKXtcbiAgICAgICAgICAgICAgICBpZighZXJyKXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9wcm9kdWN0LycraW1nO1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvZGVmYXVsdC5qcGcnO1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfWNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gIH0sXG5cbiAgc2hvdzogYXN5bmMocmVxLHJlcykgPT57XG4gICAgdHJ5IHtcbiAgICAgIHZhciBwcm9kdWN0X2lkID0gcmVxLnBhcmFtcy5pZDtcbiAgICAgIGxldCBQUk9EVUNUID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWQoe19pZDogcHJvZHVjdF9pZH0pO1xuXG4gICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OiBwcm9kdWN0X2lkfSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgcHJvZHVjdDogcmVzb3Vyc2VzLlByb2R1Y3QucHJvZHVjdF9saXN0KFBST0RVQ1QsIFZBUklFREFERVMpLFxuICAgICAgfSlcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuXG4gIH0sXG5cbiAgcmVnaXN0ZXJfaW1hZ2VuOiBhc3luYyhyZXEscmVzKSA9PntcbiAgICB0cnkge1xuICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMuaW1hZ2VuLnBhdGg7XG4gICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgdmFyIGltYWdlbl9uYW1lID0gbmFtZVsyXTtcblxuICAgICAgICBsZXQgcHJvZHVjdCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0sIHtcbiAgICAgICAgICAkcHVzaDoge1xuICAgICAgICAgICAgZ2FsZXJpYXM6e1xuICAgICAgICAgICAgICBpbWFnZW46IGltYWdlbl9uYW1lLFxuICAgICAgICAgICAgICBfaWQ6IHJlcS5ib2R5Ll9faWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIkxBIElNQUdFTiBTRSBTVUJJTyBDT1JSRUNUQU1FTlRFXCIsXG4gICAgICAgICAgaW1hZ2VuOiB7XG4gICAgICAgICAgICBpbWFnZW46IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwXCIrXCIvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC9cIitpbWFnZW5fbmFtZSxcbiAgICAgICAgICAgICAgX2lkOiByZXEuYm9keS5fX2lkLFxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgfVxuXG4gIH0sXG5cbiAgcmVtb3ZlX2ltYWdlbjphc3luYyhyZXEscmVzKSA9PntcbiAgICB0cnkge1xuICAgICAgIGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0sIHtcbiAgICAgICAgICAkcHVsbDoge1xuICAgICAgICAgICAgZ2FsZXJpYXM6e1xuICAgICAgICAgICAgICBfaWQ6IHJlcS5ib2R5Ll9faWQsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KSAgICAgXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIkxBIElNQUdFTiBTRSBFTElNSU7DkyBDT1JSRUNUQU1FTlRFXCIsXG4gICAgICAgIH0pXG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgICAgXG4gICAgfVxuXG4gIH0sXG5cblxuXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxHQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxLQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBdUIsU0FBQUQsdUJBQUFLLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVUO0VBQ1pHLFFBQVEsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FBSTtJQUN6QixJQUFJO01BQ0YsSUFBSUMsSUFBSSxHQUFHRixH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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resourses","_fs","_path","e","__esModule","default","_default","exports","register","req","res","data","body","valid_Product","models","Product","findOne","title","status","json","code","message","slug","toLowerCase","replace","files","img_path","imagen","path","name","split","portada_name","portada","product","create","error","send","update","valid_product","_id","$ne","findByIdAndUpdate","console","log","list","filter","query","search","push","RegExp","categorie","condition","products","find","$and","populate","map","resourses","product_list","remove","findByIdAndDelete","massage","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","show","product_id","id","PRODUCT","findById","VARIEDADES","Variedad","register_imagen","imagen_name","$push","galerias","__id","remove_imagen","$pull"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["ProductController.js"],"sourcesContent":["import models from '../models'\nimport resourses from '../resourses';\nimport fs from 'fs'\nimport path from 'path'\n\nexport default{\n  register: async(req,res) =>{\n    try {\n      let data = req.body;\n    \n      let valid_Product = await models.Product.findOne({title:data.title});\n      if(valid_Product){\n        res.status(200).json({\n          code:403,\n          message: \"EL PRODUCTO YA EXISTE\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g,'-').replace(/[^\\w-]+/g,'');\n\n      if(req.files){\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        data.portada = portada_name;\n      }\n\n      let product = await models.Product.create(data);\n\n      res.status(200).json({\n        message: \"EL PRODUCTO SE REGISTRO SATISFACTORIAMENTE\"\n      });\n\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n\n  update: async(req,res) =>{\n    try {\n      let data = req.body;\n      \n      let valid_product = await models.Product.findOne({title:data.title, _id:{$ne: data._id}});\n\n      if(valid_product){\n        res.status(200).json({\n          code:403,\n          message: \"EL PRODUCTO YA EXISTE\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g,\"-\").replace(/[^\\w-]+/g,'');\n\n      if(req.files && req.files.imagen){\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        data.portada = portada_name;\n      }\n\n     await models.Product.findByIdAndUpdate({_id:data._id}, data);\n\n      res.status(200).json({\n        message: \"EL PRODUCTO SE ACTUALIZO SATISFACTORIAMENTE\"\n      });\n\n    } catch (error) {\n      console.log('mi falla es:', error)\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n\n  },\n\n\n  list: async(req,res) =>{\n    try {\n      var filter = [];\n      if(req.query.search){\n        filter.push(\n          {\"title\": RegExp(req.query.search, \"i\")},\n        );\n      }\n      if(req.query.categorie){\n        filter.push(\n          {\"categorie\": req.query.categorie},\n        );\n      }\n      if(req.query.condition){\n        filter.push(\n          {\"condition\": req.query.condition},\n        );\n      }\n  \n      let products = await models.Product.find({\n        $and: filter,\n      }).populate(\"categorie\")\n  \n      products = products.map(product => {\n        return resourses.Product.product_list(product);\n      })\n      res.status(200).json({\n        products: products,\n      })\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  \n\n  remove: async(req,res) =>{\n    try {\n      let _id = req.query._id;\n      await models.Product.findByIdAndDelete({_id:_id});\n\n      res.status(200).json({\n        massage: \"EL PRODUCTO SE ELIMINÓ SATISFACTORIAMENTE\"\n      });\n\n      \n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n\n  },\n\n  obtener_imagen: async(req,res) =>{\n    try {\n            var img = req.params['img'];\n            fs.stat('./uploads/product/'+ img, function(err){\n                if(!err){\n                    let path_img = './uploads/product/'+img;\n                    res.status(200).sendFile(path.resolve(path_img));\n                }else{\n                    let path_img = './uploads/default.jpg';\n                    res.status(200).sendFile(path.resolve(path_img));\n                }\n            })\n        }catch (error) {\n          res.status(500).send({\n            message: \"OCURRIÓ UN PROBLEMA\"\n          });\n        }\n  },\n\n  show: async(req,res) =>{\n    try {\n      var product_id = req.params.id;\n      let PRODUCT = await models.Product.findById({_id: product_id});\n\n      let VARIEDADES = await models.Variedad.find({product: product_id});\n\n      res.status(200).json({\n        product: resourses.Product.product_list(PRODUCT, VARIEDADES),\n      })\n      \n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n\n  },\n\n  register_imagen: async(req,res) =>{\n    try {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var imagen_name = name[2];\n\n        let product = await models.Product.findByIdAndUpdate({_id: req.body._id}, {\n          $push: {\n            galerias:{\n              imagen: imagen_name,\n              _id: req.body.__id\n            }\n          }\n        })\n        res.status(200).json({\n          message: \"LA IMAGEN SE SUBIO CORRECTAMENTE\",\n          imagen: {\n            imagen: \"http://localhost:3000\"+\"/api/products/uploads/product/\"+imagen_name,\n              _id: req.body.__id,\n          }\n        })\n      \n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n\n  },\n\n  remove_imagen:async(req,res) =>{\n    try {\n       await models.Product.findByIdAndUpdate({_id: req.body._id}, {\n          $pull: {\n            galerias:{\n              _id: req.body.__id,\n            }\n          }\n        })     \n        res.status(200).json({\n          message: \"LA IMAGEN SE ELIMINÓ CORRECTAMENTE\",\n        })\n      \n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      \n    }\n\n  },\n\n\n\n}"],"mappings":"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","ignoreList":[]}},"mtime":1737903040346},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/Variedad.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst VariedadSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  valor: {\n    type: String,\n    required: true\n  },\n  stock: {\n    type: Number,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Variedad = _mongoose.default.model('variedad', VariedadSchema);\nvar _default = exports.default = Variedad;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJWYXJpZWRhZFNjaGVtYSIsIlNjaGVtYSIsInByb2R1Y3QiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsInZhbG9yIiwiU3RyaW5nIiwic3RvY2siLCJOdW1iZXIiLCJ0aW1lc3RhbXBzIiwiVmFyaWVkYWQiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJWYXJpZWRhZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gIGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBWYXJpZWRhZFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICBwcm9kdWN0Ont0eXBlOlNjaGVtYS5PYmplY3RJZCwgcmVmOidwcm9kdWN0JywgcmVxdWlyZWQ6dHJ1ZX0sXG4gIHZhbG9yOnt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOnRydWV9LFxuICBzdG9jazp7dHlwZTogTnVtYmVyLCByZXF1aXJlZDp0cnVlfSxcbn0se1xuICB0aW1lc3RhbXBzOnRydWUsXG59KTtcblxuY29uc3QgVmFyaWVkYWQgPSBtb25nb29zZS5tb2RlbCgndmFyaWVkYWQnLFZhcmllZGFkU2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IFZhcmllZGFkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBMEMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FBQSxDQUFBSSxHQUFBLENBQUFQLENBQUEsT0FBQVEsQ0FBQSxLQUFBQyxTQUFBLFVBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsQ0FBQSxJQUFBZCxDQUFBLG9CQUFBYyxDQUFBLE9BQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBaEIsQ0FBQSxFQUFBYyxDQUFBLFNBQUFHLENBQUEsR0FBQVAsQ0FBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFiLENBQUEsRUFBQWMsQ0FBQSxVQUFBRyxDQUFBLEtBQUFBLENBQUEsQ0FBQVYsR0FBQSxJQUFBVSxDQUFBLENBQUFDLEdBQUEsSUFBQVAsTUFBQSxDQUFBQyxjQUFBLENBQUFKLENBQUEsRUFBQU0sQ0FBQSxFQUFBRyxDQUFBLElBQUFULENBQUEsQ0FBQU0sQ0FBQSxJQUFBZCxDQUFBLENBQUFjLENBQUEsWUFBQU4sQ0FBQSxDQUFBSCxPQUFBLEdBQUFMLENBQUEsRUFBQUcsQ0FBQSxJQUFBQSxDQUFBLENBQUFlLEdBQUEsQ0FBQWxCLENBQUEsRUFBQVEsQ0FBQSxHQUFBQSxDQUFBO0FBRTFDLE1BQU1XLGNBQWMsR0FBRyxJQUFJQyxnQkFBTSxDQUFDO0VBQ2hDQyxPQUFPLEVBQUM7SUFBQ0MsSUFBSSxFQUFDRixnQkFBTSxDQUFDRyxRQUFRO0lBQUVDLEdBQUcsRUFBQyxTQUFTO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDNURDLEtBQUssRUFBQztJQUFDSixJQUFJLEVBQUVLLE1BQU07SUFBRUYsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNuQ0csS0FBSyxFQUFDO0lBQUNOLElBQUksRUFBRU8sTUFBTTtJQUFFSixRQUFRLEVBQUM7RUFBSTtBQUNwQyxDQUFDLEVBQUM7RUFDQUssVUFBVSxFQUFDO0FBQ2IsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsUUFBUSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsVUFBVSxFQUFDZCxjQUFjLENBQUM7QUFBQyxJQUFBZSxRQUFBLEdBQUFDLE9BQUEsQ0FBQTlCLE9BQUEsR0FDNUMwQixRQUFRIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","VariedadSchema","Schema","product","type","ObjectId","ref","required","valor","String","stock","Number","timestamps","Variedad","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Variedad.js"],"sourcesContent":["import mongoose,{Schema}  from \"mongoose\";\n\nconst VariedadSchema = new Schema({\n  product:{type:Schema.ObjectId, ref:'product', required:true},\n  valor:{type: String, required:true},\n  stock:{type: Number, required:true},\n},{\n  timestamps:true,\n});\n\nconst Variedad = mongoose.model('variedad',VariedadSchema);\nexport default Variedad"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMW,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAChCC,OAAO,EAAC;IAACC,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAC,SAAS;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAC5DC,KAAK,EAAC;IAACJ,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC;EAAI,CAAC;EACnCG,KAAK,EAAC;IAACN,IAAI,EAAEO,MAAM;IAAEJ,QAAQ,EAAC;EAAI;AACpC,CAAC,EAAC;EACAK,UAAU,EAAC;AACb,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,UAAU,EAACd,cAAc,CAAC;AAAC,IAAAe,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GAC5C0B,QAAQ","ignoreList":[]}},"mtime":1737220657416},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/Variedad.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst VariedadSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  valor: {\n    type: String,\n    required: true\n  },\n  stock: {\n    type: Number,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Variedad = _mongoose.default.model('variedad', VariedadSchema);\nvar _default = exports.default = Variedad;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJWYXJpZWRhZFNjaGVtYSIsIlNjaGVtYSIsInByb2R1Y3QiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsInZhbG9yIiwiU3RyaW5nIiwic3RvY2siLCJOdW1iZXIiLCJ0aW1lc3RhbXBzIiwiVmFyaWVkYWQiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJWYXJpZWRhZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gIGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBWYXJpZWRhZFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICBwcm9kdWN0Ont0eXBlOlNjaGVtYS5PYmplY3RJZCwgcmVmOidwcm9kdWN0JywgcmVxdWlyZWQ6dHJ1ZX0sXG4gIHZhbG9yOnt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOnRydWV9LFxuICBzdG9jazp7dHlwZTogTnVtYmVyLCByZXF1aXJlZDp0cnVlfSxcbn0se1xuICB0aW1lc3RhbXBzOnRydWUsXG59KTtcblxuY29uc3QgVmFyaWVkYWQgPSBtb25nb29zZS5tb2RlbCgndmFyaWVkYWQnLFZhcmllZGFkU2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IFZhcmllZGFkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBMEMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FBQSxDQUFBSSxHQUFBLENBQUFQLENBQUEsT0FBQVEsQ0FBQSxLQUFBQyxTQUFBLFVBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsQ0FBQSxJQUFBZCxDQUFBLG9CQUFBYyxDQUFBLE9BQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBaEIsQ0FBQSxFQUFBYyxDQUFBLFNBQUFHLENBQUEsR0FBQVAsQ0FBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFiLENBQUEsRUFBQWMsQ0FBQSxVQUFBRyxDQUFBLEtBQUFBLENBQUEsQ0FBQVYsR0FBQSxJQUFBVSxDQUFBLENBQUFDLEdBQUEsSUFBQVAsTUFBQSxDQUFBQyxjQUFBLENBQUFKLENBQUEsRUFBQU0sQ0FBQSxFQUFBRyxDQUFBLElBQUFULENBQUEsQ0FBQU0sQ0FBQSxJQUFBZCxDQUFBLENBQUFjLENBQUEsWUFBQU4sQ0FBQSxDQUFBSCxPQUFBLEdBQUFMLENBQUEsRUFBQUcsQ0FBQSxJQUFBQSxDQUFBLENBQUFlLEdBQUEsQ0FBQWxCLENBQUEsRUFBQVEsQ0FBQSxHQUFBQSxDQUFBO0FBRTFDLE1BQU1XLGNBQWMsR0FBRyxJQUFJQyxnQkFBTSxDQUFDO0VBQ2hDQyxPQUFPLEVBQUM7SUFBQ0MsSUFBSSxFQUFDRixnQkFBTSxDQUFDRyxRQUFRO0lBQUVDLEdBQUcsRUFBQyxTQUFTO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDNURDLEtBQUssRUFBQztJQUFDSixJQUFJLEVBQUVLLE1BQU07SUFBRUYsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNuQ0csS0FBSyxFQUFDO0lBQUNOLElBQUksRUFBRU8sTUFBTTtJQUFFSixRQUFRLEVBQUM7RUFBSTtBQUNwQyxDQUFDLEVBQUM7RUFDQUssVUFBVSxFQUFDO0FBQ2IsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsUUFBUSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsVUFBVSxFQUFDZCxjQUFjLENBQUM7QUFBQyxJQUFBZSxRQUFBLEdBQUFDLE9BQUEsQ0FBQTlCLE9BQUEsR0FDNUMwQixRQUFRIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","VariedadSchema","Schema","product","type","ObjectId","ref","required","valor","String","stock","Number","timestamps","Variedad","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Variedad.js"],"sourcesContent":["import mongoose,{Schema}  from \"mongoose\";\n\nconst VariedadSchema = new Schema({\n  product:{type:Schema.ObjectId, ref:'product', required:true},\n  valor:{type: String, required:true},\n  stock:{type: Number, required:true},\n},{\n  timestamps:true,\n});\n\nconst Variedad = mongoose.model('variedad',VariedadSchema);\nexport default Variedad"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMW,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAChCC,OAAO,EAAC;IAACC,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAC,SAAS;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAC5DC,KAAK,EAAC;IAACJ,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC;EAAI,CAAC;EACnCG,KAAK,EAAC;IAACN,IAAI,EAAEO,MAAM;IAAEJ,QAAQ,EAAC;EAAI;AACpC,CAAC,EAAC;EACAK,UAAU,EAAC;AACb,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,UAAU,EAACd,cAAc,CAAC;AAAC,IAAAe,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GAC5C0B,QAAQ","ignoreList":[]}},"mtime":1737220657416},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/VariedadController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let variedad_exits = await _models.default.Variedad.findOne({\n        valor: data.valor,\n        product: data.product\n      });\n      var variedad = null;\n      if (variedad_exits) {\n        data.stock = variedad_exits.stock + data.stock;\n        await _models.default.Variedad.findByIdAndUpdate({\n          _id: variedad_exits._id\n        }, data);\n        variedad = await _models.default.Variedad.findById({\n          _id: variedad_exits._id\n        });\n      } else {\n        variedad = await _models.default.Variedad.create(data);\n      }\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      await _models.default.Variedad.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let variedad = await _models.default.Variedad.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.params.id;\n      await _models.default.Variedad.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: \"Se elimino la variedad\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5IiwidmFyaWVkYWRfZXhpdHMiLCJtb2RlbHMiLCJWYXJpZWRhZCIsImZpbmRPbmUiLCJ2YWxvciIsInByb2R1Y3QiLCJ2YXJpZWRhZCIsInN0b2NrIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJfaWQiLCJmaW5kQnlJZCIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJzZW5kIiwibWVzc2FnZSIsInVwZGF0ZSIsImRlbGV0ZSIsInBhcmFtcyIsImlkIiwiZmluZEJ5SWRBbmREZWxldGUiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRvcy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiVmFyaWVkYWRDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiO1xuXG5cbmV4cG9ydCBkZWZhdWx0e1xuXG4gIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XG5cbiAgICAgIGxldCB2YXJpZWRhZF9leGl0cyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kT25lKHt2YWxvcjogZGF0YS52YWxvciwgcHJvZHVjdDogZGF0YS5wcm9kdWN0fSk7XG5cbiAgICAgIHZhciB2YXJpZWRhZCA9IG51bGw7XG5cbiAgICAgIGlmKHZhcmllZGFkX2V4aXRzKXtcbiAgICAgICAgZGF0YS5zdG9jayA9IHZhcmllZGFkX2V4aXRzLnN0b2NrICsgZGF0YS5zdG9jaztcbiAgICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHZhcmllZGFkX2V4aXRzLl9pZH0sIGRhdGEpO1xuICAgICAgICB2YXJpZWRhZCA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kQnlJZCh7X2lkOiB2YXJpZWRhZF9leGl0cy5faWR9KTtcbiAgICAgIH1lbHNle1xuICAgICAgICB2YXJpZWRhZCA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5jcmVhdGUoZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgdmFyaWVkYWQ6IHZhcmllZGFkIFxuICAgICAgfSk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxuICAgICAgfSlcbiAgICB9XG4gIH0sXG5cbiAgdXBkYXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XG5cbiAgICAgIGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOmRhdGEuX2lkfSxkYXRhKTtcbiAgICAgIFxuICAgICAgbGV0IHZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkKHtfaWQ6ZGF0YS5faWR9KTtcblxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICB2YXJpZWRhZDogdmFyaWVkYWQgXG4gICAgICB9KTtcbiAgICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pXG4gICAgfVxuICB9LFxuICBkZWxldGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgIFxuICAgIHRyeSB7XG4gICAgICBsZXQgX2lkPSByZXEucGFyYW1zLmlkO1xuICAgICBcbiAgICAgIGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOl9pZH0pO1xuXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IFwiU2UgZWxpbWlubyBsYSB2YXJpZWRhZFwiXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pXG4gICAgfVxuICB9LFxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBK0IsU0FBQUQsdUJBQUFFLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUdqQjtFQUVaRyxRQUFRLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDMUIsSUFBSTtNQUNGLElBQUlDLElBQUksR0FBR0YsR0FBRyxDQUFDRyxJQUFJO01BRW5CLElBQUlDLGNBQWMsR0FBRyxNQUFNQyxlQUFNLENBQUNDLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDO1FBQUNDLEtBQUssRUFBRU4sSUFBSSxDQUFDTSxLQUFLO1FBQUVDLE9BQU8sRUFBRVAsSUFBSSxDQUFDTztNQUFPLENBQUMsQ0FBQztNQUU5RixJQUFJQyxRQUFRLEdBQUcsSUFBSTtNQUVuQixJQUFHTixjQUFjLEVBQUM7UUFDaEJGLElBQUksQ0FBQ1MsS0FBSyxHQUFHUCxjQUFjLENB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","map":{"version":3,"names":["_models","_interopRequireDefault","require","e","__esModule","default","_default","exports","register","req","res","data","body","variedad_exits","models","Variedad","findOne","valor","product","variedad","stock","findByIdAndUpdate","_id","findById","create","status","json","error","console","log","send","message","update","delete","params","id","findByIdAndDelete"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["VariedadController.js"],"sourcesContent":["import models from \"../models\";\n\n\nexport default{\n\n  register: async(req,res) => {\n    try {\n      let data = req.body;\n\n      let variedad_exits = await models.Variedad.findOne({valor: data.valor, product: data.product});\n\n      var variedad = null;\n\n      if(variedad_exits){\n        data.stock = variedad_exits.stock + data.stock;\n        await models.Variedad.findByIdAndUpdate({_id: variedad_exits._id}, data);\n        variedad = await models.Variedad.findById({_id: variedad_exits._id});\n      }else{\n        variedad = await models.Variedad.create(data);\n      }\n\n      res.status(200).json({\n        variedad: variedad \n      });\n\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      })\n    }\n  },\n\n  update: async(req,res) => {\n    try {\n      let data = req.body;\n\n      await models.Variedad.findByIdAndUpdate({_id:data._id},data);\n      \n      let variedad = await models.Variedad.findById({_id:data._id});\n\n      res.status(200).json({\n        variedad: variedad \n      });\n        \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      })\n    }\n  },\n  delete: async(req,res) => {\n   \n    try {\n      let _id= req.params.id;\n     \n      await models.Variedad.findByIdAndDelete({_id:_id});\n\n      res.status(200).json({\n        message: \"Se elimino la variedad\"\n      });\n      \n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      })\n    }\n  },\n}\n"],"mappings":"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","ignoreList":[]}},"mtime":1737600006827},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/VariedadController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let variedad_exits = await _models.default.Variedad.findOne({\n        valor: data.valor,\n        product: data.product\n      });\n      var variedad = null;\n      if (variedad_exits) {\n        data.stock = variedad_exits.stock + data.stock;\n        await _models.default.Variedad.findByIdAndUpdate({\n          _id: variedad_exits._id\n        }, data);\n        variedad = await _models.default.Variedad.findById({\n          _id: variedad_exits._id\n        });\n      } else {\n        variedad = await _models.default.Variedad.create(data);\n      }\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      await _models.default.Variedad.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let variedad = await _models.default.Variedad.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.params.id;\n      await _models.default.Variedad.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: \"Se elimino la variedad\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5IiwidmFyaWVkYWRfZXhpdHMiLCJtb2RlbHMiLCJWYXJpZWRhZCIsImZpbmRPbmUiLCJ2YWxvciIsInByb2R1Y3QiLCJ2YXJpZWRhZCIsInN0b2NrIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJfaWQiLCJmaW5kQnlJZCIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJzZW5kIiwibWVzc2FnZSIsInVwZGF0ZSIsImRlbGV0ZSIsInBhcmFtcyIsImlkIiwiZmluZEJ5SWRBbmREZWxldGUiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRvcy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiVmFyaWVkYWRDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiO1xuXG5cbmV4cG9ydCBkZWZhdWx0e1xuXG4gIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XG5cbiAgICAgIGxldCB2YXJpZWRhZF9leGl0cyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kT25lKHt2YWxvcjogZGF0YS52YWxvciwgcHJvZHVjdDogZGF0YS5wcm9kdWN0fSk7XG5cbiAgICAgIHZhciB2YXJpZWRhZCA9IG51bGw7XG5cbiAgICAgIGlmKHZhcmllZGFkX2V4aXRzKXtcbiAgICAgICAgZGF0YS5zdG9jayA9IHZhcmllZGFkX2V4aXRzLnN0b2NrICsgZGF0YS5zdG9jaztcbiAgICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHZhcmllZGFkX2V4aXRzLl9pZH0sIGRhdGEpO1xuICAgICAgICB2YXJpZWRhZCA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kQnlJZCh7X2lkOiB2YXJpZWRhZF9leGl0cy5faWR9KTtcbiAgICAgIH1lbHNle1xuICAgICAgICB2YXJpZWRhZCA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5jcmVhdGUoZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgdmFyaWVkYWQ6IHZhcmllZGFkIFxuICAgICAgfSk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxuICAgICAgfSlcbiAgICB9XG4gIH0sXG5cbiAgdXBkYXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XG5cbiAgICAgIGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOmRhdGEuX2lkfSxkYXRhKTtcbiAgICAgIFxuICAgICAgbGV0IHZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkKHtfaWQ6ZGF0YS5faWR9KTtcblxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICB2YXJpZWRhZDogdmFyaWVkYWQgXG4gICAgICB9KTtcbiAgICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pXG4gICAgfVxuICB9LFxuICBkZWxldGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgIFxuICAgIHRyeSB7XG4gICAgICBsZXQgX2lkPSByZXEucGFyYW1zLmlkO1xuICAgICBcbiAgICAgIGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOl9pZH0pO1xuXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IFwiU2UgZWxpbWlubyBsYSB2YXJpZWRhZFwiXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pXG4gICAgfVxuICB9LFxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBK0IsU0FBQUQsdUJBQUFFLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUdqQjtFQUVaRyxRQUFRLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDMUIsSUFBSTtNQUNGLElBQUlDLElBQUksR0FBR0YsR0FBRyxDQUFDRyxJQUFJO01BRW5CLElBQUlDLGNBQWMsR0FBRyxNQUFNQyxlQUFNLENBQUNDLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDO1FBQUNDLEtBQUssRUFBRU4sSUFBSSxDQUFDTSxLQUFLO1FBQUVDLE9BQU8sRUFBRVAsSUFBSSxDQUFDTztNQUFPLENBQUMsQ0FBQztNQUU5RixJQUFJQyxRQUFRLEdBQUcsSUFBSTtNQUVuQixJQUFHTixjQUFjLEVBQUM7UUFDaEJGLElBQUksQ0FBQ1MsS0FBSyxHQUFHUCxjQUFjLENB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","map":{"version":3,"names":["_models","_interopRequireDefault","require","e","__esModule","default","_default","exports","register","req","res","data","body","variedad_exits","models","Variedad","findOne","valor","product","variedad","stock","findByIdAndUpdate","_id","findById","create","status","json","error","console","log","send","message","update","delete","params","id","findByIdAndDelete"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["VariedadController.js"],"sourcesContent":["import models from \"../models\";\n\n\nexport default{\n\n  register: async(req,res) => {\n    try {\n      let data = req.body;\n\n      let variedad_exits = await models.Variedad.findOne({valor: data.valor, product: data.product});\n\n      var variedad = null;\n\n      if(variedad_exits){\n        data.stock = variedad_exits.stock + data.stock;\n        await models.Variedad.findByIdAndUpdate({_id: variedad_exits._id}, data);\n        variedad = await models.Variedad.findById({_id: variedad_exits._id});\n      }else{\n        variedad = await models.Variedad.create(data);\n      }\n\n      res.status(200).json({\n        variedad: variedad \n      });\n\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      })\n    }\n  },\n\n  update: async(req,res) => {\n    try {\n      let data = req.body;\n\n      await models.Variedad.findByIdAndUpdate({_id:data._id},data);\n      \n      let variedad = await models.Variedad.findById({_id:data._id});\n\n      res.status(200).json({\n        variedad: variedad \n      });\n        \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      })\n    }\n  },\n  delete: async(req,res) => {\n   \n    try {\n      let _id= req.params.id;\n     \n      await models.Variedad.findByIdAndDelete({_id:_id});\n\n      res.status(200).json({\n        message: \"Se elimino la variedad\"\n      });\n      \n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      })\n    }\n  },\n}\n"],"mappings":"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","ignoreList":[]}},"mtime":1737600006827},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SliderSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  link: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  } // 1 es activo y 2 es desactivo\n}, {\n  timestamps: true\n});\nconst Slider = _mongoose.default.model(\"slider\", SliderSchema);\nvar _default = exports.default = Slider;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTbGlkZXJTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsImxpbmsiLCJpbWFnZW4iLCJzdGF0ZSIsIk51bWJlciIsInRpbWVzdGFtcHMiLCJTbGlkZXIiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJTbGlkZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBTbGlkZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgdGl0bGU6e3R5cGU6U3RyaW5nLCBtYXhsZW5ndGg6MjUwLHJlcXVpcmVkOnRydWV9LFxuICBsaW5rOnt0eXBlOlN0cmluZywgbWF4bGVuZ3RoOjI1MCxyZXF1aXJlZDp0cnVlfSxcbiAgaW1hZ2VuOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6MjUwLHJlcXVpcmVkOnRydWV9LFxuICBzdGF0ZTp7dHlwZTogTnVtYmVyLG1heGxlbmd0aDoyLGRlZmF1bHQ6MX0sLy8gMSBlcyBhY3Rpdm8geSAyIGVzIGRlc2FjdGl2b1xufSx7XG4gIHRpbWVzdGFtcHM6dHJ1ZVxufSk7XG5cbmNvbnN0IFNsaWRlciA9IG1vbmdvb3NlLm1vZGVsKFwic2xpZGVyXCIsU2xpZGVyU2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IFNsaWRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLENBQUEsU0FBQUcsQ0FBQSxHQUFBUCxDQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQWIsQ0FBQSxFQUFBYyxDQUFBLFVBQUFHLENBQUEsS0FBQUEsQ0FBQSxDQUFBVixHQUFBLElBQUFVLENBQUEsQ0FBQUMsR0FBQSxJQUFBUCxNQUFBLENBQUFDLGNBQUEsQ0FBQUosQ0FBQSxFQUFBTSxDQUFBLEVBQUFHLENBQUEsSUFBQVQsQ0FBQSxDQUFBTSxDQUFBLElBQUFkLENBQUEsQ0FBQWMsQ0FBQSxZQUFBTixDQUFBLENBQUFILE9BQUEsR0FBQUwsQ0FBQSxFQUFBRyxDQUFBLElBQUFBLENBQUEsQ0FBQWUsR0FBQSxDQUFBbEIsQ0FBQSxFQUFBUSxDQUFBLEdBQUFBLENBQUE7QUFFekMsTUFBTVcsWUFBWSxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDOUJDLEtBQUssRUFBQztJQUFDQyxJQUFJLEVBQUNDLE1BQU07SUFBRUMsU0FBUyxFQUFDLEdBQUc7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNoREMsSUFBSSxFQUFDO0lBQUNKLElBQUksRUFBQ0MsTUFBTTtJQUFFQyxTQUFTLEVBQUMsR0FBRztJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQy9DRSxNQUFNLEVBQUM7SUFBQ0wsSUFBSSxFQUFDQyxNQUFNO0lBQUNDLFNBQVMsRUFBQyxHQUFHO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDaERHLEtBQUssRUFBQztJQUFDTixJQUFJLEVBQUVPLE1BQU07SUFBQ0wsU0FBUyxFQUFDLENBQUM7SUFBQ25CLE9BQU8sRUFBQztFQUFDLENBQUMsQ0FBQztBQUM3QyxDQUFDLEVBQUM7RUFDQXlCLFVBQVUsRUFBQztBQUNiLENBQUMsQ0FBQztBQUVGLE1BQU1DLE1BQU0sR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLFFBQVEsRUFBQ2QsWUFBWSxDQUFDO0FBQUMsSUFBQWUsUUFBQSxHQUFBQyxPQUFBLENBQUE5QixPQUFBLEdBQ3RDMEIsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SliderSchema","Schema","title","type","String","maxlength","required","link","imagen","state","Number","timestamps","Slider","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Slider.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst SliderSchema = new Schema({\n  title:{type:String, maxlength:250,required:true},\n  link:{type:String, maxlength:250,required:true},\n  imagen:{type:String,maxlength:250,required:true},\n  state:{type: Number,maxlength:2,default:1},// 1 es activo y 2 es desactivo\n},{\n  timestamps:true\n});\n\nconst Slider = mongoose.model(\"slider\",SliderSchema);\nexport default Slider;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC9BC,KAAK,EAAC;IAACC,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChDC,IAAI,EAAC;IAACJ,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC/CE,MAAM,EAAC;IAACL,IAAI,EAACC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChDG,KAAK,EAAC;IAACN,IAAI,EAAEO,MAAM;IAACL,SAAS,EAAC,CAAC;IAACnB,OAAO,EAAC;EAAC,CAAC,CAAC;AAC7C,CAAC,EAAC;EACAyB,UAAU,EAAC;AACb,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,QAAQ,EAACd,YAAY,CAAC;AAAC,IAAAe,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GACtC0B,MAAM","ignoreList":[]}},"mtime":1737837447614},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SliderSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  link: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  } // 1 es activo y 2 es desactivo\n}, {\n  timestamps: true\n});\nconst Slider = _mongoose.default.model(\"slider\", SliderSchema);\nvar _default = exports.default = Slider;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTbGlkZXJTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsImxpbmsiLCJpbWFnZW4iLCJzdGF0ZSIsIk51bWJlciIsInRpbWVzdGFtcHMiLCJTbGlkZXIiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJTbGlkZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBTbGlkZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgdGl0bGU6e3R5cGU6U3RyaW5nLCBtYXhsZW5ndGg6MjUwLHJlcXVpcmVkOnRydWV9LFxuICBsaW5rOnt0eXBlOlN0cmluZywgbWF4bGVuZ3RoOjI1MCxyZXF1aXJlZDp0cnVlfSxcbiAgaW1hZ2VuOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6MjUwLHJlcXVpcmVkOnRydWV9LFxuICBzdGF0ZTp7dHlwZTogTnVtYmVyLG1heGxlbmd0aDoyLGRlZmF1bHQ6MX0sLy8gMSBlcyBhY3Rpdm8geSAyIGVzIGRlc2FjdGl2b1xufSx7XG4gIHRpbWVzdGFtcHM6dHJ1ZVxufSk7XG5cbmNvbnN0IFNsaWRlciA9IG1vbmdvb3NlLm1vZGVsKFwic2xpZGVyXCIsU2xpZGVyU2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IFNsaWRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLENBQUEsU0FBQUcsQ0FBQSxHQUFBUCxDQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQWIsQ0FBQSxFQUFBYyxDQUFBLFVBQUFHLENBQUEsS0FBQUEsQ0FBQSxDQUFBVixHQUFBLElBQUFVLENBQUEsQ0FBQUMsR0FBQSxJQUFBUCxNQUFBLENBQUFDLGNBQUEsQ0FBQUosQ0FBQSxFQUFBTSxDQUFBLEVBQUFHLENBQUEsSUFBQVQsQ0FBQSxDQUFBTSxDQUFBLElBQUFkLENBQUEsQ0FBQWMsQ0FBQSxZQUFBTixDQUFBLENBQUFILE9BQUEsR0FBQUwsQ0FBQSxFQUFBRyxDQUFBLElBQUFBLENBQUEsQ0FBQWUsR0FBQSxDQUFBbEIsQ0FBQSxFQUFBUSxDQUFBLEdBQUFBLENBQUE7QUFFekMsTUFBTVcsWUFBWSxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDOUJDLEtBQUssRUFBQztJQUFDQyxJQUFJLEVBQUNDLE1BQU07SUFBRUMsU0FBUyxFQUFDLEdBQUc7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNoREMsSUFBSSxFQUFDO0lBQUNKLElBQUksRUFBQ0MsTUFBTTtJQUFFQyxTQUFTLEVBQUMsR0FBRztJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQy9DRSxNQUFNLEVBQUM7SUFBQ0wsSUFBSSxFQUFDQyxNQUFNO0lBQUNDLFNBQVMsRUFBQyxHQUFHO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDaERHLEtBQUssRUFBQztJQUFDTixJQUFJLEVBQUVPLE1BQU07SUFBQ0wsU0FBUyxFQUFDLENBQUM7SUFBQ25CLE9BQU8sRUFBQztFQUFDLENBQUMsQ0FBQztBQUM3QyxDQUFDLEVBQUM7RUFDQXlCLFVBQVUsRUFBQztBQUNiLENBQUMsQ0FBQztBQUVGLE1BQU1DLE1BQU0sR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLFFBQVEsRUFBQ2QsWUFBWSxDQUFDO0FBQUMsSUFBQWUsUUFBQSxHQUFBQyxPQUFBLENBQUE5QixPQUFBLEdBQ3RDMEIsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SliderSchema","Schema","title","type","String","maxlength","required","link","imagen","state","Number","timestamps","Slider","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Slider.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst SliderSchema = new Schema({\n  title:{type:String, maxlength:250,required:true},\n  link:{type:String, maxlength:250,required:true},\n  imagen:{type:String,maxlength:250,required:true},\n  state:{type: Number,maxlength:2,default:1},// 1 es activo y 2 es desactivo\n},{\n  timestamps:true\n});\n\nconst Slider = mongoose.model(\"slider\",SliderSchema);\nexport default Slider;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC9BC,KAAK,EAAC;IAACC,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChDC,IAAI,EAAC;IAACJ,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC/CE,MAAM,EAAC;IAACL,IAAI,EAACC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChDG,KAAK,EAAC;IAACN,IAAI,EAAEO,MAAM;IAACL,SAAS,EAAC,CAAC;IAACnB,OAAO,EAAC;EAAC,CAAC,CAAC;AAC7C,CAAC,EAAC;EACAyB,UAAU,EAAC;AACb,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,QAAQ,EAACd,YAAY,CAAC;AAAC,IAAAe,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GACtC0B,MAAM","ignoreList":[]}},"mtime":1737837447614},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _SliderController = _interopRequireDefault(require(\"../controllers/SliderController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/slider'\n});\nconst router = (0, _expressPromiseRouter.default)();\n\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _SliderController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _SliderController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _SliderController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _SliderController.default.remove);\nrouter.get(\"/uploads/slider/:img\", _SliderController.default.obtener_imagen);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9TbGlkZXJDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJwYXRoIiwibXVsdGlwYXJ0eSIsInVwbG9hZERpciIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwic2xpZGVyQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSIsIm9idGVuZXJfaW1hZ2VuIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJTbGlkZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSBcImV4cHJlc3MtcHJvbWlzZS1yb3V0ZXJcIlxuaW1wb3J0IHNsaWRlckNvbnRyb2xsZXIgZnJvbSBcIi4uL2NvbnRyb2xsZXJzL1NsaWRlckNvbnRyb2xsZXJcIlxuaW1wb3J0IGF1dGggZnJvbSBcIi4uL21pZGRsZXdhcmVzL2F1dGhcIlxuaW1wb3J0IG11bHRpcGFydHkgZnJvbSAnY29ubmVjdC1tdWx0aXBhcnR5JztcblxuXG52YXIgcGF0aCA9IG11bHRpcGFydHkoe3VwbG9hZERpcjonLi91cGxvYWRzL3NsaWRlcid9KTtcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcblxuLy8gaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycy9yZWdpc3RlclxuXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCBbYXV0aC52ZXJpZnlBZG1pbiwgcGF0aF0sc2xpZGVyQ29udHJvbGxlci5yZWdpc3Rlcik7XG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLFthdXRoLnZlcmlmeUFkbWluLHBhdGhdLHNsaWRlckNvbnRyb2xsZXIudXBkYXRlKTtcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sc2xpZGVyQ29udHJvbGxlci5saXN0KTtcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlXCIsYXV0aC52ZXJpZnlBZG1pbixzbGlkZXJDb250cm9sbGVyLnJlbW92ZSk7XG5cbnJvdXRlci5nZXQoXCIvdXBsb2Fkcy9zbGlkZXIvOmltZ1wiLHNsaWRlckNvbnRyb2xsZXIub2J0ZW5lcl9pbWFnZW4pO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxpQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsa0JBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUE0QyxTQUFBRCx1QkFBQUssQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUc1QyxJQUFJRyxJQUFJLEdBQUcsSUFBQUMsMEJBQVUsRUFBQztFQUFDQyxTQUFTLEVBQUM7QUFBa0IsQ0FBQyxDQUFDO0FBQ3JELE1BQU1DLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7O0FBRXhCOztBQUVBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUVQLElBQUksQ0FBQyxFQUFDUSx5QkFBZ0IsQ0FBQ0MsUUFBUSxDQUFDO0FBQzVFTixNQUFNLENBQUNPLEdBQUcsQ0FBQyxTQUFTLEVBQUMsQ0FBQ0osYUFBSSxDQUFDQyxXQUFXLEVBQUNQLElBQUksQ0FBQyxFQUFDUSx5QkFBZ0IsQ0FBQ0csTUFBTSxDQUFDO0FBQ3JFUixNQUFNLENBQUNTLEdBQUcsQ0FBQyxPQUFPLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0ssSUFBSSxDQUFDO0FBQzFEVixNQUFNLENBQUNXLE1BQU0sQ0FBQyxTQUFTLEVBQUNSLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ08sTUFBTSxDQUFDO0FBRWpFWixNQUFNLENBQUNTLEdBQUcsQ0FBQyxzQkFBc0IsRUFBQ0oseUJBQWdCLENBQUNRLGNBQWMsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBbkIsT0FBQSxHQUdwREksTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_SliderController","_auth","_connectMultiparty","e","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","sliderController","register","put","update","get","list","delete","remove","obtener_imagen","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Slider.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport sliderController from \"../controllers/SliderController\"\nimport auth from \"../middlewares/auth\"\nimport multiparty from 'connect-multiparty';\n\n\nvar path = multiparty({uploadDir:'./uploads/slider'});\nconst router = routerx();\n\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", [auth.verifyAdmin, path],sliderController.register);\nrouter.put(\"/update\",[auth.verifyAdmin,path],sliderController.update);\nrouter.get(\"/list\",auth.verifyAdmin,sliderController.list);\nrouter.delete(\"/delete\",auth.verifyAdmin,sliderController.remove);\n\nrouter.get(\"/uploads/slider/:img\",sliderController.obtener_imagen);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,iBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA4C,SAAAD,uBAAAK,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAG5C,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAC;AAAkB,CAAC,CAAC;AACrD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAACQ,yBAAgB,CAACC,QAAQ,CAAC;AAC5EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAC,CAACJ,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,yBAAgB,CAACG,MAAM,CAAC;AACrER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACK,IAAI,CAAC;AAC1DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAACR,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACO,MAAM,CAAC;AAEjEZ,MAAM,CAACS,GAAG,CAAC,sBAAsB,EAACJ,yBAAgB,CAACQ,cAAc,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAnB,OAAA,GAGpDI,MAAM","ignoreList":[]}},"mtime":1737838837463},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/SliderController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      //console.log(req.files);\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      const slider = await _models.default.Slider.create(req.body);\n      res.status(200).json(slider);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Slider.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let SliderT = await _models.default.Slider.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL SLIDER SE HA MODIFICADO CORRECTAMENTE\",\n        slider: _resourses.default.Slider.slider_list(SliderT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Sliders = await _models.default.Slider.find({\n        $or: [{\n          \"title\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Sliders = Sliders.map(user => {\n        return _resourses.default.Slider.slider_list(user);\n      });\n      res.status(200).json({\n        sliders: Sliders\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/slider/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/slider/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Slider.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"  EL SLIDER SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3Vyc2VzIiwiX2ZzIiwiX3BhdGgiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImZpbGVzIiwiaW1nX3BhdGgiLCJwb3J0YWRhIiwicGF0aCIsIm5hbWUiLCJzcGxpdCIsInBvcnRhZGFfbmFtZSIsImJvZHkiLCJpbWFnZW4iLCJzbGlkZXIiLCJtb2RlbHMiLCJTbGlkZXIiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsIlNsaWRlclQiLCJmaW5kT25lIiwicmVzb3Vyc2UiLCJzbGlkZXJfbGlzdCIsImxpc3QiLCJzZWFyY2giLCJxdWVyeSIsIlNsaWRlcnMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsInVzZXIiLCJzbGlkZXJzIiwib2J0ZW5lcl9pbWFnZW4iLCJpbWciLCJwYXJhbXMiLCJmcyIsInN0YXQiLCJlcnIiLCJwYXRoX2ltZyIsInNlbmRGaWxlIiwicmVzb2x2ZSIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIlNsaWRlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5pbXBvcnQgcmVzb3Vyc2UgZnJvbSAnLi4vcmVzb3Vyc2VzJ1xuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vY29uc29sZS5sb2cocmVxLmZpbGVzKTtcbiAgICAgICBpZihyZXEuZmlsZXMpe1xuICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcbiAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xuICAgICAgICAgLy9jb25zb2xlLmxvZyhwb3J0YWRhX25hbWUpXG4gICAgICAgICByZXEuYm9keS5pbWFnZW4gPSBwb3J0YWRhX25hbWU7XG4gICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBzbGlkZXIgPSBhd2FpdCBtb2RlbHMuU2xpZGVyLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihzbGlkZXIpO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cbiAgfSxcbiAgdXBkYXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICBpZihyZXEuZmlsZXMgJiYgcmVxLmZpbGVzLnBvcnRhZGEpe1xuICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcbiAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xuICAgICAgICAgLy9jb25zb2xlLmxvZyhwb3J0YWRhX25hbWUpXG4gICAgICAgcmVxLmJvZHkuaW1hZ2VuID0gcG9ydGFkYV9uYW1lO1xuICAgICAgIH1cblxuICAgICBhd2FpdCBtb2RlbHMuU2xpZGVyLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0scmVxLmJvZHkpO1xuXG4gICAgIGxldCBTbGlkZXJUID0gYXdhaXQgbW9kZWxzLlNsaWRlci5maW5kT25lKHtfaWQ6IHJlcS5ib2R5Ll9pZH0pO1xuXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IFwiRUwgU0xJREVSIFNFIEhBIE1PRElGSUNBRE8gQ09SUkVDVEFNRU5URVwiLFxuICAgICAgICBzbGlkZXI6IHJlc291cnNlLlNsaWRlci5zbGlkZXJfbGlzdChTbGlkZXJUKSxcbiAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG5cbiAgfSxcbiAgbGlzdDogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICB2YXIgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcbiAgICAgIGxldCBTbGlkZXJzICA9IGF3YWl0IG1vZGVscy5TbGlkZXIuZmluZCh7XG4gICAgICAgICRvcjpbXG4gICAgICAgICAge1widGl0bGVcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgIF1cbiAgICB9KS5zb3J0KHsnY3JlYXRlZEF0JzotMX0pO1xuXG4gICAgU2xpZGVycyA9IFNsaWRlcnMubWFwKCh1c2VyKSA9PiB7XG4gICAgICByZXR1cm4gcmVzb3Vyc2UuU2xpZGVyLnNsaWRlcl9saXN0KHVzZXIpO1xuICAgIH0pXG5cbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICBzbGlkZXJzOiBTbGlkZXJzXG4gICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIFxuICAgIH1cbiAgfSxcbiAgb2J0ZW5lcl9pbWFnZW46IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICB2YXIgaW1nID0gcmVxLnBhcmFtc1snaW1nJ107XG4gICAgICAgIFxuXG4gICAgICAgIGZzLnN0YXQoJy4vdXBsb2Fkcy9zbGlkZXIvJysgaW1nLCBmdW5jdGlvbihlcnIpe1xuICAgICAgICAgICAgaWYoIWVycil7XG4gICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9zbGlkZXIvJytpbWc7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9kZWZhdWx0LmpwZyc7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1jYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG4gIH0sXG4gIHJlbW92ZTogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBtb2RlbHMuU2xpZGVyLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IHJlcS5xdWVyeS5faWR9KTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCIgIEVMIFNMSURFUiBTRSBFTElNSU5PIENPUlJFQ1RBTUVOVEVcIixcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuICB9LFxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsR0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsS0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQXVCLFNBQUFELHVCQUFBSyxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FHUjtFQUNiRyxRQUFRLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDMUIsSUFBSTtNQUNGO01BQ0MsSUFBR0QsR0FBRyxDQUFDRSxLQUFLLEVBQUM7UUFDWCxJQUFJQyxRQUFRLEdBQUdILEdBQUcsQ0FBQ0UsS0FBSyxDQUFDRSxPQUFPLENBQUNDLElBQUk7UUFDckMsSUFBSUMsSUFBSSxHQUFHSCxRQUFRLENBQUNJLEtBQUssQ0FBQyxHQUFHLENBQUM7UUFDOUIsSUFBSUMsWUFBWSxHQUFHRixJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzFCO1FBQ0FOLEdBQUcsQ0FBQ1MsSUFBSSxDQUFDQyxNQUFNLEdBQUdGLFlBQVk7TUFDaEM7TUFFRCxNQUFNRyxNQUFNLEdBQUcsTUFBTUMsZUFBTSxDQUFDQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ2QsR0FBRyxDQUFDUyxJQUFJLENBQUM7TUFDbkRSLEdBQUcsQ0FBQ2MsTUFB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Q0FBQztJQUVwQjtFQUNGLENBQUM7RUFDRHVCLGNBQWMsRUFBRSxNQUFBQSxDQUFNeEMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDaEMsSUFBSTtNQUNBLElBQUl3QyxHQUFHLEdBQUd6QyxHQUFHLENBQUMwQyxNQUFNLENBQUMsS0FBSyxDQUFDO01BRzNCQyxXQUFFLENBQUNDLElBQUksQ0FBQyxtQkFBbUIsR0FBRUgsR0FBRyxFQUFFLFVBQVNJLEdBQUcsRUFBQztRQUMzQyxJQUFHLENBQUNBLEdBQUcsRUFBQztVQUNKLElBQUlDLFFBQVEsR0FBRyxtQkFBbUIsR0FBQ0wsR0FBRztVQUN0Q3hDLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDZ0MsUUFBUSxDQUFDMUMsYUFBSSxDQUFDMkMsT0FBTyxDQUFDRixRQUFRLENBQUMsQ0FBQztRQUNwRCxDQUFDLE1BQUk7VUFDRCxJQUFJQSxRQUFRLEdBQUcsdUJBQXVCO1VBQ3RDN0MsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNnQyxRQUFRLENBQUMxQyxhQUFJLENBQUMyQyxPQUFPLENBQUNGLFFBQVEsQ0FBQyxDQUFDO1FBQ3BEO01BQ0osQ0FBQyxDQUFDO0lBQ04sQ0FBQyxRQUFPN0IsS0FBSyxFQUFFO01BQ2JoQixHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0csSUFBSSxDQUFDO1FBQ25CQyxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7TUFDRkMsT0FBTyxDQUFDQyxHQUFHLENBQUNKLEtBQUssQ0FBQztJQUNwQjtFQUNGLENBQUM7RUFDRGdDLE1BQU0sRUFBRSxNQUFBQSxDQUFNakQsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDeEIsSUFBSTtNQUNGLE1BQU1XLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDcUMsaUJBQWlCLENBQUM7UUFBQzFCLEdBQUcsRUFBRXhCLEdBQUcsQ0FBQytCLEtBQUssQ0FBQ1A7TUFBRyxDQUFDLENBQUM7TUFDM0R2QixHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ25CRyxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7SUFDSixDQUFDLENBQUMsT0FBT0YsS0FBSyxFQUFFO01BQ2RoQixHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0csSUFBSSxDQUFDO1FBQ25CQyxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7TUFDRkMsT0FBTyxDQUFDQyxHQUFHLENBQUNKLEtBQUssQ0FBQztJQUNwQjtFQUNGO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resourses","_fs","_path","e","__esModule","default","_default","exports","register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","slider","models","Slider","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","SliderT","findOne","resourse","slider_list","list","search","query","Sliders","find","$or","RegExp","sort","map","user","sliders","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","remove","findByIdAndDelete"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["SliderController.js"],"sourcesContent":["import models from \"../models\";\nimport resourse from '../resourses'\nimport fs from 'fs'\nimport path from 'path'\n\n\nexport default {\n  register: async(req,res) => {\n    try {\n      //console.log(req.files);\n       if(req.files){\n         var img_path = req.files.portada.path;\n         var name = img_path.split('/');\n         var portada_name = name[2];\n         //console.log(portada_name)\n         req.body.imagen = portada_name;\n       }\n      \n      const slider = await models.Slider.create(req.body);\n      res.status(200).json(slider);\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n  update: async(req,res) => {\n    try {\n       if(req.files && req.files.portada){\n         var img_path = req.files.portada.path;\n         var name = img_path.split('/');\n         var portada_name = name[2];\n         //console.log(portada_name)\n       req.body.imagen = portada_name;\n       }\n\n     await models.Slider.findByIdAndUpdate({_id: req.body._id},req.body);\n\n     let SliderT = await models.Slider.findOne({_id: req.body._id});\n\n      res.status(200).json({\n        message: \"EL SLIDER SE HA MODIFICADO CORRECTAMENTE\",\n        slider: resourse.Slider.slider_list(SliderT),\n      })\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n\n  },\n  list: async(req,res) => {\n    try {\n      var search = req.query.search;\n      let Sliders  = await models.Slider.find({\n        $or:[\n          {\"title\": new RegExp(search, \"i\")},\n        ]\n    }).sort({'createdAt':-1});\n\n    Sliders = Sliders.map((user) => {\n      return resourse.Slider.slider_list(user);\n    })\n\n    res.status(200).json({\n      sliders: Sliders\n    });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n      \n    }\n  },\n  obtener_imagen: async(req,res) => {\n    try {\n        var img = req.params['img'];\n        \n\n        fs.stat('./uploads/slider/'+ img, function(err){\n            if(!err){\n                let path_img = './uploads/slider/'+img;\n                res.status(200).sendFile(path.resolve(path_img));\n            }else{\n                let path_img = './uploads/default.jpg';\n                res.status(200).sendFile(path.resolve(path_img));\n            }\n        })\n    }catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async(req,res) => {\n    try {\n      await models.Slider.findByIdAndDelete({_id: req.query._id});\n      res.status(200).json({\n        message: \"  EL SLIDER SE ELIMINO CORRECTAMENTE\",\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n}"],"mappings":"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","ignoreList":[]}},"mtime":1737838781510},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _SliderController = _interopRequireDefault(require(\"../controllers/SliderController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/slider'\n});\nconst router = (0, _expressPromiseRouter.default)();\n\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _SliderController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _SliderController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _SliderController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _SliderController.default.remove);\nrouter.get(\"/uploads/slider/:img\", _SliderController.default.obtener_imagen);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9TbGlkZXJDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJwYXRoIiwibXVsdGlwYXJ0eSIsInVwbG9hZERpciIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwic2xpZGVyQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSIsIm9idGVuZXJfaW1hZ2VuIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJTbGlkZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSBcImV4cHJlc3MtcHJvbWlzZS1yb3V0ZXJcIlxuaW1wb3J0IHNsaWRlckNvbnRyb2xsZXIgZnJvbSBcIi4uL2NvbnRyb2xsZXJzL1NsaWRlckNvbnRyb2xsZXJcIlxuaW1wb3J0IGF1dGggZnJvbSBcIi4uL21pZGRsZXdhcmVzL2F1dGhcIlxuaW1wb3J0IG11bHRpcGFydHkgZnJvbSAnY29ubmVjdC1tdWx0aXBhcnR5JztcblxuXG52YXIgcGF0aCA9IG11bHRpcGFydHkoe3VwbG9hZERpcjonLi91cGxvYWRzL3NsaWRlcid9KTtcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcblxuLy8gaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycy9yZWdpc3RlclxuXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCBbYXV0aC52ZXJpZnlBZG1pbiwgcGF0aF0sc2xpZGVyQ29udHJvbGxlci5yZWdpc3Rlcik7XG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLFthdXRoLnZlcmlmeUFkbWluLHBhdGhdLHNsaWRlckNvbnRyb2xsZXIudXBkYXRlKTtcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sc2xpZGVyQ29udHJvbGxlci5saXN0KTtcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlXCIsYXV0aC52ZXJpZnlBZG1pbixzbGlkZXJDb250cm9sbGVyLnJlbW92ZSk7XG5cbnJvdXRlci5nZXQoXCIvdXBsb2Fkcy9zbGlkZXIvOmltZ1wiLHNsaWRlckNvbnRyb2xsZXIub2J0ZW5lcl9pbWFnZW4pO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxpQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsa0JBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUE0QyxTQUFBRCx1QkFBQUssQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUc1QyxJQUFJRyxJQUFJLEdBQUcsSUFBQUMsMEJBQVUsRUFBQztFQUFDQyxTQUFTLEVBQUM7QUFBa0IsQ0FBQyxDQUFDO0FBQ3JELE1BQU1DLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7O0FBRXhCOztBQUVBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUVQLElBQUksQ0FBQyxFQUFDUSx5QkFBZ0IsQ0FBQ0MsUUFBUSxDQUFDO0FBQzVFTixNQUFNLENBQUNPLEdBQUcsQ0FBQyxTQUFTLEVBQUMsQ0FBQ0osYUFBSSxDQUFDQyxXQUFXLEVBQUNQLElBQUksQ0FBQyxFQUFDUSx5QkFBZ0IsQ0FBQ0csTUFBTSxDQUFDO0FBQ3JFUixNQUFNLENBQUNTLEdBQUcsQ0FBQyxPQUFPLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0ssSUFBSSxDQUFDO0FBQzFEVixNQUFNLENBQUNXLE1BQU0sQ0FBQyxTQUFTLEVBQUNSLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ08sTUFBTSxDQUFDO0FBRWpFWixNQUFNLENBQUNTLEdBQUcsQ0FBQyxzQkFBc0IsRUFBQ0oseUJBQWdCLENBQUNRLGNBQWMsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBbkIsT0FBQSxHQUdwREksTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_SliderController","_auth","_connectMultiparty","e","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","sliderController","register","put","update","get","list","delete","remove","obtener_imagen","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Slider.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport sliderController from \"../controllers/SliderController\"\nimport auth from \"../middlewares/auth\"\nimport multiparty from 'connect-multiparty';\n\n\nvar path = multiparty({uploadDir:'./uploads/slider'});\nconst router = routerx();\n\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", [auth.verifyAdmin, path],sliderController.register);\nrouter.put(\"/update\",[auth.verifyAdmin,path],sliderController.update);\nrouter.get(\"/list\",auth.verifyAdmin,sliderController.list);\nrouter.delete(\"/delete\",auth.verifyAdmin,sliderController.remove);\n\nrouter.get(\"/uploads/slider/:img\",sliderController.obtener_imagen);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,iBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA4C,SAAAD,uBAAAK,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAG5C,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAC;AAAkB,CAAC,CAAC;AACrD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAACQ,yBAAgB,CAACC,QAAQ,CAAC;AAC5EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAC,CAACJ,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,yBAAgB,CAACG,MAAM,CAAC;AACrER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACK,IAAI,CAAC;AAC1DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAACR,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACO,MAAM,CAAC;AAEjEZ,MAAM,CAACS,GAAG,CAAC,sBAAsB,EAACJ,yBAAgB,CAACQ,cAAc,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAnB,OAAA,GAGpDI,MAAM","ignoreList":[]}},"mtime":1737838837463},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/SliderController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      //console.log(req.files);\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      const slider = await _models.default.Slider.create(req.body);\n      res.status(200).json(slider);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Slider.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let SliderT = await _models.default.Slider.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL SLIDER SE HA MODIFICADO CORRECTAMENTE\",\n        slider: _resourses.default.Slider.slider_list(SliderT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Sliders = await _models.default.Slider.find({\n        $or: [{\n          \"title\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Sliders = Sliders.map(user => {\n        return _resourses.default.Slider.slider_list(user);\n      });\n      res.status(200).json({\n        sliders: Sliders\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/slider/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/slider/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Slider.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"  EL SLIDER SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3Vyc2VzIiwiX2ZzIiwiX3BhdGgiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImZpbGVzIiwiaW1nX3BhdGgiLCJwb3J0YWRhIiwicGF0aCIsIm5hbWUiLCJzcGxpdCIsInBvcnRhZGFfbmFtZSIsImJvZHkiLCJpbWFnZW4iLCJzbGlkZXIiLCJtb2RlbHMiLCJTbGlkZXIiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsIlNsaWRlclQiLCJmaW5kT25lIiwicmVzb3Vyc2UiLCJzbGlkZXJfbGlzdCIsImxpc3QiLCJzZWFyY2giLCJxdWVyeSIsIlNsaWRlcnMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsInVzZXIiLCJzbGlkZXJzIiwib2J0ZW5lcl9pbWFnZW4iLCJpbWciLCJwYXJhbXMiLCJmcyIsInN0YXQiLCJlcnIiLCJwYXRoX2ltZyIsInNlbmRGaWxlIiwicmVzb2x2ZSIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIlNsaWRlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5pbXBvcnQgcmVzb3Vyc2UgZnJvbSAnLi4vcmVzb3Vyc2VzJ1xuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vY29uc29sZS5sb2cocmVxLmZpbGVzKTtcbiAgICAgICBpZihyZXEuZmlsZXMpe1xuICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcbiAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xuICAgICAgICAgLy9jb25zb2xlLmxvZyhwb3J0YWRhX25hbWUpXG4gICAgICAgICByZXEuYm9keS5pbWFnZW4gPSBwb3J0YWRhX25hbWU7XG4gICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBzbGlkZXIgPSBhd2FpdCBtb2RlbHMuU2xpZGVyLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihzbGlkZXIpO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cbiAgfSxcbiAgdXBkYXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICBpZihyZXEuZmlsZXMgJiYgcmVxLmZpbGVzLnBvcnRhZGEpe1xuICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcbiAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xuICAgICAgICAgLy9jb25zb2xlLmxvZyhwb3J0YWRhX25hbWUpXG4gICAgICAgcmVxLmJvZHkuaW1hZ2VuID0gcG9ydGFkYV9uYW1lO1xuICAgICAgIH1cblxuICAgICBhd2FpdCBtb2RlbHMuU2xpZGVyLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0scmVxLmJvZHkpO1xuXG4gICAgIGxldCBTbGlkZXJUID0gYXdhaXQgbW9kZWxzLlNsaWRlci5maW5kT25lKHtfaWQ6IHJlcS5ib2R5Ll9pZH0pO1xuXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IFwiRUwgU0xJREVSIFNFIEhBIE1PRElGSUNBRE8gQ09SUkVDVEFNRU5URVwiLFxuICAgICAgICBzbGlkZXI6IHJlc291cnNlLlNsaWRlci5zbGlkZXJfbGlzdChTbGlkZXJUKSxcbiAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG5cbiAgfSxcbiAgbGlzdDogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICB2YXIgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcbiAgICAgIGxldCBTbGlkZXJzICA9IGF3YWl0IG1vZGVscy5TbGlkZXIuZmluZCh7XG4gICAgICAgICRvcjpbXG4gICAgICAgICAge1widGl0bGVcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgIF1cbiAgICB9KS5zb3J0KHsnY3JlYXRlZEF0JzotMX0pO1xuXG4gICAgU2xpZGVycyA9IFNsaWRlcnMubWFwKCh1c2VyKSA9PiB7XG4gICAgICByZXR1cm4gcmVzb3Vyc2UuU2xpZGVyLnNsaWRlcl9saXN0KHVzZXIpO1xuICAgIH0pXG5cbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICBzbGlkZXJzOiBTbGlkZXJzXG4gICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIFxuICAgIH1cbiAgfSxcbiAgb2J0ZW5lcl9pbWFnZW46IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICB2YXIgaW1nID0gcmVxLnBhcmFtc1snaW1nJ107XG4gICAgICAgIFxuXG4gICAgICAgIGZzLnN0YXQoJy4vdXBsb2Fkcy9zbGlkZXIvJysgaW1nLCBmdW5jdGlvbihlcnIpe1xuICAgICAgICAgICAgaWYoIWVycil7XG4gICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9zbGlkZXIvJytpbWc7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9kZWZhdWx0LmpwZyc7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1jYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG4gIH0sXG4gIHJlbW92ZTogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBtb2RlbHMuU2xpZGVyLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IHJlcS5xdWVyeS5faWR9KTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCIgIEVMIFNMSURFUiBTRSBFTElNSU5PIENPUlJFQ1RBTUVOVEVcIixcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuICB9LFxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsR0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsS0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQXVCLFNBQUFELHVCQUFBSyxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FHUjtFQUNiRyxRQUFRLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDMUIsSUFBSTtNQUNGO01BQ0MsSUFBR0QsR0FBRyxDQUFDRSxLQUFLLEVBQUM7UUFDWCxJQUFJQyxRQUFRLEdBQUdILEdBQUcsQ0FBQ0UsS0FBSyxDQUFDRSxPQUFPLENBQUNDLElBQUk7UUFDckMsSUFBSUMsSUFBSSxHQUFHSCxRQUFRLENBQUNJLEtBQUssQ0FBQyxHQUFHLENBQUM7UUFDOUIsSUFBSUMsWUFBWSxHQUFHRixJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzFCO1FBQ0FOLEdBQUcsQ0FBQ1MsSUFBSSxDQUFDQyxNQUFNLEdBQUdGLFlBQVk7TUFDaEM7TUFFRCxNQUFNRyxNQUFNLEdBQUcsTUFBTUMsZUFBTSxDQUFDQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ2QsR0FBRyxDQUFDUyxJQUFJLENBQUM7TUFDbkRSLEdBQUcsQ0FBQ2MsTUFB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Q0FBQztJQUVwQjtFQUNGLENBQUM7RUFDRHVCLGNBQWMsRUFBRSxNQUFBQSxDQUFNeEMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDaEMsSUFBSTtNQUNBLElBQUl3QyxHQUFHLEdBQUd6QyxHQUFHLENBQUMwQyxNQUFNLENBQUMsS0FBSyxDQUFDO01BRzNCQyxXQUFFLENBQUNDLElBQUksQ0FBQyxtQkFBbUIsR0FBRUgsR0FBRyxFQUFFLFVBQVNJLEdBQUcsRUFBQztRQUMzQyxJQUFHLENBQUNBLEdBQUcsRUFBQztVQUNKLElBQUlDLFFBQVEsR0FBRyxtQkFBbUIsR0FBQ0wsR0FBRztVQUN0Q3hDLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDZ0MsUUFBUSxDQUFDMUMsYUFBSSxDQUFDMkMsT0FBTyxDQUFDRixRQUFRLENBQUMsQ0FBQztRQUNwRCxDQUFDLE1BQUk7VUFDRCxJQUFJQSxRQUFRLEdBQUcsdUJBQXVCO1VBQ3RDN0MsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNnQyxRQUFRLENBQUMxQyxhQUFJLENBQUMyQyxPQUFPLENBQUNGLFFBQVEsQ0FBQyxDQUFDO1FBQ3BEO01BQ0osQ0FBQyxDQUFDO0lBQ04sQ0FBQyxRQUFPN0IsS0FBSyxFQUFFO01BQ2JoQixHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0csSUFBSSxDQUFDO1FBQ25CQyxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7TUFDRkMsT0FBTyxDQUFDQyxHQUFHLENBQUNKLEtBQUssQ0FBQztJQUNwQjtFQUNGLENBQUM7RUFDRGdDLE1BQU0sRUFBRSxNQUFBQSxDQUFNakQsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDeEIsSUFBSTtNQUNGLE1BQU1XLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDcUMsaUJBQWlCLENBQUM7UUFBQzFCLEdBQUcsRUFBRXhCLEdBQUcsQ0FBQytCLEtBQUssQ0FBQ1A7TUFBRyxDQUFDLENBQUM7TUFDM0R2QixHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ25CRyxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7SUFDSixDQUFDLENBQUMsT0FBT0YsS0FBSyxFQUFFO01BQ2RoQixHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0csSUFBSSxDQUFDO1FBQ25CQyxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7TUFDRkMsT0FBTyxDQUFDQyxHQUFHLENBQUNKLEtBQUssQ0FBQztJQUNwQjtFQUNGO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resourses","_fs","_path","e","__esModule","default","_default","exports","register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","slider","models","Slider","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","SliderT","findOne","resourse","slider_list","list","search","query","Sliders","find","$or","RegExp","sort","map","user","sliders","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","remove","findByIdAndDelete"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["SliderController.js"],"sourcesContent":["import models from \"../models\";\nimport resourse from '../resourses'\nimport fs from 'fs'\nimport path from 'path'\n\n\nexport default {\n  register: async(req,res) => {\n    try {\n      //console.log(req.files);\n       if(req.files){\n         var img_path = req.files.portada.path;\n         var name = img_path.split('/');\n         var portada_name = name[2];\n         //console.log(portada_name)\n         req.body.imagen = portada_name;\n       }\n      \n      const slider = await models.Slider.create(req.body);\n      res.status(200).json(slider);\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n  update: async(req,res) => {\n    try {\n       if(req.files && req.files.portada){\n         var img_path = req.files.portada.path;\n         var name = img_path.split('/');\n         var portada_name = name[2];\n         //console.log(portada_name)\n       req.body.imagen = portada_name;\n       }\n\n     await models.Slider.findByIdAndUpdate({_id: req.body._id},req.body);\n\n     let SliderT = await models.Slider.findOne({_id: req.body._id});\n\n      res.status(200).json({\n        message: \"EL SLIDER SE HA MODIFICADO CORRECTAMENTE\",\n        slider: resourse.Slider.slider_list(SliderT),\n      })\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n\n  },\n  list: async(req,res) => {\n    try {\n      var search = req.query.search;\n      let Sliders  = await models.Slider.find({\n        $or:[\n          {\"title\": new RegExp(search, \"i\")},\n        ]\n    }).sort({'createdAt':-1});\n\n    Sliders = Sliders.map((user) => {\n      return resourse.Slider.slider_list(user);\n    })\n\n    res.status(200).json({\n      sliders: Sliders\n    });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n      \n    }\n  },\n  obtener_imagen: async(req,res) => {\n    try {\n        var img = req.params['img'];\n        \n\n        fs.stat('./uploads/slider/'+ img, function(err){\n            if(!err){\n                let path_img = './uploads/slider/'+img;\n                res.status(200).sendFile(path.resolve(path_img));\n            }else{\n                let path_img = './uploads/default.jpg';\n                res.status(200).sendFile(path.resolve(path_img));\n            }\n        })\n    }catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async(req,res) => {\n    try {\n      await models.Slider.findByIdAndDelete({_id: req.query._id});\n      res.status(200).json({\n        message: \"  EL SLIDER SE ELIMINO CORRECTAMENTE\",\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n}"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,GAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,KAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAuB,SAAAD,uBAAAK,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAGR;EACbG,QAAQ,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,KAAK;IAC1B,IAAI;MACF;MACC,IAAGD,GAAG,CAACE,KAAK,EAAC;QACX,IAAIC,QAAQ,GAAGH,GAAG,CAACE,KAAK,CAACE,OAAO,CAACC,IAAI;QACrC,IAAIC,IAAI,GAAGH,QAAQ,CAACI,KAAK,CAAC,GAAG,CAAC;QAC9B,IAAIC,YAAY,GAAGF,IAAI,CAAC,CAAC,CAAC;QAC1B;QACAN,GAAG,CAACS,IAAI,CAACC,MAAM,GAAGF,YAAY;MAChC;MAED,MAAMG,MAAM,GAAG,MAAMC,eAAM,CAACC,MAAM,CAACC,MAAM,CAACd,GAAG,CAACS,IAAI,CAAC;MACnDR,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACL,MAAM,CAAC;IAE9B,CAAC,CAAC,OAAOM,KAAK,EAAE;MACZhB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACF,CAAC;EACDK,MAAM,EAAE,MAAAA,CAAMtB,GAAG,EAACC,GAAG,KAAK;IACxB,IAAI;MACD,IAAGD,GAAG,CAACE,KAAK,IAAIF,GAAG,CAACE,KAAK,CAACE,OAAO,EAAC;QAChC,IAAID,QAAQ,GAAGH,GAAG,CAACE,KAAK,CAACE,OAAO,CAACC,IAAI;QACrC,IAAIC,IAAI,GAAGH,QAAQ,CAACI,KAAK,CAAC,GAAG,CAAC;QAC9B,IAAIC,YAAY,GAAGF,IAAI,CAAC,CAAC,CAAC;QAC1B;QACFN,GAAG,CAACS,IAAI,CAACC,MAAM,GAAGF,YAAY;MAC9B;MAEF,MAAMI,eAAM,CAACC,MAAM,CAACU,iBAAiB,CAAC;QAACC,GAAG,EAAExB,GAAG,CAACS,IAAI,CAACe;MAAG,CAAC,EAACxB,GAAG,CAACS,IAAI,CAAC;MAEnE,IAAIgB,OAAO,GAAG,MAAMb,eAAM,CAACC,MAAM,CAACa,OAAO,CAAC;QAACF,GAAG,EAAExB,GAAG,CAACS,IAAI,CAACe;MAAG,CAAC,CAAC;MAE7DvB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBG,OAAO,EAAE,0CAA0C;QACnDR,MAAM,EAAEgB,kBAAQ,CAACd,MAAM,CAACe,WAAW,CAACH,OAAO;MAC7C,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOR,KAAK,EAAE;MACdhB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACpB;EAEF,CAAC;EACDY,IAAI,EAAE,MAAAA,CAAM7B,GAAG,EAACC,GAAG,KAAK;IACtB,IAAI;MACF,IAAI6B,MAAM,GAAG9B,GAAG,CAAC+B,KAAK,CAACD,MAAM;MAC7B,IAAIE,OAAO,GAAI,MAAMpB,eAAM,CAACC,MAAM,CAACoB,IAAI,CAAC;QACtCC,GAAG,EAAC,CACF;UAAC,OAAO,EAAE,IAAIC,MAAM,CAACL,MAAM,EAAE,GAAG;QAAC,CAAC;MAExC,CAAC,CAAC,CAACM,IAAI,CAAC;QAAC,WAAW,EAAC,CAAC;MAAC,CAAC,CAAC;MAEzBJ,OAAO,GAAGA,OAAO,CAACK,GAAG,CAAEC,IAAI,IAAK;QAC9B,OAAOX,kBAAQ,CAACd,MAAM,CAACe,WAAW,CAACU,IAAI,CAAC;MAC1C,CAAC,CAAC;MAEFrC,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBuB,OAAO,EAAEP;MACX,CAAC,CAAC;IACF,CAAC,CAAC,OAAOf,KAAK,EAAE;MACdhB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IAEpB;EACF,CAAC;EACDuB,cAAc,EAAE,MAAAA,CAAMxC,GAAG,EAACC,GAAG,KAAK;IAChC,IAAI;MACA,IAAIwC,GAAG,GAAGzC,GAAG,CAAC0C,MAAM,CAAC,KAAK,CAAC;MAG3BC,WAAE,CAACC,IAAI,CAAC,mBAAmB,GAAEH,GAAG,EAAE,UAASI,GAAG,EAAC;QAC3C,IAAG,CAACA,GAAG,EAAC;UACJ,IAAIC,QAAQ,GAAG,mBAAmB,GAACL,GAAG;UACtCxC,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACgC,QAAQ,CAAC1C,aAAI,CAAC2C,OAAO,CAACF,QAAQ,CAAC,CAAC;QACpD,CAAC,MAAI;UACD,IAAIA,QAAQ,GAAG,uBAAuB;UACtC7C,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACgC,QAAQ,CAAC1C,aAAI,CAAC2C,OAAO,CAACF,QAAQ,CAAC,CAAC;QACpD;MACJ,CAAC,CAAC;IACN,CAAC,QAAO7B,KAAK,EAAE;MACbhB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACpB;EACF,CAAC;EACDgC,MAAM,EAAE,MAAAA,CAAMjD,GAAG,EAACC,GAAG,KAAK;IACxB,IAAI;MACF,MAAMW,eAAM,CAACC,MAAM,CAACqC,iBAAiB,CAAC;QAAC1B,GAAG,EAAExB,GAAG,CAAC+B,KAAK,CAACP;MAAG,CAAC,CAAC;MAC3DvB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBG,OAAO,EAAE;MACX,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOF,KAAK,EAAE;MACdhB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACpB;EACF;AACF,CAAC","ignoreList":[]}},"mtime":1737838781510},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  slider_list: slider => {\n    return {\n      _id: slider._id,\n      title: slider.title,\n      link: slider.link,\n      imagen: slider.imagen,\n      imagen_home: \"http://localhost:3000\" + \"/api/sliders/uploads/slider/\" + slider.imagen,\n      state: slider.state\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzbGlkZXJfbGlzdCIsInNsaWRlciIsIl9pZCIsInRpdGxlIiwibGluayIsImltYWdlbiIsImltYWdlbl9ob21lIiwic3RhdGUiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRvcy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3Jlc291cnNlcy8iLCJzb3VyY2VzIjpbIlNsaWRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdHtcbiAgc2xpZGVyX2xpc3Q6IChzbGlkZXIpID0+IHtcbiAgICByZXR1cm57XG4gICAgICBfaWQ6IHNsaWRlci5faWQsXG4gICAgICB0aXRsZTogc2xpZGVyLnRpdGxlLFxuICAgICAgbGluazogc2xpZGVyLmxpbmssXG4gICAgICBpbWFnZW46IHNsaWRlci5pbWFnZW4sXG4gICAgICBpbWFnZW5faG9tZTogXCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIitcIi9hcGkvc2xpZGVycy91cGxvYWRzL3NsaWRlci9cIitzbGlkZXIuaW1hZ2VuLFxuICAgICAgc3RhdGU6IHNsaWRlci5zdGF0ZSxcbiAgICB9XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztpQ0FBYztFQUNaQSxXQUFXLEVBQUdDLE1BQU0sSUFBSztJQUN2QixPQUFNO01BQ0pDLEdBQUcsRUFBRUQsTUFBTSxDQUFDQyxHQUFHO01BQ2ZDLEtBQUssRUFBRUYsTUFBTSxDQUFDRSxLQUFLO01BQ25CQyxJQUFJLEVBQUVILE1BQU0sQ0FBQ0csSUFBSTtNQUNqQkMsTUFBTSxFQUFFSixNQUFNLENBQUNJLE1BQU07TUFDckJDLFdBQVcsRUFBRSx1QkFBdUIsR0FBQyw4QkFBOEIsR0FBQ0wsTUFBTSxDQUFDSSxNQUFNO01BQ2pGRSxLQUFLLEVBQUVOLE1BQU0sQ0FBQ007SUFDaEIsQ0FBQztFQUNIO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["slider_list","slider","_id","title","link","imagen","imagen_home","state"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["Slider.js"],"sourcesContent":["export default{\n  slider_list: (slider) => {\n    return{\n      _id: slider._id,\n      title: slider.title,\n      link: slider.link,\n      imagen: slider.imagen,\n      imagen_home: \"http://localhost:3000\"+\"/api/sliders/uploads/slider/\"+slider.imagen,\n      state: slider.state,\n    }\n  }\n}"],"mappings":";;;;;;iCAAc;EACZA,WAAW,EAAGC,MAAM,IAAK;IACvB,OAAM;MACJC,GAAG,EAAED,MAAM,CAACC,GAAG;MACfC,KAAK,EAAEF,MAAM,CAACE,KAAK;MACnBC,IAAI,EAAEH,MAAM,CAACG,IAAI;MACjBC,MAAM,EAAEJ,MAAM,CAACI,MAAM;MACrBC,WAAW,EAAE,uBAAuB,GAAC,8BAA8B,GAACL,MAAM,CAACI,MAAM;MACjFE,KAAK,EAAEN,MAAM,CAACM;IAChB,CAAC;EACH;AACF,CAAC","ignoreList":[]}},"mtime":1738267226716},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  slider_list: slider => {\n    return {\n      _id: slider._id,\n      title: slider.title,\n      link: slider.link,\n      imagen: slider.imagen,\n      imagen_home: \"http://localhost:3000\" + \"/api/sliders/uploads/slider/\" + slider.imagen,\n      state: slider.state\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzbGlkZXJfbGlzdCIsInNsaWRlciIsIl9pZCIsInRpdGxlIiwibGluayIsImltYWdlbiIsImltYWdlbl9ob21lIiwic3RhdGUiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRvcy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3Jlc291cnNlcy8iLCJzb3VyY2VzIjpbIlNsaWRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdHtcbiAgc2xpZGVyX2xpc3Q6IChzbGlkZXIpID0+IHtcbiAgICByZXR1cm57XG4gICAgICBfaWQ6IHNsaWRlci5faWQsXG4gICAgICB0aXRsZTogc2xpZGVyLnRpdGxlLFxuICAgICAgbGluazogc2xpZGVyLmxpbmssXG4gICAgICBpbWFnZW46IHNsaWRlci5pbWFnZW4sXG4gICAgICBpbWFnZW5faG9tZTogXCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIitcIi9hcGkvc2xpZGVycy91cGxvYWRzL3NsaWRlci9cIitzbGlkZXIuaW1hZ2VuLFxuICAgICAgc3RhdGU6IHNsaWRlci5zdGF0ZSxcbiAgICB9XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztpQ0FBYztFQUNaQSxXQUFXLEVBQUdDLE1BQU0sSUFBSztJQUN2QixPQUFNO01BQ0pDLEdBQUcsRUFBRUQsTUFBTSxDQUFDQyxHQUFHO01BQ2ZDLEtBQUssRUFBRUYsTUFBTSxDQUFDRSxLQUFLO01BQ25CQyxJQUFJLEVBQUVILE1BQU0sQ0FBQ0csSUFBSTtNQUNqQkMsTUFBTSxFQUFFSixNQUFNLENBQUNJLE1BQU07TUFDckJDLFdBQVcsRUFBRSx1QkFBdUIsR0FBQyw4QkFBOEIsR0FBQ0wsTUFBTSxDQUFDSSxNQUFNO01BQ2pGRSxLQUFLLEVBQUVOLE1BQU0sQ0FBQ007SUFDaEIsQ0FBQztFQUNIO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["slider_list","slider","_id","title","link","imagen","imagen_home","state"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["Slider.js"],"sourcesContent":["export default{\n  slider_list: (slider) => {\n    return{\n      _id: slider._id,\n      title: slider.title,\n      link: slider.link,\n      imagen: slider.imagen,\n      imagen_home: \"http://localhost:3000\"+\"/api/sliders/uploads/slider/\"+slider.imagen,\n      state: slider.state,\n    }\n  }\n}"],"mappings":";;;;;;iCAAc;EACZA,WAAW,EAAGC,MAAM,IAAK;IACvB,OAAM;MACJC,GAAG,EAAED,MAAM,CAACC,GAAG;MACfC,KAAK,EAAEF,MAAM,CAACE,KAAK;MACnBC,IAAI,EAAEH,MAAM,CAACG,IAAI;MACjBC,MAAM,EAAEJ,MAAM,CAACI,MAAM;MACrBC,WAAW,EAAE,uBAAuB,GAAC,8BAA8B,GAACL,MAAM,CAACI,MAAM;MACjFE,KAAK,EAAEN,MAAM,CAACM;IAChB,CAAC;EACH;AACF,CAAC","ignoreList":[]}},"mtime":1738267226716},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/Cupone.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CuponeSchema = new _mongoose.Schema({\n  code: {\n    type: String,\n    maxlength: 50,\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  //por porcentaje 1  o por moneda 2\n  discount: {\n    type: Number,\n    required: true\n  },\n  //por moneda o por porcentaje\n  type_count: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  //ilimitado 1 o limitado 2\n  num_use: {\n    type: Number,\n    required: false\n  },\n  type_segment: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es cupon por producto y 2 seria por categoria\n  state: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1:activo\n  products: [{\n    type: Object\n  }],\n  //[{_id: asdasdas },{_id: dsdsds}]\n  categories: [{\n    type: Object\n  }]\n}, {\n  timestamps: true\n});\nconst Cupone = _mongoose.default.model(\"cupones\", CuponeSchema);\nvar _default = exports.default = Cupone;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDdXBvbmVTY2hlbWEiLCJTY2hlbWEiLCJjb2RlIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInJlcXVpcmVkIiwidHlwZV9kaXNjb3VudCIsIk51bWJlciIsImRpc2NvdW50IiwidHlwZV9jb3VudCIsIm51bV91c2UiLCJ0eXBlX3NlZ21lbnQiLCJzdGF0ZSIsInByb2R1Y3RzIiwiY2F0ZWdvcmllcyIsInRpbWVzdGFtcHMiLCJDdXBvbmUiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJDdXBvbmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBDdXBvbmVTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICBjb2RlOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6NTAscmVxdWlyZWQ6dHJ1ZX0sXG4gICAgdHlwZV9kaXNjb3VudDp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZSxkZWZhdWx0OiAxfSwvL3BvciBwb3JjZW50YWplIDEgIG8gcG9yIG1vbmVkYSAyXG4gICAgZGlzY291bnQ6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LC8vcG9yIG1vbmVkYSBvIHBvciBwb3JjZW50YWplXG4gICAgdHlwZV9jb3VudDp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZSxkZWZhdWx0OjF9LC8vaWxpbWl0YWRvIDEgbyBsaW1pdGFkbyAyXG4gICAgbnVtX3VzZTp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6ZmFsc2V9LFxuICAgIHR5cGVfc2VnbWVudDoge3R5cGU6TnVtYmVyLHJlcXVpcmVkOmZhbHNlLGRlZmF1bHQ6MX0sLy8xIGVzIGN1cG9uIHBvciBwcm9kdWN0byB5IDIgc2VyaWEgcG9yIGNhdGVnb3JpYVxuICAgIHN0YXRlOnt0eXBlOk51bWJlcixyZXF1aXJlZDpmYWxzZSxkZWZhdWx0OiAxfSwvLzE6YWN0aXZvXG4gICAgcHJvZHVjdHM6W3t0eXBlOk9iamVjdH1dLC8vW3tfaWQ6IGFzZGFzZGFzIH0se19pZDogZHNkc2RzfV1cbiAgICBjYXRlZ29yaWVzOlt7dHlwZTpPYmplY3R9XVxufSx7XG4gICAgdGltZXN0YW1wczp0cnVlXG59KVxuXG5jb25zdCBDdXBvbmUgPSBtb25nb29zZS5tb2RlbChcImN1cG9uZXNcIixDdXBvbmVTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgQ3Vwb25lOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUssT0FBQSxFQUFBTCxDQUFBLFFBQUFHLENBQUEsR0FBQUosd0JBQUEsQ0FBQUcsQ0FBQSxPQUFBQyxDQUFBLElBQUFBLENBQUEsQ0FBQUcsR0FBQSxDQUFBTixDQUFBLFVBQUFHLENBQUEsQ0FBQUksR0FBQSxDQUFBUCxDQUFBLE9BQUFRLENBQUEsS0FBQUMsU0FBQSxVQUFBQyxDQUFBLEdBQUFDLE1BQUEsQ0FBQUMsY0FBQSxJQUFBRCxNQUFBLENBQUFFLHdCQUFBLFdBQUFDLENBQUEsSUFBQWQsQ0FBQSxvQkFBQWMsQ0FBQSxPQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWhCLENBQUEsRUFBQWMsQ0FBQSxTQUFBRyxDQUFBLEdBQUFQLENBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBYixDQUFBLEVBQUFjLENBQUEsVUFBQUcsQ0FBQSxLQUFBQSxDQUFBLENBQUFWLEdBQUEsSUFBQVUsQ0FBQSxDQUFBQyxHQUFBLElBQUFQLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSixDQUFBLEVBQUFNLENBQUEsRUFBQUcsQ0FBQSxJQUFBVCxDQUFBLENBQUFNLENBQUEsSUFBQWQsQ0FBQSxDQUFBYyxDQUFBLFlBQUFOLENBQUEsQ0FBQUgsT0FBQSxHQUFBTCxDQUFBLEVBQUFHLENBQUEsSUFBQUEsQ0FBQSxDQUFBZSxHQUFBLENBQUFsQixDQUFBLEVBQUFRLENBQUEsR0FBQUEsQ0FBQTtBQUV6QyxNQUFNVyxZQUFZLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUM1QkMsSUFBSSxFQUFDO0lBQUNDLElBQUksRUFBQ0MsTUFBTTtJQUFDQyxTQUFTLEVBQUMsRUFBRTtJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQzdDQyxhQUFhLEVBQUM7SUFBQ0osSUFBSSxFQUFDSyxNQUFNO0lBQUNGLFFBQVEsRUFBQyxJQUFJO0lBQUNwQixPQUFPLEVBQUU7RUFBQyxDQUFDO0VBQUM7RUFDckR1QixRQUFRLEVBQUM7SUFBQ04sSUFBSSxFQUFDSyxNQUFNO0lBQUNGLFFBQVEsRUFBQztFQUFJLENBQUM7RUFBQztFQUNyQ0ksVUFBVSxFQUFDO0lBQUNQLElBQUksRUFBQ0ssTUFBTTtJQUFDRixRQUFRLEVBQUMsSUFBSTtJQUFDcEIsT0FBTyxFQUFDO0VBQUMsQ0FBQztFQUFDO0VBQ2pEeUIsT0FBTyxFQUFDO0lBQUNSLElBQUksRUFBQ0ssTUFBTTtJQUFDRixRQUFRLEVBQUM7RUFBSyxDQUFDO0VBQ3BDTSxZQUFZLEVBQUU7SUFBQ1QsSUFBSSxFQUFDSyxNQUFNO0lBQUNGLFFBQVEsRUFBQyxLQUFLO0lBQUNwQixPQUFPLEVBQUM7RUFBQyxDQUFDO0VBQUM7RUFDckQyQixLQUFLLEVBQUM7SUFBQ1YsSUFBSSxFQUFDSyxNQUFNO0lBQUNGLFFBQVEsRUFBQyxLQUFLO0lBQUNwQixPQUFPLEVBQUU7RUFBQyxDQUFDO0VBQUM7RUFDOUM0QixRQUFRLEVBQUMsQ0FBQztJQUFDWCxJQUFJLEVBQUNYO0VBQU0sQ0FBQyxDQUFDO0VBQUM7RUFDekJ1QixVQUFVLEVBQUMsQ0FBQztJQUFDWixJQUFJLEVBQUNYO0VBQU0sQ0FBQztBQUM3QixDQUFDLEVBQUM7RUFDRXdCLFVBQVUsRUFBQztBQUNmLENBQUMsQ0FBQztBQUVGLE1BQU1DLE1BQU0sR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLFNBQVMsRUFBQ25CLFlBQVksQ0FBQztBQUFDLElBQUFvQixRQUFBLEdBQUFDLE9BQUEsQ0FBQW5DLE9BQUEsR0FDdkMrQixNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CuponeSchema","Schema","code","type","String","maxlength","required","type_discount","Number","discount","type_count","num_use","type_segment","state","products","categories","timestamps","Cupone","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Cupone.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst CuponeSchema = new Schema({\n    code:{type:String,maxlength:50,required:true},\n    type_discount:{type:Number,required:true,default: 1},//por porcentaje 1  o por moneda 2\n    discount:{type:Number,required:true},//por moneda o por porcentaje\n    type_count:{type:Number,required:true,default:1},//ilimitado 1 o limitado 2\n    num_use:{type:Number,required:false},\n    type_segment: {type:Number,required:false,default:1},//1 es cupon por producto y 2 seria por categoria\n    state:{type:Number,required:false,default: 1},//1:activo\n    products:[{type:Object}],//[{_id: asdasdas },{_id: dsdsds}]\n    categories:[{type:Object}]\n},{\n    timestamps:true\n})\n\nconst Cupone = mongoose.model(\"cupones\",CuponeSchema);\nexport default Cupone;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,IAAI,EAAC;IAACC,IAAI,EAACC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC7CC,aAAa,EAAC;IAACJ,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,IAAI;IAACpB,OAAO,EAAE;EAAC,CAAC;EAAC;EACrDuB,QAAQ,EAAC;IAACN,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAI,CAAC;EAAC;EACrCI,UAAU,EAAC;IAACP,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,IAAI;IAACpB,OAAO,EAAC;EAAC,CAAC;EAAC;EACjDyB,OAAO,EAAC;IAACR,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAK,CAAC;EACpCM,YAAY,EAAE;IAACT,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,KAAK;IAACpB,OAAO,EAAC;EAAC,CAAC;EAAC;EACrD2B,KAAK,EAAC;IAACV,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,KAAK;IAACpB,OAAO,EAAE;EAAC,CAAC;EAAC;EAC9C4B,QAAQ,EAAC,CAAC;IAACX,IAAI,EAACX;EAAM,CAAC,CAAC;EAAC;EACzBuB,UAAU,EAAC,CAAC;IAACZ,IAAI,EAACX;EAAM,CAAC;AAC7B,CAAC,EAAC;EACEwB,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,SAAS,EAACnB,YAAY,CAAC;AAAC,IAAAoB,QAAA,GAAAC,OAAA,CAAAnC,OAAA,GACvC+B,MAAM","ignoreList":[]}},"mtime":1738075721403},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/Cupone.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CuponeSchema = new _mongoose.Schema({\n  code: {\n    type: String,\n    maxlength: 50,\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  //por porcentaje 1  o por moneda 2\n  discount: {\n    type: Number,\n    required: true\n  },\n  //por moneda o por porcentaje\n  type_count: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  //ilimitado 1 o limitado 2\n  num_use: {\n    type: Number,\n    required: false\n  },\n  type_segment: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es cupon por producto y 2 seria por categoria\n  state: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1:activo\n  products: [{\n    type: Object\n  }],\n  //[{_id: asdasdas },{_id: dsdsds}]\n  categories: [{\n    type: Object\n  }]\n}, {\n  timestamps: true\n});\nconst Cupone = _mongoose.default.model(\"cupones\", CuponeSchema);\nvar _default = exports.default = Cupone;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDdXBvbmVTY2hlbWEiLCJTY2hlbWEiLCJjb2RlIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInJlcXVpcmVkIiwidHlwZV9kaXNjb3VudCIsIk51bWJlciIsImRpc2NvdW50IiwidHlwZV9jb3VudCIsIm51bV91c2UiLCJ0eXBlX3NlZ21lbnQiLCJzdGF0ZSIsInByb2R1Y3RzIiwiY2F0ZWdvcmllcyIsInRpbWVzdGFtcHMiLCJDdXBvbmUiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJDdXBvbmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBDdXBvbmVTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICBjb2RlOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6NTAscmVxdWlyZWQ6dHJ1ZX0sXG4gICAgdHlwZV9kaXNjb3VudDp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZSxkZWZhdWx0OiAxfSwvL3BvciBwb3JjZW50YWplIDEgIG8gcG9yIG1vbmVkYSAyXG4gICAgZGlzY291bnQ6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LC8vcG9yIG1vbmVkYSBvIHBvciBwb3JjZW50YWplXG4gICAgdHlwZV9jb3VudDp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZSxkZWZhdWx0OjF9LC8vaWxpbWl0YWRvIDEgbyBsaW1pdGFkbyAyXG4gICAgbnVtX3VzZTp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6ZmFsc2V9LFxuICAgIHR5cGVfc2VnbWVudDoge3R5cGU6TnVtYmVyLHJlcXVpcmVkOmZhbHNlLGRlZmF1bHQ6MX0sLy8xIGVzIGN1cG9uIHBvciBwcm9kdWN0byB5IDIgc2VyaWEgcG9yIGNhdGVnb3JpYVxuICAgIHN0YXRlOnt0eXBlOk51bWJlcixyZXF1aXJlZDpmYWxzZSxkZWZhdWx0OiAxfSwvLzE6YWN0aXZvXG4gICAgcHJvZHVjdHM6W3t0eXBlOk9iamVjdH1dLC8vW3tfaWQ6IGFzZGFzZGFzIH0se19pZDogZHNkc2RzfV1cbiAgICBjYXRlZ29yaWVzOlt7dHlwZTpPYmplY3R9XVxufSx7XG4gICAgdGltZXN0YW1wczp0cnVlXG59KVxuXG5jb25zdCBDdXBvbmUgPSBtb25nb29zZS5tb2RlbChcImN1cG9uZXNcIixDdXBvbmVTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgQ3Vwb25lOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUssT0FBQSxFQUFBTCxDQUFBLFFBQUFHLENBQUEs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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CuponeSchema","Schema","code","type","String","maxlength","required","type_discount","Number","discount","type_count","num_use","type_segment","state","products","categories","timestamps","Cupone","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Cupone.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst CuponeSchema = new Schema({\n    code:{type:String,maxlength:50,required:true},\n    type_discount:{type:Number,required:true,default: 1},//por porcentaje 1  o por moneda 2\n    discount:{type:Number,required:true},//por moneda o por porcentaje\n    type_count:{type:Number,required:true,default:1},//ilimitado 1 o limitado 2\n    num_use:{type:Number,required:false},\n    type_segment: {type:Number,required:false,default:1},//1 es cupon por producto y 2 seria por categoria\n    state:{type:Number,required:false,default: 1},//1:activo\n    products:[{type:Object}],//[{_id: asdasdas },{_id: dsdsds}]\n    categories:[{type:Object}]\n},{\n    timestamps:true\n})\n\nconst Cupone = mongoose.model(\"cupones\",CuponeSchema);\nexport default Cupone;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,IAAI,EAAC;IAACC,IAAI,EAACC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC7CC,aAAa,EAAC;IAACJ,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,IAAI;IAACpB,OAAO,EAAE;EAAC,CAAC;EAAC;EACrDuB,QAAQ,EAAC;IAACN,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAI,CAAC;EAAC;EACrCI,UAAU,EAAC;IAACP,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,IAAI;IAACpB,OAAO,EAAC;EAAC,CAAC;EAAC;EACjDyB,OAAO,EAAC;IAACR,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAK,CAAC;EACpCM,YAAY,EAAE;IAACT,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,KAAK;IAACpB,OAAO,EAAC;EAAC,CAAC;EAAC;EACrD2B,KAAK,EAAC;IAACV,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,KAAK;IAACpB,OAAO,EAAE;EAAC,CAAC;EAAC;EAC9C4B,QAAQ,EAAC,CAAC;IAACX,IAAI,EAACX;EAAM,CAAC,CAAC;EAAC;EACzBuB,UAAU,EAAC,CAAC;IAACZ,IAAI,EAACX;EAAM,CAAC;AAC7B,CAAC,EAAC;EACEwB,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,SAAS,EAACnB,YAAY,CAAC;AAAC,IAAAoB,QAAA,GAAAC,OAAA,CAAAnC,OAAA,GACvC+B,MAAM","ignoreList":[]}},"mtime":1738075721403},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/Cupone.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CuponeController = _interopRequireDefault(require(\"../controllers/CuponeController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyAdmin, _CuponeController.default.register);\nrouter.put(\"/update\", _auth.default.verifyAdmin, _CuponeController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CuponeController.default.list);\nrouter.get(\"/config\", _auth.default.verifyAdmin, _CuponeController.default.config);\nrouter.get(\"/show\", _auth.default.verifyAdmin, _CuponeController.default.show);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CuponeController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DdXBvbmVDb250cm9sbGVyIiwiX2F1dGgiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlBZG1pbiIsImN1cG9uZUNvbnRyb2xsZXIiLCJyZWdpc3RlciIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJjb25maWciLCJzaG93IiwiZGVsZXRlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJDdXBvbmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcbmltcG9ydCBjdXBvbmVDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL0N1cG9uZUNvbnRyb2xsZXInXG5pbXBvcnQgYXV0aCBmcm9tICcuLi9taWRkbGV3YXJlcy9hdXRoJ1xuXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5cbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsYXV0aC52ZXJpZnlBZG1pbixjdXBvbmVDb250cm9sbGVyLnJlZ2lzdGVyKTtcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsYXV0aC52ZXJpZnlBZG1pbixjdXBvbmVDb250cm9sbGVyLnVwZGF0ZSk7XG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUFkbWluLGN1cG9uZUNvbnRyb2xsZXIubGlzdCk7XG5yb3V0ZXIuZ2V0KFwiL2NvbmZpZ1wiLGF1dGgudmVyaWZ5QWRtaW4sY3Vwb25lQ29udHJvbGxlci5jb25maWcpO1xucm91dGVyLmdldChcIi9zaG93XCIsYXV0aC52ZXJpZnlBZG1pbixjdXBvbmVDb250cm9sbGVyLnNob3cpO1xucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIixhdXRoLnZlcmlmeUFkbWluLGN1cG9uZUNvbnRyb2xsZXIuZGVsZXRlKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGlCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBc0MsU0FBQUQsdUJBQUFJLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFFdEMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUV4QkQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ0MseUJBQWdCLENBQUNDLFFBQVEsQ0FBQztBQUNuRU4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDSixhQUFJLENBQUNDLFdBQVcsRUFBQ0MseUJBQWdCLENBQUNHLE1BQU0sQ0FBQztBQUM5RFIsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MseUJBQWdCLENBQUNLLElBQUksQ0FBQztBQUMxRFYsTUFBTSxDQUFDUyxHQUFHLENBQUMsU0FBUyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MseUJBQWdCLENBQUNNLE1BQU0sQ0FBQztBQUM5RFgsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MseUJBQWdCLENBQUNPLElBQUksQ0FBQztBQUMxRFosTUFBTSxDQUFDYSxNQUFNLENBQUMsU0FBUyxFQUFDVixhQUFJLENBQUNDLFdBQVcsRUFBQ0MseUJBQWdCLENBQUNRLE1BQU0sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBaEIsT0FBQSxHQUVuREMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CuponeController","_auth","e","__esModule","default","router","routerx","post","auth","verifyAdmin","cuponeController","register","put","update","get","list","config","show","delete","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Cupone.js"],"sourcesContent":["import routerx from 'express-promise-router'\nimport cuponeController from '../controllers/CuponeController'\nimport auth from '../middlewares/auth'\n\nconst router = routerx();\n\nrouter.post(\"/register\",auth.verifyAdmin,cuponeController.register);\nrouter.put(\"/update\",auth.verifyAdmin,cuponeController.update);\nrouter.get(\"/list\",auth.verifyAdmin,cuponeController.list);\nrouter.get(\"/config\",auth.verifyAdmin,cuponeController.config);\nrouter.get(\"/show\",auth.verifyAdmin,cuponeController.show);\nrouter.delete(\"/delete\",auth.verifyAdmin,cuponeController.delete);\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,iBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACC,QAAQ,CAAC;AACnEN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACG,MAAM,CAAC;AAC9DR,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACK,IAAI,CAAC;AAC1DV,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACM,MAAM,CAAC;AAC9DX,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACO,IAAI,CAAC;AAC1DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACQ,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAEnDC,MAAM","ignoreList":[]}},"mtime":1738074332387},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/CuponeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let exits_cupone = await _models.default.Cupone.findOne({\n        code: data.code\n      });\n      if (exits_cupone) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n        });\n        return;\n      }\n      let cupone = await _models.default.Cupone.create(data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"El cupón se registró satisfactoriamente\",\n        cupone: cupone\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let exits_cupone = await _models.default.Cupone.findOne({\n        code: data.code,\n        _id: {\n          $ne: data._id\n        }\n      });\n      if (exits_cupone) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n        });\n        return;\n      }\n      let cupone = await _models.default.Cupone.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let cuponeT = await _models.default.Cupone.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"El cupón se actualizó satisfactoriamente\",\n        cupone: cuponeT\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Cupone.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"El cupón se eliminó satisfactoriamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      let search = req.query.search;\n      let cupones = await _models.default.Cupone.find({\n        $or: [{\n          \"code\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        message: 200,\n        cupones: cupones\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      let cupone_id = req.query.cupone_id;\n      let cupon = await _models.default.Cupone.findOne({\n        _id: cupone_id\n      });\n      res.status(200).json({\n        message: 200,\n        cupon: cupon\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      let Products = await _models.default.Product.find({\n        state: 2,\n        condition: {\n          $ne: 3\n        }\n      });\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      res.status(200).json({\n        message: 200,\n        products: Products,\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5IiwiZXhpdHNfY3Vwb25lIiwibW9kZWxzIiwiQ3Vwb25lIiwiZmluZE9uZSIsImNvZGUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsIm1lc3NhZ2VfdGV4dCIsImN1cG9uZSIsImNyZWF0ZSIsImVycm9yIiwic2VuZCIsInVwZGF0ZSIsIl9pZCIsIiRuZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiY3Vwb25lVCIsImZpbmRCeUlkIiwiZGVsZXRlIiwicXVlcnkiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImxpc3QiLCJzZWFyY2giLCJjdXBvbmVzIiwiZmluZCIsIiRvciIsIlJlZ0V4cCIsInNvcnQiLCJzaG93IiwiY3Vwb25lX2lkIiwiY3Vwb24iLCJjb25maWciLCJQcm9kdWN0cyIsIlByb2R1Y3QiLCJzdGF0ZSIsImNvbmRpdGlvbiIsIkNhdGVnb3JpZXMiLCJDYXRlZ29yaWUiLCJwcm9kdWN0cyIsImNhdGVnb3JpZXMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRvcy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiQ3Vwb25lQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIlxuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XG5cbiAgICAgICAgICAgIGxldCBleGl0c19jdXBvbmUgPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRPbmUoe2NvZGU6IGRhdGEuY29kZX0pO1xuXG4gICAgICAgICAgICBpZihleGl0c19jdXBvbmUpe1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTo0MDMsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBDT0RJR08gREVMIENVUE9OIFlBIEVYSVNURVwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgY3Vwb25lID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5jcmVhdGUoZGF0YSk7XG5cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVsIGN1cMOzbiBzZSByZWdpc3Ryw7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgICAgICAgICAgY3Vwb25lOmN1cG9uZVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XG5cbiAgICAgICAgICAgIGxldCBleGl0c19jdXBvbmUgPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRPbmUoe2NvZGU6IGRhdGEuY29kZSxfaWQ6IHskbmU6IGRhdGEuX2lkfX0pO1xuXG4gICAgICAgICAgICBpZihleGl0c19jdXBvbmUpe1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTo0MDMsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBDT0RJR08gREVMIENVUE9OIFlBIEVYSVNURVwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgY3Vwb25lID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiBkYXRhLl9pZH0sZGF0YSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxldCBjdXBvbmVUID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kQnlJZCh7X2lkOiBkYXRhLl9pZH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFbCBjdXDDs24gc2UgYWN0dWFsaXrDsyBzYXRpc2ZhY3RvcmlhbWVudGVcIixcbiAgICAgICAgICAgICAgICBjdXBvbmU6Y3Vwb25lVCxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZGVsZXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgX2lkID0gcmVxLnF1ZXJ5Ll9pZDtcblxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiBfaWR9KTtcblxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRWwgY3Vww7NuIHNlIGVsaW1pbsOzIHNhdGlzZmFjdG9yaWFtZW50ZVwiLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBsaXN0OiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcblxuICAgICAgICAgICAgbGV0IGN1cG9uZXMgPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmQoe1xuICAgICAgICAgICAgICAgICRvcjpbXG4gICAgICAgICAgICAgICAgICAgIHtcImNvZGVcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSkuc29ydCh7J2NyZWF0ZWRBdCc6IC0xfSk7XG5cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXG4gICAgICAgICAgICAgICAgY3Vwb25lczogY3Vwb25lcyxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2hvdzogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IGN1cG9uZV9pZCA9IHJlcS5xdWVyeS5jdXBvbmVfaWQ7XG5cbiAgICAgICAgICAgIGxldCBjdXBvbiA9IGF3YWl0IG1vZGVscy5DdXBvbmUuZmluZE9uZSh7X2lkOiBjdXBvbmVfaWR9KTtcblxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcbiAgICAgICAgICAgICAgICBjdXBvbjogY3Vwb24sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGNvbmZpZzogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IFByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7IHN0YXRlOiAyLCBjb25kaXRpb246IHsgJG5lOiAzIH0gfSk7XG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmllcyA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZCh7c3RhdGU6MX0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxuICAgICAgICAgICAgICAgIHByb2R1Y3RzOiBQcm9kdWN0cyxcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzOiBDYXRlZ29yaWVzLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUE4QixTQUFBRCx1QkFBQUUsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRWY7RUFDWEcsUUFBUSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0lBQ3hCLElBQUk7TUFDQSxJQUFJQyxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0csSUFBSTtNQUVuQixJQUFJQyxZQUFZLEdBQUcsTUFBTUMsZUFBTSxDQUFDQyxNQUFNLENBQUNDLE9BQU8sQ0FBQztRQUFDQyxJQUFJLEVBQUVOLElBQUksQ0FBQ007TUFBSSxDQUFDLENBQUM7TUFFakUsSUFBR0osWUFBWSxFQUFDO1FBQ1pILEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDakJDLE9BQU8sRUFBQyxHQUFHO1VBQ1hDLFlBQVksRUFBRTtRQUNsQixDQUFDLENBQUM7UUFDRjtNQUNKO01BRUEsSUFBSUMsTUFBTSxHQUFHLE1BQU1SLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDUSxNQUFNLENBQUNaLElBQUksQ0FBQztNQUU3Q0QsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFLEdBQUc7UUFDWkMsWUFBWSxFQUFFLHlDQUF5QztRQUN2REMsTUFBTSxFQUFDQTtNQUNYLENBQUMsQ0FBQztJQUVOLENBQUMsQ0FBQyxPQUFPRSxLQUFLLEVBQUU7TUFDWmQsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNPLElBQUksQ0FBQztRQUNqQkwsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047RUFDSixDQUFDO0VBQ0RNLE1BQU0sRUFBRSxNQUFBQSxDQUFNakIsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDdEIsSUFBSTtNQUNBLElBQUlDLElBQUksR0FBR0YsR0FBRyxDQUFDRyxJQUFJO01BRW5CLElBQUlDLFlBQVksR0FBRyxNQUFNQyxlQUFNLENBQUNDLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDO1FBQUNDLElBQUksRUFBRU4sSUFBSSxDQUFDTSxJQUFJO1FBQUNVLEdBQUcsRUFBRTtVQUFDQyxHQUFHLEVBQUVqQixJQUFJLENBQUNnQjtRQUFHO01BQUMsQ0FBQyxDQUFDO01BRXRGLElBQUdkLFlBQVksRUFBQztRQUNaSCxHQUFHLENBQUNRLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQ2pCQyxPQUFPLEVBQUMsR0FBRztVQUNYQyxZQUFZLEVBQUU7UUFDbEIsQ0FBQyxDQUFDO1FBQ0Y7TUFDSjtNQUVBLElBQUlDLE1BQU0sR0FBRyxNQUFNUixlQUFNLENBQUNDLE1BQU0sQ0FBQ2MsaUJBQWlCLENBQUM7UUFBQ0YsR0FBRyxFQUFFaEIsSUFBSSxDQUFDZ0I7TUFBRyxDQUFDLEVBQUNoQixJQUFJLENBQUM7TUFFeEUsSUFBSW1CLE9BQU8sR0FBRyxNQUFNaEIsZUFBTSxDQUFDQyxNQUFNLENBQUNnQixRQUFRLENBQUM7UUFBQ0osR0FBRyxFQUFFaEIsSUFBSSxDQUFDZ0I7TUFBRyxDQUFDLENBQUM7TUFFM0RqQixHQUFHLENBQUNRLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUUsR0FBRztRQUNaQyxZQUFZLEVBQUUsMENBQTBDO1FBQ3hEQyxNQUFNLEVBQUNRO01BQ1gsQ0FBQyxDQUFDO0lBRU4sQ0FBQyxDQUFDLE9BQU9OLEtBQUssRUFBRTtNQUNaZCxHQUFHLENBQUNRLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ08sSUFBSSxDQUFDO1FBQ2pCTCxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtFQUNKLENBQUM7RUFDRFksTUFBTSxFQUFFLE1BQUFBLENBQU12QixHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUN0QixJQUFJO01BQ0EsSUFBSWlCLEdBQUcsR0FBR2xCLEdBQUcsQ0FBQ3dCLEtBQUssQ0FBQ04sR0FBRztNQUV2QixNQUFNYixlQUFNLENBQUNDLE1BQU0sQ0FBQ21CLGlCQUFpQixDQUFDO1FBQUNQLEdBQUcsRUFBRUE7TUFBRyxDQUFDLENBQUM7TUFFakRqQixHQUFHLENBQUNRLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUUsR0FBRztRQUNaQyxZQUFZLEVBQUU7TUFDbEIsQ0FBQyxDQUFDO0lBRU4sQ0FBQyxDQUFDLE9BQU9HLEtBQUssRUFBRTtNQUNaZCxHQUFHLENBQUNRLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ08sSUFBSSxDQUFDO1FBQ2pCTCxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtFQUNKLENBQUM7RUFDRGUsSUFBSSxFQUFFLE1BQUFBLENBQU0xQixHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUNwQixJQUFJO01BQ0EsSUFBSTBCLE1BQU0sR0FBRzNCLEdBQUcsQ0FBQ3dCLEtBQUssQ0FBQ0csTUFBTTtNQUU3QixJQUFJQyxPQUFPLEdBQUcsTUFBTXZCLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDdUIsSUFBSSxDQUFDO1FBQ25DQyxHQUFHLEVBQUMsQ0FDQTtVQUFDLE1BQU0sRUFBRSxJQUFJQyxNQUFNLENBQUNKLE1BQU0sRUFBRSxHQUFHO1FBQUMsQ0FBQztNQUV6QyxDQUFDLENBQUMsQ0FBQ0ssSUFBSSxDQUFDO1FBQUMsV0FBVyxFQUFFLENBQUM7TUFBQyxDQUFDLENBQUM7TUFFMUIvQixHQUFHLENBQUNRLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUUsR0FBRztRQUNaaUIsT0FBTyxFQUFFQTtNQUNiLENBQUMsQ0FBQztJQUVOLENBQUMsQ0FBQyxPQUFPYixLQUFLLEVBQUU7TUFDWmQsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNPLElBQUksQ0FBQztRQUNqQkwsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047RUFDSixDQUFDO0VBQ0RzQixJQUFJLEVBQUUsTUFBQUEsQ0FBTWpDLEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0lBQ3BCLElBQUk7TUFDQSxJQUFJaUMsU0FBUyxHQUFHbEMsR0FBRyxDQUFDd0IsS0FBSyxDQUFDVSxTQUFTO01BRW5DLElBQUlDLEtBQUssR0FBRyxNQUFNOUIsZUFBTSxDQUFDQyxNQUFNLENBQUNDLE9BQU8sQ0FBQztRQUFDVyxHQUFHLEVBQUVnQjtNQUFTLENBQUMsQ0FBQztNQUV6RGpDLEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRSxHQUFHO1FBQ1p3QixLQUFLLEVBQUVBO01BQ1gsQ0FBQyxDQUFDO0lBRU4sQ0FBQyxDQUFDLE9BQU9wQixLQUFLLEVBQUU7TUFDWmQsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNPLElBQUksQ0FBQztRQUNqQkwsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047RUFDSixDQUFDO0VBQ0R5QixNQUFNLEVBQUUsTUFBQUEsQ0FBTXBDLEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0lBQ3RCLElBQUk7TUFDQSxJQUFJb0MsUUFBUSxHQUFHLE1BQU1oQyxlQUFNLENBQUNpQyxPQUFPLENBQUNULElBQUksQ0FBQztRQUFFVSxLQUFLLEVBQUUsQ0FBQztRQUFFQyxTQUFTLEVBQUU7VUFBRXJCLEdBQUcsRUFBRTtRQUFFO01BQUUsQ0FBQyxDQUFDO01BQzdFLElBQUlzQixVQUFVLEdBQUcsTUFBTXBDLGVBQU0sQ0FBQ3FDLFNBQVMsQ0FBQ2IsSUFBSSxDQUFDO1FBQUNVLEtBQUssRUFBQztNQUFDLENBQUMsQ0FBQztNQUV2RHRDLEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRSxHQUFHO1FBQ1pnQyxRQUFRLEVBQUVOLFFBQVE7UUFDbEJPLFVBQVUsRUFBRUg7TUFDaEIsQ0FBQyxDQUFDO0lBRU4sQ0FBQyxDQUFDLE9BQU8xQixLQUFLLEVBQUU7TUFDWmQsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNPLElBQUksQ0FBQztRQUNqQkwsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047RUFDSjtBQUNKLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_models","_interopRequireDefault","require","e","__esModule","default","_default","exports","register","req","res","data","body","exits_cupone","models","Cupone","findOne","code","status","json","message","message_text","cupone","create","error","send","update","_id","$ne","findByIdAndUpdate","cuponeT","findById","delete","query","findByIdAndDelete","list","search","cupones","find","$or","RegExp","sort","show","cupone_id","cupon","config","Products","Product","state","condition","Categories","Categorie","products","categories"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["CuponeController.js"],"sourcesContent":["import models from \"../models\"\n\nexport default {\n    register: async(req,res) => {\n        try {\n            let data = req.body;\n\n            let exits_cupone = await models.Cupone.findOne({code: data.code});\n\n            if(exits_cupone){\n                res.status(200).json({\n                    message:403,\n                    message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n                });\n                return;\n            }\n\n            let cupone = await models.Cupone.create(data);\n\n            res.status(200).json({\n                message: 200,\n                message_text: \"El cupón se registró satisfactoriamente\",\n                cupone:cupone\n            });\n\n        } catch (error) {\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    update: async(req,res) => {\n        try {\n            let data = req.body;\n\n            let exits_cupone = await models.Cupone.findOne({code: data.code,_id: {$ne: data._id}});\n\n            if(exits_cupone){\n                res.status(200).json({\n                    message:403,\n                    message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n                });\n                return;\n            }\n\n            let cupone = await models.Cupone.findByIdAndUpdate({_id: data._id},data);\n            \n            let cuponeT = await models.Cupone.findById({_id: data._id});\n\n            res.status(200).json({\n                message: 200,\n                message_text: \"El cupón se actualizó satisfactoriamente\",\n                cupone:cuponeT,\n            });\n\n        } catch (error) {\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    delete: async(req,res) => {\n        try {\n            let _id = req.query._id;\n\n            await models.Cupone.findByIdAndDelete({_id: _id});\n\n            res.status(200).json({\n                message: 200,\n                message_text: \"El cupón se eliminó satisfactoriamente\",\n            });\n\n        } catch (error) {\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    list: async(req,res) => {\n        try {\n            let search = req.query.search;\n\n            let cupones = await models.Cupone.find({\n                $or:[\n                    {\"code\": new RegExp(search, \"i\")},\n                ]\n            }).sort({'createdAt': -1});\n\n            res.status(200).json({\n                message: 200,\n                cupones: cupones,\n            });\n\n        } catch (error) {\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    show: async(req,res) => {\n        try {\n            let cupone_id = req.query.cupone_id;\n\n            let cupon = await models.Cupone.findOne({_id: cupone_id});\n\n            res.status(200).json({\n                message: 200,\n                cupon: cupon,\n            });\n\n        } catch (error) {\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    config: async(req,res) => {\n        try {\n            let Products = await models.Product.find({ state: 2, condition: { $ne: 3 } });\n            let Categories = await models.Categorie.find({state:1});\n\n            res.status(200).json({\n                message: 200,\n                products: Products,\n                categories: Categories,\n            });\n\n        } catch (error) {\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n}"],"mappings":"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","ignoreList":[]}},"mtime":1738094585658},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/Cupone.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CuponeController = _interopRequireDefault(require(\"../controllers/CuponeController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyAdmin, _CuponeController.default.register);\nrouter.put(\"/update\", _auth.default.verifyAdmin, _CuponeController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CuponeController.default.list);\nrouter.get(\"/config\", _auth.default.verifyAdmin, _CuponeController.default.config);\nrouter.get(\"/show\", _auth.default.verifyAdmin, _CuponeController.default.show);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CuponeController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DdXBvbmVDb250cm9sbGVyIiwiX2F1dGgiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlBZG1pbiIsImN1cG9uZUNvbnRyb2xsZXIiLCJyZWdpc3RlciIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJjb25maWciLCJzaG93IiwiZGVsZXRlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJDdXBvbmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcbmltcG9ydCBjdXBvbmVDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL0N1cG9uZUNvbnRyb2xsZXInXG5pbXBvcnQgYXV0aCBmcm9tICcuLi9taWRkbGV3YXJlcy9hdXRoJ1xuXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5cbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsYXV0aC52ZXJpZnlBZG1pbixjdXBvbmVDb250cm9sbGVyLnJlZ2lzdGVyKTtcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsYXV0aC52ZXJpZnlBZG1pbixjdXBvbmVDb250cm9sbGVyLnVwZGF0ZSk7XG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUFkbWluLGN1cG9uZUNvbnRyb2xsZXIubGlzdCk7XG5yb3V0ZXIuZ2V0KFwiL2NvbmZpZ1wiLGF1dGgudmVyaWZ5QWRtaW4sY3Vwb25lQ29udHJvbGxlci5jb25maWcpO1xucm91dGVyLmdldChcIi9zaG93XCIsYXV0aC52ZXJpZnlBZG1pbixjdXBvbmVDb250cm9sbGVyLnNob3cpO1xucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIixhdXRoLnZlcmlmeUFkbWluLGN1cG9uZUNvbnRyb2xsZXIuZGVsZXRlKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGlCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBc0MsU0FBQUQsdUJBQUFJLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFFdEMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUV4QkQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ0MseUJBQWdCLENBQUNDLFFBQVEsQ0FBQztBQUNuRU4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDSixhQUFJLENBQUNDLFdBQVcsRUFBQ0MseUJBQWdCLENBQUNHLE1BQU0sQ0FBQztBQUM5RFIsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MseUJBQWdCLENBQUNLLElBQUksQ0FBQztBQUMxRFYsTUFBTSxDQUFDUyxHQUFHLENBQUMsU0FBUyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MseUJBQWdCLENBQUNNLE1BQU0sQ0FBQztBQUM5RFgsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MseUJBQWdCLENBQUNPLElBQUksQ0FBQztBQUMxRFosTUFBTSxDQUFDYSxNQUFNLENBQUMsU0FBUyxFQUFDVixhQUFJLENBQUNDLFdBQVcsRUFBQ0MseUJBQWdCLENBQUNRLE1BQU0sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBaEIsT0FBQSxHQUVuREMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CuponeController","_auth","e","__esModule","default","router","routerx","post","auth","verifyAdmin","cuponeController","register","put","update","get","list","config","show","delete","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Cupone.js"],"sourcesContent":["import routerx from 'express-promise-router'\nimport cuponeController from '../controllers/CuponeController'\nimport auth from '../middlewares/auth'\n\nconst router = routerx();\n\nrouter.post(\"/register\",auth.verifyAdmin,cuponeController.register);\nrouter.put(\"/update\",auth.verifyAdmin,cuponeController.update);\nrouter.get(\"/list\",auth.verifyAdmin,cuponeController.list);\nrouter.get(\"/config\",auth.verifyAdmin,cuponeController.config);\nrouter.get(\"/show\",auth.verifyAdmin,cuponeController.show);\nrouter.delete(\"/delete\",auth.verifyAdmin,cuponeController.delete);\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,iBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACC,QAAQ,CAAC;AACnEN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACG,MAAM,CAAC;AAC9DR,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACK,IAAI,CAAC;AAC1DV,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACM,MAAM,CAAC;AAC9DX,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACO,IAAI,CAAC;AAC1DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACQ,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAEnDC,MAAM","ignoreList":[]}},"mtime":1738074332387},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/CuponeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let exits_cupone = await _models.default.Cupone.findOne({\n        code: data.code\n      });\n      if (exits_cupone) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n        });\n        return;\n      }\n      let cupone = await _models.default.Cupone.create(data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"El cupón se registró satisfactoriamente\",\n        cupone: cupone\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let exits_cupone = await _models.default.Cupone.findOne({\n        code: data.code,\n        _id: {\n          $ne: data._id\n        }\n      });\n      if (exits_cupone) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n        });\n        return;\n      }\n      let cupone = await _models.default.Cupone.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let cuponeT = await _models.default.Cupone.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"El cupón se actualizó satisfactoriamente\",\n        cupone: cuponeT\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Cupone.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"El cupón se eliminó satisfactoriamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      let search = req.query.search;\n      let cupones = await _models.default.Cupone.find({\n        $or: [{\n          \"code\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        message: 200,\n        cupones: cupones\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      let cupone_id = req.query.cupone_id;\n      let cupon = await _models.default.Cupone.findOne({\n        _id: cupone_id\n      });\n      res.status(200).json({\n        message: 200,\n        cupon: cupon\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      let Products = await _models.default.Product.find({\n        state: 2,\n        condition: {\n          $ne: 3\n        }\n      });\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      res.status(200).json({\n        message: 200,\n        products: Products,\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5IiwiZXhpdHNfY3Vwb25lIiwibW9kZWxzIiwiQ3Vwb25lIiwiZmluZE9uZSIsImNvZGUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsIm1lc3NhZ2VfdGV4dCIsImN1cG9uZSIsImNyZWF0ZSIsImVycm9yIiwic2VuZCIsInVwZGF0ZSIsIl9pZCIsIiRuZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiY3Vwb25lVCIsImZpbmRCeUlkIiwiZGVsZXRlIiwicXVlcnkiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImxpc3QiLCJzZWFyY2giLCJjdXBvbmVzIiwiZmluZCIsIiRvciIsIlJlZ0V4cCIsInNvcnQiLCJzaG93IiwiY3Vwb25lX2lkIiwiY3Vwb24iLCJjb25maWciLCJQcm9kdWN0cyIsIlByb2R1Y3QiLCJzdGF0ZSIsImNvbmRpdGlvbiIsIkNhdGVnb3JpZXMiLCJDYXRlZ29yaWUiLCJwcm9kdWN0cyIsImNhdGVnb3JpZXMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRvcy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiQ3Vwb25lQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIlxuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XG5cbiAgICAgICAgICAgIGxldCBleGl0c19jdXBvbmUgPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRPbmUoe2NvZGU6IGRhdGEuY29kZX0pO1xuXG4gICAgICAgICAgICBpZihleGl0c19jdXBvbmUpe1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTo0MDMsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBDT0RJR08gREVMIENVUE9OIFlBIEVYSVNURVwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgY3Vwb25lID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5jcmVhdGUoZGF0YSk7XG5cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVsIGN1cMOzbiBzZSByZWdpc3Ryw7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgICAgICAgICAgY3Vwb25lOmN1cG9uZVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XG5cbiAgICAgICAgICAgIGxldCBleGl0c19jdXBvbmUgPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRPbmUoe2NvZGU6IGRhdGEuY29kZSxfaWQ6IHskbmU6IGRhdGEuX2lkfX0pO1xuXG4gICAgICAgICAgICBpZihleGl0c19jdXBvbmUpe1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTo0MDMsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBDT0RJR08gREVMIENVUE9OIFlBIEVYSVNURVwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgY3Vwb25lID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiBkYXRhLl9pZH0sZGF0YSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxldCBjdXBvbmVUID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kQnlJZCh7X2lkOiBkYXRhLl9pZH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFbCBjdXDDs24gc2UgYWN0dWFsaXrDsyBzYXRpc2ZhY3RvcmlhbWVudGVcIixcbiAgICAgICAgICAgICAgICBjdXBvbmU6Y3Vwb25lVCxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZGVsZXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgX2lkID0gcmVxLnF1ZXJ5Ll9pZDtcblxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiBfaWR9KTtcblxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRWwgY3Vww7NuIHNlIGVsaW1pbsOzIHNhdGlzZmFjdG9yaWFtZW50ZVwiLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBsaXN0OiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcblxuICAgICAgICAgICAgbGV0IGN1cG9uZXMgPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmQoe1xuICAgICAgICAgICAgICAgICRvcjpbXG4gICAgICAgICAgICAgICAgICAgIHtcImNvZGVcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSkuc29ydCh7J2NyZWF0ZWRBdCc6IC0xfSk7XG5cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXG4gICAgICAgICAgICAgICAgY3Vwb25lczogY3Vwb25lcyxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2hvdzogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IGN1cG9uZV9pZCA9IHJlcS5xdWVyeS5jdXBvbmVfaWQ7XG5cbiAgICAgICAgICAgIGxldCBjdXBvbiA9IGF3YWl0IG1vZGVscy5DdXBvbmUuZmluZE9uZSh7X2lkOiBjdXBvbmVfaWR9KTtcblxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcbiAgICAgICAgICAgICAgICBjdXBvbjogY3Vwb24sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGNvbmZpZzogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IFByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7IHN0YXRlOiAyLCBjb25kaXRpb246IHsgJG5lOiAzIH0gfSk7XG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmllcyA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZCh7c3RhdGU6MX0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxuICAgICAgICAgICAgICAgIHByb2R1Y3RzOiBQcm9kdWN0cyxcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzOiBDYXRlZ29yaWVzLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbn0iXSwibWFwcGluZ3Mi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QUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047RUFDSixDQUFDO0VBQ0RzQixJQUFJLEVBQUUsTUFBQUEsQ0FBTWpDLEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0lBQ3BCLElBQUk7TUFDQSxJQUFJaUMsU0FBUyxHQUFHbEMsR0FBRyxDQUFDd0IsS0FBSyxDQUFDVSxTQUFTO01BRW5DLElBQUlDLEtBQUssR0FBRyxNQUFNOUIsZUFBTSxDQUFDQyxNQUFNLENBQUNDLE9BQU8sQ0FBQztRQUFDVyxHQUFHLEVBQUVnQjtNQUFTLENBQUMsQ0FBQztNQUV6RGpDLEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRSxHQUFHO1FBQ1p3QixLQUFLLEVBQUVBO01BQ1gsQ0FBQyxDQUFDO0lBRU4sQ0FBQyxDQUFDLE9BQU9wQixLQUFLLEVBQUU7TUFDWmQsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNPLElBQUksQ0FBQztRQUNqQkwsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047RUFDSixDQUFDO0VBQ0R5QixNQUFNLEVBQUUsTUFBQUEsQ0FBTXBDLEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0lBQ3RCLElBQUk7TUFDQSxJQUFJb0MsUUFBUSxHQUFHLE1BQU1oQyxlQUFNLENBQUNpQyxPQUFPLENBQUNULElBQUksQ0FBQztRQUFFVSxLQUFLLEVBQUUsQ0FBQztRQUFFQyxTQUFTLEVBQUU7VUFBRXJCLEdBQUcsRUFBRTtRQUFFO01BQUUsQ0FBQyxDQUFDO01BQzdFLElBQUlzQixVQUFVLEdBQUcsTUFBTXBDLGVBQU0sQ0FBQ3FDLFNBQVMsQ0FBQ2IsSUFBSSxDQUFDO1FBQUNVLEtBQUssRUFBQztNQUFDLENBQUMsQ0FBQztNQUV2RHRDLEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRSxHQUFHO1FBQ1pnQyxRQUFRLEVBQUVOLFFBQVE7UUFDbEJPLFVBQVUsRUFBRUg7TUFDaEIsQ0FBQyxDQUFDO0lBRU4sQ0FBQyxDQUFDLE9BQU8xQixLQUFLLEVBQUU7TUFDWmQsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNPLElBQUksQ0FBQztRQUNqQkwsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047RUFDSjtBQUNKLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_models","_interopRequireDefault","require","e","__esModule","default","_default","exports","register","req","res","data","body","exits_cupone","models","Cupone","findOne","code","status","json","message","message_text","cupone","create","error","send","update","_id","$ne","findByIdAndUpdate","cuponeT","findById","delete","query","findByIdAndDelete","list","search","cupones","find","$or","RegExp","sort","show","cupone_id","cupon","config","Products","Product","state","condition","Categories","Categorie","products","categories"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["CuponeController.js"],"sourcesContent":["import models from \"../models\"\n\nexport default {\n    register: async(req,res) => {\n        try {\n            let data = req.body;\n\n            let exits_cupone = await models.Cupone.findOne({code: data.code});\n\n            if(exits_cupone){\n                res.status(200).json({\n                    message:403,\n                    message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n                });\n                return;\n            }\n\n            let cupone = await models.Cupone.create(data);\n\n            res.status(200).json({\n                message: 200,\n                message_text: \"El cupón se registró satisfactoriamente\",\n                cupone:cupone\n            });\n\n        } catch (error) {\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    update: async(req,res) => {\n        try {\n            let data = req.body;\n\n            let exits_cupone = await models.Cupone.findOne({code: data.code,_id: {$ne: data._id}});\n\n            if(exits_cupone){\n                res.status(200).json({\n                    message:403,\n                    message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n                });\n                return;\n            }\n\n            let cupone = await models.Cupone.findByIdAndUpdate({_id: data._id},data);\n            \n            let cuponeT = await models.Cupone.findById({_id: data._id});\n\n            res.status(200).json({\n                message: 200,\n                message_text: \"El cupón se actualizó satisfactoriamente\",\n                cupone:cuponeT,\n            });\n\n        } catch (error) {\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    delete: async(req,res) => {\n        try {\n            let _id = req.query._id;\n\n            await models.Cupone.findByIdAndDelete({_id: _id});\n\n            res.status(200).json({\n                message: 200,\n                message_text: \"El cupón se eliminó satisfactoriamente\",\n            });\n\n        } catch (error) {\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    list: async(req,res) => {\n        try {\n            let search = req.query.search;\n\n            let cupones = await models.Cupone.find({\n                $or:[\n                    {\"code\": new RegExp(search, \"i\")},\n                ]\n            }).sort({'createdAt': -1});\n\n            res.status(200).json({\n                message: 200,\n                cupones: cupones,\n            });\n\n        } catch (error) {\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    show: async(req,res) => {\n        try {\n            let cupone_id = req.query.cupone_id;\n\n            let cupon = await models.Cupone.findOne({_id: cupone_id});\n\n            res.status(200).json({\n                message: 200,\n                cupon: cupon,\n            });\n\n        } catch (error) {\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    config: async(req,res) => {\n        try {\n            let Products = await models.Product.find({ state: 2, condition: { $ne: 3 } });\n            let Categories = await models.Categorie.find({state:1});\n\n            res.status(200).json({\n                message: 200,\n                products: Products,\n                categories: Categories,\n            });\n\n        } catch (error) {\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n}"],"mappings":"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","ignoreList":[]}},"mtime":1738094585658},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/Discount.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst DiscountSchema = new _mongoose.Schema({\n  type_campaign: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1: Campaña de descuento | 2: Venta Flash\n  type_discount: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1: porcentaje || 2: moneda\n  discount: {\n    type: Number,\n    required: true\n  },\n  start_date: {\n    type: Date,\n    required: true\n  },\n  end_date: {\n    type: Date,\n    required: true\n  },\n  start_date_num: {\n    type: Number,\n    required: true\n  },\n  end_date_num: {\n    type: Number,\n    required: true\n  },\n  state: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1: Activo || 2: Desactivo\n  type_segment: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1: Por Productos || 2:Por Categorias\n  products: [{\n    type: Object,\n    required: false\n  }],\n  categories: [{\n    type: Object,\n    required: false\n  }]\n}, {\n  timestamps: true\n});\nconst Discount = _mongoose.default.model(\"discounts\", DiscountSchema);\nvar _default = exports.default = Discount;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJEaXNjb3VudFNjaGVtYSIsIlNjaGVtYSIsInR5cGVfY2FtcGFpZ24iLCJ0eXBlIiwiTnVtYmVyIiwicmVxdWlyZWQiLCJ0eXBlX2Rpc2NvdW50IiwiZGlzY291bnQiLCJzdGFydF9kYXRlIiwiRGF0ZSIsImVuZF9kYXRlIiwic3RhcnRfZGF0ZV9udW0iLCJlbmRfZGF0ZV9udW0iLCJzdGF0ZSIsInR5cGVfc2VnbWVudCIsInByb2R1Y3RzIiwiY2F0ZWdvcmllcyIsInRpbWVzdGFtcHMiLCJEaXNjb3VudCIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRvcy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIkRpc2NvdW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwge1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IERpc2NvdW50U2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIHR5cGVfY2FtcGFpZ246eyB0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZSwgZGVmYXVsdDogMSB9LCAvLyAxOiBDYW1wYcOxYSBkZSBkZXNjdWVudG8gfCAyOiBWZW50YSBGbGFzaFxuICB0eXBlX2Rpc2NvdW50OnsgdHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWUsIGRlZmF1bHQ6IDEgfSwgLy8gMTogcG9yY2VudGFqZSB8fCAyOiBtb25lZGFcbiAgZGlzY291bnQ6IHsgdHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWUgfSxcbiAgc3RhcnRfZGF0ZTogeyB0eXBlOkRhdGUsIHJlcXVpcmVkOnRydWUgfSxcbiAgZW5kX2RhdGU6IHsgdHlwZTpEYXRlLCByZXF1aXJlZDp0cnVlIH0sXG4gIHN0YXJ0X2RhdGVfbnVtOiB7IHR5cGU6TnVtYmVyLCByZXF1aXJlZDp0cnVlIH0sXG4gIGVuZF9kYXRlX251bTogeyB0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZSB9LFxuICBzdGF0ZTogeyB0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZSwgZGVmYXVsdDoxIH0sIC8vIDE6IEFjdGl2byB8fCAyOiBEZXNhY3Rpdm9cbiAgdHlwZV9zZWdtZW50OiB7IHR5cGU6TnVtYmVyLCByZXF1aXJlZDp0cnVlLCBkZWZhdWx0OjEgfSwgLy8gMTogUG9yIFByb2R1Y3RvcyB8fCAyOlBvciBDYXRlZ29yaWFzXG4gIHByb2R1Y3RzOiBbe3R5cGU6IE9iamVjdCwgcmVxdWlyZWQ6IGZhbHNlIH1dLFxuICBjYXRlZ29yaWVzOiBbe3R5cGU6IE9iamVjdCwgcmVxdWlyZWQ6IGZhbHNlIH1dLFxuXG59LHtcbiAgdGltZXN0YW1wczogdHJ1ZSxcbn0pO1xuXG5jb25zdCBEaXNjb3VudCA9IG1vbmdvb3NlLm1vZGVsKFwiZGlzY291bnRzXCIsIERpc2NvdW50U2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IERpc2NvdW50OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQTBDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","DiscountSchema","Schema","type_campaign","type","Number","required","type_discount","discount","start_date","Date","end_date","start_date_num","end_date_num","state","type_segment","products","categories","timestamps","Discount","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Discount.js"],"sourcesContent":["import mongoose, {Schema} from \"mongoose\";\n\nconst DiscountSchema = new Schema({\n  type_campaign:{ type:Number, required:true, default: 1 }, // 1: Campaña de descuento | 2: Venta Flash\n  type_discount:{ type:Number, required:true, default: 1 }, // 1: porcentaje || 2: moneda\n  discount: { type:Number, required:true },\n  start_date: { type:Date, required:true },\n  end_date: { type:Date, required:true },\n  start_date_num: { type:Number, required:true },\n  end_date_num: { type:Number, required:true },\n  state: { type:Number, required:true, default:1 }, // 1: Activo || 2: Desactivo\n  type_segment: { type:Number, required:true, default:1 }, // 1: Por Productos || 2:Por Categorias\n  products: [{type: Object, required: false }],\n  categories: [{type: Object, required: false }],\n\n},{\n  timestamps: true,\n});\n\nconst Discount = mongoose.model(\"discounts\", DiscountSchema);\nexport default Discount;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMW,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAChCC,aAAa,EAAC;IAAEC,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEnB,OAAO,EAAE;EAAE,CAAC;EAAE;EAC1DoB,aAAa,EAAC;IAAEH,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEnB,OAAO,EAAE;EAAE,CAAC;EAAE;EAC1DqB,QAAQ,EAAE;IAAEJ,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC;EAAK,CAAC;EACxCG,UAAU,EAAE;IAAEL,IAAI,EAACM,IAAI;IAAEJ,QAAQ,EAAC;EAAK,CAAC;EACxCK,QAAQ,EAAE;IAAEP,IAAI,EAACM,IAAI;IAAEJ,QAAQ,EAAC;EAAK,CAAC;EACtCM,cAAc,EAAE;IAAER,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC;EAAK,CAAC;EAC9CO,YAAY,EAAE;IAAET,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC;EAAK,CAAC;EAC5CQ,KAAK,EAAE;IAAEV,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEnB,OAAO,EAAC;EAAE,CAAC;EAAE;EAClD4B,YAAY,EAAE;IAAEX,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEnB,OAAO,EAAC;EAAE,CAAC;EAAE;EACzD6B,QAAQ,EAAE,CAAC;IAACZ,IAAI,EAAEX,MAAM;IAAEa,QAAQ,EAAE;EAAM,CAAC,CAAC;EAC5CW,UAAU,EAAE,CAAC;IAACb,IAAI,EAAEX,MAAM;IAAEa,QAAQ,EAAE;EAAM,CAAC;AAE/C,CAAC,EAAC;EACAY,UAAU,EAAE;AACd,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAAEpB,cAAc,CAAC;AAAC,IAAAqB,QAAA,GAAAC,OAAA,CAAApC,OAAA,GAC9CgC,QAAQ","ignoreList":[]}},"mtime":1738249050099},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/Discount.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst DiscountSchema = new _mongoose.Schema({\n  type_campaign: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1: Campaña de descuento | 2: Venta Flash\n  type_discount: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1: porcentaje || 2: moneda\n  discount: {\n    type: Number,\n    required: true\n  },\n  start_date: {\n    type: Date,\n    required: true\n  },\n  end_date: {\n    type: Date,\n    required: true\n  },\n  start_date_num: {\n    type: Number,\n    required: true\n  },\n  end_date_num: {\n    type: Number,\n    required: true\n  },\n  state: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1: Activo || 2: Desactivo\n  type_segment: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1: Por Productos || 2:Por Categorias\n  products: [{\n    type: Object,\n    required: false\n  }],\n  categories: [{\n    type: Object,\n    required: false\n  }]\n}, {\n  timestamps: true\n});\nconst Discount = _mongoose.default.model(\"discounts\", DiscountSchema);\nvar _default = exports.default = Discount;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJEaXNjb3VudFNjaGVtYSIsIlNjaGVtYSIsInR5cGVfY2FtcGFpZ24iLCJ0eXBlIiwiTnVtYmVyIiwicmVxdWlyZWQiLCJ0eXBlX2Rpc2NvdW50IiwiZGlzY291bnQiLCJzdGFydF9kYXRlIiwiRGF0ZSIsImVuZF9kYXRlIiwic3RhcnRfZGF0ZV9udW0iLCJlbmRfZGF0ZV9udW0iLCJzdGF0ZSIsInR5cGVfc2VnbWVudCIsInByb2R1Y3RzIiwiY2F0ZWdvcmllcyIsInRpbWVzdGFtcHMiLCJEaXNjb3VudCIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRvcy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIkRpc2NvdW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwge1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IERpc2NvdW50U2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIHR5cGVfY2FtcGFpZ246eyB0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZSwgZGVmYXVsdDogMSB9LCAvLyAxOiBDYW1wYcOxYSBkZSBkZXNjdWVudG8gfCAyOiBWZW50YSBGbGFzaFxuICB0eXBlX2Rpc2NvdW50OnsgdHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWUsIGRlZmF1bHQ6IDEgfSwgLy8gMTogcG9yY2VudGFqZSB8fCAyOiBtb25lZGFcbiAgZGlzY291bnQ6IHsgdHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWUgfSxcbiAgc3RhcnRfZGF0ZTogeyB0eXBlOkRhdGUsIHJlcXVpcmVkOnRydWUgfSxcbiAgZW5kX2RhdGU6IHsgdHlwZTpEYXRlLCByZXF1aXJlZDp0cnVlIH0sXG4gIHN0YXJ0X2RhdGVfbnVtOiB7IHR5cGU6TnVtYmVyLCByZXF1aXJlZDp0cnVlIH0sXG4gIGVuZF9kYXRlX251bTogeyB0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZSB9LFxuICBzdGF0ZTogeyB0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZSwgZGVmYXVsdDoxIH0sIC8vIDE6IEFjdGl2byB8fCAyOiBEZXNhY3Rpdm9cbiAgdHlwZV9zZWdtZW50OiB7IHR5cGU6TnVtYmVyLCByZXF1aXJlZDp0cnVlLCBkZWZhdWx0OjEgfSwgLy8gMTogUG9yIFByb2R1Y3RvcyB8fCAyOlBvciBDYXRlZ29yaWFzXG4gIHByb2R1Y3RzOiBbe3R5cGU6IE9iamVjdCwgcmVxdWlyZWQ6IGZhbHNlIH1dLFxuICBjYXRlZ29yaWVzOiBbe3R5cGU6IE9iamVjdCwgcmVxdWlyZWQ6IGZhbHNlIH1dLFxuXG59LHtcbiAgdGltZXN0YW1wczogdHJ1ZSxcbn0pO1xuXG5jb25zdCBEaXNjb3VudCA9IG1vbmdvb3NlLm1vZGVsKFwiZGlzY291bnRzXCIsIERpc2NvdW50U2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IERpc2NvdW50OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQTBDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","DiscountSchema","Schema","type_campaign","type","Number","required","type_discount","discount","start_date","Date","end_date","start_date_num","end_date_num","state","type_segment","products","categories","timestamps","Discount","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Discount.js"],"sourcesContent":["import mongoose, {Schema} from \"mongoose\";\n\nconst DiscountSchema = new Schema({\n  type_campaign:{ type:Number, required:true, default: 1 }, // 1: Campaña de descuento | 2: Venta Flash\n  type_discount:{ type:Number, required:true, default: 1 }, // 1: porcentaje || 2: moneda\n  discount: { type:Number, required:true },\n  start_date: { type:Date, required:true },\n  end_date: { type:Date, required:true },\n  start_date_num: { type:Number, required:true },\n  end_date_num: { type:Number, required:true },\n  state: { type:Number, required:true, default:1 }, // 1: Activo || 2: Desactivo\n  type_segment: { type:Number, required:true, default:1 }, // 1: Por Productos || 2:Por Categorias\n  products: [{type: Object, required: false }],\n  categories: [{type: Object, required: false }],\n\n},{\n  timestamps: true,\n});\n\nconst Discount = mongoose.model(\"discounts\", DiscountSchema);\nexport default Discount;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMW,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAChCC,aAAa,EAAC;IAAEC,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEnB,OAAO,EAAE;EAAE,CAAC;EAAE;EAC1DoB,aAAa,EAAC;IAAEH,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEnB,OAAO,EAAE;EAAE,CAAC;EAAE;EAC1DqB,QAAQ,EAAE;IAAEJ,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC;EAAK,CAAC;EACxCG,UAAU,EAAE;IAAEL,IAAI,EAACM,IAAI;IAAEJ,QAAQ,EAAC;EAAK,CAAC;EACxCK,QAAQ,EAAE;IAAEP,IAAI,EAACM,IAAI;IAAEJ,QAAQ,EAAC;EAAK,CAAC;EACtCM,cAAc,EAAE;IAAER,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC;EAAK,CAAC;EAC9CO,YAAY,EAAE;IAAET,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC;EAAK,CAAC;EAC5CQ,KAAK,EAAE;IAAEV,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEnB,OAAO,EAAC;EAAE,CAAC;EAAE;EAClD4B,YAAY,EAAE;IAAEX,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEnB,OAAO,EAAC;EAAE,CAAC;EAAE;EACzD6B,QAAQ,EAAE,CAAC;IAACZ,IAAI,EAAEX,MAAM;IAAEa,QAAQ,EAAE;EAAM,CAAC,CAAC;EAC5CW,UAAU,EAAE,CAAC;IAACb,IAAI,EAAEX,MAAM;IAAEa,QAAQ,EAAE;EAAM,CAAC;AAE/C,CAAC,EAAC;EACAY,UAAU,EAAE;AACd,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAAEpB,cAAc,CAAC;AAAC,IAAAqB,QAAA,GAAAC,OAAA,CAAApC,OAAA,GAC9CgC,QAAQ","ignoreList":[]}},"mtime":1738249050099},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/Discount.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _DiscountController = _interopRequireDefault(require(\"../controllers/DiscountController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyAdmin, _DiscountController.default.register);\nrouter.put(\"/update\", _auth.default.verifyAdmin, _DiscountController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _DiscountController.default.list);\nrouter.get(\"/config\", _auth.default.verifyAdmin, _DiscountController.default.config);\nrouter.get(\"/show\", _auth.default.verifyAdmin, _DiscountController.default.show);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _DiscountController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9EaXNjb3VudENvbnRyb2xsZXIiLCJfYXV0aCIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwiZGlzY291bnRDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJsaXN0IiwiY29uZmlnIiwic2hvdyIsImRlbGV0ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudG9zL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2Uvcm91dGVyLyIsInNvdXJjZXMiOlsiRGlzY291bnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcbmltcG9ydCBkaXNjb3VudENvbnRyb2xsZXIgZnJvbSAgXCIuLi9jb250cm9sbGVycy9EaXNjb3VudENvbnRyb2xsZXJcIlxuaW1wb3J0IGF1dGggZnJvbSBcIi4uL21pZGRsZXdhcmVzL2F1dGhcIlxuXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5cbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsYXV0aC52ZXJpZnlBZG1pbixkaXNjb3VudENvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLmdldChcIi9saXN0XCIsYXV0aC52ZXJpZnlBZG1pbixkaXNjb3VudENvbnRyb2xsZXIubGlzdCk7XG5yb3V0ZXIuZ2V0KFwiL2NvbmZpZ1wiLGF1dGgudmVyaWZ5QWRtaW4sZGlzY291bnRDb250cm9sbGVyLmNvbmZpZyk7XG5yb3V0ZXIuZ2V0KFwiL3Nob3dcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci5zaG93KTtcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlXCIsYXV0aC52ZXJpZnlBZG1pbixkaXNjb3VudENvbnRyb2xsZXIuZGVsZXRlKTtcblxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxtQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBRXRDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFFeEJELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDJCQUFrQixDQUFDQyxRQUFRLENBQUM7QUFDckVOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBQ0osYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDJCQUFrQixDQUFDRyxNQUFNLENBQUM7QUFDaEVSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDJCQUFrQixDQUFDSyxJQUFJLENBQUM7QUFDNURWLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLFNBQVMsRUFBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDJCQUFrQixDQUFDTSxNQUFNLENBQUM7QUFDaEVYLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDJCQUFrQixDQUFDTyxJQUFJLENBQUM7QUFDNURaLE1BQU0sQ0FBQ2EsTUFBTSxDQUFDLFNBQVMsRUFBQ1YsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDJCQUFrQixDQUFDUSxNQUFNLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWhCLE9BQUEsR0FHckRDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_DiscountController","_auth","e","__esModule","default","router","routerx","post","auth","verifyAdmin","discountController","register","put","update","get","list","config","show","delete","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Discount.js"],"sourcesContent":["import routerx from 'express-promise-router'\nimport discountController from  \"../controllers/DiscountController\"\nimport auth from \"../middlewares/auth\"\n\nconst router = routerx();\n\nrouter.post(\"/register\",auth.verifyAdmin,discountController.register);\nrouter.put(\"/update\",auth.verifyAdmin,discountController.update);\nrouter.get(\"/list\",auth.verifyAdmin,discountController.list);\nrouter.get(\"/config\",auth.verifyAdmin,discountController.config);\nrouter.get(\"/show\",auth.verifyAdmin,discountController.show);\nrouter.delete(\"/delete\",auth.verifyAdmin,discountController.delete);\n\n\nexport default router;\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,mBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACC,QAAQ,CAAC;AACrEN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACG,MAAM,CAAC;AAChER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACK,IAAI,CAAC;AAC5DV,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACM,MAAM,CAAC;AAChEX,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACO,IAAI,CAAC;AAC5DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACQ,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAGrDC,MAAM","ignoreList":[]}},"mtime":1738097761620},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/DiscountController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      var filter_a = [];\n      var filter_b = [];\n      if (data.type_segment == 1) {\n        filter_a.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n      } else {\n        filter_a.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n      }\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        start_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        end_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      let exits_start_date = await _models.default.Discount.find({\n        $and: filter_a\n      });\n      let exits_end_date = await _models.default.Discount.find({\n        $and: filter_b\n      });\n      if (exits_start_date.length > 0 || exits_end_date.length > 0) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR, ALGUNA OPCIÓN SELECCIONADA TIENE UN DESCUENTO ACTIVO\"\n        });\n        return;\n      }\n      let discount = await _models.default.Discount.create(data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"El descuento se registró satisfactoriamente\",\n        discount: discount\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      var filter_a = [];\n      var filter_b = [];\n      if (data.type_segment == 1) {\n        filter_a.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n      } else {\n        filter_a.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n      }\n      ;\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        _id: {\n          $ne: data._id\n        },\n        start_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        _id: {\n          $ne: data._id\n        },\n        end_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      let exits_start_date = await _models.default.Discount.find({\n        $and: filter_a\n      });\n      let exits_end_date = await _models.default.Discount.find({\n        $and: filter_b\n      });\n      if (exits_start_date.length > 0 || exits_end_date.length > 0) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR, ALGUNA OPCIÓN TIENE UN DESCUENTO ACTIVO\"\n        });\n        return;\n      }\n      let discount = await _models.default.Discount.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"El descuento se actualizó satisfactoriamente\",\n        discount: discount\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Discount.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"El descuento se eliminó satisfactoriamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      // let search = req.query.search;\n\n      let discounts = await _models.default.Discount.find().sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        message: 200,\n        discounts: discounts\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      let discount_id = req.query.discount_id;\n      let discount = await _models.default.Discount.findOne({\n        _id: discount_id\n      });\n      res.status(200).json({\n        message: 200,\n        discount: discount\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      let Products = await _models.default.Product.find({\n        state: 2,\n        condition: {\n          $ne: 3\n        }\n      });\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      res.status(200).json({\n        message: 200,\n        products: Products,\n        categories: Categories\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5IiwiZmlsdGVyX2EiLCJmaWx0ZXJfYiIsInR5cGVfc2VnbWVudCIsInB1c2giLCIkZWxlbU1hdGNoIiwiX2lkIiwiJGluIiwicHJvZHVjdF9zIiwiY2F0ZWdvcmllX3MiLCJ0eXBlX2NhbXBhaWduIiwic3RhcnRfZGF0ZV9udW0iLCIkZ3RlIiwiJGx0ZSIsImVuZF9kYXRlX251bSIsImV4aXRzX3N0YXJ0X2RhdGUiLCJtb2RlbHMiLCJEaXNjb3VudCIsImZpbmQiLCIkYW5kIiwiZXhpdHNfZW5kX2RhdGUiLCJsZW5ndGgiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsIm1lc3NhZ2VfdGV4dCIsImRpc2NvdW50IiwiY3JlYXRlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwic2VuZCIsInVwZGF0ZSIsIiRuZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiZGVsZXRlIiwicXVlcnkiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImxpc3QiLCJkaXNjb3VudHMiLCJzb3J0Iiwic2hvdyIsImRpc2NvdW50X2lkIiwiZmluZE9uZSIsImNvbmZpZyIsIlByb2R1Y3RzIiwiUHJvZHVjdCIsInN0YXRlIiwiY29uZGl0aW9uIiwiQ2F0ZWdvcmllcyIsIkNhdGVnb3JpZSIsInByb2R1Y3RzIiwiY2F0ZWdvcmllcyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudG9zL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJEaXNjb3VudENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCJcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xuICAgICAgICAgICAgdmFyIGZpbHRlcl9hID0gW107XG4gICAgICAgICAgICB2YXIgZmlsdGVyX2IgPSBbXTtcblxuICAgICAgICAgICAgaWYoZGF0YS50eXBlX3NlZ21lbnQgPT0gMSl7XG5cbiAgICAgICAgICAgICAgZmlsdGVyX2EucHVzaCh7XG4gICAgICAgICAgICAgICAgXCJwcm9kdWN0c1wiOiB7JGVsZW1NYXRjaDoge19pZDogeyRpbjogZGF0YS5wcm9kdWN0X3N9fX1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xuICAgICAgICAgICAgICAgIFwicHJvZHVjdHNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46IGRhdGEucHJvZHVjdF9zfX19XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgIGZpbHRlcl9hLnB1c2goe1xuICAgICAgICAgICAgICAgIFwiY2F0ZWdvcmllc1wiOiB7JGVsZW1NYXRjaDoge19pZDogeyRpbjpkYXRhLmNhdGVnb3JpZV9zfX19XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBmaWx0ZXJfYi5wdXNoKHtcbiAgICAgICAgICAgICAgICBcImNhdGVnb3JpZXNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46ZGF0YS5jYXRlZ29yaWVfc319fVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZmlsdGVyX2EucHVzaCh7XG4gICAgICAgICAgICAgIHR5cGVfY2FtcGFpZ246IGRhdGEudHlwZV9jYW1wYWlnbixcbiAgICAgICAgICAgICAgc3RhcnRfZGF0ZV9udW06IHskZ3RlOiBkYXRhLnN0YXJ0X2RhdGVfbnVtLCAkbHRlOiBkYXRhLmVuZF9kYXRlX251bX1cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xuICAgICAgICAgICAgICB0eXBlX2NhbXBhaWduOiBkYXRhLnR5cGVfY2FtcGFpZ24sXG4gICAgICAgICAgICAgIGVuZF9kYXRlX251bTogeyRndGU6IGRhdGEuc3RhcnRfZGF0ZV9udW0sICRsdGU6IGRhdGEuZW5kX2RhdGVfbnVtfVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgbGV0IGV4aXRzX3N0YXJ0X2RhdGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZCh7JGFuZDogZmlsdGVyX2F9KTtcblxuICAgICAgICAgICAgbGV0IGV4aXRzX2VuZF9kYXRlID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmQoeyRhbmQ6IGZpbHRlcl9ifSk7XG5cbiAgICAgICAgICAgIGlmKCBleGl0c19zdGFydF9kYXRlLmxlbmd0aCA+IDAgfHwgZXhpdHNfZW5kX2RhdGUubGVuZ3RoID4gMCl7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOjQwMyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIERFU0NVRU5UTyBOTyBTRSBQVUVERSBQUk9HUkFNQVIsIEFMR1VOQSBPUENJw5NOIFNFTEVDQ0lPTkFEQSBUSUVORSBVTiBERVNDVUVOVE8gQUNUSVZPXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBkaXNjb3VudCA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5jcmVhdGUoZGF0YSk7XG5cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVsIGRlc2N1ZW50byBzZSByZWdpc3Ryw7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgICAgICAgICAgZGlzY291bnQ6ZGlzY291bnRcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdXBkYXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcbiAgICAgICAgICB2YXIgZmlsdGVyX2EgPSBbXTtcbiAgICAgICAgICB2YXIgZmlsdGVyX2IgPSBbXTtcblxuICAgICAgICAgIGlmKGRhdGEudHlwZV9zZWdtZW50ID09IDEpe1xuICAgICAgICAgICAgZmlsdGVyX2EucHVzaCh7XG4gICAgICAgICAgICAgIFwicHJvZHVjdHNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46ZGF0YS5wcm9kdWN0X3N9fX1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZmlsdGVyX2IucHVzaCh7XG4gICAgICAgICAgICAgIFwicHJvZHVjdHNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46ZGF0YS5wcm9kdWN0X3N9fX1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgZmlsdGVyX2EucHVzaCh7XG4gICAgICAgICAgICAgIFwiY2F0ZWdvcmllc1wiOiB7JGVsZW1NYXRjaDoge19pZDogeyRpbjpkYXRhLmNhdGVnb3JpZV9zfX19XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xuICAgICAgICAgICAgICBcImNhdGVnb3JpZXNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46ZGF0YS5jYXRlZ29yaWVfc319fVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGZpbHRlcl9hLnB1c2goe1xuICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogZGF0YS50eXBlX2NhbXBhaWduLFxuICAgICAgICAgICAgX2lkOiB7JG5lOiBkYXRhLl9pZH0sXG4gICAgICAgICAgICBzdGFydF9kYXRlX251bTogeyRndGU6IGRhdGEuc3RhcnRfZGF0ZV9udW0sICRsdGU6IGRhdGEuZW5kX2RhdGVfbnVtfVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICBmaWx0ZXJfYi5wdXNoKHtcbiAgICAgICAgICAgIHR5cGVfY2FtcGFpZ246IGRhdGEudHlwZV9jYW1wYWlnbixcbiAgICAgICAgICAgIF9pZDogeyRuZTogZGF0YS5faWR9LFxuICAgICAgICAgICAgZW5kX2RhdGVfbnVtOiB7JGd0ZTogZGF0YS5zdGFydF9kYXRlX251bSwgJGx0ZTogZGF0YS5lbmRfZGF0ZV9udW19XG4gICAgICAgICAgfSlcblxuICAgICAgICAgIGxldCBleGl0c19zdGFydF9kYXRlID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmQoeyRhbmQ6IGZpbHRlcl9hfSk7XG5cbiAgICAgICAgICBsZXQgZXhpdHNfZW5kX2RhdGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZCh7JGFuZDogZmlsdGVyX2J9KTtcblxuICAgICAgICAgIGlmKCBleGl0c19zdGFydF9kYXRlLmxlbmd0aCA+IDAgfHwgZXhpdHNfZW5kX2RhdGUubGVuZ3RoID4gMCApe1xuICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOjQwMyxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBERVNDVUVOVE8gTk8gU0UgUFVFREUgUFJPR1JBTUFSLCBBTEdVTkEgT1BDScOTTiBUSUVORSBVTiBERVNDVUVOVE8gQUNUSVZPXCJcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsZXQgZGlzY291bnQgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogZGF0YS5faWR9LGRhdGEpO1xuXG4gICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXG4gICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFbCBkZXNjdWVudG8gc2UgYWN0dWFsaXrDsyBzYXRpc2ZhY3RvcmlhbWVudGVcIixcbiAgICAgICAgICAgICAgZGlzY291bnQ6ZGlzY291bnRcbiAgICAgICAgICB9KTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGRlbGV0ZTogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IF9pZCA9IHJlcS5xdWVyeS5faWQ7XG5cbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiBfaWR9KTtcblxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRWwgZGVzY3VlbnRvIHNlIGVsaW1pbsOzIHNhdGlzZmFjdG9yaWFtZW50ZVwiLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBsaXN0OiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgIC8vIGxldCBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoO1xuXG4gICAgICAgICAgICBsZXQgZGlzY291bnRzID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmQoKS5zb3J0KHsnY3JlYXRlZEF0JzogLTF9KTtcblxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcbiAgICAgICAgICAgICAgICBkaXNjb3VudHM6IGRpc2NvdW50cyxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2hvdzogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IGRpc2NvdW50X2lkID0gcmVxLnF1ZXJ5LmRpc2NvdW50X2lkO1xuXG4gICAgICAgICAgICBsZXQgZGlzY291bnQgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZE9uZSh7X2lkOiBkaXNjb3VudF9pZH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxuICAgICAgICAgICAgICAgIGRpc2NvdW50OiBkaXNjb3VudCxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgY29uZmlnOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgUHJvZHVjdHMgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kKHsgc3RhdGU6IDIsIGNvbmRpdGlvbjogeyAkbmU6IDMgfSB9KTtcbiAgICAgICAgICAgIGxldCBDYXRlZ29yaWVzID0gYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kKHtzdGF0ZToxfSk7XG5cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXG4gICAgICAgICAgICAgICAgcHJvZHVjdHM6IFByb2R1Y3RzLFxuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXM6IENhdGVnb3JpZXMsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQThCLFNBQUFELHVCQUFBRSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFZjtFQUNYRyxRQUFRLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtB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","map":{"version":3,"names":["_models","_interopRequireDefault","require","e","__esModule","default","_default","exports","register","req","res","data","body","filter_a","filter_b","type_segment","push","$elemMatch","_id","$in","product_s","categorie_s","type_campaign","start_date_num","$gte","$lte","end_date_num","exits_start_date","models","Discount","find","$and","exits_end_date","length","status","json","message","message_text","discount","create","error","console","log","send","update","$ne","findByIdAndUpdate","delete","query","findByIdAndDelete","list","discounts","sort","show","discount_id","findOne","config","Products","Product","state","condition","Categories","Categorie","products","categories"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["DiscountController.js"],"sourcesContent":["import models from \"../models\"\n\nexport default {\n    register: async(req,res) => {\n        try {\n            let data = req.body;\n            var filter_a = [];\n            var filter_b = [];\n\n            if(data.type_segment == 1){\n\n              filter_a.push({\n                \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\n              });\n              filter_b.push({\n                \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\n              });\n            }else{\n              filter_a.push({\n                \"categories\": {$elemMatch: {_id: {$in:data.categorie_s}}}\n              });\n              filter_b.push({\n                \"categories\": {$elemMatch: {_id: {$in:data.categorie_s}}}\n              });\n            }\n\n            filter_a.push({\n              type_campaign: data.type_campaign,\n              start_date_num: {$gte: data.start_date_num, $lte: data.end_date_num}\n            })\n\n            filter_b.push({\n              type_campaign: data.type_campaign,\n              end_date_num: {$gte: data.start_date_num, $lte: data.end_date_num}\n            })\n\n            let exits_start_date = await models.Discount.find({$and: filter_a});\n\n            let exits_end_date = await models.Discount.find({$and: filter_b});\n\n            if( exits_start_date.length > 0 || exits_end_date.length > 0){\n                res.status(200).json({\n                    message:403,\n                    message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR, ALGUNA OPCIÓN SELECCIONADA TIENE UN DESCUENTO ACTIVO\"\n                });\n                return;\n            }\n\n            let discount = await models.Discount.create(data);\n\n            res.status(200).json({\n                message: 200,\n                message_text: \"El descuento se registró satisfactoriamente\",\n                discount:discount\n            });\n\n        } catch (error) {\n            console.log(error);\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    update: async(req,res) => {\n        try {\n          let data = req.body;\n          var filter_a = [];\n          var filter_b = [];\n\n          if(data.type_segment == 1){\n            filter_a.push({\n              \"products\": {$elemMatch: {_id: {$in:data.product_s}}}\n            });\n            filter_b.push({\n              \"products\": {$elemMatch: {_id: {$in:data.product_s}}}\n            });\n          }else{\n            filter_a.push({\n              \"categories\": {$elemMatch: {_id: {$in:data.categorie_s}}}\n            });\n            filter_b.push({\n              \"categories\": {$elemMatch: {_id: {$in:data.categorie_s}}}\n            });\n          };\n\n          filter_a.push({\n            type_campaign: data.type_campaign,\n            _id: {$ne: data._id},\n            start_date_num: {$gte: data.start_date_num, $lte: data.end_date_num}\n          })\n\n          filter_b.push({\n            type_campaign: data.type_campaign,\n            _id: {$ne: data._id},\n            end_date_num: {$gte: data.start_date_num, $lte: data.end_date_num}\n          })\n\n          let exits_start_date = await models.Discount.find({$and: filter_a});\n\n          let exits_end_date = await models.Discount.find({$and: filter_b});\n\n          if( exits_start_date.length > 0 || exits_end_date.length > 0 ){\n              res.status(200).json({\n                  message:403,\n                  message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR, ALGUNA OPCIÓN TIENE UN DESCUENTO ACTIVO\"\n              });\n              return;\n          }\n\n          let discount = await models.Discount.findByIdAndUpdate({_id: data._id},data);\n\n          res.status(200).json({\n              message: 200,\n              message_text: \"El descuento se actualizó satisfactoriamente\",\n              discount:discount\n          });\n\n        } catch (error) {\n            console.log(error);\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    delete: async(req,res) => {\n        try {\n            let _id = req.query._id;\n\n            await models.Discount.findByIdAndDelete({_id: _id});\n\n            res.status(200).json({\n                message: 200,\n                message_text: \"El descuento se eliminó satisfactoriamente\",\n            });\n\n        } catch (error) {\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    list: async(req,res) => {\n        try {\n           // let search = req.query.search;\n\n            let discounts = await models.Discount.find().sort({'createdAt': -1});\n\n            res.status(200).json({\n                message: 200,\n                discounts: discounts,\n            });\n\n        } catch (error) {\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    show: async(req,res) => {\n        try {\n            let discount_id = req.query.discount_id;\n\n            let discount = await models.Discount.findOne({_id: discount_id});\n\n            res.status(200).json({\n                message: 200,\n                discount: discount,\n            });\n\n        } catch (error) {\n            console.log(error);\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    config: async(req,res) => {\n        try {\n            let Products = await models.Product.find({ state: 2, condition: { $ne: 3 } });\n            let Categories = await models.Categorie.find({state:1});\n\n            res.status(200).json({\n                message: 200,\n                products: Products,\n                categories: Categories,\n            });\n\n        } catch (error) {\n            console.log(error);\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n}"],"mappings":"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","ignoreList":[]}},"mtime":1738251308344},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/Discount.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _DiscountController = _interopRequireDefault(require(\"../controllers/DiscountController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyAdmin, _DiscountController.default.register);\nrouter.put(\"/update\", _auth.default.verifyAdmin, _DiscountController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _DiscountController.default.list);\nrouter.get(\"/config\", _auth.default.verifyAdmin, _DiscountController.default.config);\nrouter.get(\"/show\", _auth.default.verifyAdmin, _DiscountController.default.show);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _DiscountController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9EaXNjb3VudENvbnRyb2xsZXIiLCJfYXV0aCIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwiZGlzY291bnRDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJsaXN0IiwiY29uZmlnIiwic2hvdyIsImRlbGV0ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudG9zL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2Uvcm91dGVyLyIsInNvdXJjZXMiOlsiRGlzY291bnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcbmltcG9ydCBkaXNjb3VudENvbnRyb2xsZXIgZnJvbSAgXCIuLi9jb250cm9sbGVycy9EaXNjb3VudENvbnRyb2xsZXJcIlxuaW1wb3J0IGF1dGggZnJvbSBcIi4uL21pZGRsZXdhcmVzL2F1dGhcIlxuXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5cbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsYXV0aC52ZXJpZnlBZG1pbixkaXNjb3VudENvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLmdldChcIi9saXN0XCIsYXV0aC52ZXJpZnlBZG1pbixkaXNjb3VudENvbnRyb2xsZXIubGlzdCk7XG5yb3V0ZXIuZ2V0KFwiL2NvbmZpZ1wiLGF1dGgudmVyaWZ5QWRtaW4sZGlzY291bnRDb250cm9sbGVyLmNvbmZpZyk7XG5yb3V0ZXIuZ2V0KFwiL3Nob3dcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci5zaG93KTtcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlXCIsYXV0aC52ZXJpZnlBZG1pbixkaXNjb3VudENvbnRyb2xsZXIuZGVsZXRlKTtcblxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxtQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBRXRDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFFeEJELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDJCQUFrQixDQUFDQyxRQUFRLENBQUM7QUFDckVOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBQ0osYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDJCQUFrQixDQUFDRyxNQUFNLENBQUM7QUFDaEVSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDJCQUFrQixDQUFDSyxJQUFJLENBQUM7QUFDNURWLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLFNBQVMsRUFBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDJCQUFrQixDQUFDTSxNQUFNLENBQUM7QUFDaEVYLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDJCQUFrQixDQUFDTyxJQUFJLENBQUM7QUFDNURaLE1BQU0sQ0FBQ2EsTUFBTSxDQUFDLFNBQVMsRUFBQ1YsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDJCQUFrQixDQUFDUSxNQUFNLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWhCLE9BQUEsR0FHckRDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_DiscountController","_auth","e","__esModule","default","router","routerx","post","auth","verifyAdmin","discountController","register","put","update","get","list","config","show","delete","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Discount.js"],"sourcesContent":["import routerx from 'express-promise-router'\nimport discountController from  \"../controllers/DiscountController\"\nimport auth from \"../middlewares/auth\"\n\nconst router = routerx();\n\nrouter.post(\"/register\",auth.verifyAdmin,discountController.register);\nrouter.put(\"/update\",auth.verifyAdmin,discountController.update);\nrouter.get(\"/list\",auth.verifyAdmin,discountController.list);\nrouter.get(\"/config\",auth.verifyAdmin,discountController.config);\nrouter.get(\"/show\",auth.verifyAdmin,discountController.show);\nrouter.delete(\"/delete\",auth.verifyAdmin,discountController.delete);\n\n\nexport default router;\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,mBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACC,QAAQ,CAAC;AACrEN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACG,MAAM,CAAC;AAChER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACK,IAAI,CAAC;AAC5DV,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACM,MAAM,CAAC;AAChEX,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACO,IAAI,CAAC;AAC5DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACQ,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAGrDC,MAAM","ignoreList":[]}},"mtime":1738097761620},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/DiscountController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      var filter_a = [];\n      var filter_b = [];\n      if (data.type_segment == 1) {\n        filter_a.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n      } else {\n        filter_a.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n      }\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        start_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        end_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      let exits_start_date = await _models.default.Discount.find({\n        $and: filter_a\n      });\n      let exits_end_date = await _models.default.Discount.find({\n        $and: filter_b\n      });\n      if (exits_start_date.length > 0 || exits_end_date.length > 0) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR, ALGUNA OPCIÓN SELECCIONADA TIENE UN DESCUENTO ACTIVO\"\n        });\n        return;\n      }\n      let discount = await _models.default.Discount.create(data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"El descuento se registró satisfactoriamente\",\n        discount: discount\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      var filter_a = [];\n      var filter_b = [];\n      if (data.type_segment == 1) {\n        filter_a.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n      } else {\n        filter_a.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n      }\n      ;\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        _id: {\n          $ne: data._id\n        },\n        start_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        _id: {\n          $ne: data._id\n        },\n        end_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      let exits_start_date = await _models.default.Discount.find({\n        $and: filter_a\n      });\n      let exits_end_date = await _models.default.Discount.find({\n        $and: filter_b\n      });\n      if (exits_start_date.length > 0 || exits_end_date.length > 0) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR, ALGUNA OPCIÓN TIENE UN DESCUENTO ACTIVO\"\n        });\n        return;\n      }\n      let discount = await _models.default.Discount.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"El descuento se actualizó satisfactoriamente\",\n        discount: discount\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Discount.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"El descuento se eliminó satisfactoriamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      // let search = req.query.search;\n\n      let discounts = await _models.default.Discount.find().sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        message: 200,\n        discounts: discounts\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      let discount_id = req.query.discount_id;\n      let discount = await _models.default.Discount.findOne({\n        _id: discount_id\n      });\n      res.status(200).json({\n        message: 200,\n        discount: discount\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      let Products = await _models.default.Product.find({\n        state: 2,\n        condition: {\n          $ne: 3\n        }\n      });\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      res.status(200).json({\n        message: 200,\n        products: Products,\n        categories: Categories\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5IiwiZmlsdGVyX2EiLCJmaWx0ZXJfYiIsInR5cGVfc2VnbWVudCIsInB1c2giLCIkZWxlbU1hdGNoIiwiX2lkIiwiJGluIiwicHJvZHVjdF9zIiwiY2F0ZWdvcmllX3MiLCJ0eXBlX2NhbXBhaWduIiwic3RhcnRfZGF0ZV9udW0iLCIkZ3RlIiwiJGx0ZSIsImVuZF9kYXRlX251bSIsImV4aXRzX3N0YXJ0X2RhdGUiLCJtb2RlbHMiLCJEaXNjb3VudCIsImZpbmQiLCIkYW5kIiwiZXhpdHNfZW5kX2RhdGUiLCJsZW5ndGgiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsIm1lc3NhZ2VfdGV4dCIsImRpc2NvdW50IiwiY3JlYXRlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwic2VuZCIsInVwZGF0ZSIsIiRuZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiZGVsZXRlIiwicXVlcnkiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImxpc3QiLCJkaXNjb3VudHMiLCJzb3J0Iiwic2hvdyIsImRpc2NvdW50X2lkIiwiZmluZE9uZSIsImNvbmZpZyIsIlByb2R1Y3RzIiwiUHJvZHVjdCIsInN0YXRlIiwiY29uZGl0aW9uIiwiQ2F0ZWdvcmllcyIsIkNhdGVnb3JpZSIsInByb2R1Y3RzIiwiY2F0ZWdvcmllcyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudG9zL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJEaXNjb3VudENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCJcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xuICAgICAgICAgICAgdmFyIGZpbHRlcl9hID0gW107XG4gICAgICAgICAgICB2YXIgZmlsdGVyX2IgPSBbXTtcblxuICAgICAgICAgICAgaWYoZGF0YS50eXBlX3NlZ21lbnQgPT0gMSl7XG5cbiAgICAgICAgICAgICAgZmlsdGVyX2EucHVzaCh7XG4gICAgICAgICAgICAgICAgXCJwcm9kdWN0c1wiOiB7JGVsZW1NYXRjaDoge19pZDogeyRpbjogZGF0YS5wcm9kdWN0X3N9fX1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xuICAgICAgICAgICAgICAgIFwicHJvZHVjdHNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46IGRhdGEucHJvZHVjdF9zfX19XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgIGZpbHRlcl9hLnB1c2goe1xuICAgICAgICAgICAgICAgIFwiY2F0ZWdvcmllc1wiOiB7JGVsZW1NYXRjaDoge19pZDogeyRpbjpkYXRhLmNhdGVnb3JpZV9zfX19XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBmaWx0ZXJfYi5wdXNoKHtcbiAgICAgICAgICAgICAgICBcImNhdGVnb3JpZXNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46ZGF0YS5jYXRlZ29yaWVfc319fVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZmlsdGVyX2EucHVzaCh7XG4gICAgICAgICAgICAgIHR5cGVfY2FtcGFpZ246IGRhdGEudHlwZV9jYW1wYWlnbixcbiAgICAgICAgICAgICAgc3RhcnRfZGF0ZV9udW06IHskZ3RlOiBkYXRhLnN0YXJ0X2RhdGVfbnVtLCAkbHRlOiBkYXRhLmVuZF9kYXRlX251bX1cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xuICAgICAgICAgICAgICB0eXBlX2NhbXBhaWduOiBkYXRhLnR5cGVfY2FtcGFpZ24sXG4gICAgICAgICAgICAgIGVuZF9kYXRlX251bTogeyRndGU6IGRhdGEuc3RhcnRfZGF0ZV9udW0sICRsdGU6IGRhdGEuZW5kX2RhdGVfbnVtfVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgbGV0IGV4aXRzX3N0YXJ0X2RhdGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZCh7JGFuZDogZmlsdGVyX2F9KTtcblxuICAgICAgICAgICAgbGV0IGV4aXRzX2VuZF9kYXRlID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmQoeyRhbmQ6IGZpbHRlcl9ifSk7XG5cbiAgICAgICAgICAgIGlmKCBleGl0c19zdGFydF9kYXRlLmxlbmd0aCA+IDAgfHwgZXhpdHNfZW5kX2RhdGUubGVuZ3RoID4gMCl7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOjQwMyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIERFU0NVRU5UTyBOTyBTRSBQVUVERSBQUk9HUkFNQVIsIEFMR1VOQSBPUENJw5NOIFNFTEVDQ0lPTkFEQSBUSUVORSBVTiBERVNDVUVOVE8gQUNUSVZPXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBkaXNjb3VudCA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5jcmVhdGUoZGF0YSk7XG5cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVsIGRlc2N1ZW50byBzZSByZWdpc3Ryw7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgICAgICAgICAgZGlzY291bnQ6ZGlzY291bnRcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdXBkYXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcbiAgICAgICAgICB2YXIgZmlsdGVyX2EgPSBbXTtcbiAgICAgICAgICB2YXIgZmlsdGVyX2IgPSBbXTtcblxuICAgICAgICAgIGlmKGRhdGEudHlwZV9zZWdtZW50ID09IDEpe1xuICAgICAgICAgICAgZmlsdGVyX2EucHVzaCh7XG4gICAgICAgICAgICAgIFwicHJvZHVjdHNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46ZGF0YS5wcm9kdWN0X3N9fX1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZmlsdGVyX2IucHVzaCh7XG4gICAgICAgICAgICAgIFwicHJvZHVjdHNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46ZGF0YS5wcm9kdWN0X3N9fX1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgZmlsdGVyX2EucHVzaCh7XG4gICAgICAgICAgICAgIFwiY2F0ZWdvcmllc1wiOiB7JGVsZW1NYXRjaDoge19pZDogeyRpbjpkYXRhLmNhdGVnb3JpZV9zfX19XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xuICAgICAgICAgICAgICBcImNhdGVnb3JpZXNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46ZGF0YS5jYXRlZ29yaWVfc319fVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGZpbHRlcl9hLnB1c2goe1xuICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogZGF0YS50eXBlX2NhbXBhaWduLFxuICAgICAgICAgICAgX2lkOiB7JG5lOiBkYXRhLl9pZH0sXG4gICAgICAgICAgICBzdGFydF9kYXRlX251bTogeyRndGU6IGRhdGEuc3RhcnRfZGF0ZV9udW0sICRsdGU6IGRhdGEuZW5kX2RhdGVfbnVtfVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICBmaWx0ZXJfYi5wdXNoKHtcbiAgICAgICAgICAgIHR5cGVfY2FtcGFpZ246IGRhdGEudHlwZV9jYW1wYWlnbixcbiAgICAgICAgICAgIF9pZDogeyRuZTogZGF0YS5faWR9LFxuICAgICAgICAgICAgZW5kX2RhdGVfbnVtOiB7JGd0ZTogZGF0YS5zdGFydF9kYXRlX251bSwgJGx0ZTogZGF0YS5lbmRfZGF0ZV9udW19XG4gICAgICAgICAgfSlcblxuICAgICAgICAgIGxldCBleGl0c19zdGFydF9kYXRlID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmQoeyRhbmQ6IGZpbHRlcl9hfSk7XG5cbiAgICAgICAgICBsZXQgZXhpdHNfZW5kX2RhdGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZCh7JGFuZDogZmlsdGVyX2J9KTtcblxuICAgICAgICAgIGlmKCBleGl0c19zdGFydF9kYXRlLmxlbmd0aCA+IDAgfHwgZXhpdHNfZW5kX2RhdGUubGVuZ3RoID4gMCApe1xuICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOjQwMyxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBERVNDVUVOVE8gTk8gU0UgUFVFREUgUFJPR1JBTUFSLCBBTEdVTkEgT1BDScOTTiBUSUVORSBVTiBERVNDVUVOVE8gQUNUSVZPXCJcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsZXQgZGlzY291bnQgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogZGF0YS5faWR9LGRhdGEpO1xuXG4gICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXG4gICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFbCBkZXNjdWVudG8gc2UgYWN0dWFsaXrDsyBzYXRpc2ZhY3RvcmlhbWVudGVcIixcbiAgICAgICAgICAgICAgZGlzY291bnQ6ZGlzY291bnRcbiAgICAgICAgICB9KTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGRlbGV0ZTogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IF9pZCA9IHJlcS5xdWVyeS5faWQ7XG5cbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiBfaWR9KTtcblxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRWwgZGVzY3VlbnRvIHNlIGVsaW1pbsOzIHNhdGlzZmFjdG9yaWFtZW50ZVwiLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBsaXN0OiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgIC8vIGxldCBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoO1xuXG4gICAgICAgICAgICBsZXQgZGlzY291bnRzID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmQoKS5zb3J0KHsnY3JlYXRlZEF0JzogLTF9KTtcblxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcbiAgICAgICAgICAgICAgICBkaXNjb3VudHM6IGRpc2NvdW50cyxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2hvdzogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IGRpc2NvdW50X2lkID0gcmVxLnF1ZXJ5LmRpc2NvdW50X2lkO1xuXG4gICAgICAgICAgICBsZXQgZGlzY291bnQgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZE9uZSh7X2lkOiBkaXNjb3VudF9pZH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxuICAgICAgICAgICAgICAgIGRpc2NvdW50OiBkaXNjb3VudCxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgY29uZmlnOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgUHJvZHVjdHMgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kKHsgc3RhdGU6IDIsIGNvbmRpdGlvbjogeyAkbmU6IDMgfSB9KTtcbiAgICAgICAgICAgIGxldCBDYXRlZ29yaWVzID0gYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kKHtzdGF0ZToxfSk7XG5cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXG4gICAgICAgICAgICAgICAgcHJvZHVjdHM6IFByb2R1Y3RzLFxuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXM6IENhdGVnb3JpZXMsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQThCLFNBQUFELHVCQUFBRSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFZjtFQUNYRyxRQUFRLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDeEIsSUFBSTtNQUNBLElBQUlDLElBQUksR0FBR0YsR0FBRyxDQUFDRyxJQUFJO01BQ25CLElBQUlDLFFBQVEsR0FBRyxFQUFFO01BQ2pCLElBQUlDLFFBQVEsR0FBRyxFQUFFO01BRWpCLElBQUdILElBQUksQ0FBQ0ksWUFBWSxJQUFJLENBQUMsRUFBQztRQUV4QkYsUUFBUSxDQUFDRyxJQUFJLENBQUM7VUFDWixVQUFVLEVBQUU7WUFBQ0MsVUFBVSxFQUFFO2NBQUNDLEdBQUcsRUFBRTtnQkFBQ0MsR0FBRyxFQUFFUixJQUFJLENBQUNTO2NBQVM7WUFBQztVQUFDO1FBQ3ZELENBQUMsQ0FBQztRQUNGTixRQUFRLENBQUNFLElBQUksQ0FBQztVQUNaLFVBQVUsRUFBRTtZQUFDQyxVQUFVLEVBQUU7Y0FBQ0MsR0FBRyxFQUFFO2dCQUFDQyxHQUFHLEVBQUVSLElBQUksQ0FBQ1M7Y0FBUztZQUFDO1VBQUM7UUFDdkQsQ0FBQyxDQUFDO01BQ0osQ0FBQyxNQUFJO1FBQ0hQLFFBQVEsQ0FBQ0csSUFBSSxDQUFDO1VBQ1osWUFBWSxFQUFFO1lBQUNDLFVBQVUsRUFBRTtjQUFDQyxHQUFHLEVBQUU7Z0JBQUNDLEdBQUcsRUFBQ1IsSUFBSSxDQUFDVTtjQUFXO1lBQUM7VUFBQztRQUMxRCxDQUFDLENBQUM7UUFDRlAsUUFBUSxDQUFDRSxJQUFJLENBQUM7VUFDWixZQUFZLEVBQUU7WUFBQ0MsVUFBVSxFQUFFO2NBQUNDLEdBQUcsRUFBRTtnQkFBQ0MsR0FBRyxFQUFDUixJQUFJLENBQUNVO2NBQVc7WUFBQztVQUFDO1FBQzFELENBQUMsQ0FBQztNQUNKO01BRUFSLFFBQVEsQ0FBQ0csSUFBSSxDQUFDO1FBQ1pNLGFBQWEsRUFBRVgsSUFBSSxDQUFDVyxhQUFhO1FBQ2pDQyxjQUFjLEVBQUU7VUFBQ0MsSUFBSSxFQUFFYixJQUFJLENBQUNZLGNBQWM7VUFBRUUsSUFBSSxFQUFFZCxJQUFJLENBQUNlO1FBQVk7TUFDckUsQ0FBQyxDQUFDO01BRUZaLFFBQVEsQ0FBQ0UsSUFBSSxDQUFDO1FBQ1pNLGFBQWEsRUFBRVgsSUFBSSxDQUFDVyxhQUFhO1FBQ2pDSSxZQUFZLEVBQUU7VUFBQ0YsSUFBSSxFQUFFYixJQUFJLENBQUNZLGNBQWM7VUFBRUUsSUFBSSxFQUFFZCxJQUFJLENBQUNlO1FBQVk7TUFDbkUsQ0FBQyxDQUFDO01BRUYsSUFBSUMsZ0JBQWdCLEdBQUcsTUFBTUMsZUFBTSxDQUFDQyxRQUFRLENBQUNDLElBQUksQ0FBQztRQUFDQyxJQUFJLEVBQUVsQjtNQUFRLENBQUMsQ0FBQztNQUVuRSxJQUFJbUIsY0FBYyxHQUFHLE1BQU1KLGVBQU0sQ0FBQ0MsUUFBUSxDQUFDQyxJQUFJLENBQUM7UUFBQ0MsSUFBSSxFQUFFakI7TUFBUSxDQUFDLENBQUM7TUFFakUsSUFBSWEsZ0JBQWdCLENBQUNNLE1BQU0sR0FBRyxDQUFDLElBQUlELGNBQWMsQ0FBQ0MsTUFBTSxHQUFHLENBQUMsRUFBQztRQUN6RHZCLEdBQUcsQ0FBQ3dCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQ2pCQyxPQUFPLEVBQUMsR0FBRztVQUNYQyxZQUFZLEVBQUU7UUFDbEIsQ0FBQyxDQUFDO1FBQ0Y7TUFDSjtNQUVBLElBQUlDLFFBQVEsR0FBRyxNQUFNVixlQUFNLENBQUNDLFFBQVEsQ0FBQ1UsTUFBTSxDQUFDNUIsSUFBSSxDQUFDO01BRWpERCxHQUFHLENBQUN3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFLEdBQUc7UUFDWkMsWUFBWSxFQUFFLDZDQUE2QztRQUMzREMsUUFBUSxFQUFDQTtNQUNiLENBQUMsQ0FBQztJQUVOLENBQUMsQ0FBQyxPQUFPRSxLQUFLLEVBQUU7TUFDWkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEtBQUssQ0FBQztNQUNsQjlCLEdBQUcsQ0FBQ3dCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ1MsSUFBSSxDQUFDO1FBQ2pCUCxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtFQUNKLENBQUM7RUFDRFEsTUFBTSxFQUFFLE1BQUFBLENBQU1uQyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUN0QixJQUFJO01BQ0YsSUFBSUMsSUFBSSxHQUFHRixHQUFHLENBQUNHLElBQUk7TUFDbkIsSUFBSUMsUUFBUSxHQUFHLEVBQUU7TUFDakIsSUFBSUMsUUFBUSxHQUFHLEVBQUU7TUFFakIsSUFBR0gsSUFBSSxDQUFDSSxZQUFZLElBQUksQ0FBQyxFQUFDO1FBQ3hCRixRQUFRLENBQUNHLElBQUksQ0FBQztVQUNaLFVBQVUsRUFBRTtZQUFDQyxVQUFVLEVBQUU7Y0FBQ0MsR0FBRyxFQUFFO2dCQUFDQyxHQUFHLEVBQUNSLElBQUksQ0FBQ1M7Y0FBUztZQUFDO1VBQUM7UUFDdEQsQ0FBQyxDQUFDO1FBQ0ZOLFFBQVEsQ0FBQ0UsSUFBSSxDQUFDO1VBQ1osVUFBVSxFQUFFO1lBQUNDLFVBQVUsRUFBRTtjQUFDQyxHQUFHLEVBQUU7Z0JBQUNDLEdBQUcsRUFBQ1IsSUFBSSxDQUFDUztjQUFTO1lBQUM7VUFBQztRQUN0RCxDQUFDLENBQUM7TUFDSixDQUFDLE1BQUk7UUFDSFAsUUFBUSxDQUFDRyxJQUFJLENBQUM7VUFDWixZQUFZLEVBQUU7WUFBQ0MsVUFBVSxFQUFFO2NBQUNDLEdBQUcsRUFBRTtnQkFBQ0MsR0FBRyxFQUFDUixJQUFJLENBQUNVO2NBQVc7WUFBQztVQUFDO1FBQzFELENBQUMsQ0FBQztRQUNGUCxRQUFRLENBQUNFLElBQUksQ0FBQztVQUNaLFlBQVksRUFBRTtZQUFDQyxVQUFVLEVBQUU7Y0FBQ0MsR0FBRyxFQUFFO2dCQUFDQyxHQUFHLEVBQUNSLElBQUksQ0FBQ1U7Y0FBVztZQUFDO1VBQUM7UUFDMUQsQ0FBQyxDQUFDO01BQ0o7TUFBQztNQUVEUixRQUFRLENBQUNHLElBQUksQ0FBQztRQUNaTSxhQUFhLEVBQUVYLElBQUksQ0FBQ1csYUFBYTtRQUNqQ0osR0FBRyxFQUFFO1VBQUMyQixHQUFHLEVBQUVsQyxJQUFJLENBQUNPO1FBQUcsQ0FBQztRQUNwQkssY0FBYyxFQUFFO1VBQUNDLElBQUksRUFBRWIsSUFBSSxDQUFDWSxjQUFjO1VBQUVFLElBQUksRUFBRWQsSUFBSSxDQUFDZTtRQUFZO01BQ3JFLENBQUMsQ0FBQztNQUVGWixRQUFRLENBQUNFLElBQUksQ0FBQztRQUNaTSxhQUFhLEVBQUVYLElBQUksQ0FBQ1csYUFBYTtRQUNqQ0osR0FBRyxFQUFFO1VBQUMyQixHQUFHLEVBQUVsQyxJQUFJLENBQUNPO1FBQUcsQ0FBQztRQUNwQlEsWUFBWSxFQUFFO1VBQUNGLElBQUksRUFBRWIsSUFBSSxDQUFDWSxjQUFjO1VBQUVFLElBQUksRUFBRWQsSUFBSSxDQUFDZTtRQUFZO01BQ25FLENBQUMsQ0FBQztNQUVGLElBQUlDLGdCQUFnQixHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsUUFBUSxDQUFDQyxJQUFJLENBQUM7UUFBQ0MsSUFBSSxFQUFFbEI7TUFBUSxDQUFDLENBQUM7TUFFbkUsSUFBSW1CLGNBQWMsR0FBRyxNQUFNSixlQUFNLENBQUNDLFFBQVEsQ0FBQ0MsSUFBSSxDQUFDO1FBQUNDLElBQUksRUFBRWpCO01BQVEsQ0FBQyxDQUFDO01BRWpFLElBQUlhLGdCQUFnQixDQUFDTSxNQUFNLEdBQUcsQ0FBQyxJQUFJRCxjQUFjLENBQUNDLE1BQU0sR0FBRyxDQUFDLEVBQUU7UUFDMUR2QixHQUFHLENBQUN3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUNqQkMsT0FBTyxFQUFDLEdBQUc7VUFDWEMsWUFBWSxFQUFFO1FBQ2xCLENBQUMsQ0FBQztRQUNGO01BQ0o7TUFFQSxJQUFJQyxRQUFRLEdBQUcsTUFBTVYsZUFBTSxDQUFDQyxRQUFRLENBQUNpQixpQkFBaUIsQ0FBQztRQUFDNUIsR0FBRyxFQUFFUCxJQUFJLENBQUNPO01BQUcsQ0FBQyxFQUFDUCxJQUFJLENBQUM7TUFFNUVELEdBQUcsQ0FBQ3dCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUUsR0FBRztRQUNaQyxZQUFZLEVBQUUsOENBQThDO1FBQzVEQyxRQUFRLEVBQUNBO01BQ2IsQ0FBQyxDQUFDO0lBRUosQ0FBQyxDQUFDLE9BQU9FLEtBQUssRUFBRTtNQUNaQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsS0FBSyxDQUFDO01BQ2xCOUIsR0FBRyxDQUFDd0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDUyxJQUFJLENBQUM7UUFDakJQLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOO0VBQ0osQ0FBQztFQUNEVyxNQUFNLEVBQUUsTUFBQUEsQ0FBTXRDLEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0lBQ3RCLElBQUk7TUFDQSxJQUFJUSxHQUFHLEdBQUdULEdBQUcsQ0FBQ3VDLEtBQUssQ0FBQzlCLEdBQUc7TUFFdkIsTUFBTVUsZUFBTSxDQUFDQyxRQUFRLENBQUNvQixpQkFBaUIsQ0FBQztRQUFDL0IsR0FBRyxFQUFFQTtNQUFHLENBQUMsQ0FBQztNQUVuRFIsR0FBRyxDQUFDd0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRSxHQUFHO1FBQ1pDLFlBQVksRUFBRTtNQUNsQixDQUFDLENBQUM7SUFFTixDQUFDLENBQUMsT0FBT0csS0FBSyxFQUFFO01BQ1o5QixHQUFHLENBQUN3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNTLElBQUksQ0FBQztRQUNqQlAsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047RUFDSixDQUFDO0VBQ0RjLElBQUksRUFBRSxNQUFBQSxDQUFNekMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDcEIsSUFBSTtNQUNEOztNQUVDLElBQUl5QyxTQUFTLEdBQUcsTUFBTXZCLGVBQU0sQ0FBQ0MsUUFBUSxDQUFDQyxJQUFJLENBQUMsQ0FBQyxDQUFDc0IsSUFBSSxDQUFDO1FBQUMsV0FBVyxFQUFFLENBQUM7TUFBQyxDQUFDLENBQUM7TUFFcEUxQyxHQUFHLENBQUN3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFLEdBQUc7UUFDWmUsU0FBUyxFQUFFQTtNQUNmLENBQUMsQ0FBQztJQUVOLENBQUMsQ0FBQyxPQUFPWCxLQUFLLEVBQUU7TUFDWjlCLEdBQUcsQ0FBQ3dCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ1MsSUFBSSxDQUFDO1FBQ2pCUCxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtFQUNKLENBQUM7RUFDRGlCLElBQUksRUFBRSxNQUFBQSxDQUFNNUMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDcEIsSUFBSTtNQUNBLElBQUk0QyxXQUFXLEdBQUc3QyxHQUFHLENBQUN1QyxLQUFLLENBQUNNLFdBQVc7TUFFdkMsSUFBSWhCLFFBQVEsR0FBRyxNQUFNVixlQUFNLENBQUNDLFFBQVEsQ0FBQzBCLE9BQU8sQ0FBQztRQUFDckMsR0FBRyxFQUFFb0M7TUFBVyxDQUFDLENBQUM7TUFFaEU1QyxHQUFHLENBQUN3QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFLEdBQUc7UUFDWkUsUUFBUSxFQUFFQTtNQUNkLENBQUMsQ0FBQztJQUVOLENBQUMsQ0FBQyxPQUFPRSxLQUFLLEVBQUU7TUFDWkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEtBQUssQ0FBQztNQUNsQjlCLEdBQUcsQ0FBQ3dCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ1MsSUFBSSxDQUFDO1FBQ2pCUCxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtFQUNKLENBQUM7RUFDRG9CLE1BQU0sRUFBRSxNQUFBQSxDQUFNL0MsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDdEIsSUFBSTtNQUNBLElBQUkrQyxRQUFRLEdBQUcsTUFBTTdCLGVBQU0sQ0FBQzhCLE9BQU8sQ0FBQzVCLElBQUksQ0FBQztRQUFFNkIsS0FBSyxFQUFFLENBQUM7UUFBRUMsU0FBUyxFQUFFO1VBQUVmLEdBQUcsRUFBRTtRQUFFO01BQUUsQ0FBQyxDQUFDO01BQzdFLElBQUlnQixVQUFVLEdBQUcsTUFBTWpDLGVBQU0sQ0FBQ2tDLFNBQVMsQ0FBQ2hDLElBQUksQ0FBQztRQUFDNkIsS0FBSyxFQUFDO01BQUMsQ0FBQyxDQUFDO01BRXZEakQsR0FBRyxDQUFDd0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRSxHQUFHO1FBQ1oyQixRQUFRLEVBQUVOLFFBQVE7UUFDbEJPLFVBQVUsRUFBRUg7TUFDaEIsQ0FBQyxDQUFDO0lBRU4sQ0FBQyxDQUFDLE9BQU9yQixLQUFLLEVBQUU7TUFDWkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEtBQUssQ0FBQztNQUNsQjlCLEdBQUcsQ0FBQ3dCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ1MsSUFBSSxDQUFDO1FBQ2pCUCxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtFQUNKO0FBQ0osQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_models","_interopRequireDefault","require","e","__esModule","default","_default","exports","register","req","res","data","body","filter_a","filter_b","type_segment","push","$elemMatch","_id","$in","product_s","categorie_s","type_campaign","start_date_num","$gte","$lte","end_date_num","exits_start_date","models","Discount","find","$and","exits_end_date","length","status","json","message","message_text","discount","create","error","console","log","send","update","$ne","findByIdAndUpdate","delete","query","findByIdAndDelete","list","discounts","sort","show","discount_id","findOne","config","Products","Product","state","condition","Categories","Categorie","products","categories"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["DiscountController.js"],"sourcesContent":["import models from \"../models\"\n\nexport default {\n    register: async(req,res) => {\n        try {\n            let data = req.body;\n            var filter_a = [];\n            var filter_b = [];\n\n            if(data.type_segment == 1){\n\n              filter_a.push({\n                \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\n              });\n              filter_b.push({\n                \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\n              });\n            }else{\n              filter_a.push({\n                \"categories\": {$elemMatch: {_id: {$in:data.categorie_s}}}\n              });\n              filter_b.push({\n                \"categories\": {$elemMatch: {_id: {$in:data.categorie_s}}}\n              });\n            }\n\n            filter_a.push({\n              type_campaign: data.type_campaign,\n              start_date_num: {$gte: data.start_date_num, $lte: data.end_date_num}\n            })\n\n            filter_b.push({\n              type_campaign: data.type_campaign,\n              end_date_num: {$gte: data.start_date_num, $lte: data.end_date_num}\n            })\n\n            let exits_start_date = await models.Discount.find({$and: filter_a});\n\n            let exits_end_date = await models.Discount.find({$and: filter_b});\n\n            if( exits_start_date.length > 0 || exits_end_date.length > 0){\n                res.status(200).json({\n                    message:403,\n                    message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR, ALGUNA OPCIÓN SELECCIONADA TIENE UN DESCUENTO ACTIVO\"\n                });\n                return;\n            }\n\n            let discount = await models.Discount.create(data);\n\n            res.status(200).json({\n                message: 200,\n                message_text: \"El descuento se registró satisfactoriamente\",\n                discount:discount\n            });\n\n        } catch (error) {\n            console.log(error);\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    update: async(req,res) => {\n        try {\n          let data = req.body;\n          var filter_a = [];\n          var filter_b = [];\n\n          if(data.type_segment == 1){\n            filter_a.push({\n              \"products\": {$elemMatch: {_id: {$in:data.product_s}}}\n            });\n            filter_b.push({\n              \"products\": {$elemMatch: {_id: {$in:data.product_s}}}\n            });\n          }else{\n            filter_a.push({\n              \"categories\": {$elemMatch: {_id: {$in:data.categorie_s}}}\n            });\n            filter_b.push({\n              \"categories\": {$elemMatch: {_id: {$in:data.categorie_s}}}\n            });\n          };\n\n          filter_a.push({\n            type_campaign: data.type_campaign,\n            _id: {$ne: data._id},\n            start_date_num: {$gte: data.start_date_num, $lte: data.end_date_num}\n          })\n\n          filter_b.push({\n            type_campaign: data.type_campaign,\n            _id: {$ne: data._id},\n            end_date_num: {$gte: data.start_date_num, $lte: data.end_date_num}\n          })\n\n          let exits_start_date = await models.Discount.find({$and: filter_a});\n\n          let exits_end_date = await models.Discount.find({$and: filter_b});\n\n          if( exits_start_date.length > 0 || exits_end_date.length > 0 ){\n              res.status(200).json({\n                  message:403,\n                  message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR, ALGUNA OPCIÓN TIENE UN DESCUENTO ACTIVO\"\n              });\n              return;\n          }\n\n          let discount = await models.Discount.findByIdAndUpdate({_id: data._id},data);\n\n          res.status(200).json({\n              message: 200,\n              message_text: \"El descuento se actualizó satisfactoriamente\",\n              discount:discount\n          });\n\n        } catch (error) {\n            console.log(error);\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    delete: async(req,res) => {\n        try {\n            let _id = req.query._id;\n\n            await models.Discount.findByIdAndDelete({_id: _id});\n\n            res.status(200).json({\n                message: 200,\n                message_text: \"El descuento se eliminó satisfactoriamente\",\n            });\n\n        } catch (error) {\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    list: async(req,res) => {\n        try {\n           // let search = req.query.search;\n\n            let discounts = await models.Discount.find().sort({'createdAt': -1});\n\n            res.status(200).json({\n                message: 200,\n                discounts: discounts,\n            });\n\n        } catch (error) {\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    show: async(req,res) => {\n        try {\n            let discount_id = req.query.discount_id;\n\n            let discount = await models.Discount.findOne({_id: discount_id});\n\n            res.status(200).json({\n                message: 200,\n                discount: discount,\n            });\n\n        } catch (error) {\n            console.log(error);\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    config: async(req,res) => {\n        try {\n            let Products = await models.Product.find({ state: 2, condition: { $ne: 3 } });\n            let Categories = await models.Categorie.find({state:1});\n\n            res.status(200).json({\n                message: 200,\n                products: Products,\n                categories: Categories,\n            });\n\n        } catch (error) {\n            console.log(error);\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n}"],"mappings":"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","ignoreList":[]}},"mtime":1738251308344},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/Home.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _HomeController = _interopRequireDefault(require(\"../controllers/HomeController\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.get(\"/list\", _HomeController.default.list);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Ib21lQ29udHJvbGxlciIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsInJvdXRlcngiLCJnZXQiLCJob21lQ29udHJvbGxlciIsImxpc3QiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRvcy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbIkhvbWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcbmltcG9ydCBob21lQ29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9Ib21lQ29udHJvbGxlcidcblxuXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5cbnJvdXRlci5nZXQoXCIvbGlzdFwiLGhvbWVDb250cm9sbGVyLmxpc3QpO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxlQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBMEQsU0FBQUQsdUJBQUFHLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFHMUQsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUV4QkQsTUFBTSxDQUFDRSxHQUFHLENBQUMsT0FBTyxFQUFDQyx1QkFBYyxDQUFDQyxJQUFJLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQVAsT0FBQSxHQUd6QkMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_HomeController","e","__esModule","default","router","routerx","get","homeController","list","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Home.js"],"sourcesContent":["import routerx from 'express-promise-router'\nimport homeController from '../controllers/HomeController'\n\n\nconst router = routerx();\n\nrouter.get(\"/list\",homeController.list);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA0D,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAG1D,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,GAAG,CAAC,OAAO,EAACC,uBAAc,CAACC,IAAI,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAP,OAAA,GAGzBC,MAAM","ignoreList":[]}},"mtime":1738254505625},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/HomeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  list: async (req, res) => {\n    try {\n      let Sliders = await _models.default.Slider.find({\n        state: 1\n      });\n      Sliders = Sliders.map(slider => {\n        return _resourses.default.Slider.slider_list(slider);\n      });\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      res.status(200).json({\n        sliders: Sliders\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3Vyc2VzIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwibGlzdCIsInJlcSIsInJlcyIsIlNsaWRlcnMiLCJtb2RlbHMiLCJTbGlkZXIiLCJmaW5kIiwic3RhdGUiLCJtYXAiLCJzbGlkZXIiLCJyZXNvdXJzZSIsInNsaWRlcl9saXN0IiwiQ2F0ZWdvcmllcyIsIkNhdGVnb3JpZSIsInN0YXR1cyIsImpzb24iLCJzbGlkZXJzIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwic2VuZCIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRvcy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiSG9tZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5pbXBvcnQgcmVzb3Vyc2UgZnJvbSBcIi4uL3Jlc291cnNlc1wiO1xuXG5cblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gIGxpc3Q6IGFzeW5jKHJlcSwgcmVzKSA9PiB7XG5cbiAgICB0cnkge1xuICAgICAgICBsZXQgU2xpZGVycyA9IGF3YWl0IG1vZGVscy5TbGlkZXIuZmluZCh7c3RhdGU6MX0pOyBcblxuICAgICAgICBTbGlkZXJzID0gU2xpZGVycy5tYXAoKHNsaWRlcikgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gcmVzb3Vyc2UuU2xpZGVyLnNsaWRlcl9saXN0KHNsaWRlcik7XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIGxldCBDYXRlZ29yaWVzID0gYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kKHtzdGF0ZToxfSk7IFxuICAgICAgICBcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgIHNsaWRlcnM6IFNsaWRlcnNcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBb0MsU0FBQUQsdUJBQUFHLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUlyQjtFQUViRyxJQUFJLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFFQyxHQUFHLEtBQUs7SUFFdkIsSUFBSTtNQUNBLElBQUlDLE9BQU8sR0FBRyxNQUFNQyxlQUFNLENBQUNDLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDO1FBQUNDLEtBQUssRUFBQztNQUFDLENBQUMsQ0FBQztNQUVqREosT0FBTyxHQUFHQSxPQUFPLENBQUNLLEdBQUcsQ0FBRUMsTUFBTSxJQUFLO1FBQzVCLE9BQU9DLGtCQUFRLENBQUNMLE1BQU0sQ0FBQ00sV0FBVyxDQUFDRixNQUFNLENBQUM7TUFDNUMsQ0FBQyxDQUFDO01BRU4sSUFBSUcsVUFBVSxHQUFHLE1BQU1SLGVBQU0sQ0FBQ1MsU0FBUyxDQUFDUCxJQUFJLENBQUM7UUFBQ0MsS0FBSyxFQUFDO01BQUMsQ0FBQyxDQUFDO01BRXZETCxHQUFHLENBQUNZLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ25CQyxPQUFPLEVBQUViO01BQ1gsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDLE9BQU9jLEtBQUssRUFBRTtNQUNkQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsS0FBSyxDQUFDO01BQ2xCZixHQUFHLENBQUNZLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ00sSUFBSSxDQUFDO1FBQ25CQyxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7SUFDSjtFQUNGO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resourses","e","__esModule","default","_default","exports","list","req","res","Sliders","models","Slider","find","state","map","slider","resourse","slider_list","Categories","Categorie","status","json","sliders","error","console","log","send","message"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["HomeController.js"],"sourcesContent":["import models from \"../models\";\nimport resourse from \"../resourses\";\n\n\n\nexport default {\n\n  list: async(req, res) => {\n\n    try {\n        let Sliders = await models.Slider.find({state:1}); \n\n        Sliders = Sliders.map((slider) => {\n              return resourse.Slider.slider_list(slider);\n            })\n\n        let Categories = await models.Categorie.find({state:1}); \n        \n        res.status(200).json({\n          sliders: Sliders\n        });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n}"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAoC,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAIrB;EAEbG,IAAI,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,KAAK;IAEvB,IAAI;MACA,IAAIC,OAAO,GAAG,MAAMC,eAAM,CAACC,MAAM,CAACC,IAAI,CAAC;QAACC,KAAK,EAAC;MAAC,CAAC,CAAC;MAEjDJ,OAAO,GAAGA,OAAO,CAACK,GAAG,CAAEC,MAAM,IAAK;QAC5B,OAAOC,kBAAQ,CAACL,MAAM,CAACM,WAAW,CAACF,MAAM,CAAC;MAC5C,CAAC,CAAC;MAEN,IAAIG,UAAU,GAAG,MAAMR,eAAM,CAACS,SAAS,CAACP,IAAI,CAAC;QAACC,KAAK,EAAC;MAAC,CAAC,CAAC;MAEvDL,GAAG,CAACY,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAEb;MACX,CAAC,CAAC;IACN,CAAC,CAAC,OAAOc,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBf,GAAG,CAACY,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF;AACF,CAAC","ignoreList":[]}},"mtime":1738360579058},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/Home.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _HomeController = _interopRequireDefault(require(\"../controllers/HomeController\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.get(\"/list\", _HomeController.default.list);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Ib21lQ29udHJvbGxlciIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsInJvdXRlcngiLCJnZXQiLCJob21lQ29udHJvbGxlciIsImxpc3QiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRvcy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbIkhvbWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcbmltcG9ydCBob21lQ29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9Ib21lQ29udHJvbGxlcidcblxuXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5cbnJvdXRlci5nZXQoXCIvbGlzdFwiLGhvbWVDb250cm9sbGVyLmxpc3QpO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxlQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBMEQsU0FBQUQsdUJBQUFHLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFHMUQsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUV4QkQsTUFBTSxDQUFDRSxHQUFHLENBQUMsT0FBTyxFQUFDQyx1QkFBYyxDQUFDQyxJQUFJLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQVAsT0FBQSxHQUd6QkMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_HomeController","e","__esModule","default","router","routerx","get","homeController","list","_default","exports"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Home.js"],"sourcesContent":["import routerx from 'express-promise-router'\nimport homeController from '../controllers/HomeController'\n\n\nconst router = routerx();\n\nrouter.get(\"/list\",homeController.list);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA0D,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAG1D,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,GAAG,CAAC,OAAO,EAACC,uBAAc,CAACC,IAAI,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAP,OAAA,GAGzBC,MAAM","ignoreList":[]}},"mtime":1738254505625},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/HomeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  list: async (req, res) => {\n    try {\n      let Sliders = await _models.default.Slider.find({\n        state: 1\n      });\n      Sliders = Sliders.map(slider => {\n        return _resourses.default.Slider.slider_list(slider);\n      });\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      Categories = Categories.map(categorie => {\n        return _resourses.default.Categorie.categorie_list(categorie);\n      });\n      let BestProducts = await _models.default.Product.find({\n        state: 2,\n        condition: {\n          $ne: 3\n        }\n      }).sort({\n        \"createdAt\": -1\n      });\n      BestProducts = BestProducts.map(product => {\n        return _resourses.default.Product.product_list(product);\n      });\n      res.status(200).json({\n        sliders: Sliders,\n        categories: Categories,\n        best_products: BestProducts\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3Vyc2VzIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwibGlzdCIsInJlcSIsInJlcyIsIlNsaWRlcnMiLCJtb2RlbHMiLCJTbGlkZXIiLCJmaW5kIiwic3RhdGUiLCJtYXAiLCJzbGlkZXIiLCJyZXNvdXJzZSIsInNsaWRlcl9saXN0IiwiQ2F0ZWdvcmllcyIsIkNhdGVnb3JpZSIsImNhdGVnb3JpZSIsImNhdGVnb3JpZV9saXN0IiwiQmVzdFByb2R1Y3RzIiwiUHJvZHVjdCIsImNvbmRpdGlvbiIsIiRuZSIsInNvcnQiLCJwcm9kdWN0IiwicHJvZHVjdF9saXN0Iiwic3RhdHVzIiwianNvbiIsInNsaWRlcnMiLCJjYXRlZ29yaWVzIiwiYmVzdF9wcm9kdWN0cyIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInNlbmQiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50b3Mvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIkhvbWVDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiO1xuaW1wb3J0IHJlc291cnNlIGZyb20gXCIuLi9yZXNvdXJzZXNcIjtcblxuXG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICBsaXN0OiBhc3luYyhyZXEsIHJlcykgPT4ge1xuXG4gICAgdHJ5IHtcbiAgICAgICAgbGV0IFNsaWRlcnMgPSBhd2FpdCBtb2RlbHMuU2xpZGVyLmZpbmQoe3N0YXRlOjF9KTsgXG5cbiAgICAgICAgU2xpZGVycyA9IFNsaWRlcnMubWFwKChzbGlkZXIpID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc291cnNlLlNsaWRlci5zbGlkZXJfbGlzdChzbGlkZXIpO1xuICAgICAgICAgICAgfSlcblxuICAgICAgICBsZXQgQ2F0ZWdvcmllcyA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZCh7c3RhdGU6MX0pOyBcblxuICAgICAgICBDYXRlZ29yaWVzID0gQ2F0ZWdvcmllcy5tYXAoKGNhdGVnb3JpZSkgPT4ge1xuICAgICAgICAgIHJldHVybiByZXNvdXJzZS5DYXRlZ29yaWUuY2F0ZWdvcmllX2xpc3QoY2F0ZWdvcmllKTtcbiAgICAgICAgfSlcblxuICAgICAgICBsZXQgQmVzdFByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7IHN0YXRlOjIsIGNvbmRpdGlvbjogeyRuZTogM319KS5zb3J0KHsgXCJjcmVhdGVkQXRcIjogLTF9KTtcblxuICAgICAgICBCZXN0UHJvZHVjdHMgPSBCZXN0UHJvZHVjdHMubWFwKChwcm9kdWN0KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHJlc291cnNlLlByb2R1Y3QucHJvZHVjdF9saXN0KHByb2R1Y3QpO1xuICAgICAgICB9KVxuXG5cbiAgICAgICAgXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICBzbGlkZXJzOiBTbGlkZXJzLFxuICAgICAgICAgIGNhdGVnb3JpZXM6IENhdGVnb3JpZXMsXG4gICAgICAgICAgYmVzdF9wcm9kdWN0czpCZXN0UHJvZHVjdHMsXG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgfVxuICB9LFxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQW9DLFNBQUFELHVCQUFBRyxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FJckI7RUFFYkcsSUFBSSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0lBRXZCLElBQUk7TUFDQSxJQUFJQyxPQUFPLEdBQUcsTUFBTUMsZUFBTSxDQUFDQyxNQUFNLENBQUNDLElBQUksQ0FBQztRQUFDQyxLQUFLLEVBQUM7TUFBQyxDQUFDLENBQUM7TUFFakRKLE9BQU8sR0FBR0EsT0FBTyxDQUFDSyxHQUFHLENBQUVDLE1BQU0sSUFBSztRQUM1QixPQUFPQyxrQkFBUSxDQUFDTCxNQUFNLENBQUNNLFdBQVcsQ0FBQ0YsTUFBTSxDQUFDO01BQzVDLENBQUMsQ0FBQztNQUVOLElBQUlHLFVBQVUsR0FBRyxNQUFNUixlQUFNLENBQUNTLFNBQVMsQ0FBQ1AsSUFBSSxDQUFDO1FBQUNDLEtBQUssRUFBQztNQUFDLENBQUMsQ0FBQztNQUV2REssVUFBVSxHQUFHQSxVQUFVLENBQUNKLEdBQUcsQ0FBRU0sU0FBUyxJQUFLO1FBQ3pDLE9BQU9KLGtCQUFRLENBQUNHLFNBQVMsQ0FBQ0UsY0FBYyxDQUFDRCxTQUFTLENBQUM7TUFDckQsQ0FBQyxDQUFDO01BRUYsSUFBSUUsWUFBWSxHQUFHLE1BQU1aLGVBQU0sQ0FBQ2EsT0FBTyxDQUFDWCxJQUFJLENBQUM7UUFBRUMsS0FBSyxFQUFDLENBQUM7UUFBRVcsU0FBUyxFQUFFO1VBQUNDLEdBQUcsRUFBRTtRQUFDO01BQUMsQ0FBQyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUFFLFdBQVcsRUFBRSxDQUFDO01BQUMsQ0FBQyxDQUFDO01BRXRHSixZQUFZLEdBQUdBLFlBQVksQ0FBQ1IsR0FBRyxDQUFFYSxPQUFPLElBQUs7UUFDM0MsT0FBT1gsa0JBQVEsQ0FBQ08sT0FBTyxDQUFDSyxZQUFZLENBQUNELE9BQU8sQ0FBQztNQUMvQyxDQUFDLENBQUM7TUFJRm5CLEdBQUcsQ0FBQ3FCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ25CQyxPQUFPLEVBQUV0QixPQUFPO1FBQ2hCdUIsVUFBVSxFQUFFZCxVQUFVO1FBQ3RCZSxhQUFhLEVBQUNYO01BQ2hCLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQyxPQUFPWSxLQUFLLEVBQUU7TUFDZEMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEtBQUssQ0FBQztNQUNsQjFCLEdBQUcsQ0FBQ3FCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ1EsSUFBSSxDQUFDO1FBQ25CQyxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7SUFDSjtFQUNGO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resourses","e","__esModule","default","_default","exports","list","req","res","Sliders","models","Slider","find","state","map","slider","resourse","slider_list","Categories","Categorie","categorie","categorie_list","BestProducts","Product","condition","$ne","sort","product","product_list","status","json","sliders","categories","best_products","error","console","log","send","message"],"sourceRoot":"/home/jvim/Documentos/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["HomeController.js"],"sourcesContent":["import models from \"../models\";\nimport resourse from \"../resourses\";\n\n\n\nexport default {\n\n  list: async(req, res) => {\n\n    try {\n        let Sliders = await models.Slider.find({state:1}); \n\n        Sliders = Sliders.map((slider) => {\n              return resourse.Slider.slider_list(slider);\n            })\n\n        let Categories = await models.Categorie.find({state:1}); \n\n        Categories = Categories.map((categorie) => {\n          return resourse.Categorie.categorie_list(categorie);\n        })\n\n        let BestProducts = await models.Product.find({ state:2, condition: {$ne: 3}}).sort({ \"createdAt\": -1});\n\n        BestProducts = BestProducts.map((product) => {\n          return resourse.Product.product_list(product);\n        })\n\n\n        \n        res.status(200).json({\n          sliders: Sliders,\n          categories: Categories,\n          best_products:BestProducts,\n        });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n}"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAoC,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAIrB;EAEbG,IAAI,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,KAAK;IAEvB,IAAI;MACA,IAAIC,OAAO,GAAG,MAAMC,eAAM,CAACC,MAAM,CAACC,IAAI,CAAC;QAACC,KAAK,EAAC;MAAC,CAAC,CAAC;MAEjDJ,OAAO,GAAGA,OAAO,CAACK,GAAG,CAAEC,MAAM,IAAK;QAC5B,OAAOC,kBAAQ,CAACL,MAAM,CAACM,WAAW,CAACF,MAAM,CAAC;MAC5C,CAAC,CAAC;MAEN,IAAIG,UAAU,GAAG,MAAMR,eAAM,CAACS,SAAS,CAACP,IAAI,CAAC;QAACC,KAAK,EAAC;MAAC,CAAC,CAAC;MAEvDK,UAAU,GAAGA,UAAU,CAACJ,GAAG,CAAEM,SAAS,IAAK;QACzC,OAAOJ,kBAAQ,CAACG,SAAS,CAACE,cAAc,CAACD,SAAS,CAAC;MACrD,CAAC,CAAC;MAEF,IAAIE,YAAY,GAAG,MAAMZ,eAAM,CAACa,OAAO,CAACX,IAAI,CAAC;QAAEC,KAAK,EAAC,CAAC;QAAEW,SAAS,EAAE;UAACC,GAAG,EAAE;QAAC;MAAC,CAAC,CAAC,CAACC,IAAI,CAAC;QAAE,WAAW,EAAE,CAAC;MAAC,CAAC,CAAC;MAEtGJ,YAAY,GAAGA,YAAY,CAACR,GAAG,CAAEa,OAAO,IAAK;QAC3C,OAAOX,kBAAQ,CAACO,OAAO,CAACK,YAAY,CAACD,OAAO,CAAC;MAC/C,CAAC,CAAC;MAIFnB,GAAG,CAACqB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAEtB,OAAO;QAChBuB,UAAU,EAAEd,UAAU;QACtBe,aAAa,EAACX;MAChB,CAAC,CAAC;IACN,CAAC,CAAC,OAAOY,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClB1B,GAAG,CAACqB,MAAM,CAAC,GAAG,CAAC,CAACQ,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF;AACF,CAAC","ignoreList":[]}},"mtime":1738385069976},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _router = _interopRequireDefault(require(\"./router\"));\nrequire(\"dotenv/config\");\nvar _Payment = _interopRequireDefault(require(\"./router/Payment\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n//console.log(process.env)\n\n//CONEXION A LA BASE DE DATOS db_adcee\n\nconst dburl = \"mongodb://127.0.0.1:27017/db_adcee\";\n_mongoose.default.Promise = global.Promise;\n//const dburl = \"mongodb+srv://malavemjv:guayoyo@adccedb.z6dz1.mongodb.net/db_adcee\";\n\n_mongoose.default.connect(dburl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(() => console.log(\"CONECTADO A LA BD db_adcee en el puerto 27017\")).catch(err => console.log(err));\n\n//DECLARACION EXPRESS\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\nconst corsOptions = [{\n  origin: 'http://localhost:5000',\n  // Cambia si usas otra URL o dominio\n  methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'],\n  allowedHeaders: ['Content-Type', 'Authorization', 'token'],\n  // incluye 'token' si lo usas en headers\n  credentials: true // si usas cookies o autenticación basada en credenciales\n}, {\n  origin: 'http://localhost:4200',\n  // Cambia si usas otra URL o dominio\n  methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'],\n  allowedHeaders: ['Content-Type', 'Authorization', 'token'],\n  // incluye 'token' si lo usas en headers\n  credentials: true // si usas cookies o autenticación basada en credenciales\n}];\napp.use((0, _cors.default)(corsOptions));\napp.use(_express.default.json());\napp.use('/api/payment', _Payment.default);\napp.use(_express.default.urlencoded({\n  extended: true\n}));\napp.use(_express.default.static(_path.default.join(__dirname, 'public')));\napp.use('/api/', _router.default);\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => {\n  console.log(\"EL SERVIDOR SE EJECUTA PERFECTAMENTE EN EL PUERTO 3000\");\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NvcnMiLCJfcGF0aCIsIl9tb25nb29zZSIsIl9yb3V0ZXIiLCJfUGF5bWVudCIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImRidXJsIiwibW9uZ29vc2UiLCJQcm9taXNlIiwiZ2xvYmFsIiwiY29ubmVjdCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnIiLCJhcHAiLCJleHByZXNzIiwidXNlIiwiY29ycyIsImNvcnNPcHRpb25zIiwib3JpZ2luIiwibWV0aG9kcyIsImFsbG93ZWRIZWFkZXJzIiwiY3JlZGVudGlhbHMiLCJqc29uIiwicGF5bWVudFJvdXRlcyIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsInN0YXRpYyIsInBhdGgiLCJqb2luIiwiX19kaXJuYW1lIiwicm91dGVyIiwic2V0IiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJsaXN0ZW4iLCJnZXQiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGNvcnMgZnJvbSBcImNvcnNcIjtcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5pbXBvcnQgcm91dGVyIGZyb20gXCIuL3JvdXRlclwiO1xuaW1wb3J0ICdkb3RlbnYvY29uZmlnJ1xuXG4vL2NvbnNvbGUubG9nKHByb2Nlc3MuZW52KVxuXG4vL0NPTkVYSU9OIEEgTEEgQkFTRSBERSBEQVRPUyBkYl9hZGNlZVxuXG5jb25zdCBkYnVybCA9IFwibW9uZ29kYjovLzEyNy4wLjAuMToyNzAxNy9kYl9hZGNlZVwiO1xubW9uZ29vc2UuUHJvbWlzZSA9IGdsb2JhbC5Qcm9taXNlO1xuLy9jb25zdCBkYnVybCA9IFwibW9uZ29kYitzcnY6Ly9tYWxhdmVtanY6Z3VheW95b0BhZGNjZWRiLno2ZHoxLm1vbmdvZGIubmV0L2RiX2FkY2VlXCI7XG5cblxuXG5tb25nb29zZS5jb25uZWN0KFxuICBkYnVybCx7XG4gICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICAgIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSxcbiAgfSlcbiAgLnRoZW4oKCkgPT4gY29uc29sZS5sb2coXCJDT05FQ1RBRE8gQSBMQSBCRCBkYl9hZGNlZSBlbiBlbCBwdWVydG8gMjcwMTdcIikpXG4gIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7XG5cblxuXG4vL0RFQ0xBUkFDSU9OIEVYUFJFU1NcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmFwcC51c2UoY29ycyhcbikpO1xuY29uc3QgY29yc09wdGlvbnMgPSBbXG4gIHtcbiAgICBvcmlnaW46ICdodHRwOi8vbG9jYWxob3N0OjUwMDAnLCAgLy8gQ2FtYmlhIHNpIHVzYXMgb3RyYSBVUkwgbyBkb21pbmlvXG4gICAgbWV0aG9kczogWydHRVQnLCAnUE9TVCcsICdQVVQnLCAnREVMRVRFJywgJ09QVElPTlMnXSxcbiAgICBhbGxvd2VkSGVhZGVyczogWydDb250ZW50LVR5cGUnLCAnQXV0aG9yaXphdGlvbicsICd0b2tlbiddLCAvLyBpbmNsdXllICd0b2tlbicgc2kgbG8gdXNhcyBlbiBoZWFkZXJzXG4gICAgY3JlZGVudGlhbHM6IHRydWUsIC8vIHNpIHVzYXMgY29va2llcyBvIGF1dGVudGljYWNpw7NuIGJhc2FkYSBlbiBjcmVkZW5jaWFsZXNcbiAgfSxcbiAge1xuICAgIG9yaWdpbjogJ2h0dHA6Ly9sb2NhbGhvc3Q6NDIwMCcsICAvLyBDYW1iaWEgc2kgdXNhcyBvdHJhIFVSTCBvIGRvbWluaW9cbiAgICBtZXRob2RzOiBbJ0dFVCcsICdQT1NUJywgJ1BVVCcsICdERUxFVEUnLCAnT1BUSU9OUyddLFxuICAgIGFsbG93ZWRIZWFkZXJzOiBbJ0NvbnRlbnQtVHlwZScsICdBdXRob3JpemF0aW9uJywgJ3Rva2VuJ10sIC8vIGluY2x1eWUgJ3Rva2VuJyBzaSBsbyB1c2FzIGVuIGhlYWRlcnNcbiAgICBjcmVkZW50aWFsczogdHJ1ZSwgLy8gc2kgdXNhcyBjb29raWVzIG8gYXV0ZW50aWNhY2nDs24gYmFzYWRhIGVuIGNyZWRlbmNpYWxlc1xuICB9LFxuXTtcbmFwcC51c2UoY29ycyhjb3JzT3B0aW9ucykpO1xuXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcblxuaW1wb3J0IHBheW1lbnRSb3V0ZXMgZnJvbSAnLi9yb3V0ZXIvUGF5bWVudCc7XG5hcHAudXNlKCcvYXBpL3BheW1lbnQnLCBwYXltZW50Um91dGVzKTtcblxuYXBwLnVzZShleHByZXNzLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSk7XG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICdwdWJsaWMnKSkpO1xuYXBwLnVzZSgnL2FwaS8nLCByb3V0ZXIpO1xuXG5hcHAuc2V0KCdwb3J0JywgcHJvY2Vzcy5lbnYuUE9SVCB8fCAzMDAwKTtcbmFwcC5saXN0ZW4oYXBwLmdldCgncG9ydCcpLCAoKSA9PiB7IFxuICBjb25zb2xlLmxvZyhcIkVMIFNFUlZJRE9SIFNFIEVKRUNVVEEgUEVSRkVDVEFNRU5URSBFTiBFTCBQVUVSVE8gMzAwMFwiKTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFNBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLE9BQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_cors","_path","_mongoose","_router","_Payment","e","__esModule","default","dburl","mongoose","Promise","global","connect","useNewUrlParser","useUnifiedTopology","then","console","log","catch","err","app","express","use","cors","corsOptions","origin","methods","allowedHeaders","credentials","json","paymentRoutes","urlencoded","extended","static","path","join","__dirname","router","set","process","env","PORT","listen","get"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/","sources":["index.js"],"sourcesContent":["import express from \"express\";\nimport cors from \"cors\";\nimport path from \"path\";\nimport mongoose from \"mongoose\";\nimport router from \"./router\";\nimport 'dotenv/config'\n\n//console.log(process.env)\n\n//CONEXION A LA BASE DE DATOS db_adcee\n\nconst dburl = \"mongodb://127.0.0.1:27017/db_adcee\";\nmongoose.Promise = global.Promise;\n//const dburl = \"mongodb+srv://malavemjv:guayoyo@adccedb.z6dz1.mongodb.net/db_adcee\";\n\n\n\nmongoose.connect(\n  dburl,{\n    useNewUrlParser: true,\n    useUnifiedTopology: true,\n  })\n  .then(() => console.log(\"CONECTADO A LA BD db_adcee en el puerto 27017\"))\n  .catch(err => console.log(err));\n\n\n\n//DECLARACION EXPRESS\nconst app = express();\napp.use(cors(\n));\nconst corsOptions = [\n  {\n    origin: 'http://localhost:5000',  // Cambia si usas otra URL o dominio\n    methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'],\n    allowedHeaders: ['Content-Type', 'Authorization', 'token'], // incluye 'token' si lo usas en headers\n    credentials: true, // si usas cookies o autenticación basada en credenciales\n  },\n  {\n    origin: 'http://localhost:4200',  // Cambia si usas otra URL o dominio\n    methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'],\n    allowedHeaders: ['Content-Type', 'Authorization', 'token'], // incluye 'token' si lo usas en headers\n    credentials: true, // si usas cookies o autenticación basada en credenciales\n  },\n];\napp.use(cors(corsOptions));\n\napp.use(express.json());\n\nimport paymentRoutes from './router/Payment';\napp.use('/api/payment', paymentRoutes);\n\napp.use(express.urlencoded({ extended: true }));\napp.use(express.static(path.join(__dirname, 'public')));\napp.use('/api/', router);\n\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => { \n  console.log(\"EL SERVIDOR SE EJECUTA PERFECTAMENTE EN EL PUERTO 3000\");\n});\n"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AACAA,OAAA;AA4CA,IAAAK,QAAA,GAAAN,sBAAA,CAAAC,OAAA;AAA6C,SAAAD,uBAAAO,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AA1C7C;;AAEA;;AAEA,MAAMG,KAAK,GAAG,oCAAoC;AAClDC,iBAAQ,CAACC,OAAO,GAAGC,MAAM,CAACD,OAAO;AACjC;;AAIAD,iBAAQ,CAACG,OAAO,CACdJ,KAAK,EAAC;EACJK,eAAe,EAAE,IAAI;EACrBC,kBAAkB,EAAE;AACtB,CAAC,CAAC,CACDC,IAAI,CAAC,MAAMC,OAAO,CAACC,GAAG,CAAC,+CAA+C,CAAC,CAAC,CACxEC,KAAK,CAACC,GAAG,IAAIH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CAAC;;AAIjC;AACA,MAAMC,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AACrBD,GAAG,CAACE,GAAG,CAAC,IAAAC,aAAI,EACZ,CAAC,CAAC;AACF,MAAMC,WAAW,GAAG,CAClB;EACEC,MAAM,EAAE,uBAAuB;EAAG;EAClCC,OAAO,EAAE,CAAC,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,SAAS,CAAC;EACpDC,cAAc,EAAE,CAAC,cAAc,EAAE,eAAe,EAAE,OAAO,CAAC;EAAE;EAC5DC,WAAW,EAAE,IAAI,CAAE;AACrB,CAAC,EACD;EACEH,MAAM,EAAE,uBAAuB;EAAG;EAClCC,OAAO,EAAE,CAAC,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,SAAS,CAAC;EACpDC,cAAc,EAAE,CAAC,cAAc,EAAE,eAAe,EAAE,OAAO,CAAC;EAAE;EAC5DC,WAAW,EAAE,IAAI,CAAE;AACrB,CAAC,CACF;AACDR,GAAG,CAACE,GAAG,CAAC,IAAAC,aAAI,EAACC,WAAW,CAAC,CAAC;AAE1BJ,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACQ,IAAI,CAAC,CAAC,CAAC;AAGvBT,GAAG,CAACE,GAAG,CAAC,cAAc,EAAEQ,gBAAa,CAAC;AAEtCV,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACU,UAAU,CAAC;EAAEC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAAC;AAC/CZ,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACY,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAE,QAAQ,CAAC,CAAC,CAAC;AACvDhB,GAAG,CAACE,GAAG,CAAC,OAAO,EAAEe,eAAM,CAAC;AAExBjB,GAAG,CAACkB,GAAG,CAAC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,IAAI,IAAI,IAAI,CAAC;AACzCrB,GAAG,CAACsB,MAAM,CAACtB,GAAG,CAACuB,GAAG,CAAC,MAAM,CAAC,EAAE,MAAM;EAChC3B,OAAO,CAACC,GAAG,CAAC,wDAAwD,CAAC;AACvE,CAAC,CAAC","ignoreList":[]}},"mtime":1750641904112},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cupone = _interopRequireDefault(require(\"./Cupone\"));\nvar _Discount = _interopRequireDefault(require(\"./Discount\"));\nvar _Home = _interopRequireDefault(require(\"./Home\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nvar _AddressClient = _interopRequireDefault(require(\"./AddressClient\"));\nvar _Sale = _interopRequireDefault(require(\"./Sale\"));\nvar _Review = _interopRequireDefault(require(\"./Review\"));\nvar _Payment = _interopRequireDefault(require(\"./Payment\"));\nvar _express = _interopRequireDefault(require(\"express\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst app = (0, _express.default)();\n\n// Middleware para parsear JSON\napp.use(_express.default.json());\nconst router = (0, _expressPromiseRouter.default)();\nrouter.use('/users', _User.default);\nrouter.use('/categories', _Categorie.default);\nrouter.use('/products', _Product.default);\nrouter.use('/sliders', _Slider.default);\nrouter.use('/cupones', _Cupone.default);\nrouter.use('/discount', _Discount.default);\nrouter.use('/home', _Home.default);\nrouter.use('/cart', _Cart.default);\nrouter.use('/address_client', _AddressClient.default);\nrouter.use('/sale', _Sale.default);\nrouter.use('/review', _Review.default);\nrouter.use('/payment', _Payment.default);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwiX0NhdGVnb3JpZSIsIl9Qcm9kdWN0IiwiX1NsaWRlciIsIl9DdXBvbmUiLCJfRGlzY291bnQiLCJfSG9tZSIsIl9DYXJ0IiwiX0FkZHJlc3NDbGllbnQiLCJfU2FsZSIsIl9SZXZpZXciLCJfUGF5bWVudCIsIl9leHByZXNzIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiYXBwIiwiZXhwcmVzcyIsInVzZSIsImpzb24iLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwiVXNlciIsIkNhdGVnb3JpZSIsIlByb2R1Y3QiLCJTbGlkZXIiLCJDdXBvbmUiLCJEaXNjb3VudCIsIkhvbWUiLCJDYXJ0IiwiQWRkcmVzc0NsaWVudCIsIlNhbGUiLCJSZXZpZXciLCJQYXltZW50IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXG5pbXBvcnQgVXNlciBmcm9tICcuL1VzZXInXG5pbXBvcnQgQ2F0ZWdvcmllIGZyb20gJy4vQ2F0ZWdvcmllJ1xuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi9Qcm9kdWN0J1xuaW1wb3J0IFNsaWRlciBmcm9tICcuL1NsaWRlcidcbmltcG9ydCBDdXBvbmUgZnJvbSAnLi9DdXBvbmUnXG5pbXBvcnQgRGlzY291bnQgZnJvbSAnLi9EaXNjb3VudCdcbmltcG9ydCBIb21lIGZyb20gJy4vSG9tZSdcbmltcG9ydCBDYXJ0IGZyb20gJy4vQ2FydCdcbmltcG9ydCBBZGRyZXNzQ2xpZW50IGZyb20gJy4vQWRkcmVzc0NsaWVudCdcbmltcG9ydCBTYWxlIGZyb20gJy4vU2FsZSdcbmltcG9ydCBSZXZpZXcgZnJvbSAnLi9SZXZpZXcnXG5pbXBvcnQgUGF5bWVudCBmcm9tICcuL1BheW1lbnQnXG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJ1xuXG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKVxuXG4vLyBNaWRkbGV3YXJlIHBhcmEgcGFyc2VhciBKU09OXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcblxuXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5yb3V0ZXIudXNlKCcvdXNlcnMnLCBVc2VyKTtcbnJvdXRlci51c2UoJy9jYXRlZ29yaWVzJywgQ2F0ZWdvcmllKTtcbnJvdXRlci51c2UoJy9wcm9kdWN0cycsIFByb2R1Y3QpO1xucm91dGVyLnVzZSgnL3NsaWRlcnMnLCBTbGlkZXIpO1xucm91dGVyLnVzZSgnL2N1cG9uZXMnLCBDdXBvbmUpO1xucm91dGVyLnVzZSgnL2Rpc2NvdW50JywgRGlzY291bnQpO1xucm91dGVyLnVzZSgnL2hvbWUnLCBIb21lKTtcbnJvdXRlci51c2UoJy9jYXJ0JywgQ2FydCk7XG5yb3V0ZXIudXNlKCcvYWRkcmVzc19jbGllbnQnLCBBZGRyZXNzQ2xpZW50KTtcbnJvdXRlci51c2UoJy9zYWxlJywgU2FsZSk7XG5yb3V0ZXIudXNlKCcvcmV2aWV3JywgUmV2aWV3KTtcbnJvdXRlci51c2UoJy9wYXltZW50JywgUGF5bWVudCk7XG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFVBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFFBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLE9BQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLE9BQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFNLFNBQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFPLEtBQUEsR0FBQVIsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFRLEtBQUEsR0FBQVQsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFTLGNBQUEsR0FBQVYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFVLEtBQUEsR0FBQVgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFXLE9BQUEsR0FBQVosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFZLFFBQUEsR0FBQWIsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFhLFFBQUEsR0FBQWQsc0JBQUEsQ0FBQUMsT0FBQTtBQUE2QixTQUFBRCx1QkFBQWUsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUc3QixNQUFNRyxHQUFHLEdBQUcsSUFBQUMsZ0JBQU8sRUFBQyxDQUFDOztBQUVyQjtBQUNBRCxHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ0UsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUd2QixNQUFNQyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBQ3hCRCxNQUFNLENBQUNGLEdBQUcsQ0FBQyxRQUFRLEVBQUVJLGFBQUksQ0FBQztBQUMxQkYsTUFBTSxDQUFDRixHQUFHLENBQUMsYUFBYSxFQUFFSyxrQkFBUyxDQUFDO0FBQ3BDSCxNQUFNLENBQUNGLEdBQUcsQ0FBQyxXQUFXLEVBQUVNLGdCQUFPLENBQUM7QUFDaENKLE1BQU0sQ0FBQ0YsR0FBRyxDQUFDLFVBQVUsRUFBRU8sZUFBTSxDQUFDO0FBQzlCTCxNQUFNLENBQUNGLEdBQUcsQ0FBQyxVQUFVLEVBQUVRLGVBQU0sQ0FBQztBQUM5Qk4sTUFBTSxDQUFDRixHQUFHLENBQUMsV0FBVyxFQUFFUyxpQkFBUSxDQUFDO0FBQ2pDUCxNQUFNLENBQUNGLEdBQUcsQ0FBQyxPQUFPLEVBQUVVLGFBQUksQ0FBQztBQUN6QlIsTUFBTSxDQUFDRixHQUFHLENBQUMsT0FBTyxFQUFFVyxhQUFJLENBQUM7QUFDekJULE1BQU0sQ0FBQ0YsR0FBRyxDQUFDLGlCQUFpQixFQUFFWSxzQkFBYSxDQUFDO0FBQzVDVixNQUFNLENBQUNGLEdBQUcsQ0FBQyxPQUFPLEVBQUVhLGFBQUksQ0FBQztBQUN6QlgsTUFBTSxDQUFDRixHQUFHLENBQUMsU0FBUyxFQUFFYyxlQUFNLENBQUM7QUFDN0JaLE1BQU0sQ0FBQ0YsR0FBRyxDQUFDLFVBQVUsRUFBRWUsZ0JBQU8sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBcEIsT0FBQSxHQUdqQkssTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_User","_Categorie","_Product","_Slider","_Cupone","_Discount","_Home","_Cart","_AddressClient","_Sale","_Review","_Payment","_express","e","__esModule","default","app","express","use","json","router","routerx","User","Categorie","Product","Slider","Cupone","Discount","Home","Cart","AddressClient","Sale","Review","Payment","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["index.js"],"sourcesContent":["import routerx from 'express-promise-router'\nimport User from './User'\nimport Categorie from './Categorie'\nimport Product from './Product'\nimport Slider from './Slider'\nimport Cupone from './Cupone'\nimport Discount from './Discount'\nimport Home from './Home'\nimport Cart from './Cart'\nimport AddressClient from './AddressClient'\nimport Sale from './Sale'\nimport Review from './Review'\nimport Payment from './Payment'\nimport express from 'express'\n\n\nconst app = express()\n\n// Middleware para parsear JSON\napp.use(express.json());\n\n\nconst router = routerx();\nrouter.use('/users', User);\nrouter.use('/categories', Categorie);\nrouter.use('/products', Product);\nrouter.use('/sliders', Slider);\nrouter.use('/cupones', Cupone);\nrouter.use('/discount', Discount);\nrouter.use('/home', Home);\nrouter.use('/cart', Cart);\nrouter.use('/address_client', AddressClient);\nrouter.use('/sale', Sale);\nrouter.use('/review', Review);\nrouter.use('/payment', Payment);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,QAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,OAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,SAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,KAAA,GAAAR,sBAAA,CAAAC,OAAA;AACA,IAAAQ,KAAA,GAAAT,sBAAA,CAAAC,OAAA;AACA,IAAAS,cAAA,GAAAV,sBAAA,CAAAC,OAAA;AACA,IAAAU,KAAA,GAAAX,sBAAA,CAAAC,OAAA;AACA,IAAAW,OAAA,GAAAZ,sBAAA,CAAAC,OAAA;AACA,IAAAY,QAAA,GAAAb,sBAAA,CAAAC,OAAA;AACA,IAAAa,QAAA,GAAAd,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAe,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAG7B,MAAMG,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;;AAErB;AACAD,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACE,IAAI,CAAC,CAAC,CAAC;AAGvB,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxBD,MAAM,CAACF,GAAG,CAAC,QAAQ,EAAEI,aAAI,CAAC;AAC1BF,MAAM,CAACF,GAAG,CAAC,aAAa,EAAEK,kBAAS,CAAC;AACpCH,MAAM,CAACF,GAAG,CAAC,WAAW,EAAEM,gBAAO,CAAC;AAChCJ,MAAM,CAACF,GAAG,CAAC,UAAU,EAAEO,eAAM,CAAC;AAC9BL,MAAM,CAACF,GAAG,CAAC,UAAU,EAAEQ,eAAM,CAAC;AAC9BN,MAAM,CAACF,GAAG,CAAC,WAAW,EAAES,iBAAQ,CAAC;AACjCP,MAAM,CAACF,GAAG,CAAC,OAAO,EAAEU,aAAI,CAAC;AACzBR,MAAM,CAACF,GAAG,CAAC,OAAO,EAAEW,aAAI,CAAC;AACzBT,MAAM,CAACF,GAAG,CAAC,iBAAiB,EAAEY,sBAAa,CAAC;AAC5CV,MAAM,CAACF,GAAG,CAAC,OAAO,EAAEa,aAAI,CAAC;AACzBX,MAAM,CAACF,GAAG,CAAC,SAAS,EAAEc,eAAM,CAAC;AAC7BZ,MAAM,CAACF,GAAG,CAAC,UAAU,EAAEe,gBAAO,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAApB,OAAA,GAGjBK,MAAM","ignoreList":[]}},"mtime":1750279382070},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", _UserController.default.register);\nrouter.post(\"/register_seller\", _UserController.default.register_seller);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post(\"/register_admin\", _auth.default.verifyAdmin, _UserController.default.register_admin);\nrouter.post(\"/login\", _UserController.default.login);\nrouter.post(\"/login_admin\", _UserController.default.login_admin);\nrouter.post(\"/login_seller\", _UserController.default.login_seller);\nrouter.delete(\"/delete\", _UserController.default.remove);\nrouter.get('/:id', _auth.default.verifyEcommerce, _UserController.default.getById);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyQ29udHJvbGxlciIsIl9hdXRoIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJVc2VyQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicmVnaXN0ZXJfc2VsbGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwibGlzdCIsInJlZ2lzdGVyX2FkbWluIiwibG9naW4iLCJsb2dpbl9hZG1pbiIsImxvZ2luX3NlbGxlciIsImRlbGV0ZSIsInJlbW92ZSIsInZlcmlmeUVjb21tZXJjZSIsImdldEJ5SWQiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2Uvcm91dGVyLyIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiXG5pbXBvcnQgVXNlckNvbnRyb2xsZXIgZnJvbSBcIi4uL2NvbnRyb2xsZXJzL1VzZXJDb250cm9sbGVyXCJcbmltcG9ydCBhdXRoIGZyb20gXCIuLi9taWRkbGV3YXJlcy9hdXRoXCJcblxuXG5cbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcblxuLy8gcHJvY2Vzcy5lbnYuVVJMX0JBQ0tFTkQvYXBpL3VzZXJzL3JlZ2lzdGVyXG5cbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsIFVzZXJDb250cm9sbGVyLnJlZ2lzdGVyKTtcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyX3NlbGxlclwiLCBVc2VyQ29udHJvbGxlci5yZWdpc3Rlcl9zZWxsZXIpO1xucm91dGVyLnB1dChcIi91cGRhdGVcIiwgVXNlckNvbnRyb2xsZXIudXBkYXRlKTtcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sIFVzZXJDb250cm9sbGVyLmxpc3QpO1xucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJfYWRtaW5cIixhdXRoLnZlcmlmeUFkbWluLCBVc2VyQ29udHJvbGxlci5yZWdpc3Rlcl9hZG1pbik7XG5yb3V0ZXIucG9zdChcIi9sb2dpblwiLCBVc2VyQ29udHJvbGxlci5sb2dpbik7XG5yb3V0ZXIucG9zdChcIi9sb2dpbl9hZG1pblwiLCBVc2VyQ29udHJvbGxlci5sb2dpbl9hZG1pbik7XG5yb3V0ZXIucG9zdChcIi9sb2dpbl9zZWxsZXJcIiwgVXNlckNvbnRyb2xsZXIubG9naW5fc2VsbGVyKTtcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlXCIsIFVzZXJDb250cm9sbGVyLnJlbW92ZSk7XG5yb3V0ZXIuZ2V0KCcvOmlkJywgYXV0aC52ZXJpZnlFY29tbWVyY2UsIFVzZXJDb250cm9sbGVyLmdldEJ5SWQpO1xuXG5cblxuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxlQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBc0MsU0FBQUQsdUJBQUFJLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFJdEMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQzs7QUFFeEI7O0FBRUFELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRUMsdUJBQWMsQ0FBQ0MsUUFBUSxDQUFDO0FBQ2pESixNQUFNLENBQUNFLElBQUksQ0FBQyxrQkFBa0IsRUFBRUMsdUJBQWMsQ0FBQ0UsZUFBZSxDQUFDO0FBQy9ETCxNQUFNLENBQUNNLEdBQUcsQ0FBQyxTQUFTLEVBQUVILHVCQUFjLENBQUNJLE1BQU0sQ0FBQztBQUM1Q1AsTUFBTSxDQUFDUSxHQUFHLENBQUMsT0FBTyxFQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBRVAsdUJBQWMsQ0FBQ1EsSUFBSSxDQUFDO0FBQ3pEWCxNQUFNLENBQUNFLElBQUksQ0FBQyxpQkFBaUIsRUFBQ08sYUFBSSxDQUFDQyxXQUFXLEVBQUVQLHVCQUFjLENBQUNTLGNBQWMsQ0FBQztBQUM5RVosTUFBTSxDQUFDRSxJQUFJLENBQUMsUUFBUSxFQUFFQyx1QkFBYyxDQUFDVSxLQUFLLENBQUM7QUFDM0NiLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLGNBQWMsRUFBRUMsdUJBQWMsQ0FBQ1csV0FBVyxDQUFDO0FBQ3ZEZCxNQUFNLENBQUNFLElBQUksQ0FBQyxlQUFlLEVBQUVDLHVCQUFjLENBQUNZLFlBQVksQ0FBQztBQUN6RGYsTUFBTSxDQUFDZ0IsTUFBTSxDQUFDLFNBQVMsRUFBRWIsdUJBQWMsQ0FBQ2MsTUFBTSxDQUFDO0FBQy9DakIsTUFBTSxDQUFDUSxHQUFHLENBQUMsTUFBTSxFQUFFQyxhQUFJLENBQUNTLGVBQWUsRUFBRWYsdUJBQWMsQ0FBQ2dCLE9BQU8sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBdEIsT0FBQSxHQU1sREMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_UserController","_auth","e","__esModule","default","router","routerx","post","UserController","register","register_seller","put","update","get","auth","verifyAdmin","list","register_admin","login","login_admin","login_seller","delete","remove","verifyEcommerce","getById","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["User.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport UserController from \"../controllers/UserController\"\nimport auth from \"../middlewares/auth\"\n\n\n\nconst router = routerx();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", UserController.register);\nrouter.post(\"/register_seller\", UserController.register_seller);\nrouter.put(\"/update\", UserController.update);\nrouter.get(\"/list\",auth.verifyAdmin, UserController.list);\nrouter.post(\"/register_admin\",auth.verifyAdmin, UserController.register_admin);\nrouter.post(\"/login\", UserController.login);\nrouter.post(\"/login_admin\", UserController.login_admin);\nrouter.post(\"/login_seller\", UserController.login_seller);\nrouter.delete(\"/delete\", UserController.remove);\nrouter.get('/:id', auth.verifyEcommerce, UserController.getById);\n\n\n\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAItC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEC,uBAAc,CAACC,QAAQ,CAAC;AACjDJ,MAAM,CAACE,IAAI,CAAC,kBAAkB,EAAEC,uBAAc,CAACE,eAAe,CAAC;AAC/DL,MAAM,CAACM,GAAG,CAAC,SAAS,EAAEH,uBAAc,CAACI,MAAM,CAAC;AAC5CP,MAAM,CAACQ,GAAG,CAAC,OAAO,EAACC,aAAI,CAACC,WAAW,EAAEP,uBAAc,CAACQ,IAAI,CAAC;AACzDX,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAACO,aAAI,CAACC,WAAW,EAAEP,uBAAc,CAACS,cAAc,CAAC;AAC9EZ,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAEC,uBAAc,CAACU,KAAK,CAAC;AAC3Cb,MAAM,CAACE,IAAI,CAAC,cAAc,EAAEC,uBAAc,CAACW,WAAW,CAAC;AACvDd,MAAM,CAACE,IAAI,CAAC,eAAe,EAAEC,uBAAc,CAACY,YAAY,CAAC;AACzDf,MAAM,CAACgB,MAAM,CAAC,SAAS,EAAEb,uBAAc,CAACc,MAAM,CAAC;AAC/CjB,MAAM,CAACQ,GAAG,CAAC,MAAM,EAAEC,aAAI,CAACS,eAAe,EAAEf,uBAAc,CAACgB,OAAO,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAtB,OAAA,GAMlDC,MAAM","ignoreList":[]}},"mtime":1750195746466},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      const userC = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userC) {\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"cliente\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_seller: async (req, res) => {\n    try {\n      const userC = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userC) {\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"emprendedor\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_admin: async (req, res) => {\n    try {\n      const userV = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userV) {\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"admin\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      let user = await _models.default.User.create(req.body);\n      res.status(200).json({\n        user: _resourses.default.User.user_list(user)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        //SI ESTA REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              _id: user._id,\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        //SI ESTA REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              _id: user._id,\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login_seller: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: \"emprendedor\"\n      });\n      if (user) {\n        //SI ESTA REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              _id: user._id,\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('/');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let UserT = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: _resourses.default.User.user_list(UserT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  // list: async(req,res) => {\n  //   try {\n  //     var search = req.query.search;\n  //     let Users  = await models.User.find({\n  //       $or:[\n  //         {\"name\": new RegExp(search, \"i\")},\n  //         {\"surname\": new RegExp(search, \"i\")},\n  //         {\"email\": new RegExp(search, \"i\")},\n  //       ]\n  //   }).sort({'createdAt':-1});\n\n  //   Users = Users.map((user) => {\n  //     return resourses.User.user_list(user);\n  //   })\n\n  //   res.status(200).json({\n  //     users: Users\n  //   });\n  //   } catch (error) {\n  //     res.status(500).send({\n  //       message: \"OCURRIÓ UN PROBLEMA\"\n  //     });\n  //     console.log(error);\n\n  //   }\n  // },\n\n  // Listar usuarios según el rol\n  list: async (req, res) => {\n    try {\n      const search = req.query.search || '';\n      const regex = new RegExp(search, \"i\");\n\n      // El rol y el id del usuario autenticado\n      const {\n        rol,\n        _id\n      } = req.user;\n      let users = [];\n      if (rol === \"admin\") {\n        // Admin: todos los usuarios\n        users = await _models.default.User.find({\n          $or: [{\n            name: regex\n          }, {\n            surname: regex\n          }, {\n            email: regex\n          }]\n        });\n      } else if (rol === \"emprendedor\") {\n        // Emprendedor: solo su propio usuario\n        users = await _models.default.User.find({\n          _id: _id,\n          $or: [{\n            name: regex\n          }, {\n            surname: regex\n          }, {\n            email: regex\n          }]\n        });\n      } else {\n        return res.status(403).json({\n          message: \"No autorizado\"\n        });\n      }\n      res.status(200).json({\n        users\n      });\n    } catch (error) {\n      res.status(500).json({\n        message: \"Error al obtener usuarios\"\n      });\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await _models.default.User.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  getById: async (req, res) => {\n    try {\n      const user = await _models.default.User.findById(req.params.id);\n      if (!user) return res.status(404).json({\n        message: \"Usuario no encontrado\"\n      });\n      console.log(\"USER\", user);\n      res.status(200).json({\n        user\n      });\n    } catch (error) {\n      res.status(500).json({\n        message: \"Error al obtener usuario\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmNyeXB0anMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9tb2RlbHMiLCJfdG9rZW4iLCJfcmVzb3Vyc2VzIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJ1c2VyQyIsIm1vZGVscyIsIlVzZXIiLCJmaW5kT25lIiwiZW1haWwiLCJib2R5Iiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJyb2wiLCJwYXNzd29yZCIsImJjcnlwdCIsImhhc2giLCJ1c2VyIiwiY3JlYXRlIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInJlZ2lzdGVyX3NlbGxlciIsInJlZ2lzdGVyX2FkbWluIiwidXNlclYiLCJyZXNvdXJzZXMiLCJ1c2VyX2xpc3QiLCJsb2dpbiIsInN0YXRlIiwiY29tcGFyZSIsInRva2VuVCIsInRva2VuIiwiZW5jb2RlIiwiX2lkIiwiVVNFUl9GUk9OVEVEIiwibmFtZSIsInN1cm5hbWUiLCJhdmF0YXIiLCJsb2dpbl9hZG1pbiIsImxvZ2luX3NlbGxlciIsInVwZGF0ZSIsImZpbGVzIiwiaW1nX3BhdGgiLCJwYXRoIiwic3BsaXQiLCJhdmF0YXJfbmFtZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiVXNlclQiLCJsaXN0Iiwic2VhcmNoIiwicXVlcnkiLCJyZWdleCIsIlJlZ0V4cCIsInVzZXJzIiwiZmluZCIsIiRvciIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIiwiZ2V0QnlJZCIsImZpbmRCeUlkIiwicGFyYW1zIiwiaWQiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJVc2VyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYmNyeXB0IGZyb20gXCJiY3J5cHRqc1wiXG5pbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcbmltcG9ydCB0b2tlbiBmcm9tIFwiLi4vc2VydmljZXMvdG9rZW5cIjtcbmltcG9ydCByZXNvdXJzZXMgZnJvbSBcIi4uL3Jlc291cnNlc1wiO1xuXG5cbmV4cG9ydCBkZWZhdWx0e1xuICBcbiAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlckMgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtlbWFpbDogcmVxLmJvZHkuZW1haWx9KTtcbiAgICAgIGlmKHVzZXJDKXtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBZQSBFWElTVEVcIlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJlcS5ib2R5LnJvbCA9IFwiY2xpZW50ZVwiXG4gICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLDEwKTtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5jcmVhdGUocmVxLmJvZHkpO1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24odXNlcik7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuICB9LFxuXG4gIHJlZ2lzdGVyX3NlbGxlcjogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1c2VyQyA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe2VtYWlsOiByZXEuYm9keS5lbWFpbH0pO1xuICAgICAgaWYodXNlckMpe1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIFlBIEVYSVNURVwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmVxLmJvZHkucm9sID0gXCJlbXByZW5kZWRvclwiXG4gICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLDEwKTtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5jcmVhdGUocmVxLmJvZHkpO1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24odXNlcik7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuICB9LFxuICBcbiAgcmVnaXN0ZXJfYWRtaW46IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlclYgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtlbWFpbDogcmVxLmJvZHkuZW1haWx9KTtcbiAgICAgIGlmKHVzZXJWKXtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBZQSBFWElTVEVcIlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJlcS5ib2R5LnJvbCA9IFwiYWRtaW5cIlxuICAgICAgcmVxLmJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChyZXEuYm9keS5wYXNzd29yZCwxMCk7XG4gICAgICBsZXQgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIHVzZXI6IHJlc291cnNlcy5Vc2VyLnVzZXJfbGlzdCh1c2VyKVxuICAgICAgfSk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuICB9LFxuXG4gIGxvZ2luOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe2VtYWlsOiByZXEuYm9keS5lbWFpbCxzdGF0ZToxfSk7XG4gICAgICAgIGlmKHVzZXIpe1xuICAgICAgICAgICAgLy9TSSBFU1RBIFJFR0lTVFJBRE8gRU4gRUwgU0lTVEVNQVxuICAgICAgICAgICAgbGV0IGNvbXBhcmUgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShyZXEuYm9keS5wYXNzd29yZCx1c2VyLnBhc3N3b3JkKTtcbiAgICAgICAgICAgIGlmKGNvbXBhcmUpe1xuICAgICAgICAgICAgICAgIGxldCB0b2tlblQgPSBhd2FpdCB0b2tlbi5lbmNvZGUodXNlci5faWQsdXNlci5yb2wsdXNlci5lbWFpbCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBVU0VSX0ZST05URUQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuOnRva2VuVCxcbiAgICAgICAgICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiB1c2VyLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VybmFtZTogdXNlci5zdXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhcixcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgICAgIFVTRVJfRlJPTlRFRDpVU0VSX0ZST05URUQsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBOTyBFWElTVEVcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cbiAgfSxcbiAgbG9naW5fYWRtaW46IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtlbWFpbDogcmVxLmJvZHkuZW1haWwsc3RhdGU6MX0pO1xuICAgICAgaWYodXNlcil7XG4gICAgICAgICAgLy9TSSBFU1RBIFJFR0lTVFJBRE8gRU4gRUwgU0lTVEVNQVxuICAgICAgICAgIGxldCBjb21wYXJlID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocmVxLmJvZHkucGFzc3dvcmQsdXNlci5wYXNzd29yZCk7XG4gICAgICAgICAgaWYoY29tcGFyZSl7XG4gICAgICAgICAgICAgIGxldCB0b2tlblQgPSBhd2FpdCB0b2tlbi5lbmNvZGUodXNlci5faWQsdXNlci5yb2wsdXNlci5lbWFpbCk7XG5cbiAgICAgICAgICAgICAgY29uc3QgVVNFUl9GUk9OVEVEID0ge1xuICAgICAgICAgICAgICAgICAgdG9rZW46dG9rZW5ULFxuICAgICAgICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICAgICAgICAgIF9pZDogdXNlci5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgIHN1cm5hbWU6IHVzZXIuc3VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICBhdmF0YXI6IHVzZXIuYXZhdGFyLFxuICAgICAgICAgICAgICAgICAgICAgIHJvbDogdXNlci5yb2xcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgICBVU0VSX0ZST05URUQ6VVNFUl9GUk9OVEVELFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgfWVsc2V7XG4gICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gIH1cbiAgfSxcbiAgbG9naW5fc2VsbGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsLHN0YXRlOjEscm9sOlwiZW1wcmVuZGVkb3JcIn0pO1xuICAgICAgaWYodXNlcil7XG4gICAgICAgICAgLy9TSSBFU1RBIFJFR0lTVFJBRE8gRU4gRUwgU0lTVEVNQVxuICAgICAgICAgIGxldCBjb21wYXJlID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocmVxLmJvZHkucGFzc3dvcmQsdXNlci5wYXNzd29yZCk7XG4gICAgICAgICAgaWYoY29tcGFyZSl7XG4gICAgICAgICAgICAgIGxldCB0b2tlblQgPSBhd2FpdCB0b2tlbi5lbmNvZGUodXNlci5faWQsdXNlci5yb2wsdXNlci5lbWFpbCk7XG5cbiAgICAgICAgICAgICAgY29uc3QgVVNFUl9GUk9OVEVEID0ge1xuICAgICAgICAgICAgICAgICAgdG9rZW46dG9rZW5ULFxuICAgICAgICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICAgICAgICAgIF9pZDogdXNlci5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgIHN1cm5hbWU6IHVzZXIuc3VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICBhdmF0YXI6IHVzZXIuYXZhdGFyLFxuICAgICAgICAgICAgICAgICAgICAgIHJvbDogdXNlci5yb2xcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgICBVU0VSX0ZST05URUQ6VVNFUl9GUk9OVEVELFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgfWVsc2V7XG4gICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gIH1cbiAgfSxcbiAgdXBkYXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICBpZihyZXEuZmlsZXMpe1xuICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLmF2YXRhci5wYXRoO1xuICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICAgdmFyIGF2YXRhcl9uYW1lID0gbmFtZVsyXTtcbiAgICAgICAgIGNvbnNvbGUubG9nKGF2YXRhcl9uYW1lKVxuICAgICAgIH1cbiAgICAgIFxuICAgICAgaWYocmVxLmJvZHkucGFzc3dvcmQpe1xuICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLDEwKTtcbiAgICAgIH1cbiAgICAgYXdhaXQgbW9kZWxzLlVzZXIuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkfSxyZXEuYm9keSk7XG5cbiAgICAgbGV0IFVzZXJUID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7X2lkOiByZXEuYm9keS5faWR9KTtcblxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gU0UgSEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFXCIsXG4gICAgICAgIHVzZXI6IHJlc291cnNlcy5Vc2VyLnVzZXJfbGlzdChVc2VyVCksXG4gICAgICB9KVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuXG4gIH0sXG4gIC8vIGxpc3Q6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgLy8gICB0cnkge1xuICAvLyAgICAgdmFyIHNlYXJjaCA9IHJlcS5xdWVyeS5zZWFyY2g7XG4gIC8vICAgICBsZXQgVXNlcnMgID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZCh7XG4gIC8vICAgICAgICRvcjpbXG4gIC8vICAgICAgICAge1wibmFtZVwiOiBuZXcgUmVnRXhwKHNlYXJjaCwgXCJpXCIpfSxcbiAgLy8gICAgICAgICB7XCJzdXJuYW1lXCI6IG5ldyBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxuICAvLyAgICAgICAgIHtcImVtYWlsXCI6IG5ldyBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxuICAvLyAgICAgICBdXG4gIC8vICAgfSkuc29ydCh7J2NyZWF0ZWRBdCc6LTF9KTtcblxuICAvLyAgIFVzZXJzID0gVXNlcnMubWFwKCh1c2VyKSA9PiB7XG4gIC8vICAgICByZXR1cm4gcmVzb3Vyc2VzLlVzZXIudXNlcl9saXN0KHVzZXIpO1xuICAvLyAgIH0pXG5cbiAgLy8gICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gIC8vICAgICB1c2VyczogVXNlcnNcbiAgLy8gICB9KTtcbiAgLy8gICB9IGNhdGNoIChlcnJvcikge1xuICAvLyAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAvLyAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgLy8gICAgIH0pO1xuICAvLyAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgXG4gIC8vICAgfVxuICAvLyB9LFxuXG4vLyBMaXN0YXIgdXN1YXJpb3Mgc2Vnw7puIGVsIHJvbFxuICBsaXN0OiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaCB8fCAnJztcbiAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKTtcblxuICAgICAgLy8gRWwgcm9sIHkgZWwgaWQgZGVsIHVzdWFyaW8gYXV0ZW50aWNhZG9cbiAgICAgIGNvbnN0IHsgcm9sLCBfaWQgfSA9IHJlcS51c2VyO1xuXG4gICAgICBsZXQgdXNlcnMgPSBbXTtcbiAgICAgIGlmIChyb2wgPT09IFwiYWRtaW5cIikge1xuICAgICAgICAvLyBBZG1pbjogdG9kb3MgbG9zIHVzdWFyaW9zXG4gICAgICAgIHVzZXJzID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZCh7XG4gICAgICAgICAgJG9yOiBbXG4gICAgICAgICAgICB7IG5hbWU6IHJlZ2V4IH0sXG4gICAgICAgICAgICB7IHN1cm5hbWU6IHJlZ2V4IH0sXG4gICAgICAgICAgICB7IGVtYWlsOiByZWdleCB9XG4gICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocm9sID09PSBcImVtcHJlbmRlZG9yXCIpIHtcbiAgICAgICAgLy8gRW1wcmVuZGVkb3I6IHNvbG8gc3UgcHJvcGlvIHVzdWFyaW9cbiAgICAgICAgdXNlcnMgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kKHtcbiAgICAgICAgICBfaWQ6IF9pZCxcbiAgICAgICAgICAkb3I6IFtcbiAgICAgICAgICAgIHsgbmFtZTogcmVnZXggfSxcbiAgICAgICAgICAgIHsgc3VybmFtZTogcmVnZXggfSxcbiAgICAgICAgICAgIHsgZW1haWw6IHJlZ2V4IH1cbiAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKHsgbWVzc2FnZTogXCJObyBhdXRvcml6YWRvXCIgfSk7XG4gICAgICB9XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdXNlcnMgfSk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBcIkVycm9yIGFsIG9idGVuZXIgdXN1YXJpb3NcIiB9KTtcbiAgICB9XG4gIH0sXG4gIHJlbW92ZTogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgVXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IHJlcS5xdWVyeS5faWR9KTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG4gIH0sXG4gIGdldEJ5SWQ6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XG4gICAgICBpZiAoIXVzZXIpIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6IFwiVXN1YXJpbyBubyBlbmNvbnRyYWRvXCIgfSk7XG4gICAgICBjb25zb2xlLmxvZyhcIlVTRVJcIiwgdXNlcik7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHVzZXIgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogXCJFcnJvciBhbCBvYnRlbmVyIHVzdWFyaW9cIiB9KTtcbiAgICB9XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFVBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUFxQyxTQUFBRCx1QkFBQUssQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBR3ZCO0VBRVpHLFFBQVEsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUMxQixJQUFJO01BQ0YsTUFBTUMsS0FBSyxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPLENBQUM7UUFBQ0MsS0FBSyxFQUFFTixHQUFHLENBQUNPLElBQUksQ0FBQ0Q7TUFBSyxDQUFDLENBQUM7TUFDaEUsSUFBR0osS0FBSyxFQUFDO1FBQ1BELEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDbkJDLE9BQU8sRUFBRTtRQUNYLENBQUMsQ0FBQztNQUNKO01BQ0FWLEdBQUcsQ0FBQ08sSUFBSSxDQUFDSSxHQUFHLEdBQUcsU0FBUztNQUN4QlgsR0FBRyxDQUFDTyxJQUFJLENBQUNLLFFBQVEsR0FBRyxNQUFNQyxpQkFBTSxDQUFDQyxJQUFJLENBQUNkLEdBQUcsQ0FBQ08sSUFBSSxDQUFDSyxRQUFR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","map":{"version":3,"names":["_bcryptjs","_interopRequireDefault","require","_models","_token","_resourses","e","__esModule","default","_default","exports","register","req","res","userC","models","User","findOne","email","body","status","send","message","rol","password","bcrypt","hash","user","create","json","error","console","log","register_seller","register_admin","userV","resourses","user_list","login","state","compare","tokenT","token","encode","_id","USER_FRONTED","name","surname","avatar","login_admin","login_seller","update","files","img_path","path","split","avatar_name","findByIdAndUpdate","UserT","list","search","query","regex","RegExp","users","find","$or","remove","findByIdAndDelete","getById","findById","params","id"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["UserController.js"],"sourcesContent":["import bcrypt from \"bcryptjs\"\nimport models from \"../models\";\nimport token from \"../services/token\";\nimport resourses from \"../resourses\";\n\n\nexport default{\n  \n  register: async(req,res) => {\n    try {\n      const userC = await models.User.findOne({email: req.body.email});\n      if(userC){\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"cliente\"\n      req.body.password = await bcrypt.hash(req.body.password,10);\n      const user = await models.User.create(req.body);\n      res.status(200).json(user);\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n\n  register_seller: async(req,res) => {\n    try {\n      const userC = await models.User.findOne({email: req.body.email});\n      if(userC){\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"emprendedor\"\n      req.body.password = await bcrypt.hash(req.body.password,10);\n      const user = await models.User.create(req.body);\n      res.status(200).json(user);\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n  \n  register_admin: async(req,res) => {\n    try {\n      const userV = await models.User.findOne({email: req.body.email});\n      if(userV){\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"admin\"\n      req.body.password = await bcrypt.hash(req.body.password,10);\n      let user = await models.User.create(req.body);\n      res.status(200).json({\n        user: resourses.User.user_list(user)\n      });\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n\n  login: async(req,res) => {\n    try {\n        const user = await models.User.findOne({email: req.body.email,state:1});\n        if(user){\n            //SI ESTA REGISTRADO EN EL SISTEMA\n            let compare = await bcrypt.compare(req.body.password,user.password);\n            if(compare){\n                let tokenT = await token.encode(user._id,user.rol,user.email);\n\n                const USER_FRONTED = {\n                    token:tokenT,\n                    user: {\n                        _id: user._id,\n                        name: user.name,\n                        email: user.email,\n                        surname: user.surname,\n                        avatar: user.avatar,\n                    },\n                }\n\n                res.status(200).json({\n                    USER_FRONTED:USER_FRONTED,\n                })\n            }else{\n                res.status(500).send({\n                    message: \"EL USUARIO NO EXISTE\"\n                });\n            }\n        }else{\n            res.status(500).send({\n                message: \"EL USUARIO NO EXISTE\"\n            });\n        }\n    } catch (error) {\n        res.status(500).send({\n            message: \"OCURRIO UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n  login_admin: async(req,res) => {\n  try {\n      const user = await models.User.findOne({email: req.body.email,state:1});\n      if(user){\n          //SI ESTA REGISTRADO EN EL SISTEMA\n          let compare = await bcrypt.compare(req.body.password,user.password);\n          if(compare){\n              let tokenT = await token.encode(user._id,user.rol,user.email);\n\n              const USER_FRONTED = {\n                  token:tokenT,\n                  user: {\n                      _id: user._id,\n                      name: user.name,\n                      email: user.email,\n                      surname: user.surname,\n                      avatar: user.avatar,\n                      rol: user.rol\n                  },\n              }\n\n              res.status(200).json({\n                  USER_FRONTED:USER_FRONTED,\n              })\n          }else{\n              res.status(500).send({\n                  message: \"EL USUARIO NO EXISTE\"\n              });\n          }\n      }else{\n          res.status(500).send({\n              message: \"EL USUARIO NO EXISTE\"\n          });\n      }\n  } catch (error) {\n      res.status(500).send({\n          message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n  }\n  },\n  login_seller: async(req,res) => {\n  try {\n      const user = await models.User.findOne({email: req.body.email,state:1,rol:\"emprendedor\"});\n      if(user){\n          //SI ESTA REGISTRADO EN EL SISTEMA\n          let compare = await bcrypt.compare(req.body.password,user.password);\n          if(compare){\n              let tokenT = await token.encode(user._id,user.rol,user.email);\n\n              const USER_FRONTED = {\n                  token:tokenT,\n                  user: {\n                      _id: user._id,\n                      name: user.name,\n                      email: user.email,\n                      surname: user.surname,\n                      avatar: user.avatar,\n                      rol: user.rol\n                  },\n              }\n\n              res.status(200).json({\n                  USER_FRONTED:USER_FRONTED,\n              })\n          }else{\n              res.status(500).send({\n                  message: \"EL USUARIO NO EXISTE\"\n              });\n          }\n      }else{\n          res.status(500).send({\n              message: \"EL USUARIO NO EXISTE\"\n          });\n      }\n  } catch (error) {\n      res.status(500).send({\n          message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n  }\n  },\n  update: async(req,res) => {\n    try {\n       if(req.files){\n         var img_path = req.files.avatar.path;\n         var name = img_path.split('/');\n         var avatar_name = name[2];\n         console.log(avatar_name)\n       }\n      \n      if(req.body.password){\n        req.body.password = await bcrypt.hash(req.body.password,10);\n      }\n     await models.User.findByIdAndUpdate({_id: req.body._id},req.body);\n\n     let UserT = await models.User.findOne({_id: req.body._id});\n\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: resourses.User.user_list(UserT),\n      })\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n\n  },\n  // list: async(req,res) => {\n  //   try {\n  //     var search = req.query.search;\n  //     let Users  = await models.User.find({\n  //       $or:[\n  //         {\"name\": new RegExp(search, \"i\")},\n  //         {\"surname\": new RegExp(search, \"i\")},\n  //         {\"email\": new RegExp(search, \"i\")},\n  //       ]\n  //   }).sort({'createdAt':-1});\n\n  //   Users = Users.map((user) => {\n  //     return resourses.User.user_list(user);\n  //   })\n\n  //   res.status(200).json({\n  //     users: Users\n  //   });\n  //   } catch (error) {\n  //     res.status(500).send({\n  //       message: \"OCURRIÓ UN PROBLEMA\"\n  //     });\n  //     console.log(error);\n      \n  //   }\n  // },\n\n// Listar usuarios según el rol\n  list: async (req, res) => {\n    try {\n      const search = req.query.search || '';\n      const regex = new RegExp(search, \"i\");\n\n      // El rol y el id del usuario autenticado\n      const { rol, _id } = req.user;\n\n      let users = [];\n      if (rol === \"admin\") {\n        // Admin: todos los usuarios\n        users = await models.User.find({\n          $or: [\n            { name: regex },\n            { surname: regex },\n            { email: regex }\n          ]\n        });\n      } else if (rol === \"emprendedor\") {\n        // Emprendedor: solo su propio usuario\n        users = await models.User.find({\n          _id: _id,\n          $or: [\n            { name: regex },\n            { surname: regex },\n            { email: regex }\n          ]\n        });\n      } else {\n        return res.status(403).json({ message: \"No autorizado\" });\n      }\n\n      res.status(200).json({ users });\n\n    } catch (error) {\n      res.status(500).json({ message: \"Error al obtener usuarios\" });\n    }\n  },\n  remove: async(req, res) => {\n    try {\n      const User = await models.User.findByIdAndDelete({_id: req.query._id});\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\",\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  getById: async (req, res) => {\n    try {\n      const user = await models.User.findById(req.params.id);\n      if (!user) return res.status(404).json({ message: \"Usuario no encontrado\" });\n      console.log(\"USER\", user);\n      res.status(200).json({ user });\n    } catch (error) {\n      res.status(500).json({ message: \"Error al obtener usuario\" });\n    }\n  }\n}"],"mappings":"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","ignoreList":[]}},"mtime":1750195560942},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Variedad = _interopRequireDefault(require(\"./Variedad\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cupone = _interopRequireDefault(require(\"./Cupone\"));\nvar _Discount = _interopRequireDefault(require(\"./Discount\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nvar _AddressClient = _interopRequireDefault(require(\"./AddressClient\"));\nvar _Sale = _interopRequireDefault(require(\"./Sale\"));\nvar _SaleAddress = _interopRequireDefault(require(\"./SaleAddress\"));\nvar _SaleDetail = _interopRequireDefault(require(\"./SaleDetail\"));\nvar _Review = _interopRequireDefault(require(\"./Review\"));\nvar _TempPayment = _interopRequireDefault(require(\"./TempPayment\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default,\n  Variedad: _Variedad.default,\n  Slider: _Slider.default,\n  Cupone: _Cupone.default,\n  Discount: _Discount.default,\n  Cart: _Cart.default,\n  AddressClient: _AddressClient.default,\n  Sale: _Sale.default,\n  SaleAddress: _SaleAddress.default,\n  SaleDetail: _SaleDetail.default,\n  Review: _Review.default,\n  TempPayment: _TempPayment.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQ2F0ZWdvcmllIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfVXNlciIsIl9Qcm9kdWN0IiwiX1ZhcmllZGFkIiwiX1NsaWRlciIsIl9DdXBvbmUiLCJfRGlzY291bnQiLCJfQ2FydCIsIl9BZGRyZXNzQ2xpZW50IiwiX1NhbGUiLCJfU2FsZUFkZHJlc3MiLCJfU2FsZURldGFpbCIsIl9SZXZpZXciLCJfVGVtcFBheW1lbnQiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJVc2VyIiwiQ2F0ZWdvcmllIiwiUHJvZHVjdCIsIlZhcmllZGFkIiwiU2xpZGVyIiwiQ3Vwb25lIiwiRGlzY291bnQiLCJDYXJ0IiwiQWRkcmVzc0NsaWVudCIsIlNhbGUiLCJTYWxlQWRkcmVzcyIsIlNhbGVEZXRhaWwiLCJSZXZpZXciLCJUZW1wUGF5bWVudCJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2F0ZWdvcmllIGZyb20gXCIuL0NhdGVnb3JpZVwiO1xuaW1wb3J0IFVzZXIgZnJvbSBcIi4vVXNlclwiO1xuaW1wb3J0IFByb2R1Y3QgZnJvbSBcIi4vUHJvZHVjdFwiO1xuaW1wb3J0IFZhcmllZGFkIGZyb20gXCIuL1ZhcmllZGFkXCI7XG5pbXBvcnQgU2xpZGVyIGZyb20gXCIuL1NsaWRlclwiO1xuaW1wb3J0IEN1cG9uZSBmcm9tIFwiLi9DdXBvbmVcIjtcbmltcG9ydCBEaXNjb3VudCBmcm9tIFwiLi9EaXNjb3VudFwiO1xuaW1wb3J0IENhcnQgZnJvbSBcIi4vQ2FydFwiO1xuaW1wb3J0IEFkZHJlc3NDbGllbnQgZnJvbSBcIi4vQWRkcmVzc0NsaWVudFwiO1xuaW1wb3J0IFNhbGUgZnJvbSBcIi4vU2FsZVwiO1xuaW1wb3J0IFNhbGVBZGRyZXNzIGZyb20gXCIuL1NhbGVBZGRyZXNzXCI7XG5pbXBvcnQgU2FsZURldGFpbCBmcm9tIFwiLi9TYWxlRGV0YWlsXCI7XG5pbXBvcnQgUmV2aWV3IGZyb20gXCIuL1Jldmlld1wiO1xuaW1wb3J0IFRlbXBQYXltZW50IGZyb20gXCIuL1RlbXBQYXltZW50XCI7XG5cbmV4cG9ydCBkZWZhdWx0e1xuICBVc2VyLFxuICBDYXRlZ29yaWUsXG4gIFByb2R1Y3QsXG4gIFZhcmllZGFkLFxuICBTbGlkZXIsXG4gIEN1cG9uZSxcbiAgRGlzY291bnQsXG4gIENhcnQsXG4gIEFkZHJlc3NDbGllbnQsXG4gIFNhbGUsXG4gIFNhbGVBZGRyZXNzLFxuICBTYWxlRGV0YWlsLFxuICBSZXZpZXcsXG4gIFRlbXBQYXltZW50LFxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsVUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsUUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsU0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksT0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssT0FBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU0sU0FBQSxHQUFBUCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU8sS0FBQSxHQUFBUixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVEsY0FBQSxHQUFBVCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVMsS0FBQSxHQUFBVixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVUsWUFBQSxHQUFBWCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVcsV0FBQSxHQUFBWixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVksT0FBQSxHQUFBYixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQWEsWUFBQSxHQUFBZCxzQkFBQSxDQUFBQyxPQUFBO0FBQXdDLFNBQUFELHVCQUFBZSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFMUI7RUFDWkcsSUFBSSxFQUFKQSxhQUFJO0VBQ0pDLFNBQVMsRUFBVEEsa0JBQVM7RUFDVEMsT0FBTyxFQUFQQSxnQkFBTztFQUNQQyxRQUFRLEVBQVJBLGlCQUFRO0VBQ1JDLE1BQU0sRUFBTkEsZUFBTTtFQUNOQyxNQUFNLEVBQU5BLGVBQU07RUFDTkMsUUFBUSxFQUFSQSxpQkFBUTtFQUNSQyxJQUFJLEVBQUpBLGFBQUk7RUFDSkMsYUFBYSxFQUFiQSxzQkFBYTtFQUNiQyxJQUFJLEVBQUpBLGFBQUk7RUFDSkMsV0FBVyxFQUFYQSxvQkFBVztFQUNYQyxVQUFVLEVBQVZBLG1CQUFVO0VBQ1ZDLE1BQU0sRUFBTkEsZUFBTTtFQUNOQyxXQUFXLEVBQVhBO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_Categorie","_interopRequireDefault","require","_User","_Product","_Variedad","_Slider","_Cupone","_Discount","_Cart","_AddressClient","_Sale","_SaleAddress","_SaleDetail","_Review","_TempPayment","e","__esModule","default","_default","exports","User","Categorie","Product","Variedad","Slider","Cupone","Discount","Cart","AddressClient","Sale","SaleAddress","SaleDetail","Review","TempPayment"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["index.js"],"sourcesContent":["import Categorie from \"./Categorie\";\nimport User from \"./User\";\nimport Product from \"./Product\";\nimport Variedad from \"./Variedad\";\nimport Slider from \"./Slider\";\nimport Cupone from \"./Cupone\";\nimport Discount from \"./Discount\";\nimport Cart from \"./Cart\";\nimport AddressClient from \"./AddressClient\";\nimport Sale from \"./Sale\";\nimport SaleAddress from \"./SaleAddress\";\nimport SaleDetail from \"./SaleDetail\";\nimport Review from \"./Review\";\nimport TempPayment from \"./TempPayment\";\n\nexport default{\n  User,\n  Categorie,\n  Product,\n  Variedad,\n  Slider,\n  Cupone,\n  Discount,\n  Cart,\n  AddressClient,\n  Sale,\n  SaleAddress,\n  SaleDetail,\n  Review,\n  TempPayment,\n}"],"mappings":";;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,OAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,SAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,KAAA,GAAAR,sBAAA,CAAAC,OAAA;AACA,IAAAQ,cAAA,GAAAT,sBAAA,CAAAC,OAAA;AACA,IAAAS,KAAA,GAAAV,sBAAA,CAAAC,OAAA;AACA,IAAAU,YAAA,GAAAX,sBAAA,CAAAC,OAAA;AACA,IAAAW,WAAA,GAAAZ,sBAAA,CAAAC,OAAA;AACA,IAAAY,OAAA,GAAAb,sBAAA,CAAAC,OAAA;AACA,IAAAa,YAAA,GAAAd,sBAAA,CAAAC,OAAA;AAAwC,SAAAD,uBAAAe,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAE1B;EACZG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,QAAQ,EAARA,iBAAQ;EACRC,MAAM,EAANA,eAAM;EACNC,MAAM,EAANA,eAAM;EACNC,QAAQ,EAARA,iBAAQ;EACRC,IAAI,EAAJA,aAAI;EACJC,aAAa,EAAbA,sBAAa;EACbC,IAAI,EAAJA,aAAI;EACJC,WAAW,EAAXA,oBAAW;EACXC,UAAU,EAAVA,mBAAU;EACVC,MAAM,EAANA,eAAM;EACNC,WAAW,EAAXA;AACF,CAAC","ignoreList":[]}},"mtime":1750380943016},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CategorieSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  } // 1 es activo y 2 es desactivo\n}, {\n  timestamps: true\n});\nconst Categorie = _mongoose.default.model(\"categorie\", CategorieSchema);\nvar _default = exports.default = Categorie;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDYXRlZ29yaWVTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsImltYWdlbiIsInN0YXRlIiwiTnVtYmVyIiwidGltZXN0YW1wcyIsIkNhdGVnb3JpZSIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvbW9kZWxzLyIsInNvdXJjZXMiOlsiQ2F0ZWdvcmllLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgQ2F0ZWdvcmllU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIHRpdGxlOnt0eXBlOlN0cmluZywgbWF4bGVuZ3RoOjI1MCxyZXF1aXJlZDp0cnVlfSxcbiAgaW1hZ2VuOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6MjUwLHJlcXVpcmVkOnRydWV9LFxuICBzdGF0ZTp7dHlwZTogTnVtYmVyLG1heGxlbmd0aDoyLGRlZmF1bHQ6MX0sLy8gMSBlcyBhY3Rpdm8geSAyIGVzIGRlc2FjdGl2b1xufSx7XG4gIHRpbWVzdGFtcHM6dHJ1ZVxufSk7XG5cbmNvbnN0IENhdGVnb3JpZSA9IG1vbmdvb3NlLm1vZGVsKFwiY2F0ZWdvcmllXCIsQ2F0ZWdvcmllU2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IENhdGVnb3JpZTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLENBQUEsU0FBQUcsQ0FBQSxHQUFBUCxDQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQWIsQ0FBQSxFQUFBYyxDQUFBLFVBQUFHLENBQUEsS0FBQUEsQ0FBQSxDQUFBVixHQUFBLElBQUFVLENBQUEsQ0FBQUMsR0FBQSxJQUFBUCxNQUFBLENBQUFDLGNBQUEsQ0FBQUosQ0FBQSxFQUFBTSxDQUFBLEVBQUFHLENBQUEsSUFBQVQsQ0FBQSxDQUFBTSxDQUFBLElBQUFkLENBQUEsQ0FBQWMsQ0FBQSxZQUFBTixDQUFBLENBQUFILE9BQUEsR0FBQUwsQ0FBQSxFQUFBRyxDQUFBLElBQUFBLENBQUEsQ0FBQWUsR0FBQSxDQUFBbEIsQ0FBQSxFQUFBUSxDQUFBLEdBQUFBLENBQUE7QUFFekMsTUFBTVcsZUFBZSxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDakNDLEtBQUssRUFBQztJQUFDQyxJQUFJLEVBQUNDLE1BQU07SUFBRUMsU0FBUyxFQUFDLEdBQUc7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNoREMsTUFBTSxFQUFDO0lBQUNKLElBQUksRUFBQ0MsTUFBTTtJQUFDQyxTQUFTLEVBQUMsR0FBRztJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2hERSxLQUFLLEVBQUM7SUFBQ0wsSUFBSSxFQUFFTSxNQUFNO0lBQUNKLFNBQVMsRUFBQyxDQUFDO0lBQUNuQixPQUFPLEVBQUM7RUFBQyxDQUFDLENBQUM7QUFDN0MsQ0FBQyxFQUFDO0VBQ0F3QixVQUFVLEVBQUM7QUFDYixDQUFDLENBQUM7QUFFRixNQUFNQyxTQUFTLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxXQUFXLEVBQUNiLGVBQWUsQ0FBQztBQUFDLElBQUFjLFFBQUEsR0FBQUMsT0FBQSxDQUFBN0IsT0FBQSxHQUMvQ3lCLFNBQVMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CategorieSchema","Schema","title","type","String","maxlength","required","imagen","state","Number","timestamps","Categorie","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Categorie.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst CategorieSchema = new Schema({\n  title:{type:String, maxlength:250,required:true},\n  imagen:{type:String,maxlength:250,required:true},\n  state:{type: Number,maxlength:2,default:1},// 1 es activo y 2 es desactivo\n},{\n  timestamps:true\n});\n\nconst Categorie = mongoose.model(\"categorie\",CategorieSchema);\nexport default Categorie;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,eAAe,GAAG,IAAIC,gBAAM,CAAC;EACjCC,KAAK,EAAC;IAACC,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChDC,MAAM,EAAC;IAACJ,IAAI,EAACC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChDE,KAAK,EAAC;IAACL,IAAI,EAAEM,MAAM;IAACJ,SAAS,EAAC,CAAC;IAACnB,OAAO,EAAC;EAAC,CAAC,CAAC;AAC7C,CAAC,EAAC;EACAwB,UAAU,EAAC;AACb,CAAC,CAAC;AAEF,MAAMC,SAAS,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAACb,eAAe,CAAC;AAAC,IAAAc,QAAA,GAAAC,OAAA,CAAA7B,OAAA,GAC/CyB,SAAS","ignoreList":[]}},"mtime":1737065419804},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst UserSchema = new _mongoose.Schema({\n  rol: {\n    type: String,\n    maxlength: 30,\n    require: true\n  },\n  // admin |cliente | emprendedor\n  name: {\n    type: String,\n    maxlength: 50,\n    require: true\n  },\n  surname: {\n    type: String,\n    maxlength: 50,\n    require: false\n  },\n  company: {\n    type: String,\n    maxlength: 50,\n    require: false\n  },\n  nif: {\n    type: String,\n    maxlength: 20,\n    require: false\n  },\n  description_company: {\n    type: String,\n    maxlength: 250,\n    require: false\n  },\n  address: {\n    type: String,\n    maxlength: 250,\n    require: false\n  },\n  email: {\n    type: String,\n    maxlength: 50,\n    require: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  acceptTerms: {\n    type: Boolean,\n    require: false\n  },\n  avatar: {\n    type: String,\n    maxlength: 250,\n    require: false\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  // 1 es activo y 2 es desactivo\n  phone: {\n    type: String,\n    maxlength: 20,\n    require: false\n  },\n  birthday: {\n    type: String,\n    maxlength: 250,\n    require: false\n  }\n}, {\n  timestamps: true\n});\nconst User = _mongoose.default.model(\"user\", UserSchema);\nvar _default = exports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJVc2VyU2NoZW1hIiwiU2NoZW1hIiwicm9sIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsIm5hbWUiLCJzdXJuYW1lIiwiY29tcGFueSIsIm5pZiIsImRlc2NyaXB0aW9uX2NvbXBhbnkiLCJhZGRyZXNzIiwiZW1haWwiLCJ1bmlxdWUiLCJwYXNzd29yZCIsImFjY2VwdFRlcm1zIiwiQm9vbGVhbiIsImF2YXRhciIsInN0YXRlIiwiTnVtYmVyIiwicGhvbmUiLCJiaXJ0aGRheSIsInRpbWVzdGFtcHMiLCJVc2VyIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgVXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICByb2w6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDozMCwgcmVxdWlyZTp0cnVlfSwgLy8gYWRtaW4gfGNsaWVudGUgfCBlbXByZW5kZWRvclxuICBuYW1lOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6NTAsIHJlcXVpcmU6dHJ1ZX0sXG4gIHN1cm5hbWU6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDo1MCwgcmVxdWlyZTpmYWxzZX0sXG4gIGNvbXBhbnk6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDogNTAsIHJlcXVpcmU6ZmFsc2V9LFxuICBuaWY6IHsgdHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6IDIwLCByZXF1aXJlOiBmYWxzZX0sXG4gIGRlc2NyaXB0aW9uX2NvbXBhbnk6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDogMjUwLCByZXF1aXJlOmZhbHNlfSxcbiAgYWRkcmVzczogeyB0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDogMjUwLCByZXF1aXJlOmZhbHNlfSxcbiAgZW1haWw6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDo1MCwgcmVxdWlyZTp0cnVlLCB1bmlxdWU6dHJ1ZX0sXG4gIHBhc3N3b3JkOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwLCByZXF1aXJlOnRydWV9LFxuICBhY2NlcHRUZXJtczoge3R5cGU6IEJvb2xlYW4sIHJlcXVpcmU6ZmFsc2V9LFxuICBhdmF0YXI6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmU6ZmFsc2V9LFxuICBzdGF0ZToge3R5cGU6IE51bWJlciwgZGVmYXVsdDoxfSwvLyAxIGVzIGFjdGl2byB5IDIgZXMgZGVzYWN0aXZvXG4gIHBob25lOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjAsIHJlcXVpcmU6ZmFsc2V9LFxuICBiaXJ0aGRheToge3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZTpmYWxzZX0sXG59LHtcbiAgdGltZXN0YW1wczp0cnVlXG59KTtcblxuY29uc3QgVXNlciA9IG1vbmdvb3NlLm1vZGVsKFwidXNlclwiLCBVc2VyU2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IFVzZXIiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLENBQUEsU0FBQUcsQ0FBQSxHQUFBUCxDQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQWIsQ0FBQSxFQUFBYyxDQUFBLFVBQUFHLENBQUEsS0FBQUEsQ0FBQSxDQUFBVixHQUFBLElBQUFVLENBQUEsQ0FBQUMsR0FBQSxJQUFBUCxNQUFBLENBQUFDLGNBQUEsQ0FBQUosQ0FBQSxFQUFBTSxDQUFBLEVBQUFHLENBQUEsSUFBQVQsQ0FBQSxDQUFBTSxDQUFBLElBQUFkLENBQUEsQ0FBQWMsQ0FBQSxZQUFBTixDQUFBLENBQUFILE9BQUEsR0FBQUwsQ0FBQSxFQUFBRyxDQUFBLElBQUFBLENBQUEsQ0FBQWUsR0FBQSxDQUFBbEIsQ0FBQSxFQUFBUSxDQUFBLEdBQUFBLENBQUE7QUFFekMsTUFBTVcsVUFBVSxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDNUJDLEdBQUcsRUFBRTtJQUFDQyxJQUFJLEVBQUVDLE1BQU07SUFBRUMsU0FBUyxFQUFDLEVBQUU7SUFBRTFCLE9BQU8sRUFBQztFQUFJLENBQUM7RUFBRTtFQUNqRDJCLElBQUksRUFBRTtJQUFDSCxJQUFJLEVBQUVDLE1BQU07SUFBRUMsU0FBUyxFQUFDLEVBQUU7SUFBRTFCLE9BQU8sRUFBQztFQUFJLENBQUM7RUFDaEQ0QixPQUFPLEVBQUU7SUFBQ0osSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFNBQVMsRUFBQyxFQUFFO0lBQUUxQixPQUFPLEVBQUM7RUFBSyxDQUFDO0VBQ3BENkIsT0FBTyxFQUFFO0lBQUNMLElBQUksRUFBRUMsTUFBTTtJQUFFQyxTQUFTLEVBQUUsRUFBRTtJQUFFMUIsT0FBTyxFQUFDO0VBQUssQ0FBQztFQUNyRDhCLEdBQUcsRUFBRTtJQUFFTixJQUFJLEVBQUVDLE1BQU07SUFBRUMsU0FBUyxFQUFFLEVBQUU7SUFBRTFCLE9BQU8sRUFBRTtFQUFLLENBQUM7RUFDbkQrQixtQkFBbUIsRUFBRTtJQUFDUCxJQUFJLEVBQUVDLE1BQU07SUFBRUMsU0FBUyxFQUFFLEdBQUc7SUFBRTFCLE9BQU8sRUFBQztFQUFLLENBQUM7RUFDbEVnQyxPQUFPLEVBQUU7SUFBRVIsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFNBQVMsRUFBRSxHQUFHO0lBQUUxQixPQUFPLEVBQUM7RUFBSyxDQUFDO0VBQ3ZEaUMsS0FBSyxFQUFFO0lBQUNULElBQUksRUFBRUMsTUFBTTtJQUFFQyxTQUFTLEVBQUMsRUFBRTtJQUFFMUIsT0FBTyxFQUFDLElBQUk7SUFBRWtDLE1BQU0sRUFBQztFQUFJLENBQUM7RUFDOURDLFFBQVEsRUFBRTtJQUFDWCxJQUFJLEVBQUVDLE1BQU07SUFBRUMsU0FBUyxFQUFDLEdBQUc7SUFBRTFCLE9BQU8sRUFBQztFQUFJLENBQUM7RUFDckRvQyxXQUFXLEVBQUU7SUFBQ1osSUFBSSxFQUFFYSxPQUFPO0lBQUVyQyxPQUFPLEVBQUM7RUFBSyxDQUFDO0VBQzNDc0MsTUFBTSxFQUFFO0lBQUNkLElBQUksRUFBRUMsTUFBTTtJQUFFQyxTQUFTLEVBQUMsR0FBRztJQUFFMUIsT0FBTyxFQUFDO0VBQUssQ0FBQztFQUNwRHVDLEtBQUssRUFBRTtJQUFDZixJQUFJLEVBQUVnQixNQUFNO0lBQUVqQyxPQUFPLEVBQUM7RUFBQyxDQUFDO0VBQUM7RUFDakNrQyxLQUFLLEVBQUU7SUFBQ2pCLElBQUksRUFBRUMsTUFBTTtJQUFFQyxTQUFTLEVBQUMsRUFBRTtJQUFFMUIsT0FBTyxFQUFDO0VBQUssQ0FBQztFQUNsRDBDLFFBQVEsRUFBRTtJQUFDbEIsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFNBQVMsRUFBQyxHQUFHO0lBQUUxQixPQUFPLEVBQUM7RUFBSztBQUN2RCxDQUFDLEVBQUM7RUFDQTJDLFVBQVUsRUFBQztBQUNiLENBQUMsQ0FBQztBQUVGLE1BQU1DLElBQUksR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLE1BQU0sRUFBRXpCLFVBQVUsQ0FBQztBQUFDLElBQUEwQixRQUFBLEdBQUFDLE9BQUEsQ0FBQXpDLE9BQUEsR0FDakNxQyxJQUFJIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","UserSchema","Schema","rol","type","String","maxlength","name","surname","company","nif","description_company","address","email","unique","password","acceptTerms","Boolean","avatar","state","Number","phone","birthday","timestamps","User","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["User.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst UserSchema = new Schema({\n  rol: {type: String, maxlength:30, require:true}, // admin |cliente | emprendedor\n  name: {type: String, maxlength:50, require:true},\n  surname: {type: String, maxlength:50, require:false},\n  company: {type: String, maxlength: 50, require:false},\n  nif: { type: String, maxlength: 20, require: false},\n  description_company: {type: String, maxlength: 250, require:false},\n  address: { type: String, maxlength: 250, require:false},\n  email: {type: String, maxlength:50, require:true, unique:true},\n  password: {type: String, maxlength:250, require:true},\n  acceptTerms: {type: Boolean, require:false},\n  avatar: {type: String, maxlength:250, require:false},\n  state: {type: Number, default:1},// 1 es activo y 2 es desactivo\n  phone: {type: String, maxlength:20, require:false},\n  birthday: {type: String, maxlength:250, require:false},\n},{\n  timestamps:true\n});\n\nconst User = mongoose.model(\"user\", UserSchema);\nexport default User"],"mappings":"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","ignoreList":[]}},"mtime":1750638652442},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst ProductSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  slug: {\n    type: String,\n    required: true,\n    maxlength: 1000\n  },\n  sku: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  categorie: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'categorie',\n    required: true\n  },\n  price_bs: {\n    type: Number,\n    required: true\n  },\n  price_usd: {\n    type: Number,\n    required: true\n  },\n  portada: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  galerias: [{\n    type: Object,\n    required: false\n  }],\n  state: {\n    type: Number,\n    default: 1\n  },\n  //(1: Demo, 2:publico, 3: anulado)\n  stock: {\n    type: Number,\n    default: 0\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  resumen: {\n    type: String,\n    required: true\n  },\n  tags: {\n    type: String,\n    required: true\n  },\n  type_inventario: {\n    type: Number,\n    default: 1\n  },\n  // 1: unico, 2: multiple\n  condition: {\n    type: Number,\n    required: true\n  },\n  // 1:nuevo, 2:usado, 3:donación\n  seller_id: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'User'\n  } // Id del emprendedor propietario del producto\n}, {\n  timestamps: true\n});\nconst Product = _mongoose.default.model('product', ProductSchema);\nvar _default = exports.default = Product;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJQcm9kdWN0U2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJtYXhsZW5ndGgiLCJzbHVnIiwic2t1IiwiY2F0ZWdvcmllIiwiT2JqZWN0SWQiLCJyZWYiLCJwcmljZV9icyIsIk51bWJlciIsInByaWNlX3VzZCIsInBvcnRhZGEiLCJnYWxlcmlhcyIsInN0YXRlIiwic3RvY2siLCJkZXNjcmlwdGlvbiIsInJlc3VtZW4iLCJ0YWdzIiwidHlwZV9pbnZlbnRhcmlvIiwiY29uZGl0aW9uIiwic2VsbGVyX2lkIiwidGltZXN0YW1wcyIsIlByb2R1Y3QiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIlByb2R1Y3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9ICBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgUHJvZHVjdFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICB0aXRsZTp7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOnRydWUsIG1heGxlbmd0aDoyNTB9LFxuICBzbHVnOnt0eXBlOlN0cmluZywgcmVxdWlyZWQ6dHJ1ZSwgbWF4bGVuZ3RoOjEwMDB9LFxuICBza3U6IHt0eXBlOlN0cmluZywgcmVxdWlyZWQ6dHJ1ZSwgbWF4bGVuZ3RoOjI1MH0sXG4gIGNhdGVnb3JpZTp7dHlwZTpTY2hlbWEuT2JqZWN0SWQsIHJlZjonY2F0ZWdvcmllJywgcmVxdWlyZWQ6dHJ1ZX0sXG4gIHByaWNlX2JzOiB7dHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWV9LFxuICBwcmljZV91c2Q6IHt0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZX0sXG4gIHBvcnRhZGE6e3R5cGU6U3RyaW5nLCByZXF1aXJlZDp0cnVlLCBtYXhsZW5ndGg6MjUwfSxcbiAgZ2FsZXJpYXM6W3t0eXBlOk9iamVjdCwgcmVxdWlyZWQ6ZmFsc2V9XSxcbiAgc3RhdGU6e3R5cGU6TnVtYmVyLCBkZWZhdWx0OjF9LCAvLygxOiBEZW1vLCAyOnB1YmxpY28sIDM6IGFudWxhZG8pXG4gIHN0b2NrOiB7dHlwZTpOdW1iZXIsIGRlZmF1bHQ6MH0sXG4gIGRlc2NyaXB0aW9uOnt0eXBlOlN0cmluZywgcmVxdWlyZWQ6dHJ1ZX0sXG4gIHJlc3VtZW46e3R5cGU6U3RyaW5nLCByZXF1aXJlZDp0cnVlfSxcbiAgdGFnczp7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOnRydWV9LFxuICB0eXBlX2ludmVudGFyaW86e3R5cGU6TnVtYmVyLCBkZWZhdWx0OjF9LCAvLyAxOiB1bmljbywgMjogbXVsdGlwbGVcbiAgY29uZGl0aW9uOnt0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZX0sIC8vIDE6bnVldm8sIDI6dXNhZG8sIDM6ZG9uYWNpw7NuXG4gIHNlbGxlcl9pZDogeyB0eXBlOlNjaGVtYS5PYmplY3RJZCwgcmVmOiAnVXNlcicgfSAvLyBJZCBkZWwgZW1wcmVuZGVkb3IgcHJvcGlldGFyaW8gZGVsIHByb2R1Y3RvXG59LHtcbiAgdGltZXN0YW1wczp0cnVlLFxufSk7XG5cbmNvbnN0IFByb2R1Y3QgPSBtb25nb29zZS5tb2RlbCgncHJvZHVjdCcsIFByb2R1Y3RTY2hlbWEpO1xuXG5leHBvcnQgZGVmYXVsdCBQcm9kdWN0OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQTBDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUssT0FBQSxFQUFBTCxDQUFBLFFBQUFHLENBQUEsR0FBQUosd0JBQUEsQ0FBQUcsQ0FBQSxPQUFBQyxDQUFBLElBQUFBLENBQUEsQ0FBQUcsR0FBQSxDQUFBTixDQUFBLFVBQUFHLENBQUEsQ0FBQUksR0FBQSxDQUFBUCxDQUFBLE9BQUFRLENBQUEsS0FBQUMsU0FBQSxVQUFBQyxDQUFBLEdBQUFDLE1BQUEsQ0FBQUMsY0FBQSxJQUFBRCxNQUFBLENBQUFFLHdCQUFBLFdBQUFDLENBQUEsSUFBQWQsQ0FBQSxvQkFBQWMsQ0FBQSxPQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWhCLENBQUEsRUFBQWMsQ0FBQSxTQUFBRyxDQUFBLEdBQUFQLENBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBYixDQUFBLEVBQUFjLENBQUEsVUFBQUcsQ0FBQSxLQUFBQSxDQUFBLENBQUFWLEdBQUEsSUFBQVUsQ0FBQSxDQUFBQyxHQUFBLElBQUFQLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSixDQUFBLEVBQUFNLENBQUEsRUFBQUcsQ0FBQSxJQUFBVCxDQUFBLENBQUFNLENBQUEsSUFBQWQsQ0FBQSxDQUFBYyxDQUFBLFlBQUFOLENBQUEsQ0FBQUgsT0FBQSxHQUFBTCxDQUFBLEVBQUFHLENBQUEsSUFBQUEsQ0FBQSxDQUFBZSxHQUFBLENBQUFsQixDQUFBLEVBQUFRLENBQUEsR0FBQUEsQ0FBQTtBQUUxQyxNQUFNVyxhQUFhLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUMvQkMsS0FBSyxFQUFDO0lBQUNDLElBQUksRUFBQ0MsTUFBTTtJQUFFQyxRQUFRLEVBQUMsSUFBSTtJQUFFQyxTQUFTLEVBQUM7RUFBRyxDQUFDO0VBQ2pEQyxJQUFJLEVBQUM7SUFBQ0osSUFBSSxFQUFDQyxNQUFNO0lBQUVDLFFBQVEsRUFBQyxJQUFJO0lBQUVDLFNBQVMsRUFBQztFQUFJLENBQUM7RUFDakRFLEdBQUcsRUFBRTtJQUFDTCxJQUFJLEVBQUNDLE1BQU07SUFBRUMsUUFBUSxFQUFDLElBQUk7SUFBRUMsU0FBUyxFQUFDO0VBQUcsQ0FBQztFQUNoREcsU0FBUyxFQUFDO0lBQUNOLElBQUksRUFBQ0YsZ0JBQU0sQ0FBQ1MsUUFBUTtJQUFFQyxHQUFHLEVBQUMsV0FBVztJQUFFTixRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2hFTyxRQUFRLEVBQUU7SUFBQ1QsSUFBSSxFQUFDVSxNQUFNO0lBQUVSLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDdENTLFNBQVMsRUFBRTtJQUFDWCxJQUFJLEVBQUNVLE1BQU07SUFBRVIsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUN2Q1UsT0FBTyxFQUFDO0lBQUNaLElBQUksRUFBQ0MsTUFBTTtJQUFFQyxRQUFRLEVBQUMsSUFBSTtJQUFFQyxTQUFTLEVBQUM7RUFBRyxDQUFDO0VBQ25EVSxRQUFRLEVBQUMsQ0FBQztJQUFDYixJQUFJLEVBQUNYLE1BQU07SUFBRWEsUUFBUSxFQUFDO0VBQUssQ0FBQyxDQUFDO0VBQ3hDWSxLQUFLLEVBQUM7SUFBQ2QsSUFBSSxFQUFDVSxNQUFNO0lBQUUzQixPQUFPLEVBQUM7RUFBQyxDQUFDO0VBQUU7RUFDaENnQyxLQUFLLEVBQUU7SUFBQ2YsSUFBSSxFQUFDVSxNQUFNO0lBQUUzQixPQUFPLEVBQUM7RUFBQyxDQUFDO0VBQy9CaUMsV0FBVyxFQUFDO0lBQUNoQixJQUFJLEVBQUNDLE1BQU07SUFBRUMsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUN4Q2UsT0FBTyxFQUFDO0lBQUNqQixJQUFJLEVBQUNDLE1BQU07SUFBRUMsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNwQ2dCLElBQUksRUFBQztJQUFDbEIsSUFBSSxFQUFDQyxNQUFNO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDakNpQixlQUFlLEVBQUM7SUFBQ25CLElBQUksRUFBQ1UsTUFBTTtJQUFFM0IsT0FBTyxFQUFDO0VBQUMsQ0FBQztFQUFFO0VBQzFDcUMsU0FBUyxFQUFDO0lBQUNwQixJQUFJLEVBQUNVLE1BQU07SUFBRVIsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUFFO0VBQ3hDbUIsU0FBUyxFQUFFO0lBQUVyQixJQUFJLEVBQUNGLGdCQUFNLENBQUNTLFFBQVE7SUFBRUMsR0FBRyxFQUFFO0VBQU8sQ0FBQyxDQUFDO0FBQ25ELENBQUMsRUFBQztFQUNBYyxVQUFVLEVBQUM7QUFDYixDQUFDLENBQUM7QUFFRixNQUFNQyxPQUFPLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxTQUFTLEVBQUU1QixhQUFhLENBQUM7QUFBQyxJQUFBNkIsUUFBQSxHQUFBQyxPQUFBLENBQUE1QyxPQUFBLEdBRTFDd0MsT0FBTyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ProductSchema","Schema","title","type","String","required","maxlength","slug","sku","categorie","ObjectId","ref","price_bs","Number","price_usd","portada","galerias","state","stock","description","resumen","tags","type_inventario","condition","seller_id","timestamps","Product","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Product.js"],"sourcesContent":["import mongoose,{Schema}  from \"mongoose\";\n\nconst ProductSchema = new Schema({\n  title:{type:String, required:true, maxlength:250},\n  slug:{type:String, required:true, maxlength:1000},\n  sku: {type:String, required:true, maxlength:250},\n  categorie:{type:Schema.ObjectId, ref:'categorie', required:true},\n  price_bs: {type:Number, required:true},\n  price_usd: {type:Number, required:true},\n  portada:{type:String, required:true, maxlength:250},\n  galerias:[{type:Object, required:false}],\n  state:{type:Number, default:1}, //(1: Demo, 2:publico, 3: anulado)\n  stock: {type:Number, default:0},\n  description:{type:String, required:true},\n  resumen:{type:String, required:true},\n  tags:{type:String, required:true},\n  type_inventario:{type:Number, default:1}, // 1: unico, 2: multiple\n  condition:{type:Number, required:true}, // 1:nuevo, 2:usado, 3:donación\n  seller_id: { type:Schema.ObjectId, ref: 'User' } // Id del emprendedor propietario del producto\n},{\n  timestamps:true,\n});\n\nconst Product = mongoose.model('product', ProductSchema);\n\nexport default Product;"],"mappings":"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","ignoreList":[]}},"mtime":1750638197669},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/Variedad.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst VariedadSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  valor: {\n    type: String,\n    required: true\n  },\n  stock: {\n    type: Number,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Variedad = _mongoose.default.model('variedad', VariedadSchema);\nvar _default = exports.default = Variedad;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJWYXJpZWRhZFNjaGVtYSIsIlNjaGVtYSIsInByb2R1Y3QiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsInZhbG9yIiwiU3RyaW5nIiwic3RvY2siLCJOdW1iZXIiLCJ0aW1lc3RhbXBzIiwiVmFyaWVkYWQiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIlZhcmllZGFkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSAgZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IFZhcmllZGFkU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIHByb2R1Y3Q6e3R5cGU6U2NoZW1hLk9iamVjdElkLCByZWY6J3Byb2R1Y3QnLCByZXF1aXJlZDp0cnVlfSxcbiAgdmFsb3I6e3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6dHJ1ZX0sXG4gIHN0b2NrOnt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOnRydWV9LFxufSx7XG4gIHRpbWVzdGFtcHM6dHJ1ZSxcbn0pO1xuXG5jb25zdCBWYXJpZWRhZCA9IG1vbmdvb3NlLm1vZGVsKCd2YXJpZWRhZCcsVmFyaWVkYWRTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgVmFyaWVkYWQiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLENBQUEsU0FBQUcsQ0FBQSxHQUFBUCxDQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQWIsQ0FBQSxFQUFBYyxDQUFBLFVBQUFHLENBQUEsS0FBQUEsQ0FBQSxDQUFBVixHQUFBLElBQUFVLENBQUEsQ0FBQUMsR0FBQSxJQUFBUCxNQUFBLENBQUFDLGNBQUEsQ0FBQUosQ0FBQSxFQUFBTSxDQUFBLEVBQUFHLENBQUEsSUFBQVQsQ0FBQSxDQUFBTSxDQUFBLElBQUFkLENBQUEsQ0FBQWMsQ0FBQSxZQUFBTixDQUFBLENBQUFILE9BQUEsR0FBQUwsQ0FBQSxFQUFBRyxDQUFBLElBQUFBLENBQUEsQ0FBQWUsR0FBQSxDQUFBbEIsQ0FBQSxFQUFBUSxDQUFBLEdBQUFBLENBQUE7QUFFMUMsTUFBTVcsY0FBYyxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDaENDLE9BQU8sRUFBQztJQUFDQyxJQUFJLEVBQUNGLGdCQUFNLENBQUNHLFFBQVE7SUFBRUMsR0FBRyxFQUFDLFNBQVM7SUFBRUMsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUM1REMsS0FBSyxFQUFDO0lBQUNKLElBQUksRUFBRUssTUFBTTtJQUFFRixRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ25DRyxLQUFLLEVBQUM7SUFBQ04sSUFBSSxFQUFFTyxNQUFNO0lBQUVKLFFBQVEsRUFBQztFQUFJO0FBQ3BDLENBQUMsRUFBQztFQUNBSyxVQUFVLEVBQUM7QUFDYixDQUFDLENBQUM7QUFFRixNQUFNQyxRQUFRLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxVQUFVLEVBQUNkLGNBQWMsQ0FBQztBQUFDLElBQUFlLFFBQUEsR0FBQUMsT0FBQSxDQUFBOUIsT0FBQSxHQUM1QzBCLFFBQVEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","VariedadSchema","Schema","product","type","ObjectId","ref","required","valor","String","stock","Number","timestamps","Variedad","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Variedad.js"],"sourcesContent":["import mongoose,{Schema}  from \"mongoose\";\n\nconst VariedadSchema = new Schema({\n  product:{type:Schema.ObjectId, ref:'product', required:true},\n  valor:{type: String, required:true},\n  stock:{type: Number, required:true},\n},{\n  timestamps:true,\n});\n\nconst Variedad = mongoose.model('variedad',VariedadSchema);\nexport default Variedad"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMW,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAChCC,OAAO,EAAC;IAACC,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAC,SAAS;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAC5DC,KAAK,EAAC;IAACJ,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC;EAAI,CAAC;EACnCG,KAAK,EAAC;IAACN,IAAI,EAAEO,MAAM;IAAEJ,QAAQ,EAAC;EAAI;AACpC,CAAC,EAAC;EACAK,UAAU,EAAC;AACb,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,UAAU,EAACd,cAAc,CAAC;AAAC,IAAAe,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GAC5C0B,QAAQ","ignoreList":[]}},"mtime":1737220657416},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SliderSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  link: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  } // 1 es activo y 2 es desactivo\n}, {\n  timestamps: true\n});\nconst Slider = _mongoose.default.model(\"slider\", SliderSchema);\nvar _default = exports.default = Slider;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTbGlkZXJTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsImxpbmsiLCJpbWFnZW4iLCJzdGF0ZSIsIk51bWJlciIsInRpbWVzdGFtcHMiLCJTbGlkZXIiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIlNsaWRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IFNsaWRlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICB0aXRsZTp7dHlwZTpTdHJpbmcsIG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZX0sXG4gIGxpbms6e3R5cGU6U3RyaW5nLCBtYXhsZW5ndGg6MjUwLHJlcXVpcmVkOnRydWV9LFxuICBpbWFnZW46e3R5cGU6U3RyaW5nLG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZX0sXG4gIHN0YXRlOnt0eXBlOiBOdW1iZXIsbWF4bGVuZ3RoOjIsZGVmYXVsdDoxfSwvLyAxIGVzIGFjdGl2byB5IDIgZXMgZGVzYWN0aXZvXG59LHtcbiAgdGltZXN0YW1wczp0cnVlXG59KTtcblxuY29uc3QgU2xpZGVyID0gbW9uZ29vc2UubW9kZWwoXCJzbGlkZXJcIixTbGlkZXJTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgU2xpZGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUssT0FBQSxFQUFBTCxDQUFBLFFBQUFHLENBQUEsR0FBQUosd0JBQUEsQ0FBQUcsQ0FBQSxPQUFBQyxDQUFBLElBQUFBLENBQUEsQ0FBQUcsR0FBQSxDQUFBTixDQUFBLFVBQUFHLENBQUEsQ0FBQUksR0FBQSxDQUFBUCxDQUFBLE9BQUFRLENBQUEsS0FBQUMsU0FBQSxVQUFBQyxDQUFBLEdBQUFDLE1BQUEsQ0FBQUMsY0FBQSxJQUFBRCxNQUFBLENBQUFFLHdCQUFBLFdBQUFDLENBQUEsSUFBQWQsQ0FBQSxvQkFBQWMsQ0FBQSxPQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWhCLENBQUEsRUFBQWMsQ0FBQSxTQUFBRyxDQUFBLEdBQUFQLENBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBYixDQUFBLEVBQUFjLENBQUEsVUFBQUcsQ0FBQSxLQUFBQSxDQUFBLENBQUFWLEdBQUEsSUFBQVUsQ0FBQSxDQUFBQyxHQUFBLElBQUFQLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSixDQUFBLEVBQUFNLENBQUEsRUFBQUcsQ0FBQSxJQUFBVCxDQUFBLENBQUFNLENBQUEsSUFBQWQsQ0FBQSxDQUFBYyxDQUFBLFlBQUFOLENBQUEsQ0FBQUgsT0FBQSxHQUFBTCxDQUFBLEVBQUFHLENBQUEsSUFBQUEsQ0FBQSxDQUFBZSxHQUFBLENBQUFsQixDQUFBLEVBQUFRLENBQUEsR0FBQUEsQ0FBQTtBQUV6QyxNQUFNVyxZQUFZLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUM5QkMsS0FBSyxFQUFDO0lBQUNDLElBQUksRUFBQ0MsTUFBTTtJQUFFQyxTQUFTLEVBQUMsR0FBRztJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2hEQyxJQUFJLEVBQUM7SUFBQ0osSUFBSSxFQUFDQyxNQUFNO0lBQUVDLFNBQVMsRUFBQyxHQUFHO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDL0NFLE1BQU0sRUFBQztJQUFDTCxJQUFJLEVBQUNDLE1BQU07SUFBQ0MsU0FBUyxFQUFDLEdBQUc7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNoREcsS0FBSyxFQUFDO0lBQUNOLElBQUksRUFBRU8sTUFBTTtJQUFDTCxTQUFTLEVBQUMsQ0FBQztJQUFDbkIsT0FBTyxFQUFDO0VBQUMsQ0FBQyxDQUFDO0FBQzdDLENBQUMsRUFBQztFQUNBeUIsVUFBVSxFQUFDO0FBQ2IsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsTUFBTSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsUUFBUSxFQUFDZCxZQUFZLENBQUM7QUFBQyxJQUFBZSxRQUFBLEdBQUFDLE9BQUEsQ0FBQTlCLE9BQUEsR0FDdEMwQixNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SliderSchema","Schema","title","type","String","maxlength","required","link","imagen","state","Number","timestamps","Slider","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Slider.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst SliderSchema = new Schema({\n  title:{type:String, maxlength:250,required:true},\n  link:{type:String, maxlength:250,required:true},\n  imagen:{type:String,maxlength:250,required:true},\n  state:{type: Number,maxlength:2,default:1},// 1 es activo y 2 es desactivo\n},{\n  timestamps:true\n});\n\nconst Slider = mongoose.model(\"slider\",SliderSchema);\nexport default Slider;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC9BC,KAAK,EAAC;IAACC,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChDC,IAAI,EAAC;IAACJ,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC/CE,MAAM,EAAC;IAACL,IAAI,EAACC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChDG,KAAK,EAAC;IAACN,IAAI,EAAEO,MAAM;IAACL,SAAS,EAAC,CAAC;IAACnB,OAAO,EAAC;EAAC,CAAC,CAAC;AAC7C,CAAC,EAAC;EACAyB,UAAU,EAAC;AACb,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,QAAQ,EAACd,YAAY,CAAC;AAAC,IAAAe,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GACtC0B,MAAM","ignoreList":[]}},"mtime":1737837447614},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/Cupone.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CuponeSchema = new _mongoose.Schema({\n  code: {\n    type: String,\n    maxlength: 50,\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  //por porcentaje 1  o por moneda 2\n  discount: {\n    type: Number,\n    required: true\n  },\n  //por moneda o por porcentaje\n  type_count: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  //ilimitado 1 o limitado 2\n  num_use: {\n    type: Number,\n    required: false\n  },\n  type_segment: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es cupon por producto y 2 seria por categoria\n  state: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1:activo\n  products: [{\n    type: Object\n  }],\n  //[{_id: asdasdas },{_id: dsdsds}]\n  categories: [{\n    type: Object\n  }],\n  creator: {\n    type: String,\n    require: false\n  }\n}, {\n  timestamps: true\n});\nconst Cupone = _mongoose.default.model(\"cupones\", CuponeSchema);\nvar _default = exports.default = Cupone;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDdXBvbmVTY2hlbWEiLCJTY2hlbWEiLCJjb2RlIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInJlcXVpcmVkIiwidHlwZV9kaXNjb3VudCIsIk51bWJlciIsImRpc2NvdW50IiwidHlwZV9jb3VudCIsIm51bV91c2UiLCJ0eXBlX3NlZ21lbnQiLCJzdGF0ZSIsInByb2R1Y3RzIiwiY2F0ZWdvcmllcyIsImNyZWF0b3IiLCJ0aW1lc3RhbXBzIiwiQ3Vwb25lIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJDdXBvbmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBDdXBvbmVTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICBjb2RlOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6NTAscmVxdWlyZWQ6dHJ1ZX0sXG4gICAgdHlwZV9kaXNjb3VudDp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZSxkZWZhdWx0OiAxfSwvL3BvciBwb3JjZW50YWplIDEgIG8gcG9yIG1vbmVkYSAyXG4gICAgZGlzY291bnQ6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LC8vcG9yIG1vbmVkYSBvIHBvciBwb3JjZW50YWplXG4gICAgdHlwZV9jb3VudDp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZSxkZWZhdWx0OjF9LC8vaWxpbWl0YWRvIDEgbyBsaW1pdGFkbyAyXG4gICAgbnVtX3VzZTp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6ZmFsc2V9LFxuICAgIHR5cGVfc2VnbWVudDoge3R5cGU6TnVtYmVyLHJlcXVpcmVkOmZhbHNlLGRlZmF1bHQ6MX0sLy8xIGVzIGN1cG9uIHBvciBwcm9kdWN0byB5IDIgc2VyaWEgcG9yIGNhdGVnb3JpYVxuICAgIHN0YXRlOnt0eXBlOk51bWJlcixyZXF1aXJlZDpmYWxzZSxkZWZhdWx0OiAxfSwvLzE6YWN0aXZvXG4gICAgcHJvZHVjdHM6W3t0eXBlOk9iamVjdH1dLC8vW3tfaWQ6IGFzZGFzZGFzIH0se19pZDogZHNkc2RzfV1cbiAgICBjYXRlZ29yaWVzOlt7dHlwZTpPYmplY3R9XSxcbiAgICBjcmVhdG9yOiB7dHlwZTogU3RyaW5nLCByZXF1aXJlOmZhbHNlfVxufSx7XG4gICAgdGltZXN0YW1wczp0cnVlXG59KVxuXG5jb25zdCBDdXBvbmUgPSBtb25nb29zZS5tb2RlbChcImN1cG9uZXNcIixDdXBvbmVTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgQ3Vwb25lOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CuponeSchema","Schema","code","type","String","maxlength","required","type_discount","Number","discount","type_count","num_use","type_segment","state","products","categories","creator","timestamps","Cupone","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Cupone.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst CuponeSchema = new Schema({\n    code:{type:String,maxlength:50,required:true},\n    type_discount:{type:Number,required:true,default: 1},//por porcentaje 1  o por moneda 2\n    discount:{type:Number,required:true},//por moneda o por porcentaje\n    type_count:{type:Number,required:true,default:1},//ilimitado 1 o limitado 2\n    num_use:{type:Number,required:false},\n    type_segment: {type:Number,required:false,default:1},//1 es cupon por producto y 2 seria por categoria\n    state:{type:Number,required:false,default: 1},//1:activo\n    products:[{type:Object}],//[{_id: asdasdas },{_id: dsdsds}]\n    categories:[{type:Object}],\n    creator: {type: String, require:false}\n},{\n    timestamps:true\n})\n\nconst Cupone = mongoose.model(\"cupones\",CuponeSchema);\nexport default Cupone;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,IAAI,EAAC;IAACC,IAAI,EAACC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC7CC,aAAa,EAAC;IAACJ,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,IAAI;IAACpB,OAAO,EAAE;EAAC,CAAC;EAAC;EACrDuB,QAAQ,EAAC;IAACN,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAI,CAAC;EAAC;EACrCI,UAAU,EAAC;IAACP,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,IAAI;IAACpB,OAAO,EAAC;EAAC,CAAC;EAAC;EACjDyB,OAAO,EAAC;IAACR,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAK,CAAC;EACpCM,YAAY,EAAE;IAACT,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,KAAK;IAACpB,OAAO,EAAC;EAAC,CAAC;EAAC;EACrD2B,KAAK,EAAC;IAACV,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,KAAK;IAACpB,OAAO,EAAE;EAAC,CAAC;EAAC;EAC9C4B,QAAQ,EAAC,CAAC;IAACX,IAAI,EAACX;EAAM,CAAC,CAAC;EAAC;EACzBuB,UAAU,EAAC,CAAC;IAACZ,IAAI,EAACX;EAAM,CAAC,CAAC;EAC1BwB,OAAO,EAAE;IAACb,IAAI,EAAEC,MAAM;IAAEzB,OAAO,EAAC;EAAK;AACzC,CAAC,EAAC;EACEsC,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,SAAS,EAACpB,YAAY,CAAC;AAAC,IAAAqB,QAAA,GAAAC,OAAA,CAAApC,OAAA,GACvCgC,MAAM","ignoreList":[]}},"mtime":1750120113116},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/Discount.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst DiscountSchema = new _mongoose.Schema({\n  type_campaign: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1: Campaña de descuento | 2: Venta Flash\n  type_discount: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1: porcentaje || 2: moneda\n  discount: {\n    type: Number,\n    required: true\n  },\n  start_date: {\n    type: Date,\n    required: true\n  },\n  end_date: {\n    type: Date,\n    required: true\n  },\n  start_date_num: {\n    type: Number,\n    required: true\n  },\n  end_date_num: {\n    type: Number,\n    required: true\n  },\n  state: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1: Activo || 2: Desactivo\n  type_segment: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1: Por Productos || 2:Por Categorias\n  products: [{\n    type: Object,\n    required: false\n  }],\n  categories: [{\n    type: Object,\n    required: false\n  }],\n  creator: {\n    type: String,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst Discount = _mongoose.default.model(\"discounts\", DiscountSchema);\nvar _default = exports.default = Discount;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJEaXNjb3VudFNjaGVtYSIsIlNjaGVtYSIsInR5cGVfY2FtcGFpZ24iLCJ0eXBlIiwiTnVtYmVyIiwicmVxdWlyZWQiLCJ0eXBlX2Rpc2NvdW50IiwiZGlzY291bnQiLCJzdGFydF9kYXRlIiwiRGF0ZSIsImVuZF9kYXRlIiwic3RhcnRfZGF0ZV9udW0iLCJlbmRfZGF0ZV9udW0iLCJzdGF0ZSIsInR5cGVfc2VnbWVudCIsInByb2R1Y3RzIiwiY2F0ZWdvcmllcyIsImNyZWF0b3IiLCJTdHJpbmciLCJ0aW1lc3RhbXBzIiwiRGlzY291bnQiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIkRpc2NvdW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwge1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IERpc2NvdW50U2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIHR5cGVfY2FtcGFpZ246eyB0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZSwgZGVmYXVsdDogMSB9LCAvLyAxOiBDYW1wYcOxYSBkZSBkZXNjdWVudG8gfCAyOiBWZW50YSBGbGFzaFxuICB0eXBlX2Rpc2NvdW50OnsgdHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWUsIGRlZmF1bHQ6IDEgfSwgLy8gMTogcG9yY2VudGFqZSB8fCAyOiBtb25lZGFcbiAgZGlzY291bnQ6IHsgdHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWUgfSxcbiAgc3RhcnRfZGF0ZTogeyB0eXBlOkRhdGUsIHJlcXVpcmVkOnRydWUgfSxcbiAgZW5kX2RhdGU6IHsgdHlwZTpEYXRlLCByZXF1aXJlZDp0cnVlIH0sXG4gIHN0YXJ0X2RhdGVfbnVtOiB7IHR5cGU6TnVtYmVyLCByZXF1aXJlZDp0cnVlIH0sXG4gIGVuZF9kYXRlX251bTogeyB0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZSB9LFxuICBzdGF0ZTogeyB0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZSwgZGVmYXVsdDoxIH0sIC8vIDE6IEFjdGl2byB8fCAyOiBEZXNhY3Rpdm9cbiAgdHlwZV9zZWdtZW50OiB7IHR5cGU6TnVtYmVyLCByZXF1aXJlZDp0cnVlLCBkZWZhdWx0OjEgfSwgLy8gMTogUG9yIFByb2R1Y3RvcyB8fCAyOlBvciBDYXRlZ29yaWFzXG4gIHByb2R1Y3RzOiBbe3R5cGU6IE9iamVjdCwgcmVxdWlyZWQ6IGZhbHNlIH1dLFxuICBjYXRlZ29yaWVzOiBbe3R5cGU6IE9iamVjdCwgcmVxdWlyZWQ6IGZhbHNlIH1dLFxuICBjcmVhdG9yOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IGZhbHNlICB9XG59LHtcbiAgdGltZXN0YW1wczogdHJ1ZSxcbn0pO1xuXG5jb25zdCBEaXNjb3VudCA9IG1vbmdvb3NlLm1vZGVsKFwiZGlzY291bnRzXCIsIERpc2NvdW50U2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IERpc2NvdW50OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQTBDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","DiscountSchema","Schema","type_campaign","type","Number","required","type_discount","discount","start_date","Date","end_date","start_date_num","end_date_num","state","type_segment","products","categories","creator","String","timestamps","Discount","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Discount.js"],"sourcesContent":["import mongoose, {Schema} from \"mongoose\";\n\nconst DiscountSchema = new Schema({\n  type_campaign:{ type:Number, required:true, default: 1 }, // 1: Campaña de descuento | 2: Venta Flash\n  type_discount:{ type:Number, required:true, default: 1 }, // 1: porcentaje || 2: moneda\n  discount: { type:Number, required:true },\n  start_date: { type:Date, required:true },\n  end_date: { type:Date, required:true },\n  start_date_num: { type:Number, required:true },\n  end_date_num: { type:Number, required:true },\n  state: { type:Number, required:true, default:1 }, // 1: Activo || 2: Desactivo\n  type_segment: { type:Number, required:true, default:1 }, // 1: Por Productos || 2:Por Categorias\n  products: [{type: Object, required: false }],\n  categories: [{type: Object, required: false }],\n  creator: { type: String, required: false  }\n},{\n  timestamps: true,\n});\n\nconst Discount = mongoose.model(\"discounts\", DiscountSchema);\nexport default Discount;"],"mappings":"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","ignoreList":[]}},"mtime":1750128282723},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/services/token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  encode: async (_id, rol, email) => {\n    const token = _jsonwebtoken.default.sign({\n      _id: _id,\n      rol: rol,\n      email: email\n    }, 'adcee', {\n      expiresIn: '1d'\n    });\n    return token;\n  },\n  decode: async token => {\n    try {\n      const {\n        _id\n      } = await _jsonwebtoken.default.verify(token, 'adcee');\n      const user = await _models.default.User.findOne({\n        _id: _id,\n        state: 1\n      });\n      if (user) {\n        return user;\n      }\n      return false;\n    } catch (error) {\n      console.log(error);\n      return false;\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfbW9kZWxzIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiZW5jb2RlIiwiX2lkIiwicm9sIiwiZW1haWwiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJleHBpcmVzSW4iLCJkZWNvZGUiLCJ2ZXJpZnkiLCJ1c2VyIiwibW9kZWxzIiwiVXNlciIsImZpbmRPbmUiLCJzdGF0ZSIsImVycm9yIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9zZXJ2aWNlcy8iLCJzb3VyY2VzIjpbInRva2VuLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiXG5pbXBvcnQgbW9kZWxzICBmcm9tIFwiLi4vbW9kZWxzXCI7XG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBlbmNvZGU6IGFzeW5jKF9pZCxyb2wsZW1haWwpID0+e1xuICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oe19pZDpfaWQscm9sOiByb2wsZW1haWw6IGVtYWlsfSwgJ2FkY2VlJywge2V4cGlyZXNJbjogJzFkJ30pO1xuICAgIHJldHVybiB0b2tlbjtcbiAgICBcblxuICB9LFxuICBkZWNvZGU6IGFzeW5jKHRva2VuKSA9PntcbiAgICB0cnkge1xuICAgICAgY29uc3Qge19pZH09IGF3YWl0IGp3dC52ZXJpZnkodG9rZW4sICdhZGNlZScpO1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe19pZDogX2lkLHN0YXRlOiAxfSk7XG4gICAgICBcbiAgICAgIGlmKHVzZXIpe1xuICAgICAgICByZXR1cm4gdXNlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLGFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUFnQyxTQUFBRCx1QkFBQUcsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBR2pCO0VBQ2JHLE1BQU0sRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsRUFBQ0MsS0FBSyxLQUFJO0lBQzdCLE1BQU1DLEtBQUssR0FBR0MscUJBQUcsQ0FBQ0MsSUFBSSxDQUFDO01BQUNMLEdBQUcsRUFBQ0EsR0FBRztNQUFDQyxHQUFHLEVBQUVBLEdBQUc7TUFBQ0MsS0FBSyxFQUFFQTtJQUFLLENBQUMsRUFBRSxPQUFPLEVBQUU7TUFBQ0ksU0FBUyxFQUFFO0lBQUksQ0FBQyxDQUFDO0lBQ25GLE9BQU9ILEtBQUs7RUFHZCxDQUFDO0VBQ0RJLE1BQU0sRUFBRSxNQUFNSixLQUFLLElBQUk7SUFDckIsSUFBSTtNQUNGLE1BQU07UUFBQ0g7TUFBRyxDQUFDLEdBQUUsTUFBTUkscUJBQUcsQ0FBQ0ksTUFBTSxDQUFDTCxLQUFLLEVBQUUsT0FBTyxDQUFDO01BQzdDLE1BQU1NLElBQUksR0FBRyxNQUFNQyxlQUFNLENBQUNDLElBQUksQ0FBQ0MsT0FBTyxDQUFDO1FBQUNaLEdBQUcsRUFBRUEsR0FBRztRQUFDYSxLQUFLLEVBQUU7TUFBQyxDQUFDLENBQUM7TUFFM0QsSUFBR0osSUFBSSxFQUFDO1FBQ04sT0FBT0EsSUFBSTtNQUNiO01BQ0EsT0FBTyxLQUFLO0lBQ2QsQ0FBQyxDQUFDLE9BQU9LLEtBQUssRUFBRTtNQUNaQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsS0FBSyxDQUFDO01BQ2xCLE9BQU8sS0FBSztJQUNoQjtFQUNGO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_models","e","__esModule","default","_default","exports","encode","_id","rol","email","token","jwt","sign","expiresIn","decode","verify","user","models","User","findOne","state","error","console","log"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/services/","sources":["token.js"],"sourcesContent":["import jwt from \"jsonwebtoken\"\nimport models  from \"../models\";\n\n\nexport default {\n  encode: async(_id,rol,email) =>{\n    const token = jwt.sign({_id:_id,rol: rol,email: email}, 'adcee', {expiresIn: '1d'});\n    return token;\n    \n\n  },\n  decode: async(token) =>{\n    try {\n      const {_id}= await jwt.verify(token, 'adcee');\n      const user = await models.User.findOne({_id: _id,state: 1});\n      \n      if(user){\n        return user;\n      }\n      return false;\n    } catch (error) {\n        console.log(error);\n        return false;\n    }\n  }\n}"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAGjB;EACbG,MAAM,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,EAACC,KAAK,KAAI;IAC7B,MAAMC,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAAC;MAACL,GAAG,EAACA,GAAG;MAACC,GAAG,EAAEA,GAAG;MAACC,KAAK,EAAEA;IAAK,CAAC,EAAE,OAAO,EAAE;MAACI,SAAS,EAAE;IAAI,CAAC,CAAC;IACnF,OAAOH,KAAK;EAGd,CAAC;EACDI,MAAM,EAAE,MAAMJ,KAAK,IAAI;IACrB,IAAI;MACF,MAAM;QAACH;MAAG,CAAC,GAAE,MAAMI,qBAAG,CAACI,MAAM,CAACL,KAAK,EAAE,OAAO,CAAC;MAC7C,MAAMM,IAAI,GAAG,MAAMC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACZ,GAAG,EAAEA,GAAG;QAACa,KAAK,EAAE;MAAC,CAAC,CAAC;MAE3D,IAAGJ,IAAI,EAAC;QACN,OAAOA,IAAI;MACb;MACA,OAAO,KAAK;IACd,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClB,OAAO,KAAK;IAChB;EACF;AACF,CAAC","ignoreList":[]}},"mtime":1750376357261},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default,\n  Slider: _Slider.default,\n  Cart: _Cart.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQ2F0ZWdvcmllIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfVXNlciIsIl9Qcm9kdWN0IiwiX1NsaWRlciIsIl9DYXJ0IiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiVXNlciIsIkNhdGVnb3JpZSIsIlByb2R1Y3QiLCJTbGlkZXIiLCJDYXJ0Il0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3Jlc291cnNlcy8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDYXRlZ29yaWUgZnJvbSAnLi9DYXRlZ29yaWUnXG5pbXBvcnQgVXNlciBmcm9tICcuL1VzZXInXG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuL1Byb2R1Y3QnXG5pbXBvcnQgU2xpZGVyIGZyb20gJy4vU2xpZGVyJ1xuaW1wb3J0IENhcnQgZnJvbSAnLi9DYXJ0J1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIFVzZXIsXG4gIENhdGVnb3JpZSxcbiAgUHJvZHVjdCxcbiAgU2xpZGVyLFxuICBDYXJ0LFxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsVUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsUUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsT0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksS0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQXlCLFNBQUFELHVCQUFBTSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFVjtFQUNiRyxJQUFJLEVBQUpBLGFBQUk7RUFDSkMsU0FBUyxFQUFUQSxrQkFBUztFQUNUQyxPQUFPLEVBQVBBLGdCQUFPO0VBQ1BDLE1BQU0sRUFBTkEsZUFBTTtFQUNOQyxJQUFJLEVBQUpBO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_Categorie","_interopRequireDefault","require","_User","_Product","_Slider","_Cart","e","__esModule","default","_default","exports","User","Categorie","Product","Slider","Cart"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["index.js"],"sourcesContent":["import Categorie from './Categorie'\nimport User from './User'\nimport Product from './Product'\nimport Slider from './Slider'\nimport Cart from './Cart'\n\nexport default {\n  User,\n  Categorie,\n  Product,\n  Slider,\n  Cart,\n}"],"mappings":";;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,OAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,KAAA,GAAAL,sBAAA,CAAAC,OAAA;AAAyB,SAAAD,uBAAAM,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEV;EACbG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,MAAM,EAANA,eAAM;EACNC,IAAI,EAAJA;AACF,CAAC","ignoreList":[]}},"mtime":1739206333849},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  categorie_list: categorie => {\n    return {\n      _id: categorie._id,\n      title: categorie.title,\n      imagen: categorie.imagen,\n      imagen_home: process.env.URL_BACKEND + \"/api/categories/uploads/categorie/\" + categorie.imagen,\n      state: categorie.state\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXRlZ29yaWVfbGlzdCIsImNhdGVnb3JpZSIsIl9pZCIsInRpdGxlIiwiaW1hZ2VuIiwiaW1hZ2VuX2hvbWUiLCJwcm9jZXNzIiwiZW52IiwiVVJMX0JBQ0tFTkQiLCJzdGF0ZSJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yZXNvdXJzZXMvIiwic291cmNlcyI6WyJDYXRlZ29yaWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHR7XG4gIGNhdGVnb3JpZV9saXN0OiAoY2F0ZWdvcmllKSA9PiB7XG4gICAgcmV0dXJue1xuICAgICAgX2lkOiBjYXRlZ29yaWUuX2lkLFxuICAgICAgdGl0bGU6IGNhdGVnb3JpZS50aXRsZSxcbiAgICAgIGltYWdlbjogY2F0ZWdvcmllLmltYWdlbixcbiAgICAgIGltYWdlbl9ob21lOiBwcm9jZXNzLmVudi5VUkxfQkFDS0VORCtcIi9hcGkvY2F0ZWdvcmllcy91cGxvYWRzL2NhdGVnb3JpZS9cIitjYXRlZ29yaWUuaW1hZ2VuLFxuICAgICAgc3RhdGU6IGNhdGVnb3JpZS5zdGF0ZSxcbiAgICB9XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztpQ0FBYztFQUNaQSxjQUFjLEVBQUdDLFNBQVMsSUFBSztJQUM3QixPQUFNO01BQ0pDLEdBQUcsRUFBRUQsU0FBUyxDQUFDQyxHQUFHO01BQ2xCQyxLQUFLLEVBQUVGLFNBQVMsQ0FBQ0UsS0FBSztNQUN0QkMsTUFBTSxFQUFFSCxTQUFTLENBQUNHLE1BQU07TUFDeEJDLFdBQVcsRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFdBQVcsR0FBQyxvQ0FBb0MsR0FBQ1AsU0FBUyxDQUFDRyxNQUFNO01BQzFGSyxLQUFLLEVBQUVSLFNBQVMsQ0FBQ1E7SUFDbkIsQ0FBQztFQUNIO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["categorie_list","categorie","_id","title","imagen","imagen_home","process","env","URL_BACKEND","state"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["Categorie.js"],"sourcesContent":["export default{\n  categorie_list: (categorie) => {\n    return{\n      _id: categorie._id,\n      title: categorie.title,\n      imagen: categorie.imagen,\n      imagen_home: process.env.URL_BACKEND+\"/api/categories/uploads/categorie/\"+categorie.imagen,\n      state: categorie.state,\n    }\n  }\n}"],"mappings":";;;;;;iCAAc;EACZA,cAAc,EAAGC,SAAS,IAAK;IAC7B,OAAM;MACJC,GAAG,EAAED,SAAS,CAACC,GAAG;MAClBC,KAAK,EAAEF,SAAS,CAACE,KAAK;MACtBC,MAAM,EAAEH,SAAS,CAACG,MAAM;MACxBC,WAAW,EAAEC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,oCAAoC,GAACP,SAAS,CAACG,MAAM;MAC1FK,KAAK,EAAER,SAAS,CAACQ;IACnB,CAAC;EACH;AACF,CAAC","ignoreList":[]}},"mtime":1741488417710},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  user_list: user => {\n    return {\n      _id: user._id,\n      name: user.name,\n      surname: user.surname,\n      rol: user.rol,\n      email: user.email,\n      sellerUserId: user.sellerUserId,\n      company: user.company\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyX2xpc3QiLCJ1c2VyIiwiX2lkIiwibmFtZSIsInN1cm5hbWUiLCJyb2wiLCJlbWFpbCIsInNlbGxlclVzZXJJZCIsImNvbXBhbnkiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvcmVzb3Vyc2VzLyIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdHtcbiAgdXNlcl9saXN0OiAodXNlcikgPT4ge1xuICAgIHJldHVybntcbiAgICAgIF9pZDogdXNlci5faWQsXG4gICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXG4gICAgICByb2w6IHVzZXIucm9sLFxuICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICBzZWxsZXJVc2VySWQ6IHVzZXIuc2VsbGVyVXNlcklkLFxuICAgICAgY29tcGFueTogdXNlci5jb21wYW55XG4gICAgICBcblxuICAgIH1cbiAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFjO0VBQ1pBLFNBQVMsRUFBR0MsSUFBSSxJQUFLO0lBQ25CLE9BQU07TUFDSkMsR0FBRyxFQUFFRCxJQUFJLENBQUNDLEdBQUc7TUFDYkMsSUFBSSxFQUFFRixJQUFJLENBQUNFLElBQUk7TUFDZkMsT0FBTyxFQUFFSCxJQUFJLENBQUNHLE9BQU87TUFDckJDLEdBQUcsRUFBRUosSUFBSSxDQUFDSSxHQUFHO01BQ2JDLEtBQUssRUFBRUwsSUFBSSxDQUFDSyxLQUFLO01BQ2pCQyxZQUFZLEVBQUVOLElBQUksQ0FBQ00sWUFBWTtNQUMvQkMsT0FBTyxFQUFFUCxJQUFJLENBQUNPO0lBR2hCLENBQUM7RUFDSDtBQUNGLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["user_list","user","_id","name","surname","rol","email","sellerUserId","company"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["User.js"],"sourcesContent":["export default{\n  user_list: (user) => {\n    return{\n      _id: user._id,\n      name: user.name,\n      surname: user.surname,\n      rol: user.rol,\n      email: user.email,\n      sellerUserId: user.sellerUserId,\n      company: user.company\n      \n\n    }\n  }\n}"],"mappings":";;;;;;iCAAc;EACZA,SAAS,EAAGC,IAAI,IAAK;IACnB,OAAM;MACJC,GAAG,EAAED,IAAI,CAACC,GAAG;MACbC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAEH,IAAI,CAACG,OAAO;MACrBC,GAAG,EAAEJ,IAAI,CAACI,GAAG;MACbC,KAAK,EAAEL,IAAI,CAACK,KAAK;MACjBC,YAAY,EAAEN,IAAI,CAACM,YAAY;MAC/BC,OAAO,EAAEP,IAAI,CAACO;IAGhB,CAAC;EACH;AACF,CAAC","ignoreList":[]}},"mtime":1750194008446},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  product_list: (product, variedades = [], avg_review = 0, count_review = 0, CampaignDiscount = null) => {\n    var IMAGEN_TWO = \"\";\n    let GALERIAS = [];\n    if (product.galerias && product.galerias.length > 0) {\n      //NUEVO POR AGREGAR\n\n      GALERIAS = product.galerias.map(galeria => {\n        galeria.imagen = process.env.URL_BACKEND + '/api/products/uploads/product/' + galeria.imagen;\n        return galeria;\n      });\n      var VAL = Math.floor(Math.random() * product.galerias.length); //0,1,2\n      IMAGEN_TWO = GALERIAS[VAL].imagen;\n    } //NUEVO POR AGREGAR\n\n    return {\n      _id: product._id,\n      title: product.title,\n      imagen: process.env.URL_BACKEND + \"/api/products/uploads/product/\" + product.portada,\n      state: product.state,\n      slug: product.slug,\n      sku: product.sku,\n      categorie: product.categorie,\n      price_bs: product.price_bs,\n      price_usd: product.price_usd,\n      stock: product.stock,\n      description: product.description,\n      resumen: product.resumen,\n      tags: product.tags ? JSON.parse(product.tags) : [],\n      type_inventario: product.type_inventario,\n      condition: product.condition,\n      variedades: variedades,\n      imagen_two: IMAGEN_TWO,\n      galerias: GALERIAS,\n      avg_review: avg_review,\n      count_review: count_review,\n      campaign_discount: CampaignDiscount,\n      seller_id: product.seller_id\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0X2xpc3QiLCJwcm9kdWN0IiwidmFyaWVkYWRlcyIsImF2Z19yZXZpZXciLCJjb3VudF9yZXZpZXciLCJDYW1wYWlnbkRpc2NvdW50IiwiSU1BR0VOX1RXTyIsIkdBTEVSSUFTIiwiZ2FsZXJpYXMiLCJsZW5ndGgiLCJtYXAiLCJnYWxlcmlhIiwiaW1hZ2VuIiwicHJvY2VzcyIsImVudiIsIlVSTF9CQUNLRU5EIiwiVkFMIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiX2lkIiwidGl0bGUiLCJwb3J0YWRhIiwic3RhdGUiLCJzbHVnIiwic2t1IiwiY2F0ZWdvcmllIiwicHJpY2VfYnMiLCJwcmljZV91c2QiLCJzdG9jayIsImRlc2NyaXB0aW9uIiwicmVzdW1lbiIsInRhZ3MiLCJKU09OIiwicGFyc2UiLCJ0eXBlX2ludmVudGFyaW8iLCJjb25kaXRpb24iLCJpbWFnZW5fdHdvIiwiY2FtcGFpZ25fZGlzY291bnQiLCJzZWxsZXJfaWQiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvcmVzb3Vyc2VzLyIsInNvdXJjZXMiOlsiUHJvZHVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdHtcbiAgcHJvZHVjdF9saXN0OiAocHJvZHVjdCwgdmFyaWVkYWRlcyA9IFtdLCBhdmdfcmV2aWV3ID0gMCwgY291bnRfcmV2aWV3ID0gMCwgQ2FtcGFpZ25EaXNjb3VudCA9IG51bGwpID0+IHtcbiAgICB2YXIgSU1BR0VOX1RXTyA9IFwiXCI7XG4gICAgbGV0IEdBTEVSSUFTID0gW107XG4gICAgICBpZihwcm9kdWN0LmdhbGVyaWFzICYmIHByb2R1Y3QuZ2FsZXJpYXMubGVuZ3RoID4gMCl7Ly9OVUVWTyBQT1IgQUdSRUdBUlxuXG4gICAgICAgIEdBTEVSSUFTID0gcHJvZHVjdC5nYWxlcmlhcy5tYXAoKGdhbGVyaWEpID0+IHtcbiAgICAgICAgICBnYWxlcmlhLmltYWdlbiA9IHByb2Nlc3MuZW52LlVSTF9CQUNLRU5EKycvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC8nK2dhbGVyaWEuaW1hZ2VuO1xuICAgICAgICAgICAgICAgICByZXR1cm4gZ2FsZXJpYTtcbiAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICB2YXIgVkFMID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcHJvZHVjdC5nYWxlcmlhcy5sZW5ndGgpOy8vMCwxLDJcbiAgICAgICAgICAgICBJTUFHRU5fVFdPID0gR0FMRVJJQVNbVkFMXS5pbWFnZW47XG4gICAgICAgfS8vTlVFVk8gUE9SIEFHUkVHQVJcblxuICAgIHJldHVybntcbiAgICAgIF9pZDogcHJvZHVjdC5faWQsXG4gICAgICB0aXRsZTogcHJvZHVjdC50aXRsZSxcbiAgICAgIGltYWdlbjpwcm9jZXNzLmVudi5VUkxfQkFDS0VORCtcIi9hcGkvcHJvZHVjdHMvdXBsb2Fkcy9wcm9kdWN0L1wiK3Byb2R1Y3QucG9ydGFkYSwgXG4gICAgICBzdGF0ZTogcHJvZHVjdC5zdGF0ZSxcbiAgICAgIHNsdWc6IHByb2R1Y3Quc2x1ZyxcbiAgICAgIHNrdTogcHJvZHVjdC5za3UsXG4gICAgICBjYXRlZ29yaWU6cHJvZHVjdC5jYXRlZ29yaWUsXG4gICAgICBwcmljZV9iczpwcm9kdWN0LnByaWNlX2JzLFxuICAgICAgcHJpY2VfdXNkOnByb2R1Y3QucHJpY2VfdXNkLFxuICAgICAgc3RvY2s6cHJvZHVjdC5zdG9jayxcbiAgICAgIGRlc2NyaXB0aW9uOiBwcm9kdWN0LmRlc2NyaXB0aW9uLFxuICAgICAgcmVzdW1lbjpwcm9kdWN0LnJlc3VtZW4sXG4gICAgICB0YWdzOnByb2R1Y3QudGFncz8gSlNPTi5wYXJzZShwcm9kdWN0LnRhZ3MpIDogW10sXG4gICAgICB0eXBlX2ludmVudGFyaW86cHJvZHVjdC50eXBlX2ludmVudGFyaW8sXG4gICAgICBjb25kaXRpb246cHJvZHVjdC5jb25kaXRpb24sXG4gICAgICB2YXJpZWRhZGVzOiB2YXJpZWRhZGVzLFxuICAgICAgaW1hZ2VuX3R3bzogSU1BR0VOX1RXTywgXG4gICAgICBnYWxlcmlhczogR0FMRVJJQVMsXG4gICAgICBhdmdfcmV2aWV3OiBhdmdfcmV2aWV3LFxuICAgICAgY291bnRfcmV2aWV3OiBjb3VudF9yZXZpZXcsXG4gICAgICBjYW1wYWlnbl9kaXNjb3VudDogQ2FtcGFpZ25EaXNjb3VudCxcbiAgICAgIHNlbGxlcl9pZDogcHJvZHVjdC5zZWxsZXJfaWQsXG4gICAgfVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztpQ0FBYztFQUNaQSxZQUFZLEVBQUVBLENBQUNDLE9BQU8sRUFBRUMsVUFBVSxHQUFHLEVBQUUsRUFBRUMsVUFBVSxHQUFHLENBQUMsRUFBRUMsWUFBWSxHQUFHLENBQUMsRUFBRUMsZ0JBQWdCLEdBQUcsSUFBSSxLQUFLO0lBQ3JHLElBQUlDLFVBQVUsR0FBRyxFQUFFO0lBQ25CLElBQUlDLFFBQVEsR0FBRyxFQUFFO0lBQ2YsSUFBR04sT0FBTyxDQUFDTyxRQUFRLElBQUlQLE9BQU8sQ0FBQ08sUUFBUSxDQUFDQyxNQUFNLEdBQUcsQ0FBQyxFQUFDO01BQUM7O01BRWxERixRQUFRLEdBQUdOLE9BQU8sQ0FBQ08sUUFBUSxDQUFDRSxHQUFHLENBQUVDLE9BQU8sSUFBSztRQUMzQ0EsT0FBTyxDQUFDQyxNQUFNLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxXQUFXLEdBQUMsZ0NBQWdDLEdBQUNKLE9BQU8sQ0FBQ0MsTUFBTTtRQUNqRixPQUFPRCxPQUFPO01BQ2xCLENBQUMsQ0FBQztNQUNGLElBQUlLLEdBQUcsR0FBR0MsSUFBSSxDQUFDQyxLQUFLLENBQUNELElBQUksQ0FBQ0UsTUFBTSxDQUFDLENBQUMsR0FBR2xCLE9BQU8sQ0FBQ08sUUFBUSxDQUFDQyxNQUFNLENBQUMsQ0FBQztNQUM5REgsVUFBVSxHQUFHQyxRQUFRLENBQUNTLEdBQUcsQ0FBQyxDQUFDSixNQUFNO0lBQ3ZDLENBQUM7O0lBRUosT0FBTTtNQUNKUSxHQUFHLEVBQUVuQixPQUFPLENBQUNtQixHQUFHO01BQ2hCQyxLQUFLLEVBQUVwQixPQUFPLENBQUNvQixLQUFLO01BQ3BCVCxNQUFNLEVBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxXQUFXLEdBQUMsZ0NBQWdDLEdBQUNkLE9BQU8sQ0FBQ3FCLE9BQU87TUFDL0VDLEtBQUssRUFBRXRCLE9BQU8sQ0FBQ3NCLEtBQUs7TUFDcEJDLElBQUksRUFBRXZCLE9BQU8sQ0FBQ3VCLElBQUk7TUFDbEJDLEdBQUcsRUFBRXhCLE9BQU8sQ0FBQ3dCLEdBQUc7TUFDaEJDLFNBQVMsRUFBQ3pCLE9BQU8sQ0FBQ3lCLFNBQVM7TUFDM0JDLFFBQVEsRUFBQzFCLE9BQU8sQ0FBQzBCLFFBQVE7TUFDekJDLFNBQVMsRUFBQzNCLE9BQU8sQ0FBQzJCLFNBQVM7TUFDM0JDLEtBQUssRUFBQzVCLE9BQU8sQ0FBQzRCLEtBQUs7TUFDbkJDLFdBQVcsRUFBRTdCLE9BQU8sQ0FBQzZCLFdBQVc7TUFDaENDLE9BQU8sRUFBQzlCLE9BQU8sQ0FBQzhCLE9BQU87TUFDdkJDLElBQUksRUFBQy9CLE9BQU8sQ0FBQytCLElBQUksR0FBRUMsSUFBSSxDQUFDQyxLQUFLLENBQUNqQyxPQUFPLENBQUMrQixJQUFJLENBQUMsR0FBRyxFQUFFO01BQ2hERyxlQUFlLEVBQUNsQyxPQUFPLENBQUNrQyxlQUFlO01BQ3ZDQyxTQUFTLEVBQUNuQyxPQUFPLENBQUNtQyxTQUFTO01BQzNCbEMsVUFBVSxFQUFFQSxVQUFVO01BQ3RCbUMsVUFBVSxFQUFFL0IsVUFBVTtNQUN0QkUsUUFBUSxFQUFFRCxRQUFRO01BQ2xCSixVQUFVLEVBQUVBLFVBQVU7TUFDdEJDLFlBQVksRUFBRUEsWUFBWTtNQUMxQmtDLGlCQUFpQixFQUFFakMsZ0JBQWdCO01BQ25Da0MsU0FBUyxFQUFFdEMsT0FBTyxDQUFDc0M7SUFDckIsQ0FBQztFQUNIO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["product_list","product","variedades","avg_review","count_review","CampaignDiscount","IMAGEN_TWO","GALERIAS","galerias","length","map","galeria","imagen","process","env","URL_BACKEND","VAL","Math","floor","random","_id","title","portada","state","slug","sku","categorie","price_bs","price_usd","stock","description","resumen","tags","JSON","parse","type_inventario","condition","imagen_two","campaign_discount","seller_id"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["Product.js"],"sourcesContent":["export default{\n  product_list: (product, variedades = [], avg_review = 0, count_review = 0, CampaignDiscount = null) => {\n    var IMAGEN_TWO = \"\";\n    let GALERIAS = [];\n      if(product.galerias && product.galerias.length > 0){//NUEVO POR AGREGAR\n\n        GALERIAS = product.galerias.map((galeria) => {\n          galeria.imagen = process.env.URL_BACKEND+'/api/products/uploads/product/'+galeria.imagen;\n                 return galeria;\n             });\n             var VAL = Math.floor(Math.random() * product.galerias.length);//0,1,2\n             IMAGEN_TWO = GALERIAS[VAL].imagen;\n       }//NUEVO POR AGREGAR\n\n    return{\n      _id: product._id,\n      title: product.title,\n      imagen:process.env.URL_BACKEND+\"/api/products/uploads/product/\"+product.portada, \n      state: product.state,\n      slug: product.slug,\n      sku: product.sku,\n      categorie:product.categorie,\n      price_bs:product.price_bs,\n      price_usd:product.price_usd,\n      stock:product.stock,\n      description: product.description,\n      resumen:product.resumen,\n      tags:product.tags? JSON.parse(product.tags) : [],\n      type_inventario:product.type_inventario,\n      condition:product.condition,\n      variedades: variedades,\n      imagen_two: IMAGEN_TWO, \n      galerias: GALERIAS,\n      avg_review: avg_review,\n      count_review: count_review,\n      campaign_discount: CampaignDiscount,\n      seller_id: product.seller_id,\n    }\n  }\n}\n"],"mappings":";;;;;;iCAAc;EACZA,YAAY,EAAEA,CAACC,OAAO,EAAEC,UAAU,GAAG,EAAE,EAAEC,UAAU,GAAG,CAAC,EAAEC,YAAY,GAAG,CAAC,EAAEC,gBAAgB,GAAG,IAAI,KAAK;IACrG,IAAIC,UAAU,GAAG,EAAE;IACnB,IAAIC,QAAQ,GAAG,EAAE;IACf,IAAGN,OAAO,CAACO,QAAQ,IAAIP,OAAO,CAACO,QAAQ,CAACC,MAAM,GAAG,CAAC,EAAC;MAAC;;MAElDF,QAAQ,GAAGN,OAAO,CAACO,QAAQ,CAACE,GAAG,CAAEC,OAAO,IAAK;QAC3CA,OAAO,CAACC,MAAM,GAAGC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,gCAAgC,GAACJ,OAAO,CAACC,MAAM;QACjF,OAAOD,OAAO;MAClB,CAAC,CAAC;MACF,IAAIK,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGlB,OAAO,CAACO,QAAQ,CAACC,MAAM,CAAC,CAAC;MAC9DH,UAAU,GAAGC,QAAQ,CAACS,GAAG,CAAC,CAACJ,MAAM;IACvC,CAAC;;IAEJ,OAAM;MACJQ,GAAG,EAAEnB,OAAO,CAACmB,GAAG;MAChBC,KAAK,EAAEpB,OAAO,CAACoB,KAAK;MACpBT,MAAM,EAACC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,gCAAgC,GAACd,OAAO,CAACqB,OAAO;MAC/EC,KAAK,EAAEtB,OAAO,CAACsB,KAAK;MACpBC,IAAI,EAAEvB,OAAO,CAACuB,IAAI;MAClBC,GAAG,EAAExB,OAAO,CAACwB,GAAG;MAChBC,SAAS,EAACzB,OAAO,CAACyB,SAAS;MAC3BC,QAAQ,EAAC1B,OAAO,CAAC0B,QAAQ;MACzBC,SAAS,EAAC3B,OAAO,CAAC2B,SAAS;MAC3BC,KAAK,EAAC5B,OAAO,CAAC4B,KAAK;MACnBC,WAAW,EAAE7B,OAAO,CAAC6B,WAAW;MAChCC,OAAO,EAAC9B,OAAO,CAAC8B,OAAO;MACvBC,IAAI,EAAC/B,OAAO,CAAC+B,IAAI,GAAEC,IAAI,CAACC,KAAK,CAACjC,OAAO,CAAC+B,IAAI,CAAC,GAAG,EAAE;MAChDG,eAAe,EAAClC,OAAO,CAACkC,eAAe;MACvCC,SAAS,EAACnC,OAAO,CAACmC,SAAS;MAC3BlC,UAAU,EAAEA,UAAU;MACtBmC,UAAU,EAAE/B,UAAU;MACtBE,QAAQ,EAAED,QAAQ;MAClBJ,UAAU,EAAEA,UAAU;MACtBC,YAAY,EAAEA,YAAY;MAC1BkC,iBAAiB,EAAEjC,gBAAgB;MACnCkC,SAAS,EAAEtC,OAAO,CAACsC;IACrB,CAAC;EACH;AACF,CAAC","ignoreList":[]}},"mtime":1750023876359},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  slider_list: slider => {\n    return {\n      _id: slider._id,\n      title: slider.title,\n      link: slider.link,\n      imagen: slider.imagen,\n      imagen_home: process.env.URL_BACKEND + \"/api/sliders/uploads/slider/\" + slider.imagen,\n      state: slider.state\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzbGlkZXJfbGlzdCIsInNsaWRlciIsIl9pZCIsInRpdGxlIiwibGluayIsImltYWdlbiIsImltYWdlbl9ob21lIiwicHJvY2VzcyIsImVudiIsIlVSTF9CQUNLRU5EIiwic3RhdGUiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvcmVzb3Vyc2VzLyIsInNvdXJjZXMiOlsiU2xpZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0e1xuICBzbGlkZXJfbGlzdDogKHNsaWRlcikgPT4ge1xuICAgIHJldHVybntcbiAgICAgIF9pZDogc2xpZGVyLl9pZCxcbiAgICAgIHRpdGxlOiBzbGlkZXIudGl0bGUsXG4gICAgICBsaW5rOiBzbGlkZXIubGluayxcbiAgICAgIGltYWdlbjogc2xpZGVyLmltYWdlbixcbiAgICAgIGltYWdlbl9ob21lOiBwcm9jZXNzLmVudi5VUkxfQkFDS0VORCtcIi9hcGkvc2xpZGVycy91cGxvYWRzL3NsaWRlci9cIitzbGlkZXIuaW1hZ2VuLFxuICAgICAgc3RhdGU6IHNsaWRlci5zdGF0ZSxcbiAgICB9XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztpQ0FBYztFQUNaQSxXQUFXLEVBQUdDLE1BQU0sSUFBSztJQUN2QixPQUFNO01BQ0pDLEdBQUcsRUFBRUQsTUFBTSxDQUFDQyxHQUFHO01BQ2ZDLEtBQUssRUFBRUYsTUFBTSxDQUFDRSxLQUFLO01BQ25CQyxJQUFJLEVBQUVILE1BQU0sQ0FBQ0csSUFBSTtNQUNqQkMsTUFBTSxFQUFFSixNQUFNLENBQUNJLE1BQU07TUFDckJDLFdBQVcsRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFdBQVcsR0FBQyw4QkFBOEIsR0FBQ1IsTUFBTSxDQUFDSSxNQUFNO01BQ2pGSyxLQUFLLEVBQUVULE1BQU0sQ0FBQ1M7SUFDaEIsQ0FBQztFQUNIO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["slider_list","slider","_id","title","link","imagen","imagen_home","process","env","URL_BACKEND","state"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["Slider.js"],"sourcesContent":["export default{\n  slider_list: (slider) => {\n    return{\n      _id: slider._id,\n      title: slider.title,\n      link: slider.link,\n      imagen: slider.imagen,\n      imagen_home: process.env.URL_BACKEND+\"/api/sliders/uploads/slider/\"+slider.imagen,\n      state: slider.state,\n    }\n  }\n}"],"mappings":";;;;;;iCAAc;EACZA,WAAW,EAAGC,MAAM,IAAK;IACvB,OAAM;MACJC,GAAG,EAAED,MAAM,CAACC,GAAG;MACfC,KAAK,EAAEF,MAAM,CAACE,KAAK;MACnBC,IAAI,EAAEH,MAAM,CAACG,IAAI;MACjBC,MAAM,EAAEJ,MAAM,CAACI,MAAM;MACrBC,WAAW,EAAEC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,8BAA8B,GAACR,MAAM,CAACI,MAAM;MACjFK,KAAK,EAAET,MAAM,CAACS;IAChB,CAAC;EACH;AACF,CAAC","ignoreList":[]}},"mtime":1741488434433},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/middlewares/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/middlewares/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      return res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      console.log(\"RES\", response);\n      if (response.rol == \"cliente\" || response.rol == \"admin\") {\n        req.user = response; // <--- Adjunta el usuario decodificado\n        return next();\n      } else {\n        return res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    } else {\n      return res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  },\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      return res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"admin\" || response.rol == \"emprendedor\") {\n        req.user = response; // <--- Adjunta el usuario decodificado\n        return next();\n      } else {\n        return res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    } else {\n      return res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9qc29ud2VidG9rZW4iLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJ2ZXJpZnlFY29tbWVyY2UiLCJyZXEiLCJyZXMiLCJuZXh0IiwiaGVhZGVycyIsInRva2VuIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJyZXNwb25zZSIsImRlY29kZSIsImNvbnNvbGUiLCJsb2ciLCJyb2wiLCJ1c2VyIiwidmVyaWZ5QWRtaW4iXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvbWlkZGxld2FyZXMvIiwic291cmNlcyI6WyJhdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0b2tlbiBmcm9tIFwiLi4vc2VydmljZXMvdG9rZW5cIlxuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuXG5cblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHZlcmlmeUVjb21tZXJjZTogYXN5bmMocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBpZighcmVxLmhlYWRlcnMudG9rZW4pe1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJOTyBTRSBFTlZJw5MgRUwgVE9LRU5cIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdG9rZW4uZGVjb2RlKHJlcS5oZWFkZXJzLnRva2VuKTtcbiAgICBpZihyZXNwb25zZSl7XG4gICAgICBjb25zb2xlLmxvZyhcIlJFU1wiLHJlc3BvbnNlKTtcblxuICAgICAgaWYocmVzcG9uc2Uucm9sID09IFwiY2xpZW50ZVwiIHx8IHJlc3BvbnNlLnJvbCA9PSBcImFkbWluXCIpe1xuICAgICAgICByZXEudXNlciA9IHJlc3BvbnNlOyAvLyA8LS0tIEFkanVudGEgZWwgdXN1YXJpbyBkZWNvZGlmaWNhZG9cbiAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICAgIH1cbiAgICAgIGVsc2V7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJOTyBFU1RBIFBFUk1JVElETyBWSVNJVEFSIEVTVEEgUlVUQVwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1lbHNle1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJFTCBUT0tFTiBOTyBFUyBWQUxJRE9cIlxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICB2ZXJpZnlBZG1pbjogYXN5bmMocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBpZighcmVxLmhlYWRlcnMudG9rZW4pe1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJOTyBTRSBFTlZJw5MgRUwgVE9LRU5cIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdG9rZW4uZGVjb2RlKHJlcS5oZWFkZXJzLnRva2VuKTtcbiAgICBpZihyZXNwb25zZSl7XG4gICAgICBpZihyZXNwb25zZS5yb2wgPT0gXCJhZG1pblwiIHx8IHJlc3BvbnNlLnJvbCA9PSBcImVtcHJlbmRlZG9yXCIpe1xuICAgICAgICByZXEudXNlciA9IHJlc3BvbnNlOyAvLyA8LS0tIEFkanVudGEgZWwgdXN1YXJpbyBkZWNvZGlmaWNhZG9cbiAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICAgIH1cbiAgICAgIGVsc2V7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJOTyBFU1RBIFBFUk1JVElETyBWSVNJVEFSIEVTVEEgUlVUQVwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1lbHNle1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJFTCBUT0tFTiBOTyBFUyBWQUxJRE9cIlxuICAgICAgfSk7XG4gICAgfVxuICB9LFxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxhQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBK0IsU0FBQUQsdUJBQUFHLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUtoQjtFQUNiRyxlQUFlLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSztJQUN4QyxJQUFHLENBQUNGLEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLEVBQUM7TUFDcEIsT0FBT0gsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUMxQkMsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ0o7SUFDQSxNQUFNQyxRQUFRLEdBQUcsTUFBTUosY0FBSyxDQUFDSyxNQUFNLENBQUNULEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLENBQUM7SUFDdEQsSUFBR0ksUUFBUSxFQUFDO01BQ1ZFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLEtBQUssRUFBQ0gsUUFBUSxDQUFDO01BRTNCLElBQUdBLFFBQVEsQ0FBQ0ksR0FBRyxJQUFJLFNBQVMsSUFBSUosUUFBUSxDQUFDSSxHQUFHLElBQUksT0FBTyxFQUFDO1FBQ3REWixHQUFHLENBQUNhLElBQUksR0FBR0wsUUFBUSxDQUFDLENBQUM7UUFDckIsT0FBT04sSUFBSSxDQUFDLENBQUM7TUFDZixDQUFDLE1BQ0c7UUFDRixPQUFPRCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQzFCQyxPQUFPLEVBQUU7UUFDWCxDQUFDLENBQUM7TUFDSjtJQUNGLENBQUMsTUFBSTtNQUNILE9BQU9OLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDMUJDLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUNKO0VBQ0YsQ0FBQztFQUNETyxXQUFXLEVBQUUsTUFBQUEsQ0FBTWQsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSztJQUNwQyxJQUFHLENBQUNGLEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLEVBQUM7TUFDcEIsT0FBT0gsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUMxQkMsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ0o7SUFDQSxNQUFNQyxRQUFRLEdBQUcsTUFBTUosY0FBSyxDQUFDSyxNQUFNLENBQUNULEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLENBQUM7SUFDdEQsSUFBR0ksUUFBUSxFQUFDO01BQ1YsSUFBR0EsUUFBUSxDQUFDSSxHQUFHLElBQUksT0FBTyxJQUFJSixRQUFRLENBQUNJLEdBQUcsSUFBSSxhQUFhLEVBQUM7UUFDMURaLEdBQUcsQ0FBQ2EsSUFBSSxHQUFHTCxRQUFRLENBQUMsQ0FBQztRQUNyQixPQUFPTixJQUFJLENBQUMsQ0FBQztNQUNmLENBQUMsTUFDRztRQUNGLE9BQU9ELEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDMUJDLE9BQU8sRUFBRTtRQUNYLENBQUMsQ0FBQztNQUNKO0lBQ0YsQ0FBQyxNQUFJO01BQ0gsT0FBT04sR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUMxQkMsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ0o7RUFDRjtBQUNGLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_token","_interopRequireDefault","require","_jsonwebtoken","e","__esModule","default","_default","exports","verifyEcommerce","req","res","next","headers","token","status","send","message","response","decode","console","log","rol","user","verifyAdmin"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/middlewares/","sources":["auth.js"],"sourcesContent":["import token from \"../services/token\"\nimport jwt from 'jsonwebtoken';\n\n\n\n\nexport default {\n  verifyEcommerce: async(req, res, next) => {\n    if(!req.headers.token){\n      return res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await token.decode(req.headers.token);\n    if(response){\n      console.log(\"RES\",response);\n\n      if(response.rol == \"cliente\" || response.rol == \"admin\"){\n        req.user = response; // <--- Adjunta el usuario decodificado\n        return next();\n      }\n      else{\n        return res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    }else{\n      return res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  },\n  verifyAdmin: async(req, res, next) => {\n    if(!req.headers.token){\n      return res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await token.decode(req.headers.token);\n    if(response){\n      if(response.rol == \"admin\" || response.rol == \"emprendedor\"){\n        req.user = response; // <--- Adjunta el usuario decodificado\n        return next();\n      }\n      else{\n        return res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    }else{\n      return res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  },\n}\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,aAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAKhB;EACbG,eAAe,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IACxC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MACpB,OAAOH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1BC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACVE,OAAO,CAACC,GAAG,CAAC,KAAK,EAACH,QAAQ,CAAC;MAE3B,IAAGA,QAAQ,CAACI,GAAG,IAAI,SAAS,IAAIJ,QAAQ,CAACI,GAAG,IAAI,OAAO,EAAC;QACtDZ,GAAG,CAACa,IAAI,GAAGL,QAAQ,CAAC,CAAC;QACrB,OAAON,IAAI,CAAC,CAAC;MACf,CAAC,MACG;QACF,OAAOD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAC1BC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;IACF,CAAC,MAAI;MACH,OAAON,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1BC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF,CAAC;EACDO,WAAW,EAAE,MAAAA,CAAMd,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IACpC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MACpB,OAAOH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1BC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACV,IAAGA,QAAQ,CAACI,GAAG,IAAI,OAAO,IAAIJ,QAAQ,CAACI,GAAG,IAAI,aAAa,EAAC;QAC1DZ,GAAG,CAACa,IAAI,GAAGL,QAAQ,CAAC,CAAC;QACrB,OAAON,IAAI,CAAC,CAAC;MACf,CAAC,MACG;QACF,OAAOD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAC1BC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;IACF,CAAC,MAAI;MACH,OAAON,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1BC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF;AACF,CAAC","ignoreList":[]}},"mtime":1750344001423},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CategorieController = _interopRequireDefault(require(\"../controllers/CategorieController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/categorie'\n});\nconst router = (0, _expressPromiseRouter.default)();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _CategorieController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _CategorieController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CategorieController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CategorieController.default.remove);\nrouter.get(\"/uploads/categorie/:img\", _CategorieController.default.obtener_imagen);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXRlZ29yaWVDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJwYXRoIiwibXVsdGlwYXJ0eSIsInVwbG9hZERpciIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwiY2F0ZWdvcmllQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSIsIm9idGVuZXJfaW1hZ2VuIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiXG5pbXBvcnQgY2F0ZWdvcmllQ29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvQ2F0ZWdvcmllQ29udHJvbGxlclwiXG5pbXBvcnQgYXV0aCBmcm9tIFwiLi4vbWlkZGxld2FyZXMvYXV0aFwiXG5pbXBvcnQgbXVsdGlwYXJ0eSBmcm9tICdjb25uZWN0LW11bHRpcGFydHknO1xuXG5cbnZhciBwYXRoID0gbXVsdGlwYXJ0eSh7dXBsb2FkRGlyOicuL3VwbG9hZHMvY2F0ZWdvcmllJ30pO1xuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG4vLyBwcm9jZXNzLmVudi5VUkxfQkFDS0VORC9hcGkvdXNlcnMvcmVnaXN0ZXJcblxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGhdLCBjYXRlZ29yaWVDb250cm9sbGVyLnJlZ2lzdGVyKTtcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0sY2F0ZWdvcmllQ29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLmdldChcIi9saXN0XCIsYXV0aC52ZXJpZnlBZG1pbixjYXRlZ29yaWVDb250cm9sbGVyLmxpc3QpO1xucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIixhdXRoLnZlcmlmeUFkbWluLGNhdGVnb3JpZUNvbnRyb2xsZXIucmVtb3ZlKTtcblxucm91dGVyLmdldChcIi91cGxvYWRzL2NhdGVnb3JpZS86aW1nXCIsY2F0ZWdvcmllQ29udHJvbGxlci5vYnRlbmVyX2ltYWdlbik7XG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLG9CQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxrQkFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQTRDLFNBQUFELHVCQUFBSyxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBRzVDLElBQUlHLElBQUksR0FBRyxJQUFBQywwQkFBVSxFQUFDO0VBQUNDLFNBQVMsRUFBQztBQUFxQixDQUFDLENBQUM7QUFDeEQsTUFBTUMsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQzs7QUFFeEI7O0FBRUFELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFDLEVBQUVRLDRCQUFtQixDQUFDQyxRQUFRLENBQUM7QUFDaEZOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBQyxDQUFDSixhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNRLDRCQUFtQixDQUFDRyxNQUFNLENBQUM7QUFDeEVSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDRCQUFtQixDQUFDSyxJQUFJLENBQUM7QUFDN0RWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLFNBQVMsRUFBQ1IsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDRCQUFtQixDQUFDTyxNQUFNLENBQUM7QUFFcEVaLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLHlCQUF5QixFQUFDSiw0QkFBbUIsQ0FBQ1EsY0FBYyxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFuQixPQUFBLEdBRzFESSxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CategorieController","_auth","_connectMultiparty","e","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","categorieController","register","put","update","get","list","delete","remove","obtener_imagen","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Categorie.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport categorieController from \"../controllers/CategorieController\"\nimport auth from \"../middlewares/auth\"\nimport multiparty from 'connect-multiparty';\n\n\nvar path = multiparty({uploadDir:'./uploads/categorie'});\nconst router = routerx();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [auth.verifyAdmin, path], categorieController.register);\nrouter.put(\"/update\",[auth.verifyAdmin,path],categorieController.update);\nrouter.get(\"/list\",auth.verifyAdmin,categorieController.list);\nrouter.delete(\"/delete\",auth.verifyAdmin,categorieController.remove);\n\nrouter.get(\"/uploads/categorie/:img\",categorieController.obtener_imagen);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,oBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA4C,SAAAD,uBAAAK,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAG5C,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAC;AAAqB,CAAC,CAAC;AACxD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,4BAAmB,CAACC,QAAQ,CAAC;AAChFN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAC,CAACJ,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,4BAAmB,CAACG,MAAM,CAAC;AACxER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACK,IAAI,CAAC;AAC7DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAACR,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACO,MAAM,CAAC;AAEpEZ,MAAM,CAACS,GAAG,CAAC,yBAAyB,EAACJ,4BAAmB,CAACQ,cAAc,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAnB,OAAA,GAG1DI,MAAM","ignoreList":[]}},"mtime":1741488736458},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/CategorieController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      //console.log(req.files);\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      const categorie = await _models.default.Categorie.create(req.body);\n      res.status(200).json(categorie);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Categorie.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let CategorieT = await _models.default.Categorie.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORÍA SE HA MODIFICADO CORRECTAMENTE\",\n        categorie: _resourses.default.Categorie.categorie_list(CategorieT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Categories = await _models.default.Categorie.find({\n        $or: [{\n          \"title\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Categories = Categories.map(user => {\n        return _resourses.default.Categorie.categorie_list(user);\n      });\n      res.status(200).json({\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/categorie/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/categorie/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Categorie.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"  LA CATEGORÍA SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3Vyc2VzIiwiX2ZzIiwiX3BhdGgiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImZpbGVzIiwiaW1nX3BhdGgiLCJwb3J0YWRhIiwicGF0aCIsIm5hbWUiLCJzcGxpdCIsInBvcnRhZGFfbmFtZSIsImJvZHkiLCJpbWFnZW4iLCJjYXRlZ29yaWUiLCJtb2RlbHMiLCJDYXRlZ29yaWUiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsIkNhdGVnb3JpZVQiLCJmaW5kT25lIiwicmVzb3Vyc2UiLCJjYXRlZ29yaWVfbGlzdCIsImxpc3QiLCJzZWFyY2giLCJxdWVyeSIsIkNhdGVnb3JpZXMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsInVzZXIiLCJjYXRlZ29yaWVzIiwib2J0ZW5lcl9pbWFnZW4iLCJpbWciLCJwYXJhbXMiLCJmcyIsInN0YXQiLCJlcnIiLCJwYXRoX2ltZyIsInNlbmRGaWxlIiwicmVzb2x2ZSIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiQ2F0ZWdvcmllQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcbmltcG9ydCByZXNvdXJzZSBmcm9tICcuLi9yZXNvdXJzZXMnXG5pbXBvcnQgZnMgZnJvbSAnZnMnXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy9jb25zb2xlLmxvZyhyZXEuZmlsZXMpO1xuICAgICAgIGlmKHJlcS5maWxlcyl7XG4gICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMucG9ydGFkYS5wYXRoO1xuICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgICAvL2NvbnNvbGUubG9nKHBvcnRhZGFfbmFtZSlcbiAgICAgICAgIHJlcS5ib2R5LmltYWdlbiA9IHBvcnRhZGFfbmFtZTtcbiAgICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGNhdGVnb3JpZSA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuY3JlYXRlKHJlcS5ib2R5KTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGNhdGVnb3JpZSk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuICB9LFxuICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgIGlmKHJlcS5maWxlcyAmJiByZXEuZmlsZXMucG9ydGFkYSl7XG4gICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMucG9ydGFkYS5wYXRoO1xuICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgICAvL2NvbnNvbGUubG9nKHBvcnRhZGFfbmFtZSlcbiAgICAgICByZXEuYm9keS5pbWFnZW4gPSBwb3J0YWRhX25hbWU7XG4gICAgICAgfVxuXG4gICAgIGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkfSxyZXEuYm9keSk7XG5cbiAgICAgbGV0IENhdGVnb3JpZVQgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmRPbmUoe19pZDogcmVxLmJvZHkuX2lkfSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJMQSBDQVRFR09Sw41BIFNFIEhBIE1PRElGSUNBRE8gQ09SUkVDVEFNRU5URVwiLFxuICAgICAgICBjYXRlZ29yaWU6IHJlc291cnNlLkNhdGVnb3JpZS5jYXRlZ29yaWVfbGlzdChDYXRlZ29yaWVUKSxcbiAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG5cbiAgfSxcbiAgbGlzdDogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICB2YXIgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcbiAgICAgIGxldCBDYXRlZ29yaWVzICA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZCh7XG4gICAgICAgICRvcjpbXG4gICAgICAgICAge1widGl0bGVcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgIF1cbiAgICB9KS5zb3J0KHsnY3JlYXRlZEF0JzotMX0pO1xuXG4gICAgQ2F0ZWdvcmllcyA9IENhdGVnb3JpZXMubWFwKCh1c2VyKSA9PiB7XG4gICAgICByZXR1cm4gcmVzb3Vyc2UuQ2F0ZWdvcmllLmNhdGVnb3JpZV9saXN0KHVzZXIpO1xuICAgIH0pXG5cbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICBjYXRlZ29yaWVzOiBDYXRlZ29yaWVzXG4gICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIFxuICAgIH1cbiAgfSxcbiAgb2J0ZW5lcl9pbWFnZW46IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICB2YXIgaW1nID0gcmVxLnBhcmFtc1snaW1nJ107XG4gICAgICAgIFxuXG4gICAgICAgIGZzLnN0YXQoJy4vdXBsb2Fkcy9jYXRlZ29yaWUvJysgaW1nLCBmdW5jdGlvbihlcnIpe1xuICAgICAgICAgICAgaWYoIWVycil7XG4gICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9jYXRlZ29yaWUvJytpbWc7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9kZWZhdWx0LmpwZyc7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1jYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG4gIH0sXG4gIHJlbW92ZTogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IHJlcS5xdWVyeS5faWR9KTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCIgIExBIENBVEVHT1LDjUEgU0UgRUxJTUlOTyBDT1JSRUNUQU1FTlRFXCIsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cbiAgfSxcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEdBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLEtBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUF1QixTQUFBRCx1QkFBQUssQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBR1I7RUFDYkcsUUFBUSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0lBQzFCLElBQUk7TUFDRjtNQUNDLElBQUdELEdBQUcsQ0FBQ0UsS0FBSyxFQUFDO1FBQ1gsSUFBSUMsUUFBUSxHQUFHSCxHQUFHLENBQUNFLEtBQUssQ0FBQ0UsT0FBTyxDQUFDQyxJQUFJO1FBQ3JDLElBQUlDLElBQUksR0FBR0gsUUFBUSxDQUFDSSxLQUFLLENBQUMsR0FBRyxDQUFDO1FBQzlCLElBQUlDLFlBQVksR0FBR0YsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUMxQjtRQUNBTixHQUFHLENBQUNTLElBQUksQ0FBQ0MsTUFBTSxHQUFHRixZQUFZO01BQ2hDO01BRUQsTUFBTUcs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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resourses","_fs","_path","e","__esModule","default","_default","exports","register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","categorie","models","Categorie","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","CategorieT","findOne","resourse","categorie_list","list","search","query","Categories","find","$or","RegExp","sort","map","user","categories","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","remove","findByIdAndDelete"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["CategorieController.js"],"sourcesContent":["import models from \"../models\";\nimport resourse from '../resourses'\nimport fs from 'fs'\nimport path from 'path'\n\n\nexport default {\n  register: async(req,res) => {\n    try {\n      //console.log(req.files);\n       if(req.files){\n         var img_path = req.files.portada.path;\n         var name = img_path.split('/');\n         var portada_name = name[2];\n         //console.log(portada_name)\n         req.body.imagen = portada_name;\n       }\n      \n      const categorie = await models.Categorie.create(req.body);\n      res.status(200).json(categorie);\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n  update: async(req,res) => {\n    try {\n       if(req.files && req.files.portada){\n         var img_path = req.files.portada.path;\n         var name = img_path.split('/');\n         var portada_name = name[2];\n         //console.log(portada_name)\n       req.body.imagen = portada_name;\n       }\n\n     await models.Categorie.findByIdAndUpdate({_id: req.body._id},req.body);\n\n     let CategorieT = await models.Categorie.findOne({_id: req.body._id});\n\n      res.status(200).json({\n        message: \"LA CATEGORÍA SE HA MODIFICADO CORRECTAMENTE\",\n        categorie: resourse.Categorie.categorie_list(CategorieT),\n      })\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n\n  },\n  list: async(req,res) => {\n    try {\n      var search = req.query.search;\n      let Categories  = await models.Categorie.find({\n        $or:[\n          {\"title\": new RegExp(search, \"i\")},\n        ]\n    }).sort({'createdAt':-1});\n\n    Categories = Categories.map((user) => {\n      return resourse.Categorie.categorie_list(user);\n    })\n\n    res.status(200).json({\n      categories: Categories\n    });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n      \n    }\n  },\n  obtener_imagen: async(req,res) => {\n    try {\n        var img = req.params['img'];\n        \n\n        fs.stat('./uploads/categorie/'+ img, function(err){\n            if(!err){\n                let path_img = './uploads/categorie/'+img;\n                res.status(200).sendFile(path.resolve(path_img));\n            }else{\n                let path_img = './uploads/default.jpg';\n                res.status(200).sendFile(path.resolve(path_img));\n            }\n        })\n    }catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async(req,res) => {\n    try {\n      await models.Categorie.findByIdAndDelete({_id: req.query._id});\n      res.status(200).json({\n        message: \"  LA CATEGORÍA SE ELIMINO CORRECTAMENTE\",\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n}"],"mappings":"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","ignoreList":[]}},"mtime":1737174922357},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _ProductController = _interopRequireDefault(require(\"../controllers/ProductController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nvar _VariedadController = _interopRequireDefault(require(\"../controllers/VariedadController\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/product'\n});\nconst router = (0, _expressPromiseRouter.default)();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _ProductController.default.register);\n\n//IMAGEN PORTADA Y GALERIA\nrouter.post(\"/register_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.register_imagen);\nrouter.post(\"/remove_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.remove_imagen);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _ProductController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _ProductController.default.list);\nrouter.get(\"/list-seller\", _auth.default.verifyAdmin, _ProductController.default.list_seller);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _ProductController.default.remove);\nrouter.get(\"/uploads/product/:img\", _ProductController.default.obtener_imagen);\nrouter.get(\"/show/:id\", _ProductController.default.show);\n\n// VARIEDAD\nrouter.post(\"/register-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.register);\nrouter.put(\"/update-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.update);\nrouter.delete(\"/delete-variedad/:id\", [_auth.default.verifyAdmin, path], _VariedadController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Qcm9kdWN0Q29udHJvbGxlciIsIl9hdXRoIiwiX2Nvbm5lY3RNdWx0aXBhcnR5IiwiX1ZhcmllZGFkQ29udHJvbGxlciIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInBhdGgiLCJtdWx0aXBhcnR5IiwidXBsb2FkRGlyIiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJwcm9kdWN0Q29udHJvbGxlciIsInJlZ2lzdGVyIiwicmVnaXN0ZXJfaW1hZ2VuIiwicmVtb3ZlX2ltYWdlbiIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJsaXN0X3NlbGxlciIsImRlbGV0ZSIsInJlbW92ZSIsIm9idGVuZXJfaW1hZ2VuIiwic2hvdyIsInZhcmllZGFkQ29udHJvbGxlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJQcm9kdWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gXCJleHByZXNzLXByb21pc2Utcm91dGVyXCJcbmltcG9ydCBwcm9kdWN0Q29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvUHJvZHVjdENvbnRyb2xsZXJcIlxuaW1wb3J0IGF1dGggZnJvbSBcIi4uL21pZGRsZXdhcmVzL2F1dGhcIlxuaW1wb3J0IG11bHRpcGFydHkgZnJvbSAnY29ubmVjdC1tdWx0aXBhcnR5JztcbmltcG9ydCB2YXJpZWRhZENvbnRyb2xsZXIgZnJvbSBcIi4uL2NvbnRyb2xsZXJzL1ZhcmllZGFkQ29udHJvbGxlclwiO1xuXG5cbnZhciBwYXRoID0gbXVsdGlwYXJ0eSh7dXBsb2FkRGlyOicuL3VwbG9hZHMvcHJvZHVjdCd9KTtcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcblxuLy8gcHJvY2Vzcy5lbnYuVVJMX0JBQ0tFTkQvYXBpL3VzZXJzL3JlZ2lzdGVyXG5cbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsIFthdXRoLnZlcmlmeUFkbWluLCBwYXRoXSwgcHJvZHVjdENvbnRyb2xsZXIucmVnaXN0ZXIpO1xuXG5cbi8vSU1BR0VOIFBPUlRBREEgWSBHQUxFUklBXG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlcl9pbWFnZW5cIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGhdLCBwcm9kdWN0Q29udHJvbGxlci5yZWdpc3Rlcl9pbWFnZW4pO1xucm91dGVyLnBvc3QoXCIvcmVtb3ZlX2ltYWdlblwiLCBbYXV0aC52ZXJpZnlBZG1pbiwgcGF0aF0sIHByb2R1Y3RDb250cm9sbGVyLnJlbW92ZV9pbWFnZW4pO1xuXG5cbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0scHJvZHVjdENvbnRyb2xsZXIudXBkYXRlKTtcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4scHJvZHVjdENvbnRyb2xsZXIubGlzdCk7XG5yb3V0ZXIuZ2V0KFwiL2xpc3Qtc2VsbGVyXCIsYXV0aC52ZXJpZnlBZG1pbixwcm9kdWN0Q29udHJvbGxlci5saXN0X3NlbGxlcik7XG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLGF1dGgudmVyaWZ5QWRtaW4scHJvZHVjdENvbnRyb2xsZXIucmVtb3ZlKTtcblxucm91dGVyLmdldChcIi91cGxvYWRzL3Byb2R1Y3QvOmltZ1wiLHByb2R1Y3RDb250cm9sbGVyLm9idGVuZXJfaW1hZ2VuKTtcblxucm91dGVyLmdldChcIi9zaG93LzppZFwiLHByb2R1Y3RDb250cm9sbGVyLnNob3cpO1xuXG4vLyBWQVJJRURBRFxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXItdmFyaWVkYWRcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSx2YXJpZWRhZENvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnB1dChcIi91cGRhdGUtdmFyaWVkYWRcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSx2YXJpZWRhZENvbnRyb2xsZXIudXBkYXRlKTtcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlLXZhcmllZGFkLzppZFwiLFthdXRoLnZlcmlmeUFkbWluLHBhdGhdLHZhcmllZGFkQ29udHJvbGxlci5kZWxldGUpO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxrQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsa0JBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLG1CQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFBbUUsU0FBQUQsdUJBQUFNLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFHbkUsSUFBSUcsSUFBSSxHQUFHLElBQUFDLDBCQUFVLEVBQUM7RUFBQ0MsU0FBUyxFQUFDO0FBQW1CLENBQUMsQ0FBQztBQUN0RCxNQUFNQyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDOztBQUV4Qjs7QUFFQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFFUCxJQUFJLENBQUMsRUFBRVEsMEJBQWlCLENBQUNDLFFBQVEsQ0FBQzs7QUFHOUU7QUFDQU4sTUFBTSxDQUFDRSxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUVQLElBQUksQ0FBQyxFQUFFUSwwQkFBaUIsQ0FBQ0UsZUFBZSxDQUFDO0FBQzVGUCxNQUFNLENBQUNFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFDLEVBQUVRLDBCQUFpQixDQUFDRyxhQUFhLENBQUM7QUFHeEZSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLFNBQVMsRUFBQyxDQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNRLDBCQUFpQixDQUFDSyxNQUFNLENBQUM7QUFDdEVWLE1BQU0sQ0FBQ1csR0FBRyxDQUFDLE9BQU8sRUFBQ1IsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDBCQUFpQixDQUFDTyxJQUFJLENBQUM7QUFDM0RaLE1BQU0sQ0FBQ1csR0FBRyxDQUFDLGNBQWMsRUFBQ1IsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDBCQUFpQixDQUFDUSxXQUFXLENBQUM7QUFDekViLE1BQU0sQ0FBQ2MsTUFBTSxDQUFDLFNBQVMsRUFBQ1gsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDBCQUFpQixDQUFDVSxNQUFNLENBQUM7QUFFbEVmLE1BQU0sQ0FBQ1csR0FBRyxDQUFDLHVCQUF1QixFQUFDTiwwQkFBaUIsQ0FBQ1csY0FBYyxDQUFDO0FBRXBFaEIsTUFBTSxDQUFDVyxHQUFHLENBQUMsV0FBVyxFQUFDTiwwQkFBaUIsQ0FBQ1ksSUFBSSxDQUFDOztBQUU5QztBQUNBakIsTUFBTSxDQUFDRSxJQUFJLENBQUMsb0JBQW9CLEVBQUMsQ0FBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUNQLElBQUksQ0FBQyxFQUFDcUIsMkJBQWtCLENBQUNaLFFBQVEsQ0FBQztBQUNyRk4sTUFBTSxDQUFDUyxHQUFHLENBQUMsa0JBQWtCLEVBQUMsQ0FBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNQLElBQUksQ0FBQyxFQUFDcUIsMkJBQWtCLENBQUNSLE1BQU0sQ0FBQztBQUNoRlYsTUFBTSxDQUFDYyxNQUFNLENBQUMsc0JBQXNCLEVBQUMsQ0FBQ1gsYUFBSSxDQUFDQyxXQUFXLEVBQUNQLElBQUksQ0FBQyxFQUFDcUIsMkJBQWtCLENBQUNKLE1BQU0sQ0FBQztBQUFDLElBQUFLLFFBQUEsR0FBQUMsT0FBQSxDQUFBeEIsT0FBQSxHQUd6RUksTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_ProductController","_auth","_connectMultiparty","_VariedadController","e","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","productController","register","register_imagen","remove_imagen","put","update","get","list","list_seller","delete","remove","obtener_imagen","show","variedadController","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Product.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport productController from \"../controllers/ProductController\"\nimport auth from \"../middlewares/auth\"\nimport multiparty from 'connect-multiparty';\nimport variedadController from \"../controllers/VariedadController\";\n\n\nvar path = multiparty({uploadDir:'./uploads/product'});\nconst router = routerx();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [auth.verifyAdmin, path], productController.register);\n\n\n//IMAGEN PORTADA Y GALERIA\nrouter.post(\"/register_imagen\", [auth.verifyAdmin, path], productController.register_imagen);\nrouter.post(\"/remove_imagen\", [auth.verifyAdmin, path], productController.remove_imagen);\n\n\nrouter.put(\"/update\",[auth.verifyAdmin,path],productController.update);\nrouter.get(\"/list\",auth.verifyAdmin,productController.list);\nrouter.get(\"/list-seller\",auth.verifyAdmin,productController.list_seller);\nrouter.delete(\"/delete\",auth.verifyAdmin,productController.remove);\n\nrouter.get(\"/uploads/product/:img\",productController.obtener_imagen);\n\nrouter.get(\"/show/:id\",productController.show);\n\n// VARIEDAD\nrouter.post(\"/register-variedad\",[auth.verifyAdmin,path],variedadController.register);\nrouter.put(\"/update-variedad\",[auth.verifyAdmin,path],variedadController.update);\nrouter.delete(\"/delete-variedad/:id\",[auth.verifyAdmin,path],variedadController.delete);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,kBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,mBAAA,GAAAL,sBAAA,CAAAC,OAAA;AAAmE,SAAAD,uBAAAM,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAGnE,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAC;AAAmB,CAAC,CAAC;AACtD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,0BAAiB,CAACC,QAAQ,CAAC;;AAG9E;AACAN,MAAM,CAACE,IAAI,CAAC,kBAAkB,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,0BAAiB,CAACE,eAAe,CAAC;AAC5FP,MAAM,CAACE,IAAI,CAAC,gBAAgB,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,0BAAiB,CAACG,aAAa,CAAC;AAGxFR,MAAM,CAACS,GAAG,CAAC,SAAS,EAAC,CAACN,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,0BAAiB,CAACK,MAAM,CAAC;AACtEV,MAAM,CAACW,GAAG,CAAC,OAAO,EAACR,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACO,IAAI,CAAC;AAC3DZ,MAAM,CAACW,GAAG,CAAC,cAAc,EAACR,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACQ,WAAW,CAAC;AACzEb,MAAM,CAACc,MAAM,CAAC,SAAS,EAACX,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACU,MAAM,CAAC;AAElEf,MAAM,CAACW,GAAG,CAAC,uBAAuB,EAACN,0BAAiB,CAACW,cAAc,CAAC;AAEpEhB,MAAM,CAACW,GAAG,CAAC,WAAW,EAACN,0BAAiB,CAACY,IAAI,CAAC;;AAE9C;AACAjB,MAAM,CAACE,IAAI,CAAC,oBAAoB,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACqB,2BAAkB,CAACZ,QAAQ,CAAC;AACrFN,MAAM,CAACS,GAAG,CAAC,kBAAkB,EAAC,CAACN,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACqB,2BAAkB,CAACR,MAAM,CAAC;AAChFV,MAAM,CAACc,MAAM,CAAC,sBAAsB,EAAC,CAACX,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACqB,2BAAkB,CAACJ,MAAM,CAAC;AAAC,IAAAK,QAAA,GAAAC,OAAA,CAAAxB,OAAA,GAGzEI,MAAM","ignoreList":[]}},"mtime":1750026535363},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/ProductController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_Product = await _models.default.Product.findOne({\n        title: data.title\n      });\n      if (valid_Product) {\n        res.status(200).json({\n          code: 403,\n          message: \"EL PRODUCTO YA EXISTE\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\n      if (req.files) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        data.portada = portada_name;\n      }\n      let product = await _models.default.Product.create(data);\n      res.status(200).json({\n        message: \"Super! El producto se registró satisfactoriamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_product = await _models.default.Product.findOne({\n        title: data.title,\n        _id: {\n          $ne: data._id\n        }\n      });\n      if (valid_product) {\n        res.status(200).json({\n          code: 403,\n          message: \"EL PRODUCTO YA EXISTE\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, \"-\").replace(/[^\\w-]+/g, '');\n      if (req.files && req.files.imagen) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        data.portada = portada_name;\n      }\n      await _models.default.Product.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: \"Super! El producto se actualizó satisfactoriamente\"\n      });\n    } catch (error) {\n      console.log('mi falla es:', error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var filter = [];\n      if (req.query.search) {\n        filter.push({\n          \"title\": new RegExp(req.query.search, \"i\")\n        });\n      }\n      if (req.query.categorie) {\n        filter.push({\n          \"categorie\": req.query.categorie\n        });\n      }\n      if (req.query.condition) {\n        filter.push({\n          \"condition\": req.query.condition\n        });\n      }\n      let products = await _models.default.Product.find({\n        $and: filter\n      }).populate(\"categorie\");\n\n      //console.log(\"PRO\",products);\n\n      products = products.map(product => {\n        return _resourses.default.Product.product_list(product);\n      });\n      res.status(200).json({\n        products: products\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  list_seller: async (req, res) => {\n    try {\n      // Obtenemos seller_id (puede venir de req.body, req.query o params, según tu diseño)\n      const sellerId = req.user._id;\n      console.log(req.user);\n      if (!sellerId) {\n        return res.status(400).json({\n          message: \"seller_id es obligatorio\"\n        });\n      }\n\n      // Creamos el filtro inicial con seller_id\n      let filter = {\n        seller_id: sellerId\n      };\n\n      // Agregamos condiciones adicionales si existen\n      if (req.query.search) {\n        filter.title = new RegExp(req.query.search, \"i\");\n      }\n      if (req.query.categorie) {\n        filter.categorie = req.query.categorie;\n      }\n      if (req.query.condition) {\n        filter.condition = req.query.condition;\n      }\n\n      // Ejecutamos la consulta con populate\n      let products_seller = await _models.default.Product.find(filter).populate(\"categorie\");\n\n      // console.log(\"PRO\", products_seller);\n\n      // Mapear productos según tu recurso\n      products_seller = products_seller.map(product_seller => {\n        return _resourses.default.Product.product_list(product_seller);\n      });\n      res.status(200).json({\n        products_seller\n      });\n    } catch (error) {\n      console.error(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Product.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        massage: \"Super! El producto se eliminó satisfactoriamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/product/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/product/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      var product_id = req.params.id;\n      let PRODUCT = await _models.default.Product.findById({\n        _id: product_id\n      });\n      let VARIEDADES = await _models.default.Variedad.find({\n        product: product_id\n      });\n      res.status(200).json({\n        product: _resourses.default.Product.product_list(PRODUCT, VARIEDADES)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_imagen: async (req, res) => {\n    try {\n      var img_path = req.files.imagen.path;\n      var name = img_path.split('/');\n      var imagen_name = name[2];\n      let product = await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $push: {\n          galerias: {\n            imagen: imagen_name,\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"LA IMAGEN SE SUBIO CORRECTAMENTE\",\n        imagen: {\n          imagen: process.env.URL_BACKEND + \"/api/products/uploads/product/\" + imagen_name,\n          _id: req.body.__id\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  remove_imagen: async (req, res) => {\n    try {\n      await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $pull: {\n          galerias: {\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"LA IMAGEN SE ELIMINÓ CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3Vyc2VzIiwiX2ZzIiwiX3BhdGgiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5IiwidmFsaWRfUHJvZHVjdCIsIm1vZGVscyIsIlByb2R1Y3QiLCJmaW5kT25lIiwidGl0bGUiLCJzdGF0dXMiLCJqc29uIiwiY29kZSIsIm1lc3NhZ2UiLCJzbHVnIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwiZmlsZXMiLCJpbWdfcGF0aCIsImltYWdlbiIsInBhdGgiLCJuYW1lIiwic3BsaXQiLCJwb3J0YWRhX25hbWUiLCJwb3J0YWRhIiwicHJvZHVjdCIsImNyZWF0ZSIsImVycm9yIiwic2VuZCIsInVwZGF0ZSIsInZhbGlkX3Byb2R1Y3QiLCJfaWQiLCIkbmUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsImNvbnNvbGUiLCJsb2ciLCJsaXN0IiwiZmlsdGVyIiwicXVlcnkiLCJzZWFyY2giLCJwdXNoIiwiUmVnRXhwIiwiY2F0ZWdvcmllIiwiY29uZGl0aW9uIiwicHJvZHVjdHMiLCJmaW5kIiwiJGFuZCIsInBvcHVsYXRlIiwibWFwIiwicmVzb3Vyc2VzIiwicHJvZHVjdF9saXN0IiwibGlzdF9zZWxsZXIiLCJzZWxsZXJJZCIsInVzZXIiLCJzZWxsZXJfaWQiLCJwcm9kdWN0c19zZWxsZXIiLCJwcm9kdWN0X3NlbGxlciIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIiwibWFzc2FnZSIsIm9idGVuZXJfaW1hZ2VuIiwiaW1nIiwicGFyYW1zIiwiZnMiLCJzdGF0IiwiZXJyIiwicGF0aF9pbWciLCJzZW5kRmlsZSIsInJlc29sdmUiLCJzaG93IiwicHJvZHVjdF9pZCIsImlkIiwiUFJPRFVDVCIsImZpbmRCeUlkIiwiVkFSSUVEQURFUyIsIlZhcmllZGFkIiwicmVnaXN0ZXJfaW1hZ2VuIiwiaW1hZ2VuX25hbWUiLCIkcHVzaCIsImdhbGVyaWFzIiwiX19pZCIsInByb2Nlc3MiLCJlbnYiLCJVUkxfQkFDS0VORCIsInJlbW92ZV9pbWFnZW4iLCIkcHVsbCJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIlByb2R1Y3RDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSAnLi4vbW9kZWxzJ1xuaW1wb3J0IHJlc291cnNlcyBmcm9tICcuLi9yZXNvdXJzZXMnO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcblxuZXhwb3J0IGRlZmF1bHR7XG4gIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PntcbiAgICB0cnkge1xuICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcbiAgICBcbiAgICAgIGxldCB2YWxpZF9Qcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZE9uZSh7dGl0bGU6ZGF0YS50aXRsZX0pO1xuICAgICAgaWYodmFsaWRfUHJvZHVjdCl7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICBjb2RlOjQwMyxcbiAgICAgICAgICBtZXNzYWdlOiBcIkVMIFBST0RVQ1RPIFlBIEVYSVNURVwiXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkYXRhLnNsdWcgPSBkYXRhLnRpdGxlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvIC9nLCctJykucmVwbGFjZSgvW15cXHctXSsvZywnJyk7XG5cbiAgICAgIGlmKHJlcS5maWxlcyl7XG4gICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5pbWFnZW4ucGF0aDtcbiAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhwb3J0YWRhX25hbWUpXG4gICAgICAgIGRhdGEucG9ydGFkYSA9IHBvcnRhZGFfbmFtZTtcbiAgICAgIH1cblxuICAgICAgbGV0IHByb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5jcmVhdGUoZGF0YSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJTdXBlciEgRWwgcHJvZHVjdG8gc2UgcmVnaXN0csOzIHNhdGlzZmFjdG9yaWFtZW50ZVwiXG4gICAgICB9KTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgdXBkYXRlOiBhc3luYyhyZXEscmVzKSA9PntcbiAgICB0cnkge1xuICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcbiAgICAgIFxuICAgICAgbGV0IHZhbGlkX3Byb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kT25lKHt0aXRsZTpkYXRhLnRpdGxlLCBfaWQ6eyRuZTogZGF0YS5faWR9fSk7XG5cbiAgICAgIGlmKHZhbGlkX3Byb2R1Y3Qpe1xuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgY29kZTo0MDMsXG4gICAgICAgICAgbWVzc2FnZTogXCJFTCBQUk9EVUNUTyBZQSBFWElTVEVcIlxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGF0YS5zbHVnID0gZGF0YS50aXRsZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyAvZyxcIi1cIikucmVwbGFjZSgvW15cXHctXSsvZywnJyk7XG5cbiAgICAgIGlmKHJlcS5maWxlcyAmJiByZXEuZmlsZXMuaW1hZ2VuKXtcbiAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLmltYWdlbi5wYXRoO1xuICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCcvJyk7XG4gICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xuICAgICAgICAvL2NvbnNvbGUubG9nKHBvcnRhZGFfbmFtZSlcbiAgICAgICAgZGF0YS5wb3J0YWRhID0gcG9ydGFkYV9uYW1lO1xuICAgICAgfVxuXG4gICAgIGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6ZGF0YS5faWR9LCBkYXRhKTtcblxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiBcIlN1cGVyISBFbCBwcm9kdWN0byBzZSBhY3R1YWxpesOzIHNhdGlzZmFjdG9yaWFtZW50ZVwiXG4gICAgICB9KTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZygnbWkgZmFsbGEgZXM6JywgZXJyb3IpXG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICB9XG5cbiAgfSxcblxuICBsaXN0OiBhc3luYyhyZXEscmVzKSA9PntcbiAgICB0cnkge1xuICAgICAgdmFyIGZpbHRlciA9IFtdO1xuICAgICAgaWYocmVxLnF1ZXJ5LnNlYXJjaCl7XG4gICAgICAgIGZpbHRlci5wdXNoKFxuICAgICAgICAgIHtcInRpdGxlXCI6IG5ldyBSZWdFeHAocmVxLnF1ZXJ5LnNlYXJjaCwgXCJpXCIpfSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmKHJlcS5xdWVyeS5jYXRlZ29yaWUpe1xuICAgICAgICBmaWx0ZXIucHVzaChcbiAgICAgICAgICB7XCJjYXRlZ29yaWVcIjogcmVxLnF1ZXJ5LmNhdGVnb3JpZX0sXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZihyZXEucXVlcnkuY29uZGl0aW9uKXtcbiAgICAgICAgZmlsdGVyLnB1c2goXG4gICAgICAgICAge1wiY29uZGl0aW9uXCI6IHJlcS5xdWVyeS5jb25kaXRpb259LFxuICAgICAgICApO1xuICAgICAgfVxuICBcbiAgICAgIGxldCBwcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoe1xuICAgICAgICAkYW5kOiBmaWx0ZXIsXG4gICAgICB9KS5wb3B1bGF0ZShcImNhdGVnb3JpZVwiKVxuXG4gICAgICAvL2NvbnNvbGUubG9nKFwiUFJPXCIscHJvZHVjdHMpO1xuICBcbiAgICAgIHByb2R1Y3RzID0gcHJvZHVjdHMubWFwKHByb2R1Y3QgPT4ge1xuICAgICAgICByZXR1cm4gcmVzb3Vyc2VzLlByb2R1Y3QucHJvZHVjdF9saXN0KHByb2R1Y3QpO1xuXG4gICAgICB9KVxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBwcm9kdWN0czogcHJvZHVjdHMsXG4gICAgICB9KVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgbGlzdF9zZWxsZXI6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgXG4gICAgLy8gT2J0ZW5lbW9zIHNlbGxlcl9pZCAocHVlZGUgdmVuaXIgZGUgcmVxLmJvZHksIHJlcS5xdWVyeSBvIHBhcmFtcywgc2Vnw7puIHR1IGRpc2XDsW8pXG4gICAgY29uc3Qgc2VsbGVySWQgPSByZXEudXNlci5faWQ7XG5cbiAgICBjb25zb2xlLmxvZyhyZXEudXNlcik7XG5cbiAgICBpZiAoIXNlbGxlcklkKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcInNlbGxlcl9pZCBlcyBvYmxpZ2F0b3Jpb1wiIH0pO1xuICAgIH1cblxuICAgIC8vIENyZWFtb3MgZWwgZmlsdHJvIGluaWNpYWwgY29uIHNlbGxlcl9pZFxuICAgIGxldCBmaWx0ZXIgPSB7IHNlbGxlcl9pZDogc2VsbGVySWQgfTtcblxuICAgIC8vIEFncmVnYW1vcyBjb25kaWNpb25lcyBhZGljaW9uYWxlcyBzaSBleGlzdGVuXG4gICAgaWYgKHJlcS5xdWVyeS5zZWFyY2gpIHtcbiAgICAgIGZpbHRlci50aXRsZSA9IG5ldyBSZWdFeHAocmVxLnF1ZXJ5LnNlYXJjaCwgXCJpXCIpO1xuICAgIH1cbiAgICBpZiAocmVxLnF1ZXJ5LmNhdGVnb3JpZSkge1xuICAgICAgZmlsdGVyLmNhdGVnb3JpZSA9IHJlcS5xdWVyeS5jYXRlZ29yaWU7XG4gICAgfVxuICAgIGlmIChyZXEucXVlcnkuY29uZGl0aW9uKSB7XG4gICAgICBmaWx0ZXIuY29uZGl0aW9uID0gcmVxLnF1ZXJ5LmNvbmRpdGlvbjtcbiAgICB9XG5cbiAgICAvLyBFamVjdXRhbW9zIGxhIGNvbnN1bHRhIGNvbiBwb3B1bGF0ZVxuICAgIGxldCBwcm9kdWN0c19zZWxsZXIgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kKGZpbHRlcikucG9wdWxhdGUoXCJjYXRlZ29yaWVcIik7XG5cbiAgIC8vIGNvbnNvbGUubG9nKFwiUFJPXCIsIHByb2R1Y3RzX3NlbGxlcik7XG5cbiAgICAvLyBNYXBlYXIgcHJvZHVjdG9zIHNlZ8O6biB0dSByZWN1cnNvXG4gICAgcHJvZHVjdHNfc2VsbGVyID0gcHJvZHVjdHNfc2VsbGVyLm1hcChwcm9kdWN0X3NlbGxlciA9PiB7XG4gICAgICByZXR1cm4gcmVzb3Vyc2VzLlByb2R1Y3QucHJvZHVjdF9saXN0KHByb2R1Y3Rfc2VsbGVyKTtcbiAgICB9KTtcblxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgcHJvZHVjdHNfc2VsbGVyIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIiB9KTtcbiAgfVxufSxcblxuXG4gIHJlbW92ZTogYXN5bmMocmVxLHJlcykgPT57XG4gICAgdHJ5IHtcbiAgICAgIGxldCBfaWQgPSByZXEucXVlcnkuX2lkO1xuICAgICAgYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWRBbmREZWxldGUoe19pZDpfaWR9KTtcblxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBtYXNzYWdlOiBcIlN1cGVyISBFbCBwcm9kdWN0byBzZSBlbGltaW7DsyBzYXRpc2ZhY3RvcmlhbWVudGVcIlxuICAgICAgfSk7XG5cbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICB9XG5cbiAgfSxcblxuICBvYnRlbmVyX2ltYWdlbjogYXN5bmMocmVxLHJlcykgPT57XG4gICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBpbWcgPSByZXEucGFyYW1zWydpbWcnXTtcbiAgICAgICAgICAgIGZzLnN0YXQoJy4vdXBsb2Fkcy9wcm9kdWN0LycrIGltZywgZnVuY3Rpb24oZXJyKXtcbiAgICAgICAgICAgICAgICBpZighZXJyKXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9wcm9kdWN0LycraW1nO1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvZGVmYXVsdC5qcGcnO1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfWNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gIH0sXG5cbiAgc2hvdzogYXN5bmMocmVxLHJlcykgPT57XG4gICAgdHJ5IHtcbiAgICAgIHZhciBwcm9kdWN0X2lkID0gcmVxLnBhcmFtcy5pZDtcbiAgICAgIGxldCBQUk9EVUNUID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWQoe19pZDogcHJvZHVjdF9pZH0pO1xuXG4gICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OiBwcm9kdWN0X2lkfSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgcHJvZHVjdDogcmVzb3Vyc2VzLlByb2R1Y3QucHJvZHVjdF9saXN0KFBST0RVQ1QsIFZBUklFREFERVMpLFxuICAgICAgfSlcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuXG4gIH0sXG5cbiAgcmVnaXN0ZXJfaW1hZ2VuOiBhc3luYyhyZXEscmVzKSA9PntcbiAgICB0cnkge1xuICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMuaW1hZ2VuLnBhdGg7XG4gICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgdmFyIGltYWdlbl9uYW1lID0gbmFtZVsyXTtcblxuICAgICAgICBsZXQgcHJvZHVjdCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0sIHtcbiAgICAgICAgICAkcHVzaDoge1xuICAgICAgICAgICAgZ2FsZXJpYXM6e1xuICAgICAgICAgICAgICBpbWFnZW46IGltYWdlbl9uYW1lLFxuICAgICAgICAgICAgICBfaWQ6IHJlcS5ib2R5Ll9faWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIkxBIElNQUdFTiBTRSBTVUJJTyBDT1JSRUNUQU1FTlRFXCIsXG4gICAgICAgICAgaW1hZ2VuOiB7XG4gICAgICAgICAgICBpbWFnZW46IHByb2Nlc3MuZW52LlVSTF9CQUNLRU5EK1wiL2FwaS9wcm9kdWN0cy91cGxvYWRzL3Byb2R1Y3QvXCIraW1hZ2VuX25hbWUsXG4gICAgICAgICAgICAgIF9pZDogcmVxLmJvZHkuX19pZCxcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgIH1cblxuICB9LFxuXG4gIHJlbW92ZV9pbWFnZW46YXN5bmMocmVxLHJlcykgPT57XG4gICAgdHJ5IHtcbiAgICAgICBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiByZXEuYm9keS5faWR9LCB7XG4gICAgICAgICAgJHB1bGw6IHtcbiAgICAgICAgICAgIGdhbGVyaWFzOntcbiAgICAgICAgICAgICAgX2lkOiByZXEuYm9keS5fX2lkLFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSkgICAgIFxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgbWVzc2FnZTogXCJMQSBJTUFHRU4gU0UgRUxJTUlOw5MgQ09SUkVDVEFNRU5URVwiLFxuICAgICAgICB9KVxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIFxuICAgIH1cblxuICB9LFxuXG5cblxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsR0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsS0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQXVCLFNBQUFELHVCQUFBSyxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFVDtFQUNaRyxRQUFRLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUk7SUFDekIsSUFBSTtNQUNGLElBQUlDLElBQUksR0FBR0YsR0FBRyxDQUFDRyxJQUFJO01BRW5CLElBQUlDLGFBQWEsR0FBRyxNQUFNQyxlQUFNLENBQUNDLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDO1FBQUNDLEtBQUssRUFBQ04sSUFBSSxDQUFDTTtNQUFLLENBQUMsQ0FBQztNQUNwRSxJQUFHSixhQUFhLEVBQUM7UUFDZkgsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUNuQkMsSUFBSSxFQUFDLEdBQUc7VUFDUkMsT0FBTyxFQUFFO1FBQ1gsQ0FBQyxDQUFDO1FBQ0Y7TUFDRjtNQUNBVixJQUFJLENBQUNXLElBQUksR0FBR1gsSUFBSSxDQUFDTSxLQUFLLENBQUNNLFdBQVcsQ0FBQyxDQUFDLENBQUNDLE9BQU8sQ0FBQyxJQUFJLEVBQUMsR0FBRyxDQUFDLENBQUNBLE9BQU8sQ0FBQyxVQUFVLEVBQUMsRUFBRSxDQUFDO01BRTdFLElBQUdmLEdBQUcsQ0FBQ2dCLEtBQUssRUFBQztRQUNYLElBQUlDLFFBQVEsR0FBR2pCLEdBQUcsQ0FBQ2dCLEtBQUssQ0FBQ0UsTUFBTSxDQUFDQyxJQUFJO1FBQ3BDLElBQUlDLElBQUksR0FBR0gsUUFBUSxDQUFDSSxLQUFLLENBQUMsR0FBRyxDQUFDO1FBQzlCLElBQUlDLFlBQVksR0FBR0YsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUMxQjtRQUNBbEIsSUFBSSxDQUFDcUIsT0FBTyxHQUFHRCxZQUFZO01BQzdCO01BRUEsSUFBSUUsT0FBTyxHQUFHLE1BQU1uQixlQUFNLENBQUNDLE9BQU8sQ0FBQ21CLE1BQU0sQ0FBQ3ZCLElBQUksQ0FBQztNQUUvQ0QsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNuQkUsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBRUosQ0FBQyxDQUFDLE9BQU9jLEtBQUssRUFBRTtNQUNkekIsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNrQixJQUFJLENBQUM7UUFDbkJmLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUNKO0VBQ0YsQ0FBQztFQUVEZ0IsTUFBTSxFQUFFLE1BQUFBLENBQU01QixHQUFHLEVBQUNDLEdBQUcsS0FBSTtJQUN2QixJQUFJO01BQ0YsSUFBSUMsSUFBSSxHQUFHRixHQUFHLENBQUNHLElBQUk7TUFFbkIsSUFBSTBCLGFBQWEsR0FBRyxNQUFNeEIsZUFBTSxDQUFDQyxPQUFPLENBQUNDLE9BQU8sQ0FBQztRQUFDQyxLQUFLLEVBQUNOLElBQUksQ0FBQ00sS0FBSztRQUFFc0IsR0FBRyxFQUFDO1VBQUNDLEdBQUcsRUFBRTdCLElBQUksQ0FBQzRCO1FBQUc7TUFBQyxDQUFDLENBQUM7TUFFekYsSUFBR0QsYUFBYSxFQUFDO1FBQ2Y1QixHQUFHLENBQUNRLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQ25CQyxJQUFJLEVBQUMsR0FBRztVQUNSQyxPQUFPLEVBQUU7UUFDWCxDQUFDLENBQUM7UUFDRjtNQUNGO01BQ0FWLElBQUksQ0FBQ1csSUFBSSxHQUFHWCxJQUFJLENBQUNNLEtBQUssQ0FBQ00sV0FBVyxDQUFDLENBQUMsQ0FBQ0MsT0FBTyxDQUFDLElBQUksRUFBQyxHQUFHLENBQUMsQ0FBQ0EsT0FBTyxDQUFDLFVBQVUsRUFBQyxFQUFFLENBQUM7TUFFN0UsSUFBR2YsR0FBRyxDQUFDZ0IsS0FBSyxJQUFJaEIsR0FBRyxDQUFDZ0IsS0FBSyxDQUFDRSxNQUFNLEVBQUM7UUFDL0IsSUFBSUQsUUFBUSxHQUFHakIsR0FBRyxDQUFDZ0IsS0FBSyxDQUFDRSxNQUFNLENBQUNDLElBQUk7UUFDcEMsSUFBSUMsSUFBSSxHQUFHSCxRQUFRLENBQUNJLEtBQUssQ0FBQyxHQUFHLENBQUM7UUFDOUIsSUFBSUMsWUFBWSxHQUFHRixJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzFCO1FBQ0FsQixJQUFJLENBQUNxQixPQUFPLEdBQUdELFlBQVk7TUFDN0I7TUFFRCxNQUFNakIsZUFBTSxDQUFDQyxPQUFPLENBQUMwQixpQkFBaUIsQ0FBQztRQUFDRixHQUFHLEVBQUM1QixJQUFJLENBQUM0QjtNQUFHLENBQUMsRUFBRTVCLElBQUksQ0FBQztNQUUzREQsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNuQkUsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBRUosQ0FBQyxDQUFDLE9BQU9jLEtBQUssRUFBRTtNQUNkTyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxjQUFjLEVBQUVSLEtBQUssQ0FBQztNQUNsQ3pCLEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDa0IsSUFBSSxDQUFDO1FBQ25CZixPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7SUFDSjtFQUVGLENBQUM7RUFFRHVCLElBQUksRUFBRSxNQUFBQSxDQUFNbkMsR0FBRyxFQUFDQyxHQUFHLEtBQUk7SUFDckIsSUFBSTtNQUNGLElBQUltQyxNQUFNLEdBQUcsRUFBRTtNQUNmLElBQUdwQyxHQUFHLENBQUNxQyxLQUFLLENBQUNDLE1BQU0sRUFBQztRQUNsQkYsTUFBTSxDQUFDRyxJQUFJLENBQ1Q7VUFBQyxPQUFPLEVBQUUsSUFBSUMsTUFBTSxDQUFDeEMsR0FBRyxDQUFDcUMsS0FBSyxDQUFDQyxNQUFNLEVBQUUsR0FBRztRQUFDLENBQzdDLENBQUM7TUFDSDtNQUNBLElBQUd0QyxHQUFHLENBQUNxQyxLQUFLLENBQUNJLFNBQVMsRUFBQztRQUNyQkwsTUFBTSxDQUFDRyxJQUFJLENBQ1Q7VUFBQyxXQUFXLEVBQUV2QyxHQUFHLENBQUNxQyxLQUFLLENBQUNJO1FBQVMsQ0FDbkMsQ0FBQztNQUNIO01BQ0EsSUFBR3pDLEdBQUcsQ0FBQ3FDLEtBQUssQ0FBQ0ssU0FBUyxFQUFDO1FBQ3JCTixNQUFNLENBQUNHLElBQUksQ0FDVDtVQUFDLFdBQVcsRUFBRXZDLEdBQUcsQ0FBQ3FDLEtBQUssQ0FBQ0s7UUFBUyxDQUNuQyxDQUFDO01BQ0g7TUFFQSxJQUFJQyxRQUFRLEdBQUcsTUFBTXRDLGVBQU0sQ0FBQ0MsT0FBTyxDQUFDc0MsSUFBSSxDQUFDO1FBQ3ZDQyxJQUFJLEVBQUVUO01BQ1IsQ0FBQyxDQUFDLENBQUNVLFFBQVEsQ0FBQyxXQUFXLENBQUM7O01BRXhCOztNQUVBSCxRQUFRLEdBQUdBLFFBQVEsQ0FBQ0ksR0FBRyxDQUFDdkIsT0FBTyxJQUFJO1FBQ2pDLE9BQU93QixrQkFBUyxDQUFDMUMsT0FBTyxDQUFDMkMsWUFBWSxDQUFDekIsT0FBTyxDQUFDO01BRWhELENBQUMsQ0FBQztNQUNGdkIsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNuQmlDLFFBQVEsRUFBRUE7TUFDWixDQUFDLENBQUM7SUFDSixDQUFDLENBQUMsT0FBT2pCLEtBQUssRUFBRTtNQUNkekIsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNrQixJQUFJLENBQUM7UUFDbkJmLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUNKO0VBQ0YsQ0FBQztFQUVEc0MsV0FBVyxFQUFFLE1BQUFBLENBQU9sRCxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUNqQyxJQUFJO01BRUY7TUFDQSxNQUFNa0QsUUFBUSxHQUFHbkQsR0FBRyxDQUFDb0QsSUFBSSxDQUFDdEIsR0FBRztNQUU3QkcsT0FBTyxDQUFDQyxHQUFHLENBQUNsQyxHQUFHLENBQUNvRCxJQUFJLENBQUM7TUFFckIsSUFBSSxDQUFDRCxRQUFRLEVBQUU7UUFDYixPQUFPbEQsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUFFRSxPQUFPLEVBQUU7UUFBMkIsQ0FBQyxDQUFDO01BQ3RFOztNQUVBO01BQ0EsSUFBSXdCLE1BQU0sR0FBRztRQUFFaUIsU0FBUyxFQUFFRjtNQUFTLENBQUM7O01BRXBDO01BQ0EsSUFBSW5ELEdBQUcsQ0FBQ3FDLEtBQUssQ0FBQ0MsTUFBTSxFQUFFO1FBQ3BCRixNQUFNLENBQUM1QixLQUFLLEdBQUcsSUFBSWdDLE1BQU0sQ0FBQ3hDLEdBQUcsQ0FBQ3FDLEtBQUssQ0FBQ0MsTUFBTSxFQUFFLEdBQUcsQ0FBQztNQUNsRDtNQUNBLElBQUl0QyxHQUFHLENBQUNxQyxLQUFLLENBQUNJLFNBQVMsRUFBRTtRQUN2QkwsTUFBTSxDQUFDSyxTQUFTLEdBQUd6QyxHQUFHLENBQUNxQyxLQUFLLENBQUNJLFNBQVM7TUFDeEM7TUFDQSxJQUFJekMsR0FBRyxDQUFDcUMsS0FBSyxDQUFDSyxTQUFTLEVBQUU7UUFDdkJOLE1BQU0sQ0FBQ00sU0FBUyxHQUFHMUMsR0FBRyxDQUFDcUMsS0FBSyxDQUFDSyxTQUFTO01BQ3hDOztNQUVBO01BQ0EsSUFBSVksZUFBZSxHQUFHLE1BQU1qRCxlQUFNLENBQUNDLE9BQU8sQ0FBQ3NDLElBQUksQ0FBQ1IsTUFBTSxDQUFDLENBQUNVLFFBQVEsQ0FBQyxXQUFXLENBQUM7O01BRTlFOztNQUVDO01BQ0FRLGVBQWUsR0FBR0EsZUFBZSxDQUFDUCxHQUFHLENBQUNRLGNBQWMsSUFBSTtRQUN0RCxPQUFPUCxrQkFBUyxDQUFDMUMsT0FBTyxDQUFDMkMsWUFBWSxDQUFDTSxjQUFjLENBQUM7TUFDdkQsQ0FBQyxDQUFDO01BRUZ0RCxHQUFHLENBQUNRLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQUU0QztNQUFnQixDQUFDLENBQUM7SUFFM0MsQ0FBQyxDQUFDLE9BQU81QixLQUFLLEVBQUU7TUFDZE8sT0FBTyxDQUFDUCxLQUFLLENBQUNBLEtBQUssQ0FBQztNQUNwQnpCLEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDa0IsSUFBSSxDQUFDO1FBQUVmLE9BQU8sRUFBRTtNQUFzQixDQUFDLENBQUM7SUFDMUQ7RUFDRixDQUFDO0VBR0M0QyxNQUFNLEVBQUUsTUFBQUEsQ0FBTXhELEdBQUcsRUFBQ0MsR0FBRyxLQUFJO0lBQ3ZCLElBQUk7TUFDRixJQUFJNkIsR0FBRyxHQUFHOUIsR0FBRyxDQUFDcUMsS0FBSyxDQUFDUCxHQUFHO01BQ3ZCLE1BQU16QixlQUFNLENBQUNDLE9BQU8sQ0FBQ21ELGlCQUFpQixDQUFDO1FBQUMzQixHQUFHLEVBQUNBO01BQUcsQ0FBQyxDQUFDO01BRWpEN0IsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNuQmdELE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUdKLENBQUMsQ0FBQyxPQUFPaEMsS0FBSyxFQUFFO01BQ2R6QixHQUFHLENBQUNRLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ2tCLElBQUksQ0FBQztRQUNuQmYsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ0o7RUFFRixDQUFDO0VBRUQrQyxjQUFjLEVBQUUsTUFBQUEsQ0FBTTNELEdBQUcsRUFBQ0MsR0FBRyxLQUFJO0lBQy9CLElBQUk7TUFDSSxJQUFJMkQsR0FBRyxHQUFHNUQsR0FBRyxDQUFDNkQsTUFBTSxDQUFDLEtBQUssQ0FBQztNQUMzQkMsV0FBRSxDQUFDQyxJQUFJLENBQUMsb0JBQW9CLEdBQUVILEdBQUcsRUFBRSxVQUFTSSxHQUFHLEVBQUM7UUFDNUMsSUFBRyxDQUFDQSxHQUFHLEVBQUM7VUFDSixJQUFJQyxRQUFRLEdBQUcsb0JBQW9CLEdBQUNMLEdBQUc7VUFDdkMzRCxHQUFHLENBQUNRLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ3lELFFBQVEsQ0FBQy9DLGFBQUksQ0FBQ2dELE9BQU8sQ0FBQ0YsUUFBUSxDQUFDLENBQUM7UUFDcEQsQ0FBQyxNQUFJO1VBQ0QsSUFBSUEsUUFBUSxHQUFHLHVCQUF1QjtVQUN0Q2hFLEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDeUQsUUFBUSxDQUFDL0MsYUFBSSxDQUFDZ0QsT0FBTyxDQUFDRixRQUFRLENBQUMsQ0FBQztRQUNwRDtNQUNKLENBQUMsQ0FBQztJQUNOLENBQUMsUUFBT3ZDLEtBQUssRUFBRTtNQUNiekIsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNrQixJQUFJLENBQUM7UUFDbkJmLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUNKO0VBQ04sQ0FBQztFQUVEd0QsSUFBSSxFQUFFLE1BQUFBLENBQU1wRSxHQUFHLEVBQUNDLEdBQUcsS0FBSTtJQUNyQixJQUFJO01BQ0YsSUFBSW9FLFVBQVUsR0FBR3JFLEdBQUcsQ0FBQzZELE1BQU0sQ0FBQ1MsRUFBRTtNQUM5QixJQUFJQyxPQUFPLEdBQUcsTUFBTWxFLGVBQU0sQ0FBQ0MsT0FBTyxDQUFDa0UsUUFBUSxDQUFDO1FBQUMxQyxHQUFHLEVBQUV1QztNQUFVLENBQUMsQ0FBQztNQUU5RCxJQUFJSSxVQUFVLEdBQUcsTUFBTXBFLGVBQU0sQ0FBQ3FFLFFBQVEsQ0FBQzlCLElBQUksQ0FBQztRQUFDcEIsT0FBTyxFQUFFNkM7TUFBVSxDQUFDLENBQUM7TUFFbEVwRSxHQUFHLENBQUNRLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ25CYyxPQUFPLEVBQUV3QixrQkFBUyxDQUFDMUMsT0FBTyxDQUFDMkMsWUFBWSxDQUFDc0IsT0FBTyxFQUFFRSxVQUFVO01BQzdELENBQUMsQ0FBQztJQUVKLENBQUMsQ0FBQyxPQUFPL0MsS0FBSyxFQUFFO01BQ2R6QixHQUFHLENBQUNRLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ2tCLElBQUksQ0FBQztRQUNuQmYsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO01BQ0ZxQixPQUFPLENBQUNDLEdBQUcsQ0FBQ1IsS0FBSyxDQUFDO0lBQ3BCO0VBRUYsQ0FBQztFQUVEaUQsZUFBZSxFQUFFLE1BQUFBLENBQU0zRSxHQUFHLEVBQUNDLEdBQUcsS0FBSTtJQUNoQyxJQUFJO01BQ0EsSUFBSWdCLFFBQVEsR0FBR2pCLEdBQUcsQ0FBQ2dCLEtBQUssQ0FBQ0UsTUFBTSxDQUFDQyxJQUFJO01BQ3BDLElBQUlDLElBQUksR0FBR0gsUUFBUSxDQUFDSSxLQUFLLENBQUMsR0FBRyxDQUFDO01BQzlCLElBQUl1RCxXQUFXLEdBQUd4RCxJQUFJLENBQUMsQ0FBQyxDQUFDO01BRXpCLElBQUlJLE9BQU8sR0FBRyxNQUFNbkIsZUFBTSxDQUFDQyxPQUFPLENBQUMwQixpQkFBaUIsQ0FBQztRQUFDRixHQUFHLEVBQUU5QixHQUFHLENBQUNHLElBQUksQ0FBQzJCO01BQUcsQ0FBQyxFQUFFO1FBQ3hFK0MsS0FBSyxFQUFFO1VBQ0xDLFFBQVEsRUFBQztZQUNQNUQsTUFBTSxFQUFFMEQsV0FBVztZQUNuQjlDLEdBQUcsRUFBRTlCLEdBQUcsQ0FBQ0csSUFBSSxDQUFDNEU7VUFDaEI7UUFDRjtNQUNGLENBQUMsQ0FBQztNQUNGOUUsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNuQkUsT0FBTyxFQUFFLGtDQUFrQztRQUMzQ00sTUFBTSxFQUFFO1VBQ05BLE1BQU0sRUFBRThELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxXQUFXLEdBQUMsZ0NBQWdDLEdBQUNOLFdBQVc7VUFDMUU5QyxHQUFHLEVBQUU5QixHQUFHLENBQUNHLElBQUksQ0FBQzRFO1FBQ2xCO01BQ0YsQ0FBQyxDQUFDO0lBRU4sQ0FBQyxDQUFDLE9BQU9yRCxLQUFLLEVBQUU7TUFDZHpCLEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDa0IsSUFBSSxDQUFDO1FBQ25CZixPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7SUFDSjtFQUVGLENBQUM7RUFFRHVFLGFBQWEsRUFBQyxNQUFBQSxDQUFNbkYsR0FBRyxFQUFDQyxHQUFHLEtBQUk7SUFDN0IsSUFBSTtNQUNELE1BQU1JLGVBQU0sQ0FBQ0MsT0FBTyxDQUFDMEIsaUJBQWlCLENBQUM7UUFBQ0YsR0FBRyxFQUFFOUIsR0FBRyxDQUFDRyxJQUFJLENBQUMyQjtNQUFHLENBQUMsRUFBRTtRQUN6RHNELEtBQUssRUFBRTtVQUNMTixRQUFRLEVBQUM7WUFDUGhELEdBQUcsRUFBRTlCLEdBQUcsQ0FBQ0csSUFBSSxDQUFDNEU7VUFDaEI7UUFDRjtNQUNGLENBQUMsQ0FBQztNQUNGOUUsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNuQkUsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBRU4sQ0FBQyxDQUFDLE9BQU9jLEtBQUssRUFBRTtNQUNkekIsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNrQixJQUFJLENBQUM7UUFDbkJmLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUVKO0VBRUY7QUFJRixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resourses","_fs","_path","e","__esModule","default","_default","exports","register","req","res","data","body","valid_Product","models","Product","findOne","title","status","json","code","message","slug","toLowerCase","replace","files","img_path","imagen","path","name","split","portada_name","portada","product","create","error","send","update","valid_product","_id","$ne","findByIdAndUpdate","console","log","list","filter","query","search","push","RegExp","categorie","condition","products","find","$and","populate","map","resourses","product_list","list_seller","sellerId","user","seller_id","products_seller","product_seller","remove","findByIdAndDelete","massage","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","show","product_id","id","PRODUCT","findById","VARIEDADES","Variedad","register_imagen","imagen_name","$push","galerias","__id","process","env","URL_BACKEND","remove_imagen","$pull"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["ProductController.js"],"sourcesContent":["import models from '../models'\nimport resourses from '../resourses';\nimport fs from 'fs'\nimport path from 'path'\n\nexport default{\n  register: async(req,res) =>{\n    try {\n      let data = req.body;\n    \n      let valid_Product = await models.Product.findOne({title:data.title});\n      if(valid_Product){\n        res.status(200).json({\n          code:403,\n          message: \"EL PRODUCTO YA EXISTE\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g,'-').replace(/[^\\w-]+/g,'');\n\n      if(req.files){\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        data.portada = portada_name;\n      }\n\n      let product = await models.Product.create(data);\n\n      res.status(200).json({\n        message: \"Super! El producto se registró satisfactoriamente\"\n      });\n\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n\n  update: async(req,res) =>{\n    try {\n      let data = req.body;\n      \n      let valid_product = await models.Product.findOne({title:data.title, _id:{$ne: data._id}});\n\n      if(valid_product){\n        res.status(200).json({\n          code:403,\n          message: \"EL PRODUCTO YA EXISTE\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g,\"-\").replace(/[^\\w-]+/g,'');\n\n      if(req.files && req.files.imagen){\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        data.portada = portada_name;\n      }\n\n     await models.Product.findByIdAndUpdate({_id:data._id}, data);\n\n      res.status(200).json({\n        message: \"Super! El producto se actualizó satisfactoriamente\"\n      });\n\n    } catch (error) {\n      console.log('mi falla es:', error)\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n\n  },\n\n  list: async(req,res) =>{\n    try {\n      var filter = [];\n      if(req.query.search){\n        filter.push(\n          {\"title\": new RegExp(req.query.search, \"i\")},\n        );\n      }\n      if(req.query.categorie){\n        filter.push(\n          {\"categorie\": req.query.categorie},\n        );\n      }\n      if(req.query.condition){\n        filter.push(\n          {\"condition\": req.query.condition},\n        );\n      }\n  \n      let products = await models.Product.find({\n        $and: filter,\n      }).populate(\"categorie\")\n\n      //console.log(\"PRO\",products);\n  \n      products = products.map(product => {\n        return resourses.Product.product_list(product);\n\n      })\n      res.status(200).json({\n        products: products,\n      })\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n\n  list_seller: async (req, res) => {\n  try {\n   \n    // Obtenemos seller_id (puede venir de req.body, req.query o params, según tu diseño)\n    const sellerId = req.user._id;\n\n    console.log(req.user);\n\n    if (!sellerId) {\n      return res.status(400).json({ message: \"seller_id es obligatorio\" });\n    }\n\n    // Creamos el filtro inicial con seller_id\n    let filter = { seller_id: sellerId };\n\n    // Agregamos condiciones adicionales si existen\n    if (req.query.search) {\n      filter.title = new RegExp(req.query.search, \"i\");\n    }\n    if (req.query.categorie) {\n      filter.categorie = req.query.categorie;\n    }\n    if (req.query.condition) {\n      filter.condition = req.query.condition;\n    }\n\n    // Ejecutamos la consulta con populate\n    let products_seller = await models.Product.find(filter).populate(\"categorie\");\n\n   // console.log(\"PRO\", products_seller);\n\n    // Mapear productos según tu recurso\n    products_seller = products_seller.map(product_seller => {\n      return resourses.Product.product_list(product_seller);\n    });\n\n    res.status(200).json({ products_seller });\n\n  } catch (error) {\n    console.error(error);\n    res.status(500).send({ message: \"OCURRIO UN PROBLEMA\" });\n  }\n},\n\n\n  remove: async(req,res) =>{\n    try {\n      let _id = req.query._id;\n      await models.Product.findByIdAndDelete({_id:_id});\n\n      res.status(200).json({\n        massage: \"Super! El producto se eliminó satisfactoriamente\"\n      });\n\n      \n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n\n  },\n\n  obtener_imagen: async(req,res) =>{\n    try {\n            var img = req.params['img'];\n            fs.stat('./uploads/product/'+ img, function(err){\n                if(!err){\n                    let path_img = './uploads/product/'+img;\n                    res.status(200).sendFile(path.resolve(path_img));\n                }else{\n                    let path_img = './uploads/default.jpg';\n                    res.status(200).sendFile(path.resolve(path_img));\n                }\n            })\n        }catch (error) {\n          res.status(500).send({\n            message: \"OCURRIÓ UN PROBLEMA\"\n          });\n        }\n  },\n\n  show: async(req,res) =>{\n    try {\n      var product_id = req.params.id;\n      let PRODUCT = await models.Product.findById({_id: product_id});\n\n      let VARIEDADES = await models.Variedad.find({product: product_id});\n\n      res.status(200).json({\n        product: resourses.Product.product_list(PRODUCT, VARIEDADES),\n      })\n      \n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n\n  },\n\n  register_imagen: async(req,res) =>{\n    try {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var imagen_name = name[2];\n\n        let product = await models.Product.findByIdAndUpdate({_id: req.body._id}, {\n          $push: {\n            galerias:{\n              imagen: imagen_name,\n              _id: req.body.__id\n            }\n          }\n        })\n        res.status(200).json({\n          message: \"LA IMAGEN SE SUBIO CORRECTAMENTE\",\n          imagen: {\n            imagen: process.env.URL_BACKEND+\"/api/products/uploads/product/\"+imagen_name,\n              _id: req.body.__id,\n          }\n        })\n      \n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n\n  },\n\n  remove_imagen:async(req,res) =>{\n    try {\n       await models.Product.findByIdAndUpdate({_id: req.body._id}, {\n          $pull: {\n            galerias:{\n              _id: req.body.__id,\n            }\n          }\n        })     \n        res.status(200).json({\n          message: \"LA IMAGEN SE ELIMINÓ CORRECTAMENTE\",\n        })\n      \n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      \n    }\n\n  },\n\n\n\n}"],"mappings":"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","ignoreList":[]}},"mtime":1750080552365},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/VariedadController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let variedad_exits = await _models.default.Variedad.findOne({\n        valor: data.valor,\n        product: data.product\n      });\n      var variedad = null;\n      if (variedad_exits) {\n        data.stock = variedad_exits.stock + data.stock;\n        await _models.default.Variedad.findByIdAndUpdate({\n          _id: variedad_exits._id\n        }, data);\n        variedad = await _models.default.Variedad.findById({\n          _id: variedad_exits._id\n        });\n      } else {\n        variedad = await _models.default.Variedad.create(data);\n      }\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      await _models.default.Variedad.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let variedad = await _models.default.Variedad.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.params.id;\n      await _models.default.Variedad.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: \"Se elimino la variedad\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5IiwidmFyaWVkYWRfZXhpdHMiLCJtb2RlbHMiLCJWYXJpZWRhZCIsImZpbmRPbmUiLCJ2YWxvciIsInByb2R1Y3QiLCJ2YXJpZWRhZCIsInN0b2NrIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJfaWQiLCJmaW5kQnlJZCIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJzZW5kIiwibWVzc2FnZSIsInVwZGF0ZSIsImRlbGV0ZSIsInBhcmFtcyIsImlkIiwiZmluZEJ5SWRBbmREZWxldGUiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJWYXJpZWRhZENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5cblxuZXhwb3J0IGRlZmF1bHR7XG5cbiAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcblxuICAgICAgbGV0IHZhcmllZGFkX2V4aXRzID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRPbmUoe3ZhbG9yOiBkYXRhLnZhbG9yLCBwcm9kdWN0OiBkYXRhLnByb2R1Y3R9KTtcblxuICAgICAgdmFyIHZhcmllZGFkID0gbnVsbDtcblxuICAgICAgaWYodmFyaWVkYWRfZXhpdHMpe1xuICAgICAgICBkYXRhLnN0b2NrID0gdmFyaWVkYWRfZXhpdHMuc3RvY2sgKyBkYXRhLnN0b2NrO1xuICAgICAgICBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogdmFyaWVkYWRfZXhpdHMuX2lkfSwgZGF0YSk7XG4gICAgICAgIHZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkKHtfaWQ6IHZhcmllZGFkX2V4aXRzLl9pZH0pO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmNyZWF0ZShkYXRhKTtcbiAgICAgIH1cblxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICB2YXJpZWRhZDogdmFyaWVkYWQgXG4gICAgICB9KTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KVxuICAgIH1cbiAgfSxcblxuICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcblxuICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6ZGF0YS5faWR9LGRhdGEpO1xuICAgICAgXG4gICAgICBsZXQgdmFyaWVkYWQgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWQoe19pZDpkYXRhLl9pZH0pO1xuXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIHZhcmllZGFkOiB2YXJpZWRhZCBcbiAgICAgIH0pO1xuICAgICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxuICAgICAgfSlcbiAgICB9XG4gIH0sXG4gIGRlbGV0ZTogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgXG4gICAgdHJ5IHtcbiAgICAgIGxldCBfaWQ9IHJlcS5wYXJhbXMuaWQ7XG4gICAgIFxuICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6X2lkfSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJTZSBlbGltaW5vIGxhIHZhcmllZGFkXCJcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxuICAgICAgfSlcbiAgICB9XG4gIH0sXG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUErQixTQUFBRCx1QkFBQUUsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBR2pCO0VBRVpHLFFBQVEsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUMxQixJQUFJO01BQ0YsSUFBSUMsSUFBSSxHQUFHRixHQUFHLENBQUNHLElBQUk7TUFFbkIsSUFBSUMsY0FBYyxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsUUFBUSxDQUFDQyxPQUFPLENBQUM7UUFBQ0MsS0FBSyxFQUFFTixJQUFJLENBQUNNLEtBQUs7UUFBRUMsT0FBTyxFQUFFUCxJQUFJLENBQUNPO01BQU8sQ0FBQyxDQUFDO01BRTlGLElBQUlDLFFBQVEsR0FBRyxJQUFJO01BRW5CLElBQUdOLGNBQWMsRUFBQztRQUNoQkYsSUFBSSxDQUFDUyxLQUFLLEdBQUdQLGNBQWMsQ0FB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","map":{"version":3,"names":["_models","_interopRequireDefault","require","e","__esModule","default","_default","exports","register","req","res","data","body","variedad_exits","models","Variedad","findOne","valor","product","variedad","stock","findByIdAndUpdate","_id","findById","create","status","json","error","console","log","send","message","update","delete","params","id","findByIdAndDelete"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["VariedadController.js"],"sourcesContent":["import models from \"../models\";\n\n\nexport default{\n\n  register: async(req,res) => {\n    try {\n      let data = req.body;\n\n      let variedad_exits = await models.Variedad.findOne({valor: data.valor, product: data.product});\n\n      var variedad = null;\n\n      if(variedad_exits){\n        data.stock = variedad_exits.stock + data.stock;\n        await models.Variedad.findByIdAndUpdate({_id: variedad_exits._id}, data);\n        variedad = await models.Variedad.findById({_id: variedad_exits._id});\n      }else{\n        variedad = await models.Variedad.create(data);\n      }\n\n      res.status(200).json({\n        variedad: variedad \n      });\n\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      })\n    }\n  },\n\n  update: async(req,res) => {\n    try {\n      let data = req.body;\n\n      await models.Variedad.findByIdAndUpdate({_id:data._id},data);\n      \n      let variedad = await models.Variedad.findById({_id:data._id});\n\n      res.status(200).json({\n        variedad: variedad \n      });\n        \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      })\n    }\n  },\n  delete: async(req,res) => {\n   \n    try {\n      let _id= req.params.id;\n     \n      await models.Variedad.findByIdAndDelete({_id:_id});\n\n      res.status(200).json({\n        message: \"Se elimino la variedad\"\n      });\n      \n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      })\n    }\n  },\n}\n"],"mappings":"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","ignoreList":[]}},"mtime":1737600006827},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _SliderController = _interopRequireDefault(require(\"../controllers/SliderController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/slider'\n});\nconst router = (0, _expressPromiseRouter.default)();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _SliderController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _SliderController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _SliderController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _SliderController.default.remove);\nrouter.get(\"/uploads/slider/:img\", _SliderController.default.obtener_imagen);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9TbGlkZXJDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJwYXRoIiwibXVsdGlwYXJ0eSIsInVwbG9hZERpciIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwic2xpZGVyQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSIsIm9idGVuZXJfaW1hZ2VuIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbIlNsaWRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiXG5pbXBvcnQgc2xpZGVyQ29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvU2xpZGVyQ29udHJvbGxlclwiXG5pbXBvcnQgYXV0aCBmcm9tIFwiLi4vbWlkZGxld2FyZXMvYXV0aFwiXG5pbXBvcnQgbXVsdGlwYXJ0eSBmcm9tICdjb25uZWN0LW11bHRpcGFydHknO1xuXG5cbnZhciBwYXRoID0gbXVsdGlwYXJ0eSh7dXBsb2FkRGlyOicuL3VwbG9hZHMvc2xpZGVyJ30pO1xuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG4vLyBwcm9jZXNzLmVudi5VUkxfQkFDS0VORC9hcGkvdXNlcnMvcmVnaXN0ZXJcblxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGhdLHNsaWRlckNvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnB1dChcIi91cGRhdGVcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxzbGlkZXJDb250cm9sbGVyLnVwZGF0ZSk7XG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUFkbWluLHNsaWRlckNvbnRyb2xsZXIubGlzdCk7XG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLGF1dGgudmVyaWZ5QWRtaW4sc2xpZGVyQ29udHJvbGxlci5yZW1vdmUpO1xuXG5yb3V0ZXIuZ2V0KFwiL3VwbG9hZHMvc2xpZGVyLzppbWdcIixzbGlkZXJDb250cm9sbGVyLm9idGVuZXJfaW1hZ2VuKTtcblxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsaUJBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLGtCQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBNEMsU0FBQUQsdUJBQUFLLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFHNUMsSUFBSUcsSUFBSSxHQUFHLElBQUFDLDBCQUFVLEVBQUM7RUFBQ0MsU0FBUyxFQUFDO0FBQWtCLENBQUMsQ0FBQztBQUNyRCxNQUFNQyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDOztBQUV4Qjs7QUFFQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFFUCxJQUFJLENBQUMsRUFBQ1EseUJBQWdCLENBQUNDLFFBQVEsQ0FBQztBQUM1RU4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDLENBQUNKLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EseUJBQWdCLENBQUNHLE1BQU0sQ0FBQztBQUNyRVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MseUJBQWdCLENBQUNLLElBQUksQ0FBQztBQUMxRFYsTUFBTSxDQUFDVyxNQUFNLENBQUMsU0FBUyxFQUFDUixhQUFJLENBQUNDLFdBQVcsRUFBQ0MseUJBQWdCLENBQUNPLE1BQU0sQ0FBQztBQUVqRVosTUFBTSxDQUFDUyxHQUFHLENBQUMsc0JBQXNCLEVBQUNKLHlCQUFnQixDQUFDUSxjQUFjLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQW5CLE9BQUEsR0FHcERJLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_SliderController","_auth","_connectMultiparty","e","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","sliderController","register","put","update","get","list","delete","remove","obtener_imagen","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Slider.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport sliderController from \"../controllers/SliderController\"\nimport auth from \"../middlewares/auth\"\nimport multiparty from 'connect-multiparty';\n\n\nvar path = multiparty({uploadDir:'./uploads/slider'});\nconst router = routerx();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [auth.verifyAdmin, path],sliderController.register);\nrouter.put(\"/update\",[auth.verifyAdmin,path],sliderController.update);\nrouter.get(\"/list\",auth.verifyAdmin,sliderController.list);\nrouter.delete(\"/delete\",auth.verifyAdmin,sliderController.remove);\n\nrouter.get(\"/uploads/slider/:img\",sliderController.obtener_imagen);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,iBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA4C,SAAAD,uBAAAK,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAG5C,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAC;AAAkB,CAAC,CAAC;AACrD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAACQ,yBAAgB,CAACC,QAAQ,CAAC;AAC5EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAC,CAACJ,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,yBAAgB,CAACG,MAAM,CAAC;AACrER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACK,IAAI,CAAC;AAC1DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAACR,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACO,MAAM,CAAC;AAEjEZ,MAAM,CAACS,GAAG,CAAC,sBAAsB,EAACJ,yBAAgB,CAACQ,cAAc,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAnB,OAAA,GAGpDI,MAAM","ignoreList":[]}},"mtime":1741488788318},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/SliderController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      //console.log(req.files);\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      const slider = await _models.default.Slider.create(req.body);\n      res.status(200).json(slider);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Slider.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let SliderT = await _models.default.Slider.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL SLIDER SE HA MODIFICADO CORRECTAMENTE\",\n        slider: _resourses.default.Slider.slider_list(SliderT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Sliders = await _models.default.Slider.find({\n        $or: [{\n          \"title\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Sliders = Sliders.map(user => {\n        return _resourses.default.Slider.slider_list(user);\n      });\n      res.status(200).json({\n        sliders: Sliders\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/slider/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/slider/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Slider.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"  EL SLIDER SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3Vyc2VzIiwiX2ZzIiwiX3BhdGgiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImZpbGVzIiwiaW1nX3BhdGgiLCJwb3J0YWRhIiwicGF0aCIsIm5hbWUiLCJzcGxpdCIsInBvcnRhZGFfbmFtZSIsImJvZHkiLCJpbWFnZW4iLCJzbGlkZXIiLCJtb2RlbHMiLCJTbGlkZXIiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsIlNsaWRlclQiLCJmaW5kT25lIiwicmVzb3Vyc2UiLCJzbGlkZXJfbGlzdCIsImxpc3QiLCJzZWFyY2giLCJxdWVyeSIsIlNsaWRlcnMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsInVzZXIiLCJzbGlkZXJzIiwib2J0ZW5lcl9pbWFnZW4iLCJpbWciLCJwYXJhbXMiLCJmcyIsInN0YXQiLCJlcnIiLCJwYXRoX2ltZyIsInNlbmRGaWxlIiwicmVzb2x2ZSIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiU2xpZGVyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcbmltcG9ydCByZXNvdXJzZSBmcm9tICcuLi9yZXNvdXJzZXMnXG5pbXBvcnQgZnMgZnJvbSAnZnMnXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy9jb25zb2xlLmxvZyhyZXEuZmlsZXMpO1xuICAgICAgIGlmKHJlcS5maWxlcyl7XG4gICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMucG9ydGFkYS5wYXRoO1xuICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgICAvL2NvbnNvbGUubG9nKHBvcnRhZGFfbmFtZSlcbiAgICAgICAgIHJlcS5ib2R5LmltYWdlbiA9IHBvcnRhZGFfbmFtZTtcbiAgICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHNsaWRlciA9IGF3YWl0IG1vZGVscy5TbGlkZXIuY3JlYXRlKHJlcS5ib2R5KTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHNsaWRlcik7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuICB9LFxuICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgIGlmKHJlcS5maWxlcyAmJiByZXEuZmlsZXMucG9ydGFkYSl7XG4gICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMucG9ydGFkYS5wYXRoO1xuICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgICAvL2NvbnNvbGUubG9nKHBvcnRhZGFfbmFtZSlcbiAgICAgICByZXEuYm9keS5pbWFnZW4gPSBwb3J0YWRhX25hbWU7XG4gICAgICAgfVxuXG4gICAgIGF3YWl0IG1vZGVscy5TbGlkZXIuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkfSxyZXEuYm9keSk7XG5cbiAgICAgbGV0IFNsaWRlclQgPSBhd2FpdCBtb2RlbHMuU2xpZGVyLmZpbmRPbmUoe19pZDogcmVxLmJvZHkuX2lkfSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJFTCBTTElERVIgU0UgSEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFXCIsXG4gICAgICAgIHNsaWRlcjogcmVzb3Vyc2UuU2xpZGVyLnNsaWRlcl9saXN0KFNsaWRlclQpLFxuICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cblxuICB9LFxuICBsaXN0OiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoO1xuICAgICAgbGV0IFNsaWRlcnMgID0gYXdhaXQgbW9kZWxzLlNsaWRlci5maW5kKHtcbiAgICAgICAgJG9yOltcbiAgICAgICAgICB7XCJ0aXRsZVwiOiBuZXcgUmVnRXhwKHNlYXJjaCwgXCJpXCIpfSxcbiAgICAgICAgXVxuICAgIH0pLnNvcnQoeydjcmVhdGVkQXQnOi0xfSk7XG5cbiAgICBTbGlkZXJzID0gU2xpZGVycy5tYXAoKHVzZXIpID0+IHtcbiAgICAgIHJldHVybiByZXNvdXJzZS5TbGlkZXIuc2xpZGVyX2xpc3QodXNlcik7XG4gICAgfSlcblxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgIHNsaWRlcnM6IFNsaWRlcnNcbiAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgXG4gICAgfVxuICB9LFxuICBvYnRlbmVyX2ltYWdlbjogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBpbWcgPSByZXEucGFyYW1zWydpbWcnXTtcbiAgICAgICAgXG5cbiAgICAgICAgZnMuc3RhdCgnLi91cGxvYWRzL3NsaWRlci8nKyBpbWcsIGZ1bmN0aW9uKGVycil7XG4gICAgICAgICAgICBpZighZXJyKXtcbiAgICAgICAgICAgICAgICBsZXQgcGF0aF9pbWcgPSAnLi91cGxvYWRzL3NsaWRlci8nK2ltZztcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBsZXQgcGF0aF9pbWcgPSAnLi91cGxvYWRzL2RlZmF1bHQuanBnJztcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfWNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cbiAgfSxcbiAgcmVtb3ZlOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IG1vZGVscy5TbGlkZXIuZmluZEJ5SWRBbmREZWxldGUoe19pZDogcmVxLnF1ZXJ5Ll9pZH0pO1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiBcIiAgRUwgU0xJREVSIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG4gIH0sXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxHQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxLQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBdUIsU0FBQUQsdUJBQUFLLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUdSO0VBQ2JHLFFBQVEsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUMxQixJQUFJO01BQ0Y7TUFDQyxJQUFHRCxHQUFHLENBQUNFLEtBQUssRUFBQztRQUNYLElBQUlDLFFBQVEsR0FBR0gsR0FBRyxDQUFDRSxLQUFLLENBQUNFLE9BQU8sQ0FBQ0MsSUFBSTtRQUNyQyxJQUFJQyxJQUFJLEdBQUdILFFBQVEsQ0FBQ0ksS0FBSyxDQUFDLEdBQUcsQ0FBQztRQUM5QixJQUFJQyxZQUFZLEdBQUdGLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDMUI7UUFDQU4sR0FBRyxDQUFDUyxJQUFJLENBQUNDLE1BQU0sR0FBR0YsWUFBWTtNQUNoQztNQUVELE1BQU1HLE1BQU0sR0FBRyxNQUFNQyxlQUFNLENBQUNDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDZCxHQUFHLENBQUNTLElBQUksQ0FBQztNQUNuRFIsR0FBRyxDQUFDYyxNQUFN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QUFDO0lBRXBCO0VBQ0YsQ0FBQztFQUNEdUIsY0FBYyxFQUFFLE1BQUFBLENBQU14QyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUNoQyxJQUFJO01BQ0EsSUFBSXdDLEdBQUcsR0FBR3pDLEdBQUcsQ0FBQzBDLE1BQU0sQ0FBQyxLQUFLLENBQUM7TUFHM0JDLFdBQUUsQ0FBQ0MsSUFBSSxDQUFDLG1CQUFtQixHQUFFSCxHQUFHLEVBQUUsVUFBU0ksR0FBRyxFQUFDO1FBQzNDLElBQUcsQ0FBQ0EsR0FBRyxFQUFDO1VBQ0osSUFBSUMsUUFBUSxHQUFHLG1CQUFtQixHQUFDTCxHQUFHO1VBQ3RDeEMsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNnQyxRQUFRLENBQUMxQyxhQUFJLENBQUMyQyxPQUFPLENBQUNGLFFBQVEsQ0FBQyxDQUFDO1FBQ3BELENBQUMsTUFBSTtVQUNELElBQUlBLFFBQVEsR0FBRyx1QkFBdUI7VUFDdEM3QyxHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ2dDLFFBQVEsQ0FBQzFDLGFBQUksQ0FBQzJDLE9BQU8sQ0FBQ0YsUUFBUSxDQUFDLENBQUM7UUFDcEQ7TUFDSixDQUFDLENBQUM7SUFDTixDQUFDLFFBQU83QixLQUFLLEVBQUU7TUFDYmhCLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFDbkJDLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztNQUNGQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3BCO0VBQ0YsQ0FBQztFQUNEZ0MsTUFBTSxFQUFFLE1BQUFBLENBQU1qRCxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUN4QixJQUFJO01BQ0YsTUFBTVcsZUFBTSxDQUFDQyxNQUFNLENBQUNxQyxpQkFBaUIsQ0FBQztRQUFDMUIsR0FBRyxFQUFFeEIsR0FBRyxDQUFDK0IsS0FBSyxDQUFDUDtNQUFHLENBQUMsQ0FBQztNQUMzRHZCLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDbkJHLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQyxPQUFPRixLQUFLLEVBQUU7TUFDZGhCLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFDbkJDLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztNQUNGQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3BCO0VBQ0Y7QUFDRixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resourses","_fs","_path","e","__esModule","default","_default","exports","register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","slider","models","Slider","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","SliderT","findOne","resourse","slider_list","list","search","query","Sliders","find","$or","RegExp","sort","map","user","sliders","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","remove","findByIdAndDelete"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["SliderController.js"],"sourcesContent":["import models from \"../models\";\nimport resourse from '../resourses'\nimport fs from 'fs'\nimport path from 'path'\n\n\nexport default {\n  register: async(req,res) => {\n    try {\n      //console.log(req.files);\n       if(req.files){\n         var img_path = req.files.portada.path;\n         var name = img_path.split('/');\n         var portada_name = name[2];\n         //console.log(portada_name)\n         req.body.imagen = portada_name;\n       }\n      \n      const slider = await models.Slider.create(req.body);\n      res.status(200).json(slider);\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n  update: async(req,res) => {\n    try {\n       if(req.files && req.files.portada){\n         var img_path = req.files.portada.path;\n         var name = img_path.split('/');\n         var portada_name = name[2];\n         //console.log(portada_name)\n       req.body.imagen = portada_name;\n       }\n\n     await models.Slider.findByIdAndUpdate({_id: req.body._id},req.body);\n\n     let SliderT = await models.Slider.findOne({_id: req.body._id});\n\n      res.status(200).json({\n        message: \"EL SLIDER SE HA MODIFICADO CORRECTAMENTE\",\n        slider: resourse.Slider.slider_list(SliderT),\n      })\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n\n  },\n  list: async(req,res) => {\n    try {\n      var search = req.query.search;\n      let Sliders  = await models.Slider.find({\n        $or:[\n          {\"title\": new RegExp(search, \"i\")},\n        ]\n    }).sort({'createdAt':-1});\n\n    Sliders = Sliders.map((user) => {\n      return resourse.Slider.slider_list(user);\n    })\n\n    res.status(200).json({\n      sliders: Sliders\n    });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n      \n    }\n  },\n  obtener_imagen: async(req,res) => {\n    try {\n        var img = req.params['img'];\n        \n\n        fs.stat('./uploads/slider/'+ img, function(err){\n            if(!err){\n                let path_img = './uploads/slider/'+img;\n                res.status(200).sendFile(path.resolve(path_img));\n            }else{\n                let path_img = './uploads/default.jpg';\n                res.status(200).sendFile(path.resolve(path_img));\n            }\n        })\n    }catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async(req,res) => {\n    try {\n      await models.Slider.findByIdAndDelete({_id: req.query._id});\n      res.status(200).json({\n        message: \"  EL SLIDER SE ELIMINO CORRECTAMENTE\",\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n}"],"mappings":"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","ignoreList":[]}},"mtime":1737838781510},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Cupone.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CuponeController = _interopRequireDefault(require(\"../controllers/CuponeController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyAdmin, _CuponeController.default.register);\nrouter.put(\"/update\", _auth.default.verifyAdmin, _CuponeController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CuponeController.default.list);\nrouter.get(\"/config\", _auth.default.verifyAdmin, _CuponeController.default.config);\nrouter.get(\"/show\", _auth.default.verifyAdmin, _CuponeController.default.show);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CuponeController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DdXBvbmVDb250cm9sbGVyIiwiX2F1dGgiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlBZG1pbiIsImN1cG9uZUNvbnRyb2xsZXIiLCJyZWdpc3RlciIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJjb25maWciLCJzaG93IiwiZGVsZXRlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbIkN1cG9uZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xuaW1wb3J0IGN1cG9uZUNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvQ3Vwb25lQ29udHJvbGxlcidcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXG5cbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcblxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIixhdXRoLnZlcmlmeUFkbWluLGN1cG9uZUNvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUFkbWluLGN1cG9uZUNvbnRyb2xsZXIudXBkYXRlKTtcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sY3Vwb25lQ29udHJvbGxlci5saXN0KTtcbnJvdXRlci5nZXQoXCIvY29uZmlnXCIsYXV0aC52ZXJpZnlBZG1pbixjdXBvbmVDb250cm9sbGVyLmNvbmZpZyk7XG5yb3V0ZXIuZ2V0KFwiL3Nob3dcIixhdXRoLnZlcmlmeUFkbWluLGN1cG9uZUNvbnRyb2xsZXIuc2hvdyk7XG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLGF1dGgudmVyaWZ5QWRtaW4sY3Vwb25lQ29udHJvbGxlci5kZWxldGUpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsaUJBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUksQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUV0QyxNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBRXhCRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0MsUUFBUSxDQUFDO0FBQ25FTixNQUFNLENBQUNPLEdBQUcsQ0FBQyxTQUFTLEVBQUNKLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0csTUFBTSxDQUFDO0FBQzlEUixNQUFNLENBQUNTLEdBQUcsQ0FBQyxPQUFPLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0ssSUFBSSxDQUFDO0FBQzFEVixNQUFNLENBQUNTLEdBQUcsQ0FBQyxTQUFTLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ00sTUFBTSxDQUFDO0FBQzlEWCxNQUFNLENBQUNTLEdBQUcsQ0FBQyxPQUFPLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ08sSUFBSSxDQUFDO0FBQzFEWixNQUFNLENBQUNhLE1BQU0sQ0FBQyxTQUFTLEVBQUNWLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ1EsTUFBTSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFoQixPQUFBLEdBRW5EQyxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CuponeController","_auth","e","__esModule","default","router","routerx","post","auth","verifyAdmin","cuponeController","register","put","update","get","list","config","show","delete","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Cupone.js"],"sourcesContent":["import routerx from 'express-promise-router'\nimport cuponeController from '../controllers/CuponeController'\nimport auth from '../middlewares/auth'\n\nconst router = routerx();\n\nrouter.post(\"/register\",auth.verifyAdmin,cuponeController.register);\nrouter.put(\"/update\",auth.verifyAdmin,cuponeController.update);\nrouter.get(\"/list\",auth.verifyAdmin,cuponeController.list);\nrouter.get(\"/config\",auth.verifyAdmin,cuponeController.config);\nrouter.get(\"/show\",auth.verifyAdmin,cuponeController.show);\nrouter.delete(\"/delete\",auth.verifyAdmin,cuponeController.delete);\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,iBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACC,QAAQ,CAAC;AACnEN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACG,MAAM,CAAC;AAC9DR,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACK,IAAI,CAAC;AAC1DV,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACM,MAAM,CAAC;AAC9DX,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACO,IAAI,CAAC;AAC1DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACQ,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAEnDC,MAAM","ignoreList":[]}},"mtime":1738074332387},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/CuponeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      const {\n        rol,\n        _id\n      } = req.user;\n      const {\n        code,\n        type_discount,\n        discount,\n        type_count,\n        num_use,\n        type_segment,\n        products = [],\n        categories = []\n      } = req.body;\n\n      // Validación básica de campos obligatorios\n      if (!code || !type_discount || !discount || !type_count || !type_segment) {\n        return res.status(400).json({\n          message: 400,\n          message_text: \"Faltan campos obligatorios\"\n        });\n      }\n      if (type_count == 2 && (!num_use || num_use < 1)) {\n        return res.status(400).json({\n          message: 400,\n          message_text: \"Debes indicar el número de usos\"\n        });\n      }\n      if (type_segment == 1 && (!products || products.length === 0)) {\n        return res.status(400).json({\n          message: 400,\n          message_text: \"Debes seleccionar al menos un producto\"\n        });\n      }\n      if (type_segment == 2 && (!categories || categories.length === 0)) {\n        return res.status(400).json({\n          message: 400,\n          message_text: \"Debes seleccionar al menos una categoría\"\n        });\n      }\n\n      // Validación de permisos para emprendedor\n      if (rol === \"emprendedor\") {\n        // Validar productos\n        if (type_segment == 1 && products.length > 0) {\n          const myProducts = await _models.default.Product.find({\n            seller_id: _id\n          });\n          const myProductIds = myProducts.map(p => p._id.toString());\n          const invalid = products.some(p => !myProductIds.includes(p._id));\n          if (invalid) {\n            return res.status(403).json({\n              message: 403,\n              message_text: \"No puedes crear cupones para productos que no son tuyos\"\n            });\n          }\n        }\n        // Validar categorías\n        if (type_segment == 2 && categories.length > 0) {\n          const myProducts = await _models.default.Product.find({\n            seller_id: _id\n          });\n          const myCategoryIds = [...new Set(myProducts.map(p => p.categorie.toString()))];\n          const invalid = categories.some(c => !myCategoryIds.includes(c._id));\n          if (invalid) {\n            return res.status(403).json({\n              message: 403,\n              message_text: \"No puedes crear cupones para categorías donde no tienes productos\"\n            });\n          }\n        }\n      }\n\n      // Crear el cupón\n      const newCupone = new _models.default.Cupone({\n        code,\n        type_discount,\n        discount,\n        type_count,\n        num_use: type_count == 2 ? num_use : null,\n        type_segment,\n        products: products.map(p => p._id),\n        categories: categories.map(c => c._id),\n        creator: _id // puedes guardar quién creó el cupón si lo deseas\n      });\n      await newCupone.save();\n      return res.status(200).json({\n        message: 200,\n        message_text: \"Cupón creado correctamente\"\n      });\n    } catch (error) {\n      console.error(error);\n      return res.status(500).json({\n        message: 500,\n        message_text: \"Error al registrar cupón\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let exits_cupone = await _models.default.Cupone.findOne({\n        code: data.code,\n        _id: {\n          $ne: data._id\n        }\n      });\n      if (exits_cupone) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n        });\n        return;\n      }\n      let cupone = await _models.default.Cupone.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let cuponeT = await _models.default.Cupone.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"El cupón se actualizó satisfactoriamente\",\n        cupone: cuponeT\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Cupone.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"El cupón se eliminó satisfactoriamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  // list: async(req,res) => {\n  //     try {\n  //         let search = req.query.search;\n\n  //         let cupones = await models.Cupone.find({\n  //             $or:[\n  //                 {\"code\": new RegExp(search, \"i\")},\n  //             ]\n  //         }).sort({'createdAt': -1});\n\n  //         res.status(200).json({\n  //             message: 200,\n  //             cupones: cupones,\n  //         });\n\n  //     } catch (error) {\n  //         res.status(500).send({\n  //             message: \"OCURRIO UN ERROR\",\n  //         });\n  //     }\n  // },\n\n  list: async (req, res) => {\n    try {\n      const search = req.query.search || '';\n      const regex = new RegExp(search, \"i\");\n      const {\n        rol,\n        _id\n      } = req.user;\n      let filter = {\n        code: {\n          $regex: regex\n        }\n      };\n      if (rol === \"emprendedor\") {\n        // Solo los cupones creados por el emprendedor\n        filter.creator = _id;\n      }\n      // Admin ve todos los cupones\n\n      const cupones = await _models.default.Cupone.find(filter).sort({\n        createdAt: -1\n      });\n      res.status(200).json({\n        cupones\n      });\n    } catch (error) {\n      res.status(500).json({\n        message: \"Error al obtener cupones\"\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      let cupone_id = req.query.cupone_id;\n      let cupon = await _models.default.Cupone.findOne({\n        _id: cupone_id\n      });\n      res.status(200).json({\n        message: 200,\n        cupon: cupon\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      const {\n        rol,\n        _id\n      } = req.user;\n      let categories, products;\n      if (rol === \"admin\") {\n        categories = await _models.default.Categorie.find();\n        products = await _models.default.Product.find();\n      } else if (rol === \"emprendedor\") {\n        // Solo productos del emprendedor\n        products = await _models.default.Product.find({\n          seller_id: _id\n        });\n        // Solo categorías donde tiene productos\n        const categoryIds = [...new Set(products.map(p => p.categorie.toString()))];\n        categories = await _models.default.Categorie.find({\n          _id: {\n            $in: categoryIds\n          }\n        });\n      } else {\n        return res.status(403).json({\n          message: \"No autorizado\"\n        });\n      }\n      res.status(200).json({\n        categories,\n        products\n      });\n    } catch (error) {\n      res.status(500).json({\n        message: \"Error al obtener configuración de cupones\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsInJvbCIsIl9pZCIsInVzZXIiLCJjb2RlIiwidHlwZV9kaXNjb3VudCIsImRpc2NvdW50IiwidHlwZV9jb3VudCIsIm51bV91c2UiLCJ0eXBlX3NlZ21lbnQiLCJwcm9kdWN0cyIsImNhdGVnb3JpZXMiLCJib2R5Iiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJtZXNzYWdlX3RleHQiLCJsZW5ndGgiLCJteVByb2R1Y3RzIiwibW9kZWxzIiwiUHJvZHVjdCIsImZpbmQiLCJzZWxsZXJfaWQiLCJteVByb2R1Y3RJZHMiLCJtYXAiLCJwIiwidG9TdHJpbmciLCJpbnZhbGlkIiwic29tZSIsImluY2x1ZGVzIiwibXlDYXRlZ29yeUlkcyIsIlNldCIsImNhdGVnb3JpZSIsImMiLCJuZXdDdXBvbmUiLCJDdXBvbmUiLCJjcmVhdG9yIiwic2F2ZSIsImVycm9yIiwiY29uc29sZSIsInVwZGF0ZSIsImRhdGEiLCJleGl0c19jdXBvbmUiLCJmaW5kT25lIiwiJG5lIiwiY3Vwb25lIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJjdXBvbmVUIiwiZmluZEJ5SWQiLCJzZW5kIiwiZGVsZXRlIiwicXVlcnkiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImxpc3QiLCJzZWFyY2giLCJyZWdleCIsIlJlZ0V4cCIsImZpbHRlciIsIiRyZWdleCIsImN1cG9uZXMiLCJzb3J0IiwiY3JlYXRlZEF0Iiwic2hvdyIsImN1cG9uZV9pZCIsImN1cG9uIiwiY29uZmlnIiwiQ2F0ZWdvcmllIiwiY2F0ZWdvcnlJZHMiLCIkaW4iXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJDdXBvbmVDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgXG4gIHJlZ2lzdGVyOiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyByb2wsIF9pZCB9ID0gcmVxLnVzZXI7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGNvZGUsXG4gICAgICAgIHR5cGVfZGlzY291bnQsXG4gICAgICAgIGRpc2NvdW50LFxuICAgICAgICB0eXBlX2NvdW50LFxuICAgICAgICBudW1fdXNlLFxuICAgICAgICB0eXBlX3NlZ21lbnQsXG4gICAgICAgIHByb2R1Y3RzID0gW10sXG4gICAgICAgIGNhdGVnb3JpZXMgPSBbXVxuICAgICAgfSA9IHJlcS5ib2R5O1xuXG4gICAgICAvLyBWYWxpZGFjacOzbiBiw6FzaWNhIGRlIGNhbXBvcyBvYmxpZ2F0b3Jpb3NcbiAgICAgIGlmICghY29kZSB8fCAhdHlwZV9kaXNjb3VudCB8fCAhZGlzY291bnQgfHwgIXR5cGVfY291bnQgfHwgIXR5cGVfc2VnbWVudCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiA0MDAsIG1lc3NhZ2VfdGV4dDogXCJGYWx0YW4gY2FtcG9zIG9ibGlnYXRvcmlvc1wiIH0pO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVfY291bnQgPT0gMiAmJiAoIW51bV91c2UgfHwgbnVtX3VzZSA8IDEpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IDQwMCwgbWVzc2FnZV90ZXh0OiBcIkRlYmVzIGluZGljYXIgZWwgbsO6bWVybyBkZSB1c29zXCIgfSk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZV9zZWdtZW50ID09IDEgJiYgKCFwcm9kdWN0cyB8fCBwcm9kdWN0cy5sZW5ndGggPT09IDApKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IDQwMCwgbWVzc2FnZV90ZXh0OiBcIkRlYmVzIHNlbGVjY2lvbmFyIGFsIG1lbm9zIHVuIHByb2R1Y3RvXCIgfSk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZV9zZWdtZW50ID09IDIgJiYgKCFjYXRlZ29yaWVzIHx8IGNhdGVnb3JpZXMubGVuZ3RoID09PSAwKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiA0MDAsIG1lc3NhZ2VfdGV4dDogXCJEZWJlcyBzZWxlY2Npb25hciBhbCBtZW5vcyB1bmEgY2F0ZWdvcsOtYVwiIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBWYWxpZGFjacOzbiBkZSBwZXJtaXNvcyBwYXJhIGVtcHJlbmRlZG9yXG4gICAgICBpZiAocm9sID09PSBcImVtcHJlbmRlZG9yXCIpIHtcbiAgICAgICAgLy8gVmFsaWRhciBwcm9kdWN0b3NcbiAgICAgICAgaWYgKHR5cGVfc2VnbWVudCA9PSAxICYmIHByb2R1Y3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBteVByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7IHNlbGxlcl9pZDogX2lkIH0pO1xuICAgICAgICAgIGNvbnN0IG15UHJvZHVjdElkcyA9IG15UHJvZHVjdHMubWFwKHAgPT4gcC5faWQudG9TdHJpbmcoKSk7XG4gICAgICAgICAgY29uc3QgaW52YWxpZCA9IHByb2R1Y3RzLnNvbWUocCA9PiAhbXlQcm9kdWN0SWRzLmluY2x1ZGVzKHAuX2lkKSk7XG4gICAgICAgICAgaWYgKGludmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7IG1lc3NhZ2U6IDQwMywgbWVzc2FnZV90ZXh0OiBcIk5vIHB1ZWRlcyBjcmVhciBjdXBvbmVzIHBhcmEgcHJvZHVjdG9zIHF1ZSBubyBzb24gdHV5b3NcIiB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVmFsaWRhciBjYXRlZ29yw61hc1xuICAgICAgICBpZiAodHlwZV9zZWdtZW50ID09IDIgJiYgY2F0ZWdvcmllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgbXlQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoeyBzZWxsZXJfaWQ6IF9pZCB9KTtcbiAgICAgICAgICBjb25zdCBteUNhdGVnb3J5SWRzID0gWy4uLm5ldyBTZXQobXlQcm9kdWN0cy5tYXAocCA9PiBwLmNhdGVnb3JpZS50b1N0cmluZygpKSldO1xuICAgICAgICAgIGNvbnN0IGludmFsaWQgPSBjYXRlZ29yaWVzLnNvbWUoYyA9PiAhbXlDYXRlZ29yeUlkcy5pbmNsdWRlcyhjLl9pZCkpO1xuICAgICAgICAgIGlmIChpbnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oeyBtZXNzYWdlOiA0MDMsIG1lc3NhZ2VfdGV4dDogXCJObyBwdWVkZXMgY3JlYXIgY3Vwb25lcyBwYXJhIGNhdGVnb3LDrWFzIGRvbmRlIG5vIHRpZW5lcyBwcm9kdWN0b3NcIiB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXIgZWwgY3Vww7NuXG4gICAgICBjb25zdCBuZXdDdXBvbmUgPSBuZXcgbW9kZWxzLkN1cG9uZSh7XG4gICAgICAgIGNvZGUsXG4gICAgICAgIHR5cGVfZGlzY291bnQsXG4gICAgICAgIGRpc2NvdW50LFxuICAgICAgICB0eXBlX2NvdW50LFxuICAgICAgICBudW1fdXNlOiB0eXBlX2NvdW50ID09IDIgPyBudW1fdXNlIDogbnVsbCxcbiAgICAgICAgdHlwZV9zZWdtZW50LFxuICAgICAgICBwcm9kdWN0czogcHJvZHVjdHMubWFwKHAgPT4gcC5faWQpLFxuICAgICAgICBjYXRlZ29yaWVzOiBjYXRlZ29yaWVzLm1hcChjID0+IGMuX2lkKSxcbiAgICAgICAgY3JlYXRvcjogX2lkLCAvLyBwdWVkZXMgZ3VhcmRhciBxdWnDqW4gY3Jlw7MgZWwgY3Vww7NuIHNpIGxvIGRlc2Vhc1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IG5ld0N1cG9uZS5zYXZlKCk7XG5cbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6IDIwMCwgbWVzc2FnZV90ZXh0OiBcIkN1cMOzbiBjcmVhZG8gY29ycmVjdGFtZW50ZVwiIH0pO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogNTAwLCBtZXNzYWdlX3RleHQ6IFwiRXJyb3IgYWwgcmVnaXN0cmFyIGN1cMOzblwiIH0pO1xuICAgIH1cbiAgfSxcbiAgdXBkYXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XG5cbiAgICAgICAgICBsZXQgZXhpdHNfY3Vwb25lID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kT25lKHtjb2RlOiBkYXRhLmNvZGUsX2lkOiB7JG5lOiBkYXRhLl9pZH19KTtcblxuICAgICAgICAgIGlmKGV4aXRzX2N1cG9uZSl7XG4gICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6NDAzLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENPRElHTyBERUwgQ1VQT04gWUEgRVhJU1RFXCJcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsZXQgY3Vwb25lID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiBkYXRhLl9pZH0sZGF0YSk7XG4gICAgICAgICAgXG4gICAgICAgICAgbGV0IGN1cG9uZVQgPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRCeUlkKHtfaWQ6IGRhdGEuX2lkfSk7XG5cbiAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcbiAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVsIGN1cMOzbiBzZSBhY3R1YWxpesOzIHNhdGlzZmFjdG9yaWFtZW50ZVwiLFxuICAgICAgICAgICAgICBjdXBvbmU6Y3Vwb25lVCxcbiAgICAgICAgICB9KTtcblxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxuICAgICAgICAgIH0pO1xuICAgICAgfVxuICB9LFxuICBkZWxldGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IF9pZCA9IHJlcS5xdWVyeS5faWQ7XG5cbiAgICAgICAgICBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IF9pZH0pO1xuXG4gICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXG4gICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFbCBjdXDDs24gc2UgZWxpbWluw7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgICAgfSk7XG5cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgfSxcbiAgLy8gbGlzdDogYXN5bmMocmVxLHJlcykgPT4ge1xuICAvLyAgICAgdHJ5IHtcbiAgLy8gICAgICAgICBsZXQgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcblxuICAvLyAgICAgICAgIGxldCBjdXBvbmVzID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kKHtcbiAgLy8gICAgICAgICAgICAgJG9yOltcbiAgLy8gICAgICAgICAgICAgICAgIHtcImNvZGVcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gIC8vICAgICAgICAgICAgIF1cbiAgLy8gICAgICAgICB9KS5zb3J0KHsnY3JlYXRlZEF0JzogLTF9KTtcblxuICAvLyAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgLy8gICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxuICAvLyAgICAgICAgICAgICBjdXBvbmVzOiBjdXBvbmVzLFxuICAvLyAgICAgICAgIH0pO1xuXG4gIC8vICAgICB9IGNhdGNoIChlcnJvcikge1xuICAvLyAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgLy8gICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXG4gIC8vICAgICAgICAgfSk7XG4gIC8vICAgICB9XG4gIC8vIH0sXG4gIFxuICBsaXN0OiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaCB8fCAnJztcbiAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKTtcbiAgICAgIGNvbnN0IHsgcm9sLCBfaWQgfSA9IHJlcS51c2VyO1xuXG4gICAgICBsZXQgZmlsdGVyID0ge1xuICAgICAgICBjb2RlOiB7ICRyZWdleDogcmVnZXggfVxuICAgICAgfTtcblxuICAgICAgaWYgKHJvbCA9PT0gXCJlbXByZW5kZWRvclwiKSB7XG4gICAgICAgIC8vIFNvbG8gbG9zIGN1cG9uZXMgY3JlYWRvcyBwb3IgZWwgZW1wcmVuZGVkb3JcbiAgICAgICAgZmlsdGVyLmNyZWF0b3IgPSBfaWQ7XG4gICAgICB9XG4gICAgICAvLyBBZG1pbiB2ZSB0b2RvcyBsb3MgY3Vwb25lc1xuXG4gICAgICBjb25zdCBjdXBvbmVzID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kKGZpbHRlcikuc29ydCh7IGNyZWF0ZWRBdDogLTEgfSk7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IGN1cG9uZXMgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogXCJFcnJvciBhbCBvYnRlbmVyIGN1cG9uZXNcIiB9KTtcbiAgICB9XG4gIH0sXG4gIHNob3c6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IGN1cG9uZV9pZCA9IHJlcS5xdWVyeS5jdXBvbmVfaWQ7XG5cbiAgICAgICAgICBsZXQgY3Vwb24gPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRPbmUoe19pZDogY3Vwb25lX2lkfSk7XG5cbiAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcbiAgICAgICAgICAgICAgY3Vwb246IGN1cG9uLFxuICAgICAgICAgIH0pO1xuXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gIH0sXG4gIGNvbmZpZzogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgcm9sLCBfaWQgfSA9IHJlcS51c2VyO1xuICAgICAgbGV0IGNhdGVnb3JpZXMsIHByb2R1Y3RzO1xuXG4gICAgICBpZiAocm9sID09PSBcImFkbWluXCIpIHtcbiAgICAgICAgY2F0ZWdvcmllcyA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZCgpO1xuICAgICAgICBwcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoKTtcbiAgICAgIH0gZWxzZSBpZiAocm9sID09PSBcImVtcHJlbmRlZG9yXCIpIHtcbiAgICAgICAgLy8gU29sbyBwcm9kdWN0b3MgZGVsIGVtcHJlbmRlZG9yXG4gICAgICAgIHByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7IHNlbGxlcl9pZDogX2lkIH0pO1xuICAgICAgICAvLyBTb2xvIGNhdGVnb3LDrWFzIGRvbmRlIHRpZW5lIHByb2R1Y3Rvc1xuICAgICAgICBjb25zdCBjYXRlZ29yeUlkcyA9IFsuLi5uZXcgU2V0KHByb2R1Y3RzLm1hcChwID0+IHAuY2F0ZWdvcmllLnRvU3RyaW5nKCkpKV07XG4gICAgICAgIGNhdGVnb3JpZXMgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmQoeyBfaWQ6IHsgJGluOiBjYXRlZ29yeUlkcyB9IH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKHsgbWVzc2FnZTogXCJObyBhdXRvcml6YWRvXCIgfSk7XG4gICAgICB9XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgY2F0ZWdvcmllcywgcHJvZHVjdHMgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogXCJFcnJvciBhbCBvYnRlbmVyIGNvbmZpZ3VyYWNpw7NuIGRlIGN1cG9uZXNcIiB9KTtcbiAgICB9XG4gIH0sXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBOEIsU0FBQUQsdUJBQUFFLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVmO0VBRWJHLFFBQVEsRUFBRSxNQUFBQSxDQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUM1QixJQUFJO01BQ0YsTUFBTTtRQUFF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Q29DLElBQUksQ0FBQztRQUNqQmxDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOO0VBQ0osQ0FBQztFQUNEa0QsTUFBTSxFQUFFLE1BQUFBLENBQU9sRSxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUMxQixJQUFJO01BQ0YsTUFBTTtRQUFFQyxHQUFHO1FBQUVDO01BQUksQ0FBQyxHQUFHSCxHQUFHLENBQUNJLElBQUk7TUFDN0IsSUFBSVEsVUFBVSxFQUFFRCxRQUFRO01BRXhCLElBQUlULEdBQUcsS0FBSyxPQUFPLEVBQUU7UUFDbkJVLFVBQVUsR0FBRyxNQUFNUSxlQUFNLENBQUMrQyxTQUFTLENBQUM3QyxJQUFJLENBQUMsQ0FBQztRQUMxQ1gsUUFBUSxHQUFHLE1BQU1TLGVBQU0sQ0FBQ0MsT0FBTyxDQUFDQyxJQUFJLENBQUMsQ0FBQztNQUN4QyxDQUFDLE1BQU0sSUFBSXBCLEdBQUcsS0FBSyxhQUFhLEVBQUU7UUFDaEM7UUFDQVMsUUFBUSxHQUFHLE1BQU1TLGVBQU0sQ0FBQ0MsT0FBTyxDQUFDQyxJQUFJLENBQUM7VUFBRUMsU0FBUyxFQUFFcEI7UUFBSSxDQUFDLENBQUM7UUFDeEQ7UUFDQSxNQUFNaUUsV0FBVyxHQUFHLENBQUMsR0FBRyxJQUFJcEMsR0FBRyxDQUFDckIsUUFBUSxDQUFDYyxHQUFHLENBQUNDLENBQUMsSUFBSUEsQ0FBQyxDQUFDTyxTQUFTLENBQUNOLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNFZixVQUFVLEdBQUcsTUFBTVEsZUFBTSxDQUFDK0MsU0FBUyxDQUFDN0MsSUFBSSxDQUFDO1VBQUVuQixHQUFHLEVBQUU7WUFBRWtFLEdBQUcsRUFBRUQ7VUFBWTtRQUFFLENBQUMsQ0FBQztNQUN6RSxDQUFDLE1BQU07UUFDTCxPQUFPbkUsR0FBRyxDQUFDYSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUFFQyxPQUFPLEVBQUU7UUFBZ0IsQ0FBQyxDQUFDO01BQzNEO01BRUFmLEdBQUcsQ0FBQ2EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFBRUgsVUFBVTtRQUFFRDtNQUFTLENBQUMsQ0FBQztJQUNoRCxDQUFDLENBQUMsT0FBTzRCLEtBQUssRUFBRTtNQUNkdEMsR0FBRyxDQUFDYSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUFFQyxPQUFPLEVBQUU7TUFBNEMsQ0FBQyxDQUFDO0lBQ2hGO0VBQ0Y7QUFDRixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_models","_interopRequireDefault","require","e","__esModule","default","_default","exports","register","req","res","rol","_id","user","code","type_discount","discount","type_count","num_use","type_segment","products","categories","body","status","json","message","message_text","length","myProducts","models","Product","find","seller_id","myProductIds","map","p","toString","invalid","some","includes","myCategoryIds","Set","categorie","c","newCupone","Cupone","creator","save","error","console","update","data","exits_cupone","findOne","$ne","cupone","findByIdAndUpdate","cuponeT","findById","send","delete","query","findByIdAndDelete","list","search","regex","RegExp","filter","$regex","cupones","sort","createdAt","show","cupone_id","cupon","config","Categorie","categoryIds","$in"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["CuponeController.js"],"sourcesContent":["import models from \"../models\"\n\nexport default {\n  \n  register: async (req, res) => {\n    try {\n      const { rol, _id } = req.user;\n      const {\n        code,\n        type_discount,\n        discount,\n        type_count,\n        num_use,\n        type_segment,\n        products = [],\n        categories = []\n      } = req.body;\n\n      // Validación básica de campos obligatorios\n      if (!code || !type_discount || !discount || !type_count || !type_segment) {\n        return res.status(400).json({ message: 400, message_text: \"Faltan campos obligatorios\" });\n      }\n      if (type_count == 2 && (!num_use || num_use < 1)) {\n        return res.status(400).json({ message: 400, message_text: \"Debes indicar el número de usos\" });\n      }\n      if (type_segment == 1 && (!products || products.length === 0)) {\n        return res.status(400).json({ message: 400, message_text: \"Debes seleccionar al menos un producto\" });\n      }\n      if (type_segment == 2 && (!categories || categories.length === 0)) {\n        return res.status(400).json({ message: 400, message_text: \"Debes seleccionar al menos una categoría\" });\n      }\n\n      // Validación de permisos para emprendedor\n      if (rol === \"emprendedor\") {\n        // Validar productos\n        if (type_segment == 1 && products.length > 0) {\n          const myProducts = await models.Product.find({ seller_id: _id });\n          const myProductIds = myProducts.map(p => p._id.toString());\n          const invalid = products.some(p => !myProductIds.includes(p._id));\n          if (invalid) {\n            return res.status(403).json({ message: 403, message_text: \"No puedes crear cupones para productos que no son tuyos\" });\n          }\n        }\n        // Validar categorías\n        if (type_segment == 2 && categories.length > 0) {\n          const myProducts = await models.Product.find({ seller_id: _id });\n          const myCategoryIds = [...new Set(myProducts.map(p => p.categorie.toString()))];\n          const invalid = categories.some(c => !myCategoryIds.includes(c._id));\n          if (invalid) {\n            return res.status(403).json({ message: 403, message_text: \"No puedes crear cupones para categorías donde no tienes productos\" });\n          }\n        }\n      }\n\n      // Crear el cupón\n      const newCupone = new models.Cupone({\n        code,\n        type_discount,\n        discount,\n        type_count,\n        num_use: type_count == 2 ? num_use : null,\n        type_segment,\n        products: products.map(p => p._id),\n        categories: categories.map(c => c._id),\n        creator: _id, // puedes guardar quién creó el cupón si lo deseas\n      });\n\n      await newCupone.save();\n\n      return res.status(200).json({ message: 200, message_text: \"Cupón creado correctamente\" });\n\n    } catch (error) {\n      console.error(error);\n      return res.status(500).json({ message: 500, message_text: \"Error al registrar cupón\" });\n    }\n  },\n  update: async(req,res) => {\n      try {\n          let data = req.body;\n\n          let exits_cupone = await models.Cupone.findOne({code: data.code,_id: {$ne: data._id}});\n\n          if(exits_cupone){\n              res.status(200).json({\n                  message:403,\n                  message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n              });\n              return;\n          }\n\n          let cupone = await models.Cupone.findByIdAndUpdate({_id: data._id},data);\n          \n          let cuponeT = await models.Cupone.findById({_id: data._id});\n\n          res.status(200).json({\n              message: 200,\n              message_text: \"El cupón se actualizó satisfactoriamente\",\n              cupone:cuponeT,\n          });\n\n      } catch (error) {\n          res.status(500).send({\n              message: \"OCURRIO UN ERROR\",\n          });\n      }\n  },\n  delete: async(req,res) => {\n      try {\n          let _id = req.query._id;\n\n          await models.Cupone.findByIdAndDelete({_id: _id});\n\n          res.status(200).json({\n              message: 200,\n              message_text: \"El cupón se eliminó satisfactoriamente\",\n          });\n\n      } catch (error) {\n          res.status(500).send({\n              message: \"OCURRIO UN ERROR\",\n          });\n      }\n  },\n  // list: async(req,res) => {\n  //     try {\n  //         let search = req.query.search;\n\n  //         let cupones = await models.Cupone.find({\n  //             $or:[\n  //                 {\"code\": new RegExp(search, \"i\")},\n  //             ]\n  //         }).sort({'createdAt': -1});\n\n  //         res.status(200).json({\n  //             message: 200,\n  //             cupones: cupones,\n  //         });\n\n  //     } catch (error) {\n  //         res.status(500).send({\n  //             message: \"OCURRIO UN ERROR\",\n  //         });\n  //     }\n  // },\n  \n  list: async (req, res) => {\n    try {\n      const search = req.query.search || '';\n      const regex = new RegExp(search, \"i\");\n      const { rol, _id } = req.user;\n\n      let filter = {\n        code: { $regex: regex }\n      };\n\n      if (rol === \"emprendedor\") {\n        // Solo los cupones creados por el emprendedor\n        filter.creator = _id;\n      }\n      // Admin ve todos los cupones\n\n      const cupones = await models.Cupone.find(filter).sort({ createdAt: -1 });\n      res.status(200).json({ cupones });\n    } catch (error) {\n      res.status(500).json({ message: \"Error al obtener cupones\" });\n    }\n  },\n  show: async(req,res) => {\n      try {\n          let cupone_id = req.query.cupone_id;\n\n          let cupon = await models.Cupone.findOne({_id: cupone_id});\n\n          res.status(200).json({\n              message: 200,\n              cupon: cupon,\n          });\n\n      } catch (error) {\n          res.status(500).send({\n              message: \"OCURRIO UN ERROR\",\n          });\n      }\n  },\n  config: async (req, res) => {\n    try {\n      const { rol, _id } = req.user;\n      let categories, products;\n\n      if (rol === \"admin\") {\n        categories = await models.Categorie.find();\n        products = await models.Product.find();\n      } else if (rol === \"emprendedor\") {\n        // Solo productos del emprendedor\n        products = await models.Product.find({ seller_id: _id });\n        // Solo categorías donde tiene productos\n        const categoryIds = [...new Set(products.map(p => p.categorie.toString()))];\n        categories = await models.Categorie.find({ _id: { $in: categoryIds } });\n      } else {\n        return res.status(403).json({ message: \"No autorizado\" });\n      }\n\n      res.status(200).json({ categories, products });\n    } catch (error) {\n      res.status(500).json({ message: \"Error al obtener configuración de cupones\" });\n    }\n  },\n}"],"mappings":"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","ignoreList":[]}},"mtime":1750125848298},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Discount.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _DiscountController = _interopRequireDefault(require(\"../controllers/DiscountController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyAdmin, _DiscountController.default.register);\nrouter.put(\"/update\", _auth.default.verifyAdmin, _DiscountController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _DiscountController.default.list);\nrouter.get(\"/config\", _auth.default.verifyAdmin, _DiscountController.default.config);\nrouter.get(\"/show\", _auth.default.verifyAdmin, _DiscountController.default.show);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _DiscountController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9EaXNjb3VudENvbnRyb2xsZXIiLCJfYXV0aCIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwiZGlzY291bnRDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJsaXN0IiwiY29uZmlnIiwic2hvdyIsImRlbGV0ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJEaXNjb3VudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xuaW1wb3J0IGRpc2NvdW50Q29udHJvbGxlciBmcm9tICBcIi4uL2NvbnRyb2xsZXJzL0Rpc2NvdW50Q29udHJvbGxlclwiXG5pbXBvcnQgYXV0aCBmcm9tIFwiLi4vbWlkZGxld2FyZXMvYXV0aFwiXG5cbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcblxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci5yZWdpc3Rlcik7XG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLGF1dGgudmVyaWZ5QWRtaW4sZGlzY291bnRDb250cm9sbGVyLnVwZGF0ZSk7XG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci5saXN0KTtcbnJvdXRlci5nZXQoXCIvY29uZmlnXCIsYXV0aC52ZXJpZnlBZG1pbixkaXNjb3VudENvbnRyb2xsZXIuY29uZmlnKTtcbnJvdXRlci5nZXQoXCIvc2hvd1wiLGF1dGgudmVyaWZ5QWRtaW4sZGlzY291bnRDb250cm9sbGVyLnNob3cpO1xucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci5kZWxldGUpO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLG1CQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBc0MsU0FBQUQsdUJBQUFJLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFFdEMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUV4QkQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNDLFFBQVEsQ0FBQztBQUNyRU4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDSixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNHLE1BQU0sQ0FBQztBQUNoRVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNLLElBQUksQ0FBQztBQUM1RFYsTUFBTSxDQUFDUyxHQUFHLENBQUMsU0FBUyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNNLE1BQU0sQ0FBQztBQUNoRVgsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNPLElBQUksQ0FBQztBQUM1RFosTUFBTSxDQUFDYSxNQUFNLENBQUMsU0FBUyxFQUFDVixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNRLE1BQU0sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBaEIsT0FBQSxHQUdyREMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_DiscountController","_auth","e","__esModule","default","router","routerx","post","auth","verifyAdmin","discountController","register","put","update","get","list","config","show","delete","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Discount.js"],"sourcesContent":["import routerx from 'express-promise-router'\nimport discountController from  \"../controllers/DiscountController\"\nimport auth from \"../middlewares/auth\"\n\nconst router = routerx();\n\nrouter.post(\"/register\",auth.verifyAdmin,discountController.register);\nrouter.put(\"/update\",auth.verifyAdmin,discountController.update);\nrouter.get(\"/list\",auth.verifyAdmin,discountController.list);\nrouter.get(\"/config\",auth.verifyAdmin,discountController.config);\nrouter.get(\"/show\",auth.verifyAdmin,discountController.show);\nrouter.delete(\"/delete\",auth.verifyAdmin,discountController.delete);\n\n\nexport default router;\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,mBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACC,QAAQ,CAAC;AACrEN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACG,MAAM,CAAC;AAChER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACK,IAAI,CAAC;AAC5DV,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACM,MAAM,CAAC;AAChEX,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACO,IAAI,CAAC;AAC5DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACQ,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAGrDC,MAAM","ignoreList":[]}},"mtime":1738097761620},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/DiscountController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      const {\n        rol,\n        _id\n      } = req.user;\n\n      // Validación de permisos para emprendedor\n      if (rol === \"emprendedor\") {\n        // Validar productos\n        if (data.type_segment == 1 && data.product_s && data.product_s.length > 0) {\n          const myProducts = await _models.default.Product.find({\n            seller_id: _id\n          });\n          const myProductIds = myProducts.map(p => p._id.toString());\n          const invalid = data.product_s.some(p => !myProductIds.includes(p));\n          if (invalid) {\n            return res.status(403).json({\n              message: 403,\n              message_text: \"No puedes crear descuentos para productos que no son tuyos\"\n            });\n          }\n        }\n        // Validar categorías\n        if (data.type_segment == 2 && data.categorie_s && data.categorie_s.length > 0) {\n          const myProducts = await _models.default.Product.find({\n            seller_id: _id\n          });\n          const myCategoryIds = [...new Set(myProducts.map(p => p.categorie.toString()))];\n          const invalid = data.categorie_s.some(c => !myCategoryIds.includes(c));\n          if (invalid) {\n            return res.status(403).json({\n              message: 403,\n              message_text: \"No puedes crear descuentos para categorías donde no tienes productos\"\n            });\n          }\n        }\n      }\n\n      // Lógica de solapamiento de descuentos\n      var filter_a = [];\n      var filter_b = [];\n      if (data.type_segment == 1) {\n        filter_a.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n      } else {\n        filter_a.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n      }\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        start_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        end_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      let exits_start_date = await _models.default.Discount.find({\n        $and: filter_a\n      });\n      let exits_end_date = await _models.default.Discount.find({\n        $and: filter_b\n      });\n      if (exits_start_date.length > 0 || exits_end_date.length > 0) {\n        return res.status(200).json({\n          message: 403,\n          message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR, ALGUNA OPCIÓN SELECCIONADA TIENE UN DESCUENTO ACTIVO\"\n        });\n      }\n\n      // Guardar el creador del descuento\n      data.creator = _id;\n      let discount = await _models.default.Discount.create(data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"El descuento se registró satisfactoriamente\",\n        discount: discount\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      var filter_a = [];\n      var filter_b = [];\n      if (data.type_segment == 1) {\n        filter_a.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n      } else {\n        filter_a.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n      }\n      ;\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        _id: {\n          $ne: data._id\n        },\n        start_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        _id: {\n          $ne: data._id\n        },\n        end_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      let exits_start_date = await _models.default.Discount.find({\n        $and: filter_a\n      });\n      let exits_end_date = await _models.default.Discount.find({\n        $and: filter_b\n      });\n      if (exits_start_date.length > 0 || exits_end_date.length > 0) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR, ALGUNA OPCIÓN TIENE UN DESCUENTO ACTIVO\"\n        });\n        return;\n      }\n      let discount = await _models.default.Discount.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"El descuento se actualizó satisfactoriamente\",\n        discount: discount\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Discount.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"El descuento se eliminó satisfactoriamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      const search = req.query.search || '';\n      const regex = new RegExp(search, \"i\");\n      const {\n        rol,\n        _id\n      } = req.user;\n      let filter = {\n        // Puedes agregar filtros por código, nombre, etc. si tienes campos para búsqueda\n        // Aquí un ejemplo si tienes campo 'code' o 'name' en el descuento\n        // code: { $regex: regex }\n      };\n      if (rol === \"emprendedor\") {\n        // Solo descuentos creados por el emprendedor\n        filter.creator = _id;\n      }\n      // Admin ve todos los descuentos, sin filtro por creator\n\n      const discounts = await _models.default.Discount.find(filter).sort({\n        createdAt: -1\n      });\n      res.status(200).json({\n        discounts\n      });\n    } catch (error) {\n      console.error(error);\n      res.status(500).json({\n        message: \"Error al obtener descuentos\"\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      let discount_id = req.query.discount_id;\n      let discount = await _models.default.Discount.findOne({\n        _id: discount_id\n      });\n      res.status(200).json({\n        message: 200,\n        discount: discount\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      const {\n        rol,\n        _id\n      } = req.user;\n      let categories, products;\n      if (rol === \"admin\") {\n        categories = await _models.default.Categorie.find();\n        products = await _models.default.Product.find();\n      } else if (rol === \"emprendedor\") {\n        products = await _models.default.Product.find({\n          seller_id: _id\n        });\n        const categoryIds = [...new Set(products.map(p => p.categorie.toString()))];\n        categories = await _models.default.Categorie.find({\n          _id: {\n            $in: categoryIds\n          }\n        });\n      } else {\n        return res.status(403).json({\n          message: \"No autorizado\"\n        });\n      }\n      res.status(200).json({\n        message: 200,\n        categories: categories,\n        products: products\n      });\n    } catch (error) {\n      res.status(500).json({\n        message: \"Error al obtener configuración de descuentos\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5Iiwicm9sIiwiX2lkIiwidXNlciIsInR5cGVfc2VnbWVudCIsInByb2R1Y3RfcyIsImxlbmd0aCIsIm15UHJvZHVjdHMiLCJtb2RlbHMiLCJQcm9kdWN0IiwiZmluZCIsInNlbGxlcl9pZCIsIm15UHJvZHVjdElkcyIsIm1hcCIsInAiLCJ0b1N0cmluZyIsImludmFsaWQiLCJzb21lIiwiaW5jbHVkZXMiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsIm1lc3NhZ2VfdGV4dCIsImNhdGVnb3JpZV9zIiwibXlDYXRlZ29yeUlkcyIsIlNldCIsImNhdGVnb3JpZSIsImMiLCJmaWx0ZXJfYSIsImZpbHRlcl9iIiwicHVzaCIsIiRlbGVtTWF0Y2giLCIkaW4iLCJ0eXBlX2NhbXBhaWduIiwic3RhcnRfZGF0ZV9udW0iLCIkZ3RlIiwiJGx0ZSIsImVuZF9kYXRlX251bSIsImV4aXRzX3N0YXJ0X2RhdGUiLCJEaXNjb3VudCIsIiRhbmQiLCJleGl0c19lbmRfZGF0ZSIsImNyZWF0b3IiLCJkaXNjb3VudCIsImNyZWF0ZSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInNlbmQiLCJ1cGRhdGUiLCIkbmUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsImRlbGV0ZSIsInF1ZXJ5IiwiZmluZEJ5SWRBbmREZWxldGUiLCJsaXN0Iiwic2VhcmNoIiwicmVnZXgiLCJSZWdFeHAiLCJmaWx0ZXIiLCJkaXNjb3VudHMiLCJzb3J0IiwiY3JlYXRlZEF0Iiwic2hvdyIsImRpc2NvdW50X2lkIiwiZmluZE9uZSIsImNvbmZpZyIsImNhdGVnb3JpZXMiLCJwcm9kdWN0cyIsIkNhdGVnb3JpZSIsImNhdGVnb3J5SWRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiRGlzY291bnRDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgXG4gIHJlZ2lzdGVyOiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xuICAgIGNvbnN0IHsgcm9sLCBfaWQgfSA9IHJlcS51c2VyO1xuXG4gICAgLy8gVmFsaWRhY2nDs24gZGUgcGVybWlzb3MgcGFyYSBlbXByZW5kZWRvclxuICAgIGlmIChyb2wgPT09IFwiZW1wcmVuZGVkb3JcIikge1xuICAgICAgLy8gVmFsaWRhciBwcm9kdWN0b3NcbiAgICAgIGlmIChkYXRhLnR5cGVfc2VnbWVudCA9PSAxICYmIGRhdGEucHJvZHVjdF9zICYmIGRhdGEucHJvZHVjdF9zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgbXlQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoeyBzZWxsZXJfaWQ6IF9pZCB9KTtcbiAgICAgICAgY29uc3QgbXlQcm9kdWN0SWRzID0gbXlQcm9kdWN0cy5tYXAocCA9PiBwLl9pZC50b1N0cmluZygpKTtcbiAgICAgICAgY29uc3QgaW52YWxpZCA9IGRhdGEucHJvZHVjdF9zLnNvbWUocCA9PiAhbXlQcm9kdWN0SWRzLmluY2x1ZGVzKHApKTtcbiAgICAgICAgaWYgKGludmFsaWQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxuICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIk5vIHB1ZWRlcyBjcmVhciBkZXNjdWVudG9zIHBhcmEgcHJvZHVjdG9zIHF1ZSBubyBzb24gdHV5b3NcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBWYWxpZGFyIGNhdGVnb3LDrWFzXG4gICAgICBpZiAoZGF0YS50eXBlX3NlZ21lbnQgPT0gMiAmJiBkYXRhLmNhdGVnb3JpZV9zICYmIGRhdGEuY2F0ZWdvcmllX3MubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBteVByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7IHNlbGxlcl9pZDogX2lkIH0pO1xuICAgICAgICBjb25zdCBteUNhdGVnb3J5SWRzID0gWy4uLm5ldyBTZXQobXlQcm9kdWN0cy5tYXAocCA9PiBwLmNhdGVnb3JpZS50b1N0cmluZygpKSldO1xuICAgICAgICBjb25zdCBpbnZhbGlkID0gZGF0YS5jYXRlZ29yaWVfcy5zb21lKGMgPT4gIW15Q2F0ZWdvcnlJZHMuaW5jbHVkZXMoYykpO1xuICAgICAgICBpZiAoaW52YWxpZCkge1xuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiA0MDMsXG4gICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiTm8gcHVlZGVzIGNyZWFyIGRlc2N1ZW50b3MgcGFyYSBjYXRlZ29yw61hcyBkb25kZSBubyB0aWVuZXMgcHJvZHVjdG9zXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEzDs2dpY2EgZGUgc29sYXBhbWllbnRvIGRlIGRlc2N1ZW50b3NcbiAgICB2YXIgZmlsdGVyX2EgPSBbXTtcbiAgICB2YXIgZmlsdGVyX2IgPSBbXTtcblxuICAgIGlmIChkYXRhLnR5cGVfc2VnbWVudCA9PSAxKSB7XG4gICAgICBmaWx0ZXJfYS5wdXNoKHtcbiAgICAgICAgXCJwcm9kdWN0c1wiOiB7ICRlbGVtTWF0Y2g6IHsgX2lkOiB7ICRpbjogZGF0YS5wcm9kdWN0X3MgfSB9IH1cbiAgICAgIH0pO1xuICAgICAgZmlsdGVyX2IucHVzaCh7XG4gICAgICAgIFwicHJvZHVjdHNcIjogeyAkZWxlbU1hdGNoOiB7IF9pZDogeyAkaW46IGRhdGEucHJvZHVjdF9zIH0gfSB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmlsdGVyX2EucHVzaCh7XG4gICAgICAgIFwiY2F0ZWdvcmllc1wiOiB7ICRlbGVtTWF0Y2g6IHsgX2lkOiB7ICRpbjogZGF0YS5jYXRlZ29yaWVfcyB9IH0gfVxuICAgICAgfSk7XG4gICAgICBmaWx0ZXJfYi5wdXNoKHtcbiAgICAgICAgXCJjYXRlZ29yaWVzXCI6IHsgJGVsZW1NYXRjaDogeyBfaWQ6IHsgJGluOiBkYXRhLmNhdGVnb3JpZV9zIH0gfSB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmaWx0ZXJfYS5wdXNoKHtcbiAgICAgIHR5cGVfY2FtcGFpZ246IGRhdGEudHlwZV9jYW1wYWlnbixcbiAgICAgIHN0YXJ0X2RhdGVfbnVtOiB7ICRndGU6IGRhdGEuc3RhcnRfZGF0ZV9udW0sICRsdGU6IGRhdGEuZW5kX2RhdGVfbnVtIH1cbiAgICB9KTtcblxuICAgIGZpbHRlcl9iLnB1c2goe1xuICAgICAgdHlwZV9jYW1wYWlnbjogZGF0YS50eXBlX2NhbXBhaWduLFxuICAgICAgZW5kX2RhdGVfbnVtOiB7ICRndGU6IGRhdGEuc3RhcnRfZGF0ZV9udW0sICRsdGU6IGRhdGEuZW5kX2RhdGVfbnVtIH1cbiAgICB9KTtcblxuICAgIGxldCBleGl0c19zdGFydF9kYXRlID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmQoeyAkYW5kOiBmaWx0ZXJfYSB9KTtcbiAgICBsZXQgZXhpdHNfZW5kX2RhdGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZCh7ICRhbmQ6IGZpbHRlcl9iIH0pO1xuXG4gICAgaWYgKGV4aXRzX3N0YXJ0X2RhdGUubGVuZ3RoID4gMCB8fCBleGl0c19lbmRfZGF0ZS5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiA0MDMsXG4gICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBERVNDVUVOVE8gTk8gU0UgUFVFREUgUFJPR1JBTUFSLCBBTEdVTkEgT1BDScOTTiBTRUxFQ0NJT05BREEgVElFTkUgVU4gREVTQ1VFTlRPIEFDVElWT1wiXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBHdWFyZGFyIGVsIGNyZWFkb3IgZGVsIGRlc2N1ZW50b1xuICAgIGRhdGEuY3JlYXRvciA9IF9pZDtcblxuICAgIGxldCBkaXNjb3VudCA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5jcmVhdGUoZGF0YSk7XG5cbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICBtZXNzYWdlOiAyMDAsXG4gICAgICBtZXNzYWdlX3RleHQ6IFwiRWwgZGVzY3VlbnRvIHNlIHJlZ2lzdHLDsyBzYXRpc2ZhY3RvcmlhbWVudGVcIixcbiAgICAgIGRpc2NvdW50OiBkaXNjb3VudFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcbiAgICB9KTtcbiAgfVxuICB9LFxuICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcbiAgICAgIHZhciBmaWx0ZXJfYSA9IFtdO1xuICAgICAgdmFyIGZpbHRlcl9iID0gW107XG5cbiAgICAgIGlmKGRhdGEudHlwZV9zZWdtZW50ID09IDEpe1xuICAgICAgICBmaWx0ZXJfYS5wdXNoKHtcbiAgICAgICAgICBcInByb2R1Y3RzXCI6IHskZWxlbU1hdGNoOiB7X2lkOiB7JGluOmRhdGEucHJvZHVjdF9zfX19XG4gICAgICAgIH0pO1xuICAgICAgICBmaWx0ZXJfYi5wdXNoKHtcbiAgICAgICAgICBcInByb2R1Y3RzXCI6IHskZWxlbU1hdGNoOiB7X2lkOiB7JGluOmRhdGEucHJvZHVjdF9zfX19XG4gICAgICAgIH0pO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGZpbHRlcl9hLnB1c2goe1xuICAgICAgICAgIFwiY2F0ZWdvcmllc1wiOiB7JGVsZW1NYXRjaDoge19pZDogeyRpbjpkYXRhLmNhdGVnb3JpZV9zfX19XG4gICAgICAgIH0pO1xuICAgICAgICBmaWx0ZXJfYi5wdXNoKHtcbiAgICAgICAgICBcImNhdGVnb3JpZXNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46ZGF0YS5jYXRlZ29yaWVfc319fVxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIGZpbHRlcl9hLnB1c2goe1xuICAgICAgICB0eXBlX2NhbXBhaWduOiBkYXRhLnR5cGVfY2FtcGFpZ24sXG4gICAgICAgIF9pZDogeyRuZTogZGF0YS5faWR9LFxuICAgICAgICBzdGFydF9kYXRlX251bTogeyRndGU6IGRhdGEuc3RhcnRfZGF0ZV9udW0sICRsdGU6IGRhdGEuZW5kX2RhdGVfbnVtfVxuICAgICAgfSlcblxuICAgICAgZmlsdGVyX2IucHVzaCh7XG4gICAgICAgIHR5cGVfY2FtcGFpZ246IGRhdGEudHlwZV9jYW1wYWlnbixcbiAgICAgICAgX2lkOiB7JG5lOiBkYXRhLl9pZH0sXG4gICAgICAgIGVuZF9kYXRlX251bTogeyRndGU6IGRhdGEuc3RhcnRfZGF0ZV9udW0sICRsdGU6IGRhdGEuZW5kX2RhdGVfbnVtfVxuICAgICAgfSlcblxuICAgICAgbGV0IGV4aXRzX3N0YXJ0X2RhdGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZCh7JGFuZDogZmlsdGVyX2F9KTtcblxuICAgICAgbGV0IGV4aXRzX2VuZF9kYXRlID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmQoeyRhbmQ6IGZpbHRlcl9ifSk7XG5cbiAgICAgIGlmKCBleGl0c19zdGFydF9kYXRlLmxlbmd0aCA+IDAgfHwgZXhpdHNfZW5kX2RhdGUubGVuZ3RoID4gMCApe1xuICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgbWVzc2FnZTo0MDMsXG4gICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBERVNDVUVOVE8gTk8gU0UgUFVFREUgUFJPR1JBTUFSLCBBTEdVTkEgT1BDScOTTiBUSUVORSBVTiBERVNDVUVOVE8gQUNUSVZPXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxldCBkaXNjb3VudCA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiBkYXRhLl9pZH0sZGF0YSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICBtZXNzYWdlOiAyMDAsXG4gICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVsIGRlc2N1ZW50byBzZSBhY3R1YWxpesOzIHNhdGlzZmFjdG9yaWFtZW50ZVwiLFxuICAgICAgICAgIGRpc2NvdW50OmRpc2NvdW50XG4gICAgICB9KTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgZGVsZXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgbGV0IF9pZCA9IHJlcS5xdWVyeS5faWQ7XG5cbiAgICAgICAgYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IF9pZH0pO1xuXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcbiAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFbCBkZXNjdWVudG8gc2UgZWxpbWluw7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgIH0pO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgbGlzdDogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaCB8fCAnJztcbiAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoc2VhcmNoLCBcImlcIik7XG4gICAgY29uc3QgeyByb2wsIF9pZCB9ID0gcmVxLnVzZXI7XG5cbiAgICBsZXQgZmlsdGVyID0ge1xuICAgICAgLy8gUHVlZGVzIGFncmVnYXIgZmlsdHJvcyBwb3IgY8OzZGlnbywgbm9tYnJlLCBldGMuIHNpIHRpZW5lcyBjYW1wb3MgcGFyYSBiw7pzcXVlZGFcbiAgICAgIC8vIEFxdcOtIHVuIGVqZW1wbG8gc2kgdGllbmVzIGNhbXBvICdjb2RlJyBvICduYW1lJyBlbiBlbCBkZXNjdWVudG9cbiAgICAgIC8vIGNvZGU6IHsgJHJlZ2V4OiByZWdleCB9XG4gICAgfTtcblxuICAgIGlmIChyb2wgPT09IFwiZW1wcmVuZGVkb3JcIikge1xuICAgICAgLy8gU29sbyBkZXNjdWVudG9zIGNyZWFkb3MgcG9yIGVsIGVtcHJlbmRlZG9yXG4gICAgICBmaWx0ZXIuY3JlYXRvciA9IF9pZDtcbiAgICB9XG4gICAgLy8gQWRtaW4gdmUgdG9kb3MgbG9zIGRlc2N1ZW50b3MsIHNpbiBmaWx0cm8gcG9yIGNyZWF0b3JcblxuICAgIGNvbnN0IGRpc2NvdW50cyA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kKGZpbHRlcikuc29ydCh7IGNyZWF0ZWRBdDogLTEgfSk7XG5cbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IGRpc2NvdW50cyB9KTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogXCJFcnJvciBhbCBvYnRlbmVyIGRlc2N1ZW50b3NcIiB9KTtcbiAgfVxuICB9LFxuICBzaG93OiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgbGV0IGRpc2NvdW50X2lkID0gcmVxLnF1ZXJ5LmRpc2NvdW50X2lkO1xuXG4gICAgICAgIGxldCBkaXNjb3VudCA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kT25lKHtfaWQ6IGRpc2NvdW50X2lkfSk7XG5cbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxuICAgICAgICAgICAgZGlzY291bnQ6IGRpc2NvdW50LFxuICAgICAgICB9KTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgY29uZmlnOiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyByb2wsIF9pZCB9ID0gcmVxLnVzZXI7XG4gICAgICBsZXQgY2F0ZWdvcmllcywgcHJvZHVjdHM7XG5cbiAgICAgIGlmIChyb2wgPT09IFwiYWRtaW5cIikge1xuICAgICAgICBjYXRlZ29yaWVzID0gYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kKCk7XG4gICAgICAgIHByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCgpO1xuICAgICAgfSBlbHNlIGlmIChyb2wgPT09IFwiZW1wcmVuZGVkb3JcIikge1xuICAgICAgICBwcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoeyBzZWxsZXJfaWQ6IF9pZCB9KTtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnlJZHMgPSBbLi4ubmV3IFNldChwcm9kdWN0cy5tYXAocCA9PiBwLmNhdGVnb3JpZS50b1N0cmluZygpKSldO1xuICAgICAgICBjYXRlZ29yaWVzID0gYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kKHsgX2lkOiB7ICRpbjogY2F0ZWdvcnlJZHMgfSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7IG1lc3NhZ2U6IFwiTm8gYXV0b3JpemFkb1wiIH0pO1xuICAgICAgfVxuXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IFxuICAgICAgICBtZXNzYWdlOiAyMDAsXG4gICAgICAgIGNhdGVnb3JpZXM6IGNhdGVnb3JpZXMsXG4gICAgICAgIHByb2R1Y3RzOiBwcm9kdWN0cyB9KTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6IFwiRXJyb3IgYWwgb2J0ZW5lciBjb25maWd1cmFjacOzbiBkZSBkZXNjdWVudG9zXCIgfSk7XG4gICAgfVxuICB9LFxuXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBOEIsU0FBQUQsdUJBQUFFLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVmO0VBRWJHLFFBQVEsRUFBRSxNQUFBQSxDQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUM5QixJQUFJO01BQ0YsSUFBSUMsSUFBSSxHQUFHRixHQUFHLENBQUNHLElBQUk7TUFDbkIsTUFBTTtRQUFFQyxHQUFHO1FBQUVDO01BQUksQ0FBQyxHQUFHTCxHQUFHLENBQUNNLElBQUk7O01BRTdCO01BQ0EsSUFBSUYsR0FBRyxLQUFLLGFBQWEsRUFBRTtRQUN6QjtRQUNBLElBQUlGLElBQUksQ0FBQ0ssWUFBWSxJQUFJLENBQUMsSUFBSUwsSUFBSSxD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","map":{"version":3,"names":["_models","_interopRequireDefault","require","e","__esModule","default","_default","exports","register","req","res","data","body","rol","_id","user","type_segment","product_s","length","myProducts","models","Product","find","seller_id","myProductIds","map","p","toString","invalid","some","includes","status","json","message","message_text","categorie_s","myCategoryIds","Set","categorie","c","filter_a","filter_b","push","$elemMatch","$in","type_campaign","start_date_num","$gte","$lte","end_date_num","exits_start_date","Discount","$and","exits_end_date","creator","discount","create","error","console","log","send","update","$ne","findByIdAndUpdate","delete","query","findByIdAndDelete","list","search","regex","RegExp","filter","discounts","sort","createdAt","show","discount_id","findOne","config","categories","products","Categorie","categoryIds"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["DiscountController.js"],"sourcesContent":["import models from \"../models\"\n\nexport default {\n  \n  register: async (req, res) => {\n  try {\n    let data = req.body;\n    const { rol, _id } = req.user;\n\n    // Validación de permisos para emprendedor\n    if (rol === \"emprendedor\") {\n      // Validar productos\n      if (data.type_segment == 1 && data.product_s && data.product_s.length > 0) {\n        const myProducts = await models.Product.find({ seller_id: _id });\n        const myProductIds = myProducts.map(p => p._id.toString());\n        const invalid = data.product_s.some(p => !myProductIds.includes(p));\n        if (invalid) {\n          return res.status(403).json({\n            message: 403,\n            message_text: \"No puedes crear descuentos para productos que no son tuyos\"\n          });\n        }\n      }\n      // Validar categorías\n      if (data.type_segment == 2 && data.categorie_s && data.categorie_s.length > 0) {\n        const myProducts = await models.Product.find({ seller_id: _id });\n        const myCategoryIds = [...new Set(myProducts.map(p => p.categorie.toString()))];\n        const invalid = data.categorie_s.some(c => !myCategoryIds.includes(c));\n        if (invalid) {\n          return res.status(403).json({\n            message: 403,\n            message_text: \"No puedes crear descuentos para categorías donde no tienes productos\"\n          });\n        }\n      }\n    }\n\n    // Lógica de solapamiento de descuentos\n    var filter_a = [];\n    var filter_b = [];\n\n    if (data.type_segment == 1) {\n      filter_a.push({\n        \"products\": { $elemMatch: { _id: { $in: data.product_s } } }\n      });\n      filter_b.push({\n        \"products\": { $elemMatch: { _id: { $in: data.product_s } } }\n      });\n    } else {\n      filter_a.push({\n        \"categories\": { $elemMatch: { _id: { $in: data.categorie_s } } }\n      });\n      filter_b.push({\n        \"categories\": { $elemMatch: { _id: { $in: data.categorie_s } } }\n      });\n    }\n\n    filter_a.push({\n      type_campaign: data.type_campaign,\n      start_date_num: { $gte: data.start_date_num, $lte: data.end_date_num }\n    });\n\n    filter_b.push({\n      type_campaign: data.type_campaign,\n      end_date_num: { $gte: data.start_date_num, $lte: data.end_date_num }\n    });\n\n    let exits_start_date = await models.Discount.find({ $and: filter_a });\n    let exits_end_date = await models.Discount.find({ $and: filter_b });\n\n    if (exits_start_date.length > 0 || exits_end_date.length > 0) {\n      return res.status(200).json({\n        message: 403,\n        message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR, ALGUNA OPCIÓN SELECCIONADA TIENE UN DESCUENTO ACTIVO\"\n      });\n    }\n\n    // Guardar el creador del descuento\n    data.creator = _id;\n\n    let discount = await models.Discount.create(data);\n\n    res.status(200).json({\n      message: 200,\n      message_text: \"El descuento se registró satisfactoriamente\",\n      discount: discount\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).send({\n      message: \"OCURRIO UN ERROR\",\n    });\n  }\n  },\n  update: async(req,res) => {\n    try {\n      let data = req.body;\n      var filter_a = [];\n      var filter_b = [];\n\n      if(data.type_segment == 1){\n        filter_a.push({\n          \"products\": {$elemMatch: {_id: {$in:data.product_s}}}\n        });\n        filter_b.push({\n          \"products\": {$elemMatch: {_id: {$in:data.product_s}}}\n        });\n      }else{\n        filter_a.push({\n          \"categories\": {$elemMatch: {_id: {$in:data.categorie_s}}}\n        });\n        filter_b.push({\n          \"categories\": {$elemMatch: {_id: {$in:data.categorie_s}}}\n        });\n      };\n\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        _id: {$ne: data._id},\n        start_date_num: {$gte: data.start_date_num, $lte: data.end_date_num}\n      })\n\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        _id: {$ne: data._id},\n        end_date_num: {$gte: data.start_date_num, $lte: data.end_date_num}\n      })\n\n      let exits_start_date = await models.Discount.find({$and: filter_a});\n\n      let exits_end_date = await models.Discount.find({$and: filter_b});\n\n      if( exits_start_date.length > 0 || exits_end_date.length > 0 ){\n          res.status(200).json({\n              message:403,\n              message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR, ALGUNA OPCIÓN TIENE UN DESCUENTO ACTIVO\"\n          });\n          return;\n      }\n\n      let discount = await models.Discount.findByIdAndUpdate({_id: data._id},data);\n\n      res.status(200).json({\n          message: 200,\n          message_text: \"El descuento se actualizó satisfactoriamente\",\n          discount:discount\n      });\n\n    } catch (error) {\n        console.log(error);\n        res.status(500).send({\n            message: \"OCURRIO UN ERROR\",\n        });\n    }\n  },\n  delete: async(req,res) => {\n    try {\n        let _id = req.query._id;\n\n        await models.Discount.findByIdAndDelete({_id: _id});\n\n        res.status(200).json({\n            message: 200,\n            message_text: \"El descuento se eliminó satisfactoriamente\",\n        });\n\n    } catch (error) {\n        res.status(500).send({\n            message: \"OCURRIO UN ERROR\",\n        });\n    }\n  },\n  list: async (req, res) => {\n  try {\n    const search = req.query.search || '';\n    const regex = new RegExp(search, \"i\");\n    const { rol, _id } = req.user;\n\n    let filter = {\n      // Puedes agregar filtros por código, nombre, etc. si tienes campos para búsqueda\n      // Aquí un ejemplo si tienes campo 'code' o 'name' en el descuento\n      // code: { $regex: regex }\n    };\n\n    if (rol === \"emprendedor\") {\n      // Solo descuentos creados por el emprendedor\n      filter.creator = _id;\n    }\n    // Admin ve todos los descuentos, sin filtro por creator\n\n    const discounts = await models.Discount.find(filter).sort({ createdAt: -1 });\n\n    res.status(200).json({ discounts });\n\n  } catch (error) {\n    console.error(error);\n    res.status(500).json({ message: \"Error al obtener descuentos\" });\n  }\n  },\n  show: async(req,res) => {\n    try {\n        let discount_id = req.query.discount_id;\n\n        let discount = await models.Discount.findOne({_id: discount_id});\n\n        res.status(200).json({\n            message: 200,\n            discount: discount,\n        });\n\n    } catch (error) {\n        console.log(error);\n        res.status(500).send({\n            message: \"OCURRIO UN ERROR\",\n        });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      const { rol, _id } = req.user;\n      let categories, products;\n\n      if (rol === \"admin\") {\n        categories = await models.Categorie.find();\n        products = await models.Product.find();\n      } else if (rol === \"emprendedor\") {\n        products = await models.Product.find({ seller_id: _id });\n        const categoryIds = [...new Set(products.map(p => p.categorie.toString()))];\n        categories = await models.Categorie.find({ _id: { $in: categoryIds } });\n      } else {\n        return res.status(403).json({ message: \"No autorizado\" });\n      }\n\n      res.status(200).json({ \n        message: 200,\n        categories: categories,\n        products: products });\n\n    } catch (error) {\n      res.status(500).json({ message: \"Error al obtener configuración de descuentos\" });\n    }\n  },\n\n}"],"mappings":"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","ignoreList":[]}},"mtime":1750131853268},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Home.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _HomeController = _interopRequireDefault(require(\"../controllers/HomeController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.get(\"/list\", _HomeController.default.list);\nrouter.get(\"/landing-product/:slug\", _HomeController.default.show_landing_product);\nrouter.post(\"/search_product\", _HomeController.default.search_product);\nrouter.get(\"/config_initial\", _HomeController.default.config_initial);\nrouter.post(\"/filter_products\", _HomeController.default.filter_products);\nrouter.post(\"/profile_client\", _auth.default.verifyEcommerce, _HomeController.default.profile_client);\nrouter.post(\"/update_client\", _auth.default.verifyEcommerce, _HomeController.default.update_client);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Ib21lQ29udHJvbGxlciIsIl9hdXRoIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsImdldCIsImhvbWVDb250cm9sbGVyIiwibGlzdCIsInNob3dfbGFuZGluZ19wcm9kdWN0IiwicG9zdCIsInNlYXJjaF9wcm9kdWN0IiwiY29uZmlnX2luaXRpYWwiLCJmaWx0ZXJfcHJvZHVjdHMiLCJhdXRoIiwidmVyaWZ5RWNvbW1lcmNlIiwicHJvZmlsZV9jbGllbnQiLCJ1cGRhdGVfY2xpZW50IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbIkhvbWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcbmltcG9ydCBob21lQ29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9Ib21lQ29udHJvbGxlcidcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXG5cblxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixob21lQ29udHJvbGxlci5saXN0KTtcbnJvdXRlci5nZXQoXCIvbGFuZGluZy1wcm9kdWN0LzpzbHVnXCIsaG9tZUNvbnRyb2xsZXIuc2hvd19sYW5kaW5nX3Byb2R1Y3QpO1xucm91dGVyLnBvc3QoXCIvc2VhcmNoX3Byb2R1Y3RcIixob21lQ29udHJvbGxlci5zZWFyY2hfcHJvZHVjdCk7XG5yb3V0ZXIuZ2V0KFwiL2NvbmZpZ19pbml0aWFsXCIsaG9tZUNvbnRyb2xsZXIuY29uZmlnX2luaXRpYWwpO1xucm91dGVyLnBvc3QoXCIvZmlsdGVyX3Byb2R1Y3RzXCIsaG9tZUNvbnRyb2xsZXIuZmlsdGVyX3Byb2R1Y3RzKTtcbnJvdXRlci5wb3N0KFwiL3Byb2ZpbGVfY2xpZW50XCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsaG9tZUNvbnRyb2xsZXIucHJvZmlsZV9jbGllbnQpO1xucm91dGVyLnBvc3QoXCIvdXBkYXRlX2NsaWVudFwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGhvbWVDb250cm9sbGVyLnVwZGF0ZV9jbGllbnQpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsZUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBR3RDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFFeEJELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBQ0MsdUJBQWMsQ0FBQ0MsSUFBSSxDQUFDO0FBQ3ZDSixNQUFNLENBQUNFLEdBQUcsQ0FBQyx3QkFBd0IsRUFBQ0MsdUJBQWMsQ0FBQ0Usb0JBQW9CLENBQUM7QUFDeEVMLE1BQU0sQ0FBQ00sSUFBSSxDQUFDLGlCQUFpQixFQUFDSCx1QkFBYyxDQUFDSSxjQUFjLENBQUM7QUFDNURQLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLGlCQUFpQixFQUFDQyx1QkFBYyxDQUFDSyxjQUFjLENBQUM7QUFDM0RSLE1BQU0sQ0FBQ00sSUFBSSxDQUFDLGtCQUFrQixFQUFDSCx1QkFBYyxDQUFDTSxlQUFlLENBQUM7QUFDOURULE1BQU0sQ0FBQ00sSUFBSSxDQUFDLGlCQUFpQixFQUFDSSxhQUFJLENBQUNDLGVBQWUsRUFBQ1IsdUJBQWMsQ0FBQ1MsY0FBYyxDQUFDO0FBQ2pGWixNQUFNLENBQUNNLElBQUksQ0FBQyxnQkFBZ0IsRUFBQ0ksYUFBSSxDQUFDQyxlQUFlLEVBQUNSLHVCQUFjLENBQUNVLGFBQWEsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBaEIsT0FBQSxHQUVqRUMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_HomeController","_auth","e","__esModule","default","router","routerx","get","homeController","list","show_landing_product","post","search_product","config_initial","filter_products","auth","verifyEcommerce","profile_client","update_client","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Home.js"],"sourcesContent":["import routerx from 'express-promise-router'\nimport homeController from '../controllers/HomeController'\nimport auth from '../middlewares/auth'\n\n\nconst router = routerx();\n\nrouter.get(\"/list\",homeController.list);\nrouter.get(\"/landing-product/:slug\",homeController.show_landing_product);\nrouter.post(\"/search_product\",homeController.search_product);\nrouter.get(\"/config_initial\",homeController.config_initial);\nrouter.post(\"/filter_products\",homeController.filter_products);\nrouter.post(\"/profile_client\",auth.verifyEcommerce,homeController.profile_client);\nrouter.post(\"/update_client\",auth.verifyEcommerce,homeController.update_client);\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAGtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,GAAG,CAAC,OAAO,EAACC,uBAAc,CAACC,IAAI,CAAC;AACvCJ,MAAM,CAACE,GAAG,CAAC,wBAAwB,EAACC,uBAAc,CAACE,oBAAoB,CAAC;AACxEL,MAAM,CAACM,IAAI,CAAC,iBAAiB,EAACH,uBAAc,CAACI,cAAc,CAAC;AAC5DP,MAAM,CAACE,GAAG,CAAC,iBAAiB,EAACC,uBAAc,CAACK,cAAc,CAAC;AAC3DR,MAAM,CAACM,IAAI,CAAC,kBAAkB,EAACH,uBAAc,CAACM,eAAe,CAAC;AAC9DT,MAAM,CAACM,IAAI,CAAC,iBAAiB,EAACI,aAAI,CAACC,eAAe,EAACR,uBAAc,CAACS,cAAc,CAAC;AACjFZ,MAAM,CAACM,IAAI,CAAC,gBAAgB,EAACI,aAAI,CAACC,eAAe,EAACR,uBAAc,CAACU,aAAa,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAEjEC,MAAM","ignoreList":[]}},"mtime":1740583513095},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/HomeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  list: async (req, res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let Sliders = await _models.default.Slider.find({\n        state: 1\n      });\n      Sliders = Sliders.map(slider => {\n        return _resourses.default.Slider.slider_list(slider);\n      });\n      let productPromo = await _models.default.Product.findById('67c0ebd90204b3909cea1e67');\n      if (productPromo) {\n        productPromo = _resourses.default.Product.product_list(productPromo);\n      }\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      Categories = Categories.map(categorie => {\n        return _resourses.default.Categorie.categorie_list(categorie);\n      });\n      let CampaignDiscount = await _models.default.Discount.findOne({\n        type_campaign: 1,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        end_date_num: {\n          $gte: TIME_NOW\n        }\n      });\n\n      // console.log(CampaignDiscount);\n\n      let BestProducts = await _models.default.Product.find({\n        state: 2,\n        condition: {\n          $ne: 3\n        }\n      }).sort({\n        \"createdAt\": -1\n      });\n      var ObjectBestProducts = [];\n      for (const Product of BestProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaignDiscount) {\n          if (CampaignDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaignDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaignDiscount;\n            }\n          } else {\n            // por categoria}\n            let categories_a = [];\n            CampaignDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaignDiscount;\n            }\n          }\n        }\n        ObjectBestProducts.push(_resourses.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n      let OursProducts = await _models.default.Product.find({\n        state: 2,\n        condition: {\n          $ne: 3\n        }\n      }).sort({\n        \"createdAt\": 1\n      });\n      var ObjectOursProducts = [];\n      for (const Product of OursProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaignDiscount) {\n          if (CampaignDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaignDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaignDiscount;\n            }\n          } else {\n            // por categoria}\n            let categories_a = [];\n            CampaignDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaignDiscount;\n            }\n          }\n        }\n        ObjectOursProducts.push(_resourses.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n\n      // OursProducts = OursProducts.map(async (product) => {\n      //   let VARIEDADES = await models.Variedad.find({product: product._id});\n      //   return resourse.Product.product_list(product,VARIEDADES);\n      // })\n\n      let DonationProducts = await _models.default.Product.find({\n        state: 2,\n        condition: 3\n      }).sort({\n        \"createdAt\": 1\n      });\n      var ObjectDonationProducts = [];\n      for (const Product of DonationProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        ObjectDonationProducts.push(_resourses.default.Product.product_list(Product, VARIEDADES));\n      }\n\n      // DonationProducts = DonationProducts.map((product) => {\n      //   return resourse.Product.product_list(product);\n      // })\n\n      let FlashSale = await _models.default.Discount.findOne({\n        type_campaign: 2,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        end_date_num: {\n          $gte: TIME_NOW\n        }\n      });\n      let ProductList = [];\n      if (FlashSale) {\n        for (const product of FlashSale.products) {\n          var ObjecT = await _models.default.Product.findById({\n            _id: product._id\n          });\n          let VARIEDADES = await _models.default.Variedad.find({\n            product: product._id\n          });\n          ProductList.push(_resourses.default.Product.product_list(ObjecT, VARIEDADES));\n        }\n      }\n      //console.log(FlashSale);\n      // console.log(TIME_NOW);\n\n      res.status(200).json({\n        sliders: Sliders,\n        categories: Categories,\n        productPromo: [productPromo],\n        // Envía como un arreglo\n        best_products: ObjectBestProducts,\n        our_products: ObjectOursProducts,\n        donation_products: ObjectDonationProducts,\n        FlashSale: FlashSale,\n        campaign_products: ProductList\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  show_landing_product: async (req, res) => {\n    try {\n      let SLUG = req.params.slug;\n      let DISCOUNT_ID = req.query._id;\n\n      // console.log(\"_id= \"+DISCOUNT_ID);\n\n      let Product = await _models.default.Product.findOne({\n        slug: SLUG,\n        state: 2\n      });\n      let VARIEDADES = await _models.default.Variedad.find({\n        product: Product._id\n      });\n      let REVIEWS = await _models.default.Review.find({\n        product: Product._id\n      }).populate(\"user\");\n      let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n      let COUNT_REVIEW = REVIEWS.length;\n\n      // console.log(\"Las estrellas: \"+AVG_REVIEW);\n\n      let RelatedProducts = await _models.default.Product.find({\n        categorie: Product.categorie,\n        state: 2\n      });\n      var ObjectRelatedProducts = [];\n      for (const Product of RelatedProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        ObjectRelatedProducts.push(_resourses.default.Product.product_list(Product, VARIEDADES));\n      }\n      let SALE_FLASH = null;\n      if (DISCOUNT_ID) {\n        SALE_FLASH = await _models.default.Discount.findById({\n          _id: DISCOUNT_ID\n        });\n      }\n      res.status(200).json({\n        product: _resourses.default.Product.product_list(Product, VARIEDADES),\n        related_products: ObjectRelatedProducts,\n        SALE_FLASH: SALE_FLASH,\n        REVIEWS: REVIEWS,\n        AVG_REVIEW: AVG_REVIEW,\n        COUNT_REVIEW: COUNT_REVIEW,\n        message: \"Super! El producto agregó satisfactoriamente\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  search_product: async (req, res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let search_product = req.body.search_product;\n      let OursProducts = await _models.default.Product.find({\n        state: 2,\n        title: new RegExp(search_product, \"i\")\n      }).sort({\n        \"createdAt\": 1\n      });\n      let CampaignDiscount = await _models.default.Discount.findOne({\n        type_campaign: 1,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        end_date_num: {\n          $gte: TIME_NOW\n        }\n      });\n      var Products = [];\n      for (const Product of OursProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaignDiscount) {\n          if (CampaignDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaignDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaignDiscount;\n            }\n          } else {\n            // por categoria}\n            let categories_a = [];\n            CampaignDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaignDiscount;\n            }\n          }\n        }\n        Products.push(_resourses.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n      res.status(200).json({\n        products: Products\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  profile_client: async (req, res) => {\n    try {\n      let user_id = req.body.user_id;\n      let Orders = await _models.default.Sale.find({\n        user: user_id\n      });\n      let sale_orders = [];\n      for (const order of Orders) {\n        let detail_orders = await _models.default.SaleDetail.find({\n          sale: order._id\n        }).populate({\n          path: \"product\",\n          populate: {\n            path: \"categorie\"\n          }\n        }).populate(\"variedad\");\n        let sale_address = await _models.default.SaleAddress.find({\n          sale: order._id\n        });\n        let collection_detail_orders = [];\n        for (const detail_order of detail_orders) {\n          let reviewS = await _models.default.Review.findOne({\n            sale_detail: detail_order._id\n          });\n          collection_detail_orders.push({\n            _id: detail_order._id,\n            product: {\n              _id: detail_order.product._id,\n              title: detail_order.product.title,\n              imagen: process.env.URL_BACKEND + \"/api/products/uploads/product/\" + detail_order.product.portada,\n              state: detail_order.product.state,\n              slug: detail_order.product.slug,\n              sku: detail_order.product.sku,\n              categorie: detail_order.product.categorie,\n              price_bs: detail_order.product.price_bs,\n              price_usd: detail_order.product.price_usd,\n              condition: detail_order.product.condition\n            },\n            type_discount: detail_order.type_discount,\n            discount: detail_order.discount,\n            cantidad: detail_order.cantidad,\n            variedad: detail_order.variedad,\n            code_cupon: detail_order.code_cupon,\n            code_discount: detail_order.code_discount,\n            price_unit: detail_order.price_unit,\n            subtotal: detail_order.subtotal,\n            total: detail_order.total,\n            review: reviewS\n          });\n        }\n        sale_orders.push({\n          sale: order,\n          sale_details: collection_detail_orders,\n          sale_address: sale_address\n        });\n      }\n      let ADDRESS_CLIENT = await _models.default.AddressClient.find({\n        user: user_id\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        sale_orders: sale_orders,\n        address_client: ADDRESS_CLIENT\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  update_client: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('/');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n\n      //  console.log(req.body);\n\n      const updateData = {};\n\n      // Verifica cada campo y solo actualiza si tiene valor\n      if (req.body.name) updateData.name = req.body.name;\n      if (req.body.surname) updateData.surname = req.body.surname;\n      if (req.body.email) updateData.email = req.body.email;\n\n      // Solo actualiza el password si se proporciona uno nuevo\n      if (req.body.password && req.body.password !== \"\") {\n        updateData.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, updateData);\n      let User = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"Super! Su información se actualizó satisfactoriamente\",\n        user: {\n          name: User.name,\n          surname: User.surname,\n          email: User.email,\n          _id: User._id\n        }\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  config_initial: async (req, res) => {\n    try {\n      let categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      let variedades = await _models.default.Variedad.find({});\n      res.status(200).json({\n        categories: categories,\n        variedades: variedades\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  filter_products: async (req, res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let search_product = req.body.search_product;\n      let categories_salecteds = req.body.categories_salecteds;\n      let is_discount = req.body.is_discount;\n      let variedad_selected = req.body.variedad_selected;\n      let price_min = req.body.price_min;\n      let price_max = req.body.price_max;\n      let filter = [{\n        state: 2\n      }];\n      var categories_s = [];\n      var products_s = [];\n      //{ state:2, title: new RegExp(search_product, \"i\")}\n\n      if (categories_salecteds.length > 0) {\n        categories_salecteds.forEach(categorie => {\n          categories_s.push(categorie);\n        });\n        // filter.push({\n        //   categorie:{ $in: categories_salecteds},\n        // })\n      }\n      let CampaignDiscount = await _models.default.Discount.findOne({\n        type_campaign: 1,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        end_date_num: {\n          $gte: TIME_NOW\n        }\n      });\n      if (is_discount == 2) {\n        if (CampaignDiscount.type_segment == 1) {\n          CampaignDiscount.products.forEach(item => {\n            products_s.push(item._id);\n          });\n        } else {\n          CampaignDiscount.categories.forEach(item => {\n            categories_s.push(item._id);\n          });\n        }\n      }\n      if (variedad_selected) {\n        let VARIE = await _models.default.Variedad.findById({\n          _id: variedad_selected._id\n        });\n        if (VARIE) {\n          products_s.push(VARIE.product);\n        }\n      }\n      if (categories_s.length > 0) {\n        filter.push({\n          categorie: {\n            $in: categories_s\n          }\n        });\n      }\n      if (products_s.length > 0) {\n        filter.push({\n          _id: {\n            $in: products_s\n          }\n        });\n      }\n      if (price_min > 0 && price_max > 0) {\n        filter.push({\n          price_usd: {\n            $gte: price_min,\n            $lte: price_max\n          }\n        });\n      }\n      let OursProducts = await _models.default.Product.find({\n        $and: filter\n      }).sort({\n        \"createdAt\": 1\n      });\n      var Products = [];\n      for (const Product of OursProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaignDiscount) {\n          if (CampaignDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaignDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaignDiscount;\n            }\n          } else {\n            // por categoria}\n            let categories_a = [];\n            CampaignDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaignDiscount;\n            }\n          }\n        }\n        Products.push(_resourses.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n      res.status(200).json({\n        products: Products\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3Vyc2VzIiwiX2JjcnlwdGpzIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwibGlzdCIsInJlcSIsInJlcyIsIlRJTUVfTk9XIiwicXVlcnkiLCJTbGlkZXJzIiwibW9kZWxzIiwiU2xpZGVyIiwiZmluZCIsInN0YXRlIiwibWFwIiwic2xpZGVyIiwicmVzb3Vyc2UiLCJzbGlkZXJfbGlzdCIsInByb2R1Y3RQcm9tbyIsIlByb2R1Y3QiLCJmaW5kQnlJZCIsInByb2R1Y3RfbGlzdCIsIkNhdGVnb3JpZXMiLCJDYXRlZ29yaWUiLCJjYXRlZ29yaWUiLCJjYXRlZ29yaWVfbGlzdCIsIkNhbXBhaWduRGlzY291bnQiLCJEaXNjb3VudCIsImZpbmRPbmUiLCJ0eXBlX2NhbXBhaWduIiwic3RhcnRfZGF0ZV9udW0iLCIkbHRlIiwiZW5kX2RhdGVfbnVtIiwiJGd0ZSIsIkJlc3RQcm9kdWN0cyIsImNvbmRpdGlvbiIsIiRuZSIsInNvcnQiLCJPYmplY3RCZXN0UHJvZHVjdHMiLCJWQVJJRURBREVTIiwiVmFyaWVkYWQiLCJwcm9kdWN0IiwiX2lkIiwiUkVWSUVXUyIsIlJldmlldyIsIkFWR19SRVZJRVciLCJsZW5ndGgiLCJNYXRoIiwiY2VpbCIsInJlZHVjZSIsInN1bSIsIml0ZW0iLCJjYW50aWRhZCIsIkNPVU5UX1JFVklFVyIsIkRJU0NPVU5UX0VYSVRTIiwidHlwZV9zZWdtZW50IiwicHJvZHVjdHNfYSIsInByb2R1Y3RzIiwiZm9yRWFjaCIsInB1c2giLCJpbmNsdWRlcyIsImNhdGVnb3JpZXNfYSIsImNhdGVnb3JpZXMiLCJPdXJzUHJvZHVjdHMiLCJPYmplY3RPdXJzUHJvZHVjdHMiLCJEb25hdGlvblByb2R1Y3RzIiwiT2JqZWN0RG9uYXRpb25Qcm9kdWN0cyIsIkZsYXNoU2FsZSIsIlByb2R1Y3RMaXN0IiwiT2JqZWNUIiwic3RhdHVzIiwianNvbiIsInNsaWRlcnMiLCJiZXN0X3Byb2R1Y3RzIiwib3VyX3Byb2R1Y3RzIiwiZG9uYXRpb25fcHJvZHVjdHMiLCJjYW1wYWlnbl9wcm9kdWN0cyIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInNlbmQiLCJtZXNzYWdlIiwic2hvd19sYW5kaW5nX3Byb2R1Y3QiLCJTTFVHIiwicGFyYW1zIiwic2x1ZyIsIkRJU0NPVU5UX0lEIiwicG9wdWxhdGUiLCJSZWxhdGVkUHJvZHVjdHMiLCJPYmplY3RSZWxhdGVkUHJvZHVjdHMiLCJTQUxFX0ZMQVNIIiwicmVsYXRlZF9wcm9kdWN0cyIsInNlYXJjaF9wcm9kdWN0IiwiYm9keSIsInRpdGxlIiwiUmVnRXhwIiwiUHJvZHVjdHMiLCJwcm9maWxlX2NsaWVudCIsInVzZXJfaWQiLCJPcmRlcnMiLCJTYWxlIiwidXNlciIsInNhbGVfb3JkZXJzIiwib3JkZXIiLCJkZXRhaWxfb3JkZXJzIiwiU2FsZURldGFpbCIsInNhbGUiLCJwYXRoIiwic2FsZV9hZGRyZXNzIiwiU2FsZUFkZHJlc3MiLCJjb2xsZWN0aW9uX2RldGFpbF9vcmRlcnMiLCJkZXRhaWxfb3JkZXIiLCJyZXZpZXdTIiwic2FsZV9kZXRhaWwiLCJpbWFnZW4iLCJwcm9jZXNzIiwiZW52IiwiVVJMX0JBQ0tFTkQiLCJwb3J0YWRhIiwic2t1IiwicHJpY2VfYnMiLCJwcmljZV91c2QiLCJ0eXBlX2Rpc2NvdW50IiwiZGlzY291bnQiLCJ2YXJpZWRhZCIsImNvZGVfY3Vwb24iLCJjb2RlX2Rpc2NvdW50IiwicHJpY2VfdW5pdCIsInN1YnRvdGFsIiwidG90YWwiLCJyZXZpZXciLCJzYWxlX2RldGFpbHMiLCJBRERSRVNTX0NMSUVOVCIsIkFkZHJlc3NDbGllbnQiLCJhZGRyZXNzX2NsaWVudCIsInVwZGF0ZV9jbGllbnQiLCJmaWxlcyIsImltZ19wYXRoIiwiYXZhdGFyIiwibmFtZSIsInNwbGl0IiwiYXZhdGFyX25hbWUiLCJ1cGRhdGVEYXRhIiwic3VybmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJiY3J5cHQiLCJoYXNoIiwiVXNlciIsImZpbmRCeUlkQW5kVXBkYXRlIiwiY29uZmlnX2luaXRpYWwiLCJ2YXJpZWRhZGVzIiwiZmlsdGVyX3Byb2R1Y3RzIiwiY2F0ZWdvcmllc19zYWxlY3RlZHMiLCJpc19kaXNjb3VudCIsInZhcmllZGFkX3NlbGVjdGVkIiwicHJpY2VfbWluIiwicHJpY2VfbWF4IiwiZmlsdGVyIiwiY2F0ZWdvcmllc19zIiwicHJvZHVjdHNfcyIsIlZBUklFIiwiJGluIiwiJGFuZCJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIkhvbWVDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiO1xuaW1wb3J0IHJlc291cnNlIGZyb20gXCIuLi9yZXNvdXJzZXNcIjtcbmltcG9ydCBiY3J5cHQgZnJvbSBcImJjcnlwdGpzXCJcblxuXG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICBsaXN0OiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBUSU1FX05PVyA9IHJlcS5xdWVyeS5USU1FX05PV1xuXG4gICAgICAgIGxldCBTbGlkZXJzID0gYXdhaXQgbW9kZWxzLlNsaWRlci5maW5kKHtzdGF0ZToxfSk7IFxuICAgICAgICBTbGlkZXJzID0gU2xpZGVycy5tYXAoKHNsaWRlcikgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gcmVzb3Vyc2UuU2xpZGVyLnNsaWRlcl9saXN0KHNsaWRlcik7XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIGxldCBwcm9kdWN0UHJvbW8gPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZCgnNjdjMGViZDkwMjA0YjM5MDljZWExZTY3Jyk7XG4gICAgICAgIGlmIChwcm9kdWN0UHJvbW8pIHtcbiAgICAgICAgICBwcm9kdWN0UHJvbW8gPSByZXNvdXJzZS5Qcm9kdWN0LnByb2R1Y3RfbGlzdChwcm9kdWN0UHJvbW8pO1xuICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgXG5cbiAgICAgICAgbGV0IENhdGVnb3JpZXMgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmQoe3N0YXRlOjF9KTsgXG4gICAgICAgIENhdGVnb3JpZXMgPSBDYXRlZ29yaWVzLm1hcCgoY2F0ZWdvcmllKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHJlc291cnNlLkNhdGVnb3JpZS5jYXRlZ29yaWVfbGlzdChjYXRlZ29yaWUpO1xuICAgICAgICB9KVxuXG4gICAgICAgIGxldCBDYW1wYWlnbkRpc2NvdW50ID0gIGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kT25lKHtcbiAgICAgICAgICB0eXBlX2NhbXBhaWduOiAxLFxuICAgICAgICAgIHN0YXJ0X2RhdGVfbnVtOnskbHRlOiBUSU1FX05PV30sXG4gICAgICAgICAgZW5kX2RhdGVfbnVtOnskZ3RlOiBUSU1FX05PV30sXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coQ2FtcGFpZ25EaXNjb3VudCk7XG5cbiAgICAgICAgbGV0IEJlc3RQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoeyBzdGF0ZToyLCBjb25kaXRpb246IHskbmU6IDN9fSkuc29ydCh7IFwiY3JlYXRlZEF0XCI6IC0xfSk7XG4gICAgICAgIHZhciBPYmplY3RCZXN0UHJvZHVjdHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBQcm9kdWN0IG9mIEJlc3RQcm9kdWN0cyl7XG4gICAgICAgICAgbGV0IFZBUklFREFERVMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcbiAgICAgICAgICBsZXQgUkVWSUVXUyA9IGF3YWl0IG1vZGVscy5SZXZpZXcuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcbiAgICAgICAgICBsZXQgQVZHX1JFVklFVyA9IFJFVklFV1MubGVuZ3RoID4gMCA/IE1hdGguY2VpbChSRVZJRVdTLnJlZHVjZSgoc3VtLGl0ZW0pID0+IHN1bSArIGl0ZW0uY2FudGlkYWQsMCkvUkVWSUVXUy5sZW5ndGgpOiAwO1xuICAgICAgICAgIGxldCBDT1VOVF9SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aDtcbiAgICAgICAgICBsZXQgRElTQ09VTlRfRVhJVFMgPSAgbnVsbDtcbiAgICAgICAgICBpZihDYW1wYWlnbkRpc2NvdW50KXtcbiAgICAgICAgICAgIGlmKENhbXBhaWduRGlzY291bnQudHlwZV9zZWdtZW50ID09IDEpey8vcG9yIHByb2R1Y3RvXG4gICAgICAgICAgICAgIGxldCBwcm9kdWN0c19hID0gW107XG4gICAgICAgICAgICAgIENhbXBhaWduRGlzY291bnQucHJvZHVjdHMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICBwcm9kdWN0c19hLnB1c2goaXRlbS5faWQpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICBpZihwcm9kdWN0c19hLmluY2x1ZGVzKFByb2R1Y3QuX2lkK1wiXCIpKXtcbiAgICAgICAgICAgICAgICBESVNDT1VOVF9FWElUUyA9IENhbXBhaWduRGlzY291bnQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1lbHNley8vIHBvciBjYXRlZ29yaWF9XG4gICAgICAgICAgICAgIGxldCBjYXRlZ29yaWVzX2EgPSBbXTtcbiAgICAgICAgICAgICAgQ2FtcGFpZ25EaXNjb3VudC5jYXRlZ29yaWVzLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllc19hLnB1c2goaXRlbS5faWQpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICBpZihjYXRlZ29yaWVzX2EuaW5jbHVkZXMoUHJvZHVjdC5jYXRlZ29yaWUrXCJcIikpe1xuICAgICAgICAgICAgICAgIERJU0NPVU5UX0VYSVRTID0gQ2FtcGFpZ25EaXNjb3VudDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBPYmplY3RCZXN0UHJvZHVjdHMucHVzaChyZXNvdXJzZS5Qcm9kdWN0LnByb2R1Y3RfbGlzdChQcm9kdWN0LCBWQVJJRURBREVTLCBBVkdfUkVWSUVXLCBDT1VOVF9SRVZJRVcsIERJU0NPVU5UX0VYSVRTKSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgT3Vyc1Byb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7IHN0YXRlOjIsIGNvbmRpdGlvbjogeyRuZTogM319KS5zb3J0KHsgXCJjcmVhdGVkQXRcIjogMX0pO1xuXG4gICAgICAgIHZhciBPYmplY3RPdXJzUHJvZHVjdHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBQcm9kdWN0IG9mIE91cnNQcm9kdWN0cykge1xuICAgICAgICAgICAgbGV0IFZBUklFREFERVMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcbiAgICAgICAgICAgIGxldCBSRVZJRVdTID0gYXdhaXQgbW9kZWxzLlJldmlldy5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xuICAgICAgICAgICAgbGV0IEFWR19SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aCA+IDAgPyBNYXRoLmNlaWwoUkVWSUVXUy5yZWR1Y2UoKHN1bSxpdGVtKSA9PiBzdW0gKyBpdGVtLmNhbnRpZGFkLDApL1JFVklFV1MubGVuZ3RoKTogMDtcbiAgICAgICAgICAgIGxldCBDT1VOVF9SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aDtcbiAgICAgICAgICAgIGxldCBESVNDT1VOVF9FWElUUyA9ICBudWxsO1xuICAgICAgICAgICAgaWYoQ2FtcGFpZ25EaXNjb3VudCl7XG4gICAgICAgICAgICAgIGlmKENhbXBhaWduRGlzY291bnQudHlwZV9zZWdtZW50ID09IDEpey8vcG9yIHByb2R1Y3RvXG4gICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RzX2EgPSBbXTtcbiAgICAgICAgICAgICAgICBDYW1wYWlnbkRpc2NvdW50LnByb2R1Y3RzLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICBwcm9kdWN0c19hLnB1c2goaXRlbS5faWQpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgaWYocHJvZHVjdHNfYS5pbmNsdWRlcyhQcm9kdWN0Ll9pZCtcIlwiKSl7XG4gICAgICAgICAgICAgICAgICBESVNDT1VOVF9FWElUUyA9IENhbXBhaWduRGlzY291bnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9ZWxzZXsvLyBwb3IgY2F0ZWdvcmlhfVxuICAgICAgICAgICAgICAgIGxldCBjYXRlZ29yaWVzX2EgPSBbXTtcbiAgICAgICAgICAgICAgICBDYW1wYWlnbkRpc2NvdW50LmNhdGVnb3JpZXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNfYS5wdXNoKGl0ZW0uX2lkKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGlmKGNhdGVnb3JpZXNfYS5pbmNsdWRlcyhQcm9kdWN0LmNhdGVnb3JpZStcIlwiKSl7XG4gICAgICAgICAgICAgICAgICBESVNDT1VOVF9FWElUUyA9IENhbXBhaWduRGlzY291bnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBPYmplY3RPdXJzUHJvZHVjdHMucHVzaChyZXNvdXJzZS5Qcm9kdWN0LnByb2R1Y3RfbGlzdChQcm9kdWN0LFZBUklFREFERVMsIEFWR19SRVZJRVcsIENPVU5UX1JFVklFVywgRElTQ09VTlRfRVhJVFMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE91cnNQcm9kdWN0cyA9IE91cnNQcm9kdWN0cy5tYXAoYXN5bmMgKHByb2R1Y3QpID0+IHtcbiAgICAgICAgLy8gICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OiBwcm9kdWN0Ll9pZH0pO1xuICAgICAgICAvLyAgIHJldHVybiByZXNvdXJzZS5Qcm9kdWN0LnByb2R1Y3RfbGlzdChwcm9kdWN0LFZBUklFREFERVMpO1xuICAgICAgICAvLyB9KVxuXG4gICAgICAgIGxldCBEb25hdGlvblByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7IHN0YXRlOjIsIGNvbmRpdGlvbjozfSkuc29ydCh7IFwiY3JlYXRlZEF0XCI6IDF9KTtcbiAgICAgICAgdmFyIE9iamVjdERvbmF0aW9uUHJvZHVjdHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBQcm9kdWN0IG9mIERvbmF0aW9uUHJvZHVjdHMpIHtcbiAgICAgICAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3Q6IFByb2R1Y3QuX2lkfSk7XG4gICAgICAgICAgICBPYmplY3REb25hdGlvblByb2R1Y3RzLnB1c2gocmVzb3Vyc2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCxWQVJJRURBREVTKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEb25hdGlvblByb2R1Y3RzID0gRG9uYXRpb25Qcm9kdWN0cy5tYXAoKHByb2R1Y3QpID0+IHtcbiAgICAgICAgLy8gICByZXR1cm4gcmVzb3Vyc2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QocHJvZHVjdCk7XG4gICAgICAgIC8vIH0pXG5cbiAgICAgICAgbGV0IEZsYXNoU2FsZSA9ICBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZE9uZSh7XG4gICAgICAgICAgdHlwZV9jYW1wYWlnbjogMixcbiAgICAgICAgICBzdGFydF9kYXRlX251bTp7JGx0ZTogVElNRV9OT1d9LFxuICAgICAgICAgIGVuZF9kYXRlX251bTp7JGd0ZTogVElNRV9OT1d9LFxuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgUHJvZHVjdExpc3QgPSBbXTtcbiAgICAgICAgaWYoRmxhc2hTYWxlKXtcbiAgICAgICAgICBmb3IgKGNvbnN0IHByb2R1Y3Qgb2YgRmxhc2hTYWxlLnByb2R1Y3RzKSB7XG4gICAgICAgICAgICB2YXIgT2JqZWNUID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWQoe19pZDpwcm9kdWN0Ll9pZH0pO1xuICAgICAgICAgICAgbGV0IFZBUklFREFERVMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogcHJvZHVjdC5faWR9KTtcbiAgICAgICAgICAgIFByb2R1Y3RMaXN0LnB1c2gocmVzb3Vyc2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoT2JqZWNULFZBUklFREFERVMpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgICAvL2NvbnNvbGUubG9nKEZsYXNoU2FsZSk7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coVElNRV9OT1cpO1xuICAgICAgICBcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgIHNsaWRlcnM6IFNsaWRlcnMsXG4gICAgICAgICAgY2F0ZWdvcmllczogQ2F0ZWdvcmllcyxcbiAgICAgICAgICBwcm9kdWN0UHJvbW86IFtwcm9kdWN0UHJvbW9dLCAvLyBFbnbDrWEgY29tbyB1biBhcnJlZ2xvXG4gICAgICAgICAgYmVzdF9wcm9kdWN0czpPYmplY3RCZXN0UHJvZHVjdHMsXG4gICAgICAgICAgb3VyX3Byb2R1Y3RzOiBPYmplY3RPdXJzUHJvZHVjdHMsXG4gICAgICAgICAgZG9uYXRpb25fcHJvZHVjdHM6T2JqZWN0RG9uYXRpb25Qcm9kdWN0cyxcbiAgICAgICAgICBGbGFzaFNhbGU6Rmxhc2hTYWxlLFxuICAgICAgICAgIGNhbXBhaWduX3Byb2R1Y3RzOlByb2R1Y3RMaXN0LFxuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgc2hvd19sYW5kaW5nX3Byb2R1Y3Q6IGFzeW5jKHJlcSwgcmVzKSA9PntcbiAgICB0cnkge1xuICAgICAgbGV0IFNMVUcgPSByZXEucGFyYW1zLnNsdWc7XG4gICAgICBsZXQgRElTQ09VTlRfSUQgPSByZXEucXVlcnkuX2lkO1xuXG4gICAgICAvLyBjb25zb2xlLmxvZyhcIl9pZD0gXCIrRElTQ09VTlRfSUQpO1xuXG4gICAgICBsZXQgUHJvZHVjdCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRPbmUoe3NsdWc6IFNMVUcsIHN0YXRlOiAyfSk7XG5cbiAgICAgIGxldCBWQVJJRURBREVTID0gIGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xuXG4gICAgICBsZXQgUkVWSUVXUyA9IGF3YWl0IG1vZGVscy5SZXZpZXcuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KS5wb3B1bGF0ZShcInVzZXJcIik7XG4gICAgICBsZXQgQVZHX1JFVklFVyA9IFJFVklFV1MubGVuZ3RoID4gMCA/IE1hdGguY2VpbChSRVZJRVdTLnJlZHVjZSgoc3VtLGl0ZW0pID0+IHN1bSArIGl0ZW0uY2FudGlkYWQsMCkvUkVWSUVXUy5sZW5ndGgpOiAwO1xuICAgICAgbGV0IENPVU5UX1JFVklFVyA9IFJFVklFV1MubGVuZ3RoO1xuXG4gICAgICAvLyBjb25zb2xlLmxvZyhcIkxhcyBlc3RyZWxsYXM6IFwiK0FWR19SRVZJRVcpO1xuXG4gICAgICBsZXQgUmVsYXRlZFByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7Y2F0ZWdvcmllOiBQcm9kdWN0LmNhdGVnb3JpZSwgc3RhdGU6IDIgfSk7XG5cbiAgICAgIHZhciBPYmplY3RSZWxhdGVkUHJvZHVjdHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBQcm9kdWN0IG9mIFJlbGF0ZWRQcm9kdWN0cykge1xuICAgICAgICAgICAgbGV0IFZBUklFREFERVMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcbiAgICAgICAgICAgIE9iamVjdFJlbGF0ZWRQcm9kdWN0cy5wdXNoKHJlc291cnNlLlByb2R1Y3QucHJvZHVjdF9saXN0KFByb2R1Y3QsVkFSSUVEQURFUykpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBTQUxFX0ZMQVNIID0gbnVsbDtcbiAgICAgICAgaWYoRElTQ09VTlRfSUQpe1xuICAgICAgICAgIFNBTEVfRkxBU0ggPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZEJ5SWQoe19pZDogRElTQ09VTlRfSUR9KVxuICAgICAgICB9XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgcHJvZHVjdDogcmVzb3Vyc2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCwgVkFSSUVEQURFUyksXG4gICAgICAgIHJlbGF0ZWRfcHJvZHVjdHM6IE9iamVjdFJlbGF0ZWRQcm9kdWN0cyxcbiAgICAgICAgU0FMRV9GTEFTSDogU0FMRV9GTEFTSCxcbiAgICAgICAgUkVWSUVXUzogUkVWSUVXUyxcbiAgICAgICAgQVZHX1JFVklFVzogQVZHX1JFVklFVyxcbiAgICAgICAgQ09VTlRfUkVWSUVXOiBDT1VOVF9SRVZJRVcsXG4gICAgICAgIG1lc3NhZ2U6IFwiU3VwZXIhIEVsIHByb2R1Y3RvIGFncmVnw7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgIH0pXG5cbiAgICAgIFxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgc2VhcmNoX3Byb2R1Y3Q6IGFzeW5jKHJlcSwgcmVzKSA9PntcbiAgICB0cnkge1xuICAgICAgdmFyIFRJTUVfTk9XID0gcmVxLnF1ZXJ5LlRJTUVfTk9XO1xuXG4gICAgICBsZXQgc2VhcmNoX3Byb2R1Y3QgPSByZXEuYm9keS5zZWFyY2hfcHJvZHVjdDtcbiAgICAgIGxldCBPdXJzUHJvZHVjdHMgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kKHsgc3RhdGU6MiwgdGl0bGU6IG5ldyBSZWdFeHAoc2VhcmNoX3Byb2R1Y3QsIFwiaVwiKX0pLnNvcnQoeyBcImNyZWF0ZWRBdFwiOiAxfSk7XG5cbiAgICAgIGxldCBDYW1wYWlnbkRpc2NvdW50ID0gIGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kT25lKHtcbiAgICAgICAgdHlwZV9jYW1wYWlnbjogMSxcbiAgICAgICAgc3RhcnRfZGF0ZV9udW06eyRsdGU6IFRJTUVfTk9XfSxcbiAgICAgICAgZW5kX2RhdGVfbnVtOnskZ3RlOiBUSU1FX05PV30sXG4gICAgICB9KTtcblxuICAgICAgdmFyIFByb2R1Y3RzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgUHJvZHVjdCBvZiBPdXJzUHJvZHVjdHMpIHtcbiAgICAgICAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3Q6IFByb2R1Y3QuX2lkfSk7XG4gICAgICAgICAgICBsZXQgUkVWSUVXUyA9IGF3YWl0IG1vZGVscy5SZXZpZXcuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcbiAgICAgICAgICAgIGxldCBBVkdfUkVWSUVXID0gUkVWSUVXUy5sZW5ndGggPiAwID8gTWF0aC5jZWlsKFJFVklFV1MucmVkdWNlKChzdW0saXRlbSkgPT4gc3VtICsgaXRlbS5jYW50aWRhZCwwKS9SRVZJRVdTLmxlbmd0aCk6IDA7XG4gICAgICAgICAgICBsZXQgQ09VTlRfUkVWSUVXID0gUkVWSUVXUy5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgRElTQ09VTlRfRVhJVFMgPSAgbnVsbDtcbiAgICAgICAgICAgIGlmKENhbXBhaWduRGlzY291bnQpe1xuICAgICAgICAgICAgICBpZihDYW1wYWlnbkRpc2NvdW50LnR5cGVfc2VnbWVudCA9PSAxKXsvL3BvciBwcm9kdWN0b1xuICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0c19hID0gW107XG4gICAgICAgICAgICAgICAgQ2FtcGFpZ25EaXNjb3VudC5wcm9kdWN0cy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgcHJvZHVjdHNfYS5wdXNoKGl0ZW0uX2lkKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGlmKHByb2R1Y3RzX2EuaW5jbHVkZXMoUHJvZHVjdC5faWQrXCJcIikpe1xuICAgICAgICAgICAgICAgICAgRElTQ09VTlRfRVhJVFMgPSBDYW1wYWlnbkRpc2NvdW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfWVsc2V7Ly8gcG9yIGNhdGVnb3JpYX1cbiAgICAgICAgICAgICAgICBsZXQgY2F0ZWdvcmllc19hID0gW107XG4gICAgICAgICAgICAgICAgQ2FtcGFpZ25EaXNjb3VudC5jYXRlZ29yaWVzLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzX2EucHVzaChpdGVtLl9pZCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBpZihjYXRlZ29yaWVzX2EuaW5jbHVkZXMoUHJvZHVjdC5jYXRlZ29yaWUrXCJcIikpe1xuICAgICAgICAgICAgICAgICAgRElTQ09VTlRfRVhJVFMgPSBDYW1wYWlnbkRpc2NvdW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgUHJvZHVjdHMucHVzaChyZXNvdXJzZS5Qcm9kdWN0LnByb2R1Y3RfbGlzdChQcm9kdWN0LFZBUklFREFERVMsIEFWR19SRVZJRVcsIENPVU5UX1JFVklFVywgRElTQ09VTlRfRVhJVFMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgcHJvZHVjdHM6IFByb2R1Y3RzLFxuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCIsXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgcHJvZmlsZV9jbGllbnQ6IGFzeW5jKHJlcSwgcmVzKSA9PntcbiAgICB0cnkge1xuICAgICAgbGV0IHVzZXJfaWQgPSByZXEuYm9keS51c2VyX2lkO1xuXG4gICAgICBsZXQgT3JkZXJzID0gIGF3YWl0IG1vZGVscy5TYWxlLmZpbmQoe3VzZXI6IHVzZXJfaWR9KTtcblxuICAgICAgbGV0IHNhbGVfb3JkZXJzID0gW107XG5cbiAgICAgIGZvciAoY29uc3Qgb3JkZXIgb2YgT3JkZXJzKSB7XG4gICAgICAgIGxldCBkZXRhaWxfb3JkZXJzID0gYXdhaXQgbW9kZWxzLlNhbGVEZXRhaWwuZmluZCh7c2FsZTogb3JkZXIuX2lkfSkucG9wdWxhdGUoe1xuICAgICAgICAgIHBhdGg6IFwicHJvZHVjdFwiLFxuICAgICAgICAgIHBvcHVsYXRlOiB7XG4gICAgICAgICAgICAgcGF0aDogXCJjYXRlZ29yaWVcIlxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLnBvcHVsYXRlKFwidmFyaWVkYWRcIik7XG4gICAgICAgIGxldCBzYWxlX2FkZHJlc3MgPSBhd2FpdCBtb2RlbHMuU2FsZUFkZHJlc3MuZmluZCh7c2FsZTogb3JkZXIuX2lkfSk7XG4gICAgICAgIGxldCBjb2xsZWN0aW9uX2RldGFpbF9vcmRlcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBkZXRhaWxfb3JkZXIgb2YgZGV0YWlsX29yZGVycykge1xuICAgICAgICAgIGxldCByZXZpZXdTID0gYXdhaXQgbW9kZWxzLlJldmlldy5maW5kT25lKHtzYWxlX2RldGFpbDogZGV0YWlsX29yZGVyLl9pZH0pO1xuICAgICAgICAgIGNvbGxlY3Rpb25fZGV0YWlsX29yZGVycy5wdXNoKHtcbiAgICAgICAgICAgICAgX2lkOmRldGFpbF9vcmRlci5faWQsXG4gICAgICAgICAgICAgIHByb2R1Y3Q6e1xuICAgICAgICAgICAgICAgIF9pZDogZGV0YWlsX29yZGVyLnByb2R1Y3QuX2lkLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBkZXRhaWxfb3JkZXIucHJvZHVjdC50aXRsZSxcbiAgICAgICAgICAgICAgICBpbWFnZW46cHJvY2Vzcy5lbnYuVVJMX0JBQ0tFTkQrXCIvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC9cIitkZXRhaWxfb3JkZXIucHJvZHVjdC5wb3J0YWRhLCBcbiAgICAgICAgICAgICAgICBzdGF0ZTogZGV0YWlsX29yZGVyLnByb2R1Y3Quc3RhdGUsXG4gICAgICAgICAgICAgICAgc2x1ZzogZGV0YWlsX29yZGVyLnByb2R1Y3Quc2x1ZyxcbiAgICAgICAgICAgICAgICBza3U6IGRldGFpbF9vcmRlci5wcm9kdWN0LnNrdSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWU6IGRldGFpbF9vcmRlci5wcm9kdWN0LmNhdGVnb3JpZSxcbiAgICAgICAgICAgICAgICBwcmljZV9iczogZGV0YWlsX29yZGVyLnByb2R1Y3QucHJpY2VfYnMsXG4gICAgICAgICAgICAgICAgcHJpY2VfdXNkOiBkZXRhaWxfb3JkZXIucHJvZHVjdC5wcmljZV91c2QsXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uOiBkZXRhaWxfb3JkZXIucHJvZHVjdC5jb25kaXRpb24sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHR5cGVfZGlzY291bnQ6IGRldGFpbF9vcmRlci50eXBlX2Rpc2NvdW50LFxuICAgICAgICAgICAgICBkaXNjb3VudDogZGV0YWlsX29yZGVyLmRpc2NvdW50LFxuICAgICAgICAgICAgICBjYW50aWRhZDogZGV0YWlsX29yZGVyLmNhbnRpZGFkLFxuICAgICAgICAgICAgICB2YXJpZWRhZDogZGV0YWlsX29yZGVyLnZhcmllZGFkLFxuICAgICAgICAgICAgICBjb2RlX2N1cG9uOiBkZXRhaWxfb3JkZXIuY29kZV9jdXBvbixcbiAgICAgICAgICAgICAgY29kZV9kaXNjb3VudDogZGV0YWlsX29yZGVyLmNvZGVfZGlzY291bnQsXG4gICAgICAgICAgICAgIHByaWNlX3VuaXQ6IGRldGFpbF9vcmRlci5wcmljZV91bml0LFxuICAgICAgICAgICAgICBzdWJ0b3RhbDogZGV0YWlsX29yZGVyLnN1YnRvdGFsLFxuICAgICAgICAgICAgICB0b3RhbDogZGV0YWlsX29yZGVyLnRvdGFsLFxuICAgICAgICAgICAgICByZXZpZXc6IHJldmlld1MsXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBzYWxlX29yZGVycy5wdXNoKHtcbiAgICAgICAgICBzYWxlOiBvcmRlcixcbiAgICAgICAgICBzYWxlX2RldGFpbHM6Y29sbGVjdGlvbl9kZXRhaWxfb3JkZXJzLFxuICAgICAgICAgIHNhbGVfYWRkcmVzczogc2FsZV9hZGRyZXNzLFxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgbGV0IEFERFJFU1NfQ0xJRU5UICA9IGF3YWl0IG1vZGVscy5BZGRyZXNzQ2xpZW50LmZpbmQoe3VzZXI6dXNlcl9pZH0pLnNvcnQoeydjcmVhdGVkQXQnOi0xfSk7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIHNhbGVfb3JkZXJzOiBzYWxlX29yZGVycyxcbiAgICAgICAgYWRkcmVzc19jbGllbnQ6IEFERFJFU1NfQ0xJRU5UXG4gICAgICB9KVxuXG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCIsXG4gICAgICB9KTtcbiAgICAgIFxuICAgIH1cbiAgfSxcbiAgIHVwZGF0ZV9jbGllbnQ6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgICB0cnkge1xuICAgICAgIGlmIChyZXEuZmlsZXMpIHtcbiAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5hdmF0YXIucGF0aDtcbiAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgIHZhciBhdmF0YXJfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgICBjb25zb2xlLmxvZyhhdmF0YXJfbmFtZSlcbiAgICAgICB9XG5cbiAgICAgIC8vICBjb25zb2xlLmxvZyhyZXEuYm9keSk7XG4gIFxuICAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7fTtcbiAgXG4gICAgICAgLy8gVmVyaWZpY2EgY2FkYSBjYW1wbyB5IHNvbG8gYWN0dWFsaXphIHNpIHRpZW5lIHZhbG9yXG4gICAgICAgaWYgKHJlcS5ib2R5Lm5hbWUpIHVwZGF0ZURhdGEubmFtZSA9IHJlcS5ib2R5Lm5hbWU7XG4gICAgICAgaWYgKHJlcS5ib2R5LnN1cm5hbWUpIHVwZGF0ZURhdGEuc3VybmFtZSA9IHJlcS5ib2R5LnN1cm5hbWU7XG4gICAgICAgaWYgKHJlcS5ib2R5LmVtYWlsKSB1cGRhdGVEYXRhLmVtYWlsID0gcmVxLmJvZHkuZW1haWw7XG4gIFxuICAgICAgIC8vIFNvbG8gYWN0dWFsaXphIGVsIHBhc3N3b3JkIHNpIHNlIHByb3BvcmNpb25hIHVubyBudWV2b1xuICAgICAgIGlmIChyZXEuYm9keS5wYXNzd29yZCAmJiByZXEuYm9keS5wYXNzd29yZCAhPT0gXCJcIikge1xuICAgICAgICAgdXBkYXRlRGF0YS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG4gICAgICAgfVxuICBcbiAgICAgICBhd2FpdCBtb2RlbHMuVXNlci5maW5kQnlJZEFuZFVwZGF0ZSh7IF9pZDogcmVxLmJvZHkuX2lkIH0sIHVwZGF0ZURhdGEpO1xuICBcbiAgICAgICBsZXQgVXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoeyBfaWQ6IHJlcS5ib2R5Ll9pZCB9KTtcbiAgXG4gICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgbWVzc2FnZTogXCJTdXBlciEgU3UgaW5mb3JtYWNpw7NuIHNlIGFjdHVhbGl6w7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgIG5hbWU6IFVzZXIubmFtZSxcbiAgICAgICAgICAgc3VybmFtZTogVXNlci5zdXJuYW1lLFxuICAgICAgICAgICBlbWFpbDogVXNlci5lbWFpbCxcbiAgICAgICAgICAgX2lkOiBVc2VyLl9pZCxcbiAgICAgICAgIH1cbiAgICAgICB9KVxuICBcbiAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgfSk7XG4gICAgIH1cbiAgIH0sXG5cbiAgIGNvbmZpZ19pbml0aWFsOiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGNhdGVnb3JpZXMgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmQoe3N0YXRlOiAxfSk7XG4gICAgICBsZXQgdmFyaWVkYWRlcyA9ICBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7fSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgY2F0ZWdvcmllczpjYXRlZ29yaWVzLFxuICAgICAgICB2YXJpZWRhZGVzOiB2YXJpZWRhZGVzLFxuICAgICAgfSk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgIH0pO1xuICAgIH1cblxuICAgfSxcbiAgIGZpbHRlcl9wcm9kdWN0czogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICB2YXIgVElNRV9OT1cgPSByZXEucXVlcnkuVElNRV9OT1c7XG4gICAgICBsZXQgc2VhcmNoX3Byb2R1Y3QgPSByZXEuYm9keS5zZWFyY2hfcHJvZHVjdDtcblxuICAgICAgbGV0IGNhdGVnb3JpZXNfc2FsZWN0ZWRzID0gcmVxLmJvZHkuY2F0ZWdvcmllc19zYWxlY3RlZHM7XG4gICAgICBsZXQgaXNfZGlzY291bnQgPSByZXEuYm9keS5pc19kaXNjb3VudDtcbiAgICAgIGxldCB2YXJpZWRhZF9zZWxlY3RlZCA9IHJlcS5ib2R5LnZhcmllZGFkX3NlbGVjdGVkO1xuICAgICAgbGV0IHByaWNlX21pbiA9IHJlcS5ib2R5LnByaWNlX21pbjtcbiAgICAgIGxldCBwcmljZV9tYXggPSByZXEuYm9keS5wcmljZV9tYXg7XG5cbiAgICAgIGxldCBmaWx0ZXIgPSBbXG4gICAgICAgIHsgc3RhdGU6MiB9LFxuICAgICAgXTtcblxuICAgICAgdmFyIGNhdGVnb3JpZXNfcyA9IFtdO1xuICAgICAgdmFyIHByb2R1Y3RzX3MgPSBbXTtcbiAgICAgIC8veyBzdGF0ZToyLCB0aXRsZTogbmV3IFJlZ0V4cChzZWFyY2hfcHJvZHVjdCwgXCJpXCIpfVxuXG4gICAgICBpZihjYXRlZ29yaWVzX3NhbGVjdGVkcy5sZW5ndGggPiAwKXtcbiAgICAgICAgY2F0ZWdvcmllc19zYWxlY3RlZHMuZm9yRWFjaCgoY2F0ZWdvcmllKSA9PiB7XG4gICAgICAgICAgY2F0ZWdvcmllc19zLnB1c2goY2F0ZWdvcmllKTtcbiAgICAgICAgfSlcbiAgICAgICAgLy8gZmlsdGVyLnB1c2goe1xuICAgICAgICAvLyAgIGNhdGVnb3JpZTp7ICRpbjogY2F0ZWdvcmllc19zYWxlY3RlZHN9LFxuICAgICAgICAvLyB9KVxuICAgICAgfVxuXG4gICAgICBsZXQgQ2FtcGFpZ25EaXNjb3VudCA9ICBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZE9uZSh7XG4gICAgICAgIHR5cGVfY2FtcGFpZ246IDEsXG4gICAgICAgIHN0YXJ0X2RhdGVfbnVtOnskbHRlOiBUSU1FX05PV30sXG4gICAgICAgIGVuZF9kYXRlX251bTp7JGd0ZTogVElNRV9OT1d9LFxuICAgICAgfSk7XG5cbiAgICAgIGlmKGlzX2Rpc2NvdW50ID09IDIpe1xuICAgICAgIGlmKCBDYW1wYWlnbkRpc2NvdW50LnR5cGVfc2VnbWVudCA9PSAxKXtcbiAgICAgICAgIENhbXBhaWduRGlzY291bnQucHJvZHVjdHMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgcHJvZHVjdHNfcy5wdXNoKGl0ZW0uX2lkKTtcbiAgICAgICAgICB9KVxuICAgICAgIH1lbHNle1xuICAgICAgICAgQ2FtcGFpZ25EaXNjb3VudC5jYXRlZ29yaWVzLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgIGNhdGVnb3JpZXNfcy5wdXNoKGl0ZW0uX2lkKTtcbiAgICAgICAgICB9KVxuICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYodmFyaWVkYWRfc2VsZWN0ZWQpe1xuICAgICAgICBsZXQgVkFSSUUgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWQoe19pZDogdmFyaWVkYWRfc2VsZWN0ZWQuX2lkfSk7XG4gICAgICAgIGlmKFZBUklFKXtcbiAgICAgICAgICBwcm9kdWN0c19zLnB1c2goVkFSSUUucHJvZHVjdCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYoY2F0ZWdvcmllc19zLmxlbmd0aCA+IDApe1xuICAgICAgICBmaWx0ZXIucHVzaCh7XG4gICAgICAgICAgY2F0ZWdvcmllOiB7JGluOiBjYXRlZ29yaWVzX3N9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZihwcm9kdWN0c19zLmxlbmd0aCA+IDApe1xuICAgICAgICBmaWx0ZXIucHVzaCh7XG4gICAgICAgICAgX2lkOiB7JGluOiBwcm9kdWN0c19zfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYocHJpY2VfbWluID4gMCAmJiBwcmljZV9tYXggPiAwKXtcbiAgICAgICAgZmlsdGVyLnB1c2goe1xuICAgICAgICAgIHByaWNlX3VzZDogeyRndGU6cHJpY2VfbWluLCAkbHRlOiBwcmljZV9tYXh9LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgbGV0IE91cnNQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoeyRhbmQ6IGZpbHRlcn0pLnNvcnQoeyBcImNyZWF0ZWRBdFwiOiAxfSk7XG5cblxuICAgICAgdmFyIFByb2R1Y3RzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgUHJvZHVjdCBvZiBPdXJzUHJvZHVjdHMpIHtcbiAgICAgICAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3Q6IFByb2R1Y3QuX2lkfSk7XG4gICAgICAgICAgICBsZXQgUkVWSUVXUyA9IGF3YWl0IG1vZGVscy5SZXZpZXcuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcbiAgICAgICAgICAgIGxldCBBVkdfUkVWSUVXID0gUkVWSUVXUy5sZW5ndGggPiAwID8gTWF0aC5jZWlsKFJFVklFV1MucmVkdWNlKChzdW0saXRlbSkgPT4gc3VtICsgaXRlbS5jYW50aWRhZCwwKS9SRVZJRVdTLmxlbmd0aCk6IDA7XG4gICAgICAgICAgICBsZXQgQ09VTlRfUkVWSUVXID0gUkVWSUVXUy5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgRElTQ09VTlRfRVhJVFMgPSAgbnVsbDtcbiAgICAgICAgICAgIGlmKENhbXBhaWduRGlzY291bnQpe1xuICAgICAgICAgICAgICBpZihDYW1wYWlnbkRpc2NvdW50LnR5cGVfc2VnbWVudCA9PSAxKXsvL3BvciBwcm9kdWN0b1xuICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0c19hID0gW107XG4gICAgICAgICAgICAgICAgQ2FtcGFpZ25EaXNjb3VudC5wcm9kdWN0cy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgcHJvZHVjdHNfYS5wdXNoKGl0ZW0uX2lkKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGlmKHByb2R1Y3RzX2EuaW5jbHVkZXMoUHJvZHVjdC5faWQrXCJcIikpe1xuICAgICAgICAgICAgICAgICAgRElTQ09VTlRfRVhJVFMgPSBDYW1wYWlnbkRpc2NvdW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfWVsc2V7Ly8gcG9yIGNhdGVnb3JpYX1cbiAgICAgICAgICAgICAgICBsZXQgY2F0ZWdvcmllc19hID0gW107XG4gICAgICAgICAgICAgICAgQ2FtcGFpZ25EaXNjb3VudC5jYXRlZ29yaWVzLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzX2EucHVzaChpdGVtLl9pZCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBpZihjYXRlZ29yaWVzX2EuaW5jbHVkZXMoUHJvZHVjdC5jYXRlZ29yaWUrXCJcIikpe1xuICAgICAgICAgICAgICAgICAgRElTQ09VTlRfRVhJVFMgPSBDYW1wYWlnbkRpc2NvdW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgUHJvZHVjdHMucHVzaChyZXNvdXJzZS5Qcm9kdWN0LnByb2R1Y3RfbGlzdChQcm9kdWN0LFZBUklFREFERVMsIEFWR19SRVZJRVcsIENPVU5UX1JFVklFVywgRElTQ09VTlRfRVhJVFMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgcHJvZHVjdHM6IFByb2R1Y3RzLFxuICAgICAgICB9KTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgfSk7XG4gICAgfVxuICAgfSxcblxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsU0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQTZCLFNBQUFELHVCQUFBSSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FJZDtFQUViRyxJQUFJLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFFQyxHQUFHLEtBQUs7SUFDdkIsSUFBSTtNQUNBLElBQUlDLFFBQVEsR0FBR0YsR0FBRyxDQUFDRyxLQUFLLENBQUNELFFBQVE7TUFFakMsSUFBSUUsT0FBTyxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDQyxJQUFJLENBQUM7UUFBQ0MsS0FBSyxFQUFDO01BQUMsQ0FBQyxDQUFDO01BQ2pESixPQUFPLEdBQUdBLE9BQU8sQ0FBQ0ssR0FBRyxDQUFFQyxNQUFNLElBQUs7UUFDNUIsT0FBT0Msa0JBQVEsQ0FBQ0wsTUFBTSxDQUFDTSxXQUFXLENBQUNGLE1BQU0sQ0FBQztNQUM1QyxDQUFDLENBQUM7TUFFTixJQUFJRyxZQUFZLEdBQUcsTUFBTVIsZUFBTSxDQUFDUyxPQUFPLENBQUNDLFFBQVEsQ0FBQywwQkFBMEIsQ0FBQztNQUM1RSxJQUFJRixZQUFZLEVBQUU7UUFDaEJBLFlBQVksR0FBR0Ysa0JBQVEsQ0FBQ0csT0FBTyxDQUFDRSxZQUFZLENBQUNILFlBQVksQ0FBQztNQUM1RDtNQUlBLElBQUlJLFVBQVUsR0FBRyxN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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resourses","_bcryptjs","e","__esModule","default","_default","exports","list","req","res","TIME_NOW","query","Sliders","models","Slider","find","state","map","slider","resourse","slider_list","productPromo","Product","findById","product_list","Categories","Categorie","categorie","categorie_list","CampaignDiscount","Discount","findOne","type_campaign","start_date_num","$lte","end_date_num","$gte","BestProducts","condition","$ne","sort","ObjectBestProducts","VARIEDADES","Variedad","product","_id","REVIEWS","Review","AVG_REVIEW","length","Math","ceil","reduce","sum","item","cantidad","COUNT_REVIEW","DISCOUNT_EXITS","type_segment","products_a","products","forEach","push","includes","categories_a","categories","OursProducts","ObjectOursProducts","DonationProducts","ObjectDonationProducts","FlashSale","ProductList","ObjecT","status","json","sliders","best_products","our_products","donation_products","campaign_products","error","console","log","send","message","show_landing_product","SLUG","params","slug","DISCOUNT_ID","populate","RelatedProducts","ObjectRelatedProducts","SALE_FLASH","related_products","search_product","body","title","RegExp","Products","profile_client","user_id","Orders","Sale","user","sale_orders","order","detail_orders","SaleDetail","sale","path","sale_address","SaleAddress","collection_detail_orders","detail_order","reviewS","sale_detail","imagen","process","env","URL_BACKEND","portada","sku","price_bs","price_usd","type_discount","discount","variedad","code_cupon","code_discount","price_unit","subtotal","total","review","sale_details","ADDRESS_CLIENT","AddressClient","address_client","update_client","files","img_path","avatar","name","split","avatar_name","updateData","surname","email","password","bcrypt","hash","User","findByIdAndUpdate","config_initial","variedades","filter_products","categories_salecteds","is_discount","variedad_selected","price_min","price_max","filter","categories_s","products_s","VARIE","$in","$and"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["HomeController.js"],"sourcesContent":["import models from \"../models\";\nimport resourse from \"../resourses\";\nimport bcrypt from \"bcryptjs\"\n\n\n\nexport default {\n\n  list: async(req, res) => {\n    try {\n        var TIME_NOW = req.query.TIME_NOW\n\n        let Sliders = await models.Slider.find({state:1}); \n        Sliders = Sliders.map((slider) => {\n              return resourse.Slider.slider_list(slider);\n            })\n\n        let productPromo = await models.Product.findById('67c0ebd90204b3909cea1e67');\n        if (productPromo) {\n          productPromo = resourse.Product.product_list(productPromo);\n        }\n            \n        \n\n        let Categories = await models.Categorie.find({state:1}); \n        Categories = Categories.map((categorie) => {\n          return resourse.Categorie.categorie_list(categorie);\n        })\n\n        let CampaignDiscount =  await models.Discount.findOne({\n          type_campaign: 1,\n          start_date_num:{$lte: TIME_NOW},\n          end_date_num:{$gte: TIME_NOW},\n        })\n\n        // console.log(CampaignDiscount);\n\n        let BestProducts = await models.Product.find({ state:2, condition: {$ne: 3}}).sort({ \"createdAt\": -1});\n        var ObjectBestProducts = [];\n        for (const Product of BestProducts){\n          let VARIEDADES = await models.Variedad.find({product: Product._id});\n          let REVIEWS = await models.Review.find({product: Product._id});\n          let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length): 0;\n          let COUNT_REVIEW = REVIEWS.length;\n          let DISCOUNT_EXITS =  null;\n          if(CampaignDiscount){\n            if(CampaignDiscount.type_segment == 1){//por producto\n              let products_a = [];\n              CampaignDiscount.products.forEach(item => {\n                products_a.push(item._id);\n              })\n              if(products_a.includes(Product._id+\"\")){\n                DISCOUNT_EXITS = CampaignDiscount;\n              }\n            }else{// por categoria}\n              let categories_a = [];\n              CampaignDiscount.categories.forEach(item => {\n                categories_a.push(item._id);\n              })\n              if(categories_a.includes(Product.categorie+\"\")){\n                DISCOUNT_EXITS = CampaignDiscount;\n              }\n            }\n          }\n          ObjectBestProducts.push(resourse.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n        }\n\n        let OursProducts = await models.Product.find({ state:2, condition: {$ne: 3}}).sort({ \"createdAt\": 1});\n\n        var ObjectOursProducts = [];\n        for (const Product of OursProducts) {\n            let VARIEDADES = await models.Variedad.find({product: Product._id});\n            let REVIEWS = await models.Review.find({product: Product._id});\n            let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length): 0;\n            let COUNT_REVIEW = REVIEWS.length;\n            let DISCOUNT_EXITS =  null;\n            if(CampaignDiscount){\n              if(CampaignDiscount.type_segment == 1){//por producto\n                let products_a = [];\n                CampaignDiscount.products.forEach(item => {\n                  products_a.push(item._id);\n                })\n                if(products_a.includes(Product._id+\"\")){\n                  DISCOUNT_EXITS = CampaignDiscount;\n                }\n              }else{// por categoria}\n                let categories_a = [];\n                CampaignDiscount.categories.forEach(item => {\n                  categories_a.push(item._id);\n                })\n                if(categories_a.includes(Product.categorie+\"\")){\n                  DISCOUNT_EXITS = CampaignDiscount;\n                }\n              }\n            }\n            ObjectOursProducts.push(resourse.Product.product_list(Product,VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n        }\n\n        // OursProducts = OursProducts.map(async (product) => {\n        //   let VARIEDADES = await models.Variedad.find({product: product._id});\n        //   return resourse.Product.product_list(product,VARIEDADES);\n        // })\n\n        let DonationProducts = await models.Product.find({ state:2, condition:3}).sort({ \"createdAt\": 1});\n        var ObjectDonationProducts = [];\n        for (const Product of DonationProducts) {\n            let VARIEDADES = await models.Variedad.find({product: Product._id});\n            ObjectDonationProducts.push(resourse.Product.product_list(Product,VARIEDADES));\n        }\n\n        // DonationProducts = DonationProducts.map((product) => {\n        //   return resourse.Product.product_list(product);\n        // })\n\n        let FlashSale =  await models.Discount.findOne({\n          type_campaign: 2,\n          start_date_num:{$lte: TIME_NOW},\n          end_date_num:{$gte: TIME_NOW},\n        });\n\n        let ProductList = [];\n        if(FlashSale){\n          for (const product of FlashSale.products) {\n            var ObjecT = await models.Product.findById({_id:product._id});\n            let VARIEDADES = await models.Variedad.find({product: product._id});\n            ProductList.push(resourse.Product.product_list(ObjecT,VARIEDADES));\n          }\n        }\n          //console.log(FlashSale);\n          // console.log(TIME_NOW);\n        \n        res.status(200).json({\n          sliders: Sliders,\n          categories: Categories,\n          productPromo: [productPromo], // Envía como un arreglo\n          best_products:ObjectBestProducts,\n          our_products: ObjectOursProducts,\n          donation_products:ObjectDonationProducts,\n          FlashSale:FlashSale,\n          campaign_products:ProductList,\n        });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  show_landing_product: async(req, res) =>{\n    try {\n      let SLUG = req.params.slug;\n      let DISCOUNT_ID = req.query._id;\n\n      // console.log(\"_id= \"+DISCOUNT_ID);\n\n      let Product = await models.Product.findOne({slug: SLUG, state: 2});\n\n      let VARIEDADES =  await models.Variedad.find({product: Product._id});\n\n      let REVIEWS = await models.Review.find({product: Product._id}).populate(\"user\");\n      let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length): 0;\n      let COUNT_REVIEW = REVIEWS.length;\n\n      // console.log(\"Las estrellas: \"+AVG_REVIEW);\n\n      let RelatedProducts = await models.Product.find({categorie: Product.categorie, state: 2 });\n\n      var ObjectRelatedProducts = [];\n        for (const Product of RelatedProducts) {\n            let VARIEDADES = await models.Variedad.find({product: Product._id});\n            ObjectRelatedProducts.push(resourse.Product.product_list(Product,VARIEDADES));\n        }\n        let SALE_FLASH = null;\n        if(DISCOUNT_ID){\n          SALE_FLASH = await models.Discount.findById({_id: DISCOUNT_ID})\n        }\n\n      res.status(200).json({\n        product: resourse.Product.product_list(Product, VARIEDADES),\n        related_products: ObjectRelatedProducts,\n        SALE_FLASH: SALE_FLASH,\n        REVIEWS: REVIEWS,\n        AVG_REVIEW: AVG_REVIEW,\n        COUNT_REVIEW: COUNT_REVIEW,\n        message: \"Super! El producto agregó satisfactoriamente\",\n        })\n\n      \n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n\n  search_product: async(req, res) =>{\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n\n      let search_product = req.body.search_product;\n      let OursProducts = await models.Product.find({ state:2, title: new RegExp(search_product, \"i\")}).sort({ \"createdAt\": 1});\n\n      let CampaignDiscount =  await models.Discount.findOne({\n        type_campaign: 1,\n        start_date_num:{$lte: TIME_NOW},\n        end_date_num:{$gte: TIME_NOW},\n      });\n\n      var Products = [];\n        for (const Product of OursProducts) {\n            let VARIEDADES = await models.Variedad.find({product: Product._id});\n            let REVIEWS = await models.Review.find({product: Product._id});\n            let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length): 0;\n            let COUNT_REVIEW = REVIEWS.length;\n            let DISCOUNT_EXITS =  null;\n            if(CampaignDiscount){\n              if(CampaignDiscount.type_segment == 1){//por producto\n                let products_a = [];\n                CampaignDiscount.products.forEach(item => {\n                  products_a.push(item._id);\n                })\n                if(products_a.includes(Product._id+\"\")){\n                  DISCOUNT_EXITS = CampaignDiscount;\n                }\n              }else{// por categoria}\n                let categories_a = [];\n                CampaignDiscount.categories.forEach(item => {\n                  categories_a.push(item._id);\n                })\n                if(categories_a.includes(Product.categorie+\"\")){\n                  DISCOUNT_EXITS = CampaignDiscount;\n                }\n              }\n            }\n            Products.push(resourse.Product.product_list(Product,VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n        }\n        res.status(200).json({\n          products: Products,\n        });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\",\n      });\n    }\n  },\n\n  profile_client: async(req, res) =>{\n    try {\n      let user_id = req.body.user_id;\n\n      let Orders =  await models.Sale.find({user: user_id});\n\n      let sale_orders = [];\n\n      for (const order of Orders) {\n        let detail_orders = await models.SaleDetail.find({sale: order._id}).populate({\n          path: \"product\",\n          populate: {\n             path: \"categorie\"\n          },\n        }).populate(\"variedad\");\n        let sale_address = await models.SaleAddress.find({sale: order._id});\n        let collection_detail_orders = [];\n        for (const detail_order of detail_orders) {\n          let reviewS = await models.Review.findOne({sale_detail: detail_order._id});\n          collection_detail_orders.push({\n              _id:detail_order._id,\n              product:{\n                _id: detail_order.product._id,\n                title: detail_order.product.title,\n                imagen:process.env.URL_BACKEND+\"/api/products/uploads/product/\"+detail_order.product.portada, \n                state: detail_order.product.state,\n                slug: detail_order.product.slug,\n                sku: detail_order.product.sku,\n                categorie: detail_order.product.categorie,\n                price_bs: detail_order.product.price_bs,\n                price_usd: detail_order.product.price_usd,\n                condition: detail_order.product.condition,\n              },\n              type_discount: detail_order.type_discount,\n              discount: detail_order.discount,\n              cantidad: detail_order.cantidad,\n              variedad: detail_order.variedad,\n              code_cupon: detail_order.code_cupon,\n              code_discount: detail_order.code_discount,\n              price_unit: detail_order.price_unit,\n              subtotal: detail_order.subtotal,\n              total: detail_order.total,\n              review: reviewS,\n          })\n        }\n        sale_orders.push({\n          sale: order,\n          sale_details:collection_detail_orders,\n          sale_address: sale_address,\n        })\n      }\n      let ADDRESS_CLIENT  = await models.AddressClient.find({user:user_id}).sort({'createdAt':-1});\n      res.status(200).json({\n        sale_orders: sale_orders,\n        address_client: ADDRESS_CLIENT\n      })\n\n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\",\n      });\n      \n    }\n  },\n   update_client: async (req, res) => {\n     try {\n       if (req.files) {\n         var img_path = req.files.avatar.path;\n         var name = img_path.split('/');\n         var avatar_name = name[2];\n         console.log(avatar_name)\n       }\n\n      //  console.log(req.body);\n  \n       const updateData = {};\n  \n       // Verifica cada campo y solo actualiza si tiene valor\n       if (req.body.name) updateData.name = req.body.name;\n       if (req.body.surname) updateData.surname = req.body.surname;\n       if (req.body.email) updateData.email = req.body.email;\n  \n       // Solo actualiza el password si se proporciona uno nuevo\n       if (req.body.password && req.body.password !== \"\") {\n         updateData.password = await bcrypt.hash(req.body.password, 10);\n       }\n  \n       await models.User.findByIdAndUpdate({ _id: req.body._id }, updateData);\n  \n       let User = await models.User.findOne({ _id: req.body._id });\n  \n       res.status(200).json({\n         message: \"Super! Su información se actualizó satisfactoriamente\",\n         user: {\n           name: User.name,\n           surname: User.surname,\n           email: User.email,\n           _id: User._id,\n         }\n       })\n  \n     } catch (error) {\n       console.log(error);\n       res.status(500).send({\n         message: \"OCURRIÓ UN PROBLEMA\"\n       });\n     }\n   },\n\n   config_initial: async (req, res) => {\n    try {\n      let categories = await models.Categorie.find({state: 1});\n      let variedades =  await models.Variedad.find({});\n\n      res.status(200).json({\n        categories:categories,\n        variedades: variedades,\n      });\n      \n    } catch (error) {\n      console.log(error);\n       res.status(500).send({\n         message: \"OCURRIÓ UN PROBLEMA\"\n       });\n    }\n\n   },\n   filter_products: async(req,res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let search_product = req.body.search_product;\n\n      let categories_salecteds = req.body.categories_salecteds;\n      let is_discount = req.body.is_discount;\n      let variedad_selected = req.body.variedad_selected;\n      let price_min = req.body.price_min;\n      let price_max = req.body.price_max;\n\n      let filter = [\n        { state:2 },\n      ];\n\n      var categories_s = [];\n      var products_s = [];\n      //{ state:2, title: new RegExp(search_product, \"i\")}\n\n      if(categories_salecteds.length > 0){\n        categories_salecteds.forEach((categorie) => {\n          categories_s.push(categorie);\n        })\n        // filter.push({\n        //   categorie:{ $in: categories_salecteds},\n        // })\n      }\n\n      let CampaignDiscount =  await models.Discount.findOne({\n        type_campaign: 1,\n        start_date_num:{$lte: TIME_NOW},\n        end_date_num:{$gte: TIME_NOW},\n      });\n\n      if(is_discount == 2){\n       if( CampaignDiscount.type_segment == 1){\n         CampaignDiscount.products.forEach(item => {\n           products_s.push(item._id);\n          })\n       }else{\n         CampaignDiscount.categories.forEach(item => {\n           categories_s.push(item._id);\n          })\n       }\n      }\n\n      if(variedad_selected){\n        let VARIE = await models.Variedad.findById({_id: variedad_selected._id});\n        if(VARIE){\n          products_s.push(VARIE.product);\n        }\n      }\n\n      if(categories_s.length > 0){\n        filter.push({\n          categorie: {$in: categories_s}\n        });\n      }\n\n      if(products_s.length > 0){\n        filter.push({\n          _id: {$in: products_s}\n        });\n      }\n\n      if(price_min > 0 && price_max > 0){\n        filter.push({\n          price_usd: {$gte:price_min, $lte: price_max},\n        });\n      }\n      \n      let OursProducts = await models.Product.find({$and: filter}).sort({ \"createdAt\": 1});\n\n\n      var Products = [];\n        for (const Product of OursProducts) {\n            let VARIEDADES = await models.Variedad.find({product: Product._id});\n            let REVIEWS = await models.Review.find({product: Product._id});\n            let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length): 0;\n            let COUNT_REVIEW = REVIEWS.length;\n            let DISCOUNT_EXITS =  null;\n            if(CampaignDiscount){\n              if(CampaignDiscount.type_segment == 1){//por producto\n                let products_a = [];\n                CampaignDiscount.products.forEach(item => {\n                  products_a.push(item._id);\n                })\n                if(products_a.includes(Product._id+\"\")){\n                  DISCOUNT_EXITS = CampaignDiscount;\n                }\n              }else{// por categoria}\n                let categories_a = [];\n                CampaignDiscount.categories.forEach(item => {\n                  categories_a.push(item._id);\n                })\n                if(categories_a.includes(Product.categorie+\"\")){\n                  DISCOUNT_EXITS = CampaignDiscount;\n                }\n              }\n            }\n            Products.push(resourse.Product.product_list(Product,VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n        }\n        res.status(200).json({\n          products: Products,\n        });\n      \n    } catch (error) {\n      console.log(error);\n       res.status(500).send({\n         message: \"OCURRIÓ UN PROBLEMA\"\n       });\n    }\n   },\n\n}"],"mappings":"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","ignoreList":[]}},"mtime":1741488664066},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cupone = _interopRequireDefault(require(\"./Cupone\"));\nvar _Discount = _interopRequireDefault(require(\"./Discount\"));\nvar _Home = _interopRequireDefault(require(\"./Home\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nvar _AddressClient = _interopRequireDefault(require(\"./AddressClient\"));\nvar _Sale = _interopRequireDefault(require(\"./Sale\"));\nvar _Review = _interopRequireDefault(require(\"./Review\"));\nvar _Payment = _interopRequireDefault(require(\"./Payment\"));\nvar _express = _interopRequireDefault(require(\"express\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst app = (0, _express.default)();\n\n// Middleware para parsear JSON\napp.use(_express.default.json());\nconst router = (0, _expressPromiseRouter.default)();\nrouter.use('/users', _User.default);\nrouter.use('/categories', _Categorie.default);\nrouter.use('/products', _Product.default);\nrouter.use('/sliders', _Slider.default);\nrouter.use('/cupones', _Cupone.default);\nrouter.use('/discount', _Discount.default);\nrouter.use('/home', _Home.default);\nrouter.use('/cart', _Cart.default);\nrouter.use('/address_client', _AddressClient.default);\nrouter.use('/sale', _Sale.default);\nrouter.use('/review', _Review.default);\nrouter.use('/payment', _Payment.default);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwiX0NhdGVnb3JpZSIsIl9Qcm9kdWN0IiwiX1NsaWRlciIsIl9DdXBvbmUiLCJfRGlzY291bnQiLCJfSG9tZSIsIl9DYXJ0IiwiX0FkZHJlc3NDbGllbnQiLCJfU2FsZSIsIl9SZXZpZXciLCJfUGF5bWVudCIsIl9leHByZXNzIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiYXBwIiwiZXhwcmVzcyIsInVzZSIsImpzb24iLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwiVXNlciIsIkNhdGVnb3JpZSIsIlByb2R1Y3QiLCJTbGlkZXIiLCJDdXBvbmUiLCJEaXNjb3VudCIsIkhvbWUiLCJDYXJ0IiwiQWRkcmVzc0NsaWVudCIsIlNhbGUiLCJSZXZpZXciLCJQYXltZW50IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXG5pbXBvcnQgVXNlciBmcm9tICcuL1VzZXInXG5pbXBvcnQgQ2F0ZWdvcmllIGZyb20gJy4vQ2F0ZWdvcmllJ1xuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi9Qcm9kdWN0J1xuaW1wb3J0IFNsaWRlciBmcm9tICcuL1NsaWRlcidcbmltcG9ydCBDdXBvbmUgZnJvbSAnLi9DdXBvbmUnXG5pbXBvcnQgRGlzY291bnQgZnJvbSAnLi9EaXNjb3VudCdcbmltcG9ydCBIb21lIGZyb20gJy4vSG9tZSdcbmltcG9ydCBDYXJ0IGZyb20gJy4vQ2FydCdcbmltcG9ydCBBZGRyZXNzQ2xpZW50IGZyb20gJy4vQWRkcmVzc0NsaWVudCdcbmltcG9ydCBTYWxlIGZyb20gJy4vU2FsZSdcbmltcG9ydCBSZXZpZXcgZnJvbSAnLi9SZXZpZXcnXG5pbXBvcnQgUGF5bWVudCBmcm9tICcuL1BheW1lbnQnXG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJ1xuXG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKVxuXG4vLyBNaWRkbGV3YXJlIHBhcmEgcGFyc2VhciBKU09OXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcblxuXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5yb3V0ZXIudXNlKCcvdXNlcnMnLCBVc2VyKTtcbnJvdXRlci51c2UoJy9jYXRlZ29yaWVzJywgQ2F0ZWdvcmllKTtcbnJvdXRlci51c2UoJy9wcm9kdWN0cycsIFByb2R1Y3QpO1xucm91dGVyLnVzZSgnL3NsaWRlcnMnLCBTbGlkZXIpO1xucm91dGVyLnVzZSgnL2N1cG9uZXMnLCBDdXBvbmUpO1xucm91dGVyLnVzZSgnL2Rpc2NvdW50JywgRGlzY291bnQpO1xucm91dGVyLnVzZSgnL2hvbWUnLCBIb21lKTtcbnJvdXRlci51c2UoJy9jYXJ0JywgQ2FydCk7XG5yb3V0ZXIudXNlKCcvYWRkcmVzc19jbGllbnQnLCBBZGRyZXNzQ2xpZW50KTtcbnJvdXRlci51c2UoJy9zYWxlJywgU2FsZSk7XG5yb3V0ZXIudXNlKCcvcmV2aWV3JywgUmV2aWV3KTtcbnJvdXRlci51c2UoJy9wYXltZW50JywgUGF5bWVudCk7XG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFVBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFFBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLE9BQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLE9BQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFNLFNBQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFPLEtBQUEsR0FBQVIsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFRLEtBQUEsR0FBQVQsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFTLGNBQUEsR0FBQVYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFVLEtBQUEsR0FBQVgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFXLE9BQUEsR0FBQVosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFZLFFBQUEsR0FBQWIsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFhLFFBQUEsR0FBQWQsc0JBQUEsQ0FBQUMsT0FBQTtBQUE2QixTQUFBRCx1QkFBQWUsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUc3QixNQUFNRyxHQUFHLEdBQUcsSUFBQUMsZ0JBQU8sRUFBQyxDQUFDOztBQUVyQjtBQUNBRCxHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ0UsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUd2QixNQUFNQyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBQ3hCRCxNQUFNLENBQUNGLEdBQUcsQ0FBQyxRQUFRLEVBQUVJLGFBQUksQ0FBQztBQUMxQkYsTUFBTSxDQUFDRixHQUFHLENBQUMsYUFBYSxFQUFFSyxrQkFBUyxDQUFDO0FBQ3BDSCxNQUFNLENBQUNGLEdBQUcsQ0FBQyxXQUFXLEVBQUVNLGdCQUFPLENBQUM7QUFDaENKLE1BQU0sQ0FBQ0YsR0FBRyxDQUFDLFVBQVUsRUFBRU8sZUFBTSxDQUFDO0FBQzlCTCxNQUFNLENBQUNGLEdBQUcsQ0FBQyxVQUFVLEVBQUVRLGVBQU0sQ0FBQztBQUM5Qk4sTUFBTSxDQUFDRixHQUFHLENBQUMsV0FBVyxFQUFFUyxpQkFBUSxDQUFDO0FBQ2pDUCxNQUFNLENBQUNGLEdBQUcsQ0FBQyxPQUFPLEVBQUVVLGFBQUksQ0FBQztBQUN6QlIsTUFBTSxDQUFDRixHQUFHLENBQUMsT0FBTyxFQUFFVyxhQUFJLENBQUM7QUFDekJULE1BQU0sQ0FBQ0YsR0FBRyxDQUFDLGlCQUFpQixFQUFFWSxzQkFBYSxDQUFDO0FBQzVDVixNQUFNLENBQUNGLEdBQUcsQ0FBQyxPQUFPLEVBQUVhLGFBQUksQ0FBQztBQUN6QlgsTUFBTSxDQUFDRixHQUFHLENBQUMsU0FBUyxFQUFFYyxlQUFNLENBQUM7QUFDN0JaLE1BQU0sQ0FBQ0YsR0FBRyxDQUFDLFVBQVUsRUFBRWUsZ0JBQU8sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBcEIsT0FBQSxHQUdqQkssTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_User","_Categorie","_Product","_Slider","_Cupone","_Discount","_Home","_Cart","_AddressClient","_Sale","_Review","_Payment","_express","e","__esModule","default","app","express","use","json","router","routerx","User","Categorie","Product","Slider","Cupone","Discount","Home","Cart","AddressClient","Sale","Review","Payment","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["index.js"],"sourcesContent":["import routerx from 'express-promise-router'\nimport User from './User'\nimport Categorie from './Categorie'\nimport Product from './Product'\nimport Slider from './Slider'\nimport Cupone from './Cupone'\nimport Discount from './Discount'\nimport Home from './Home'\nimport Cart from './Cart'\nimport AddressClient from './AddressClient'\nimport Sale from './Sale'\nimport Review from './Review'\nimport Payment from './Payment'\nimport express from 'express'\n\n\nconst app = express()\n\n// Middleware para parsear JSON\napp.use(express.json());\n\n\nconst router = routerx();\nrouter.use('/users', User);\nrouter.use('/categories', Categorie);\nrouter.use('/products', Product);\nrouter.use('/sliders', Slider);\nrouter.use('/cupones', Cupone);\nrouter.use('/discount', Discount);\nrouter.use('/home', Home);\nrouter.use('/cart', Cart);\nrouter.use('/address_client', AddressClient);\nrouter.use('/sale', Sale);\nrouter.use('/review', Review);\nrouter.use('/payment', Payment);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,QAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,OAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,SAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,KAAA,GAAAR,sBAAA,CAAAC,OAAA;AACA,IAAAQ,KAAA,GAAAT,sBAAA,CAAAC,OAAA;AACA,IAAAS,cAAA,GAAAV,sBAAA,CAAAC,OAAA;AACA,IAAAU,KAAA,GAAAX,sBAAA,CAAAC,OAAA;AACA,IAAAW,OAAA,GAAAZ,sBAAA,CAAAC,OAAA;AACA,IAAAY,QAAA,GAAAb,sBAAA,CAAAC,OAAA;AACA,IAAAa,QAAA,GAAAd,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAe,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAG7B,MAAMG,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;;AAErB;AACAD,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACE,IAAI,CAAC,CAAC,CAAC;AAGvB,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxBD,MAAM,CAACF,GAAG,CAAC,QAAQ,EAAEI,aAAI,CAAC;AAC1BF,MAAM,CAACF,GAAG,CAAC,aAAa,EAAEK,kBAAS,CAAC;AACpCH,MAAM,CAACF,GAAG,CAAC,WAAW,EAAEM,gBAAO,CAAC;AAChCJ,MAAM,CAACF,GAAG,CAAC,UAAU,EAAEO,eAAM,CAAC;AAC9BL,MAAM,CAACF,GAAG,CAAC,UAAU,EAAEQ,eAAM,CAAC;AAC9BN,MAAM,CAACF,GAAG,CAAC,WAAW,EAAES,iBAAQ,CAAC;AACjCP,MAAM,CAACF,GAAG,CAAC,OAAO,EAAEU,aAAI,CAAC;AACzBR,MAAM,CAACF,GAAG,CAAC,OAAO,EAAEW,aAAI,CAAC;AACzBT,MAAM,CAACF,GAAG,CAAC,iBAAiB,EAAEY,sBAAa,CAAC;AAC5CV,MAAM,CAACF,GAAG,CAAC,OAAO,EAAEa,aAAI,CAAC;AACzBX,MAAM,CAACF,GAAG,CAAC,SAAS,EAAEc,eAAM,CAAC;AAC7BZ,MAAM,CAACF,GAAG,CAAC,UAAU,EAAEe,gBAAO,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAApB,OAAA,GAGjBK,MAAM","ignoreList":[]}},"mtime":1750279382070},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", _UserController.default.register);\nrouter.post(\"/register_seller\", _UserController.default.register_seller);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post(\"/register_admin\", _auth.default.verifyAdmin, _UserController.default.register_admin);\nrouter.post(\"/login\", _UserController.default.login);\nrouter.post(\"/login_admin\", _UserController.default.login_admin);\nrouter.post(\"/login_seller\", _UserController.default.login_seller);\nrouter.delete(\"/delete\", _UserController.default.remove);\nrouter.get('/:id', _auth.default.verifyEcommerce, _UserController.default.getById);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyQ29udHJvbGxlciIsIl9hdXRoIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJVc2VyQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicmVnaXN0ZXJfc2VsbGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwibGlzdCIsInJlZ2lzdGVyX2FkbWluIiwibG9naW4iLCJsb2dpbl9hZG1pbiIsImxvZ2luX3NlbGxlciIsImRlbGV0ZSIsInJlbW92ZSIsInZlcmlmeUVjb21tZXJjZSIsImdldEJ5SWQiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2Uvcm91dGVyLyIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiXG5pbXBvcnQgVXNlckNvbnRyb2xsZXIgZnJvbSBcIi4uL2NvbnRyb2xsZXJzL1VzZXJDb250cm9sbGVyXCJcbmltcG9ydCBhdXRoIGZyb20gXCIuLi9taWRkbGV3YXJlcy9hdXRoXCJcblxuXG5cbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcblxuLy8gcHJvY2Vzcy5lbnYuVVJMX0JBQ0tFTkQvYXBpL3VzZXJzL3JlZ2lzdGVyXG5cbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsIFVzZXJDb250cm9sbGVyLnJlZ2lzdGVyKTtcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyX3NlbGxlclwiLCBVc2VyQ29udHJvbGxlci5yZWdpc3Rlcl9zZWxsZXIpO1xucm91dGVyLnB1dChcIi91cGRhdGVcIiwgVXNlckNvbnRyb2xsZXIudXBkYXRlKTtcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sIFVzZXJDb250cm9sbGVyLmxpc3QpO1xucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJfYWRtaW5cIixhdXRoLnZlcmlmeUFkbWluLCBVc2VyQ29udHJvbGxlci5yZWdpc3Rlcl9hZG1pbik7XG5yb3V0ZXIucG9zdChcIi9sb2dpblwiLCBVc2VyQ29udHJvbGxlci5sb2dpbik7XG5yb3V0ZXIucG9zdChcIi9sb2dpbl9hZG1pblwiLCBVc2VyQ29udHJvbGxlci5sb2dpbl9hZG1pbik7XG5yb3V0ZXIucG9zdChcIi9sb2dpbl9zZWxsZXJcIiwgVXNlckNvbnRyb2xsZXIubG9naW5fc2VsbGVyKTtcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlXCIsIFVzZXJDb250cm9sbGVyLnJlbW92ZSk7XG5yb3V0ZXIuZ2V0KCcvOmlkJywgYXV0aC52ZXJpZnlFY29tbWVyY2UsIFVzZXJDb250cm9sbGVyLmdldEJ5SWQpO1xuXG5cblxuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxlQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBc0MsU0FBQUQsdUJBQUFJLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFJdEMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQzs7QUFFeEI7O0FBRUFELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRUMsdUJBQWMsQ0FBQ0MsUUFBUSxDQUFDO0FBQ2pESixNQUFNLENBQUNFLElBQUksQ0FBQyxrQkFBa0IsRUFBRUMsdUJBQWMsQ0FBQ0UsZUFBZSxDQUFDO0FBQy9ETCxNQUFNLENBQUNNLEdBQUcsQ0FBQyxTQUFTLEVBQUVILHVCQUFjLENBQUNJLE1BQU0sQ0FBQztBQUM1Q1AsTUFBTSxDQUFDUSxHQUFHLENBQUMsT0FBTyxFQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBRVAsdUJBQWMsQ0FBQ1EsSUFBSSxDQUFDO0FBQ3pEWCxNQUFNLENBQUNFLElBQUksQ0FBQyxpQkFBaUIsRUFBQ08sYUFBSSxDQUFDQyxXQUFXLEVBQUVQLHVCQUFjLENBQUNTLGNBQWMsQ0FBQztBQUM5RVosTUFBTSxDQUFDRSxJQUFJLENBQUMsUUFBUSxFQUFFQyx1QkFBYyxDQUFDVSxLQUFLLENBQUM7QUFDM0NiLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLGNBQWMsRUFBRUMsdUJBQWMsQ0FBQ1csV0FBVyxDQUFDO0FBQ3ZEZCxNQUFNLENBQUNFLElBQUksQ0FBQyxlQUFlLEVBQUVDLHVCQUFjLENBQUNZLFlBQVksQ0FBQztBQUN6RGYsTUFBTSxDQUFDZ0IsTUFBTSxDQUFDLFNBQVMsRUFBRWIsdUJBQWMsQ0FBQ2MsTUFBTSxDQUFDO0FBQy9DakIsTUFBTSxDQUFDUSxHQUFHLENBQUMsTUFBTSxFQUFFQyxhQUFJLENBQUNTLGVBQWUsRUFBRWYsdUJBQWMsQ0FBQ2dCLE9BQU8sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBdEIsT0FBQSxHQU1sREMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_UserController","_auth","e","__esModule","default","router","routerx","post","UserController","register","register_seller","put","update","get","auth","verifyAdmin","list","register_admin","login","login_admin","login_seller","delete","remove","verifyEcommerce","getById","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["User.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport UserController from \"../controllers/UserController\"\nimport auth from \"../middlewares/auth\"\n\n\n\nconst router = routerx();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", UserController.register);\nrouter.post(\"/register_seller\", UserController.register_seller);\nrouter.put(\"/update\", UserController.update);\nrouter.get(\"/list\",auth.verifyAdmin, UserController.list);\nrouter.post(\"/register_admin\",auth.verifyAdmin, UserController.register_admin);\nrouter.post(\"/login\", UserController.login);\nrouter.post(\"/login_admin\", UserController.login_admin);\nrouter.post(\"/login_seller\", UserController.login_seller);\nrouter.delete(\"/delete\", UserController.remove);\nrouter.get('/:id', auth.verifyEcommerce, UserController.getById);\n\n\n\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAItC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEC,uBAAc,CAACC,QAAQ,CAAC;AACjDJ,MAAM,CAACE,IAAI,CAAC,kBAAkB,EAAEC,uBAAc,CAACE,eAAe,CAAC;AAC/DL,MAAM,CAACM,GAAG,CAAC,SAAS,EAAEH,uBAAc,CAACI,MAAM,CAAC;AAC5CP,MAAM,CAACQ,GAAG,CAAC,OAAO,EAACC,aAAI,CAACC,WAAW,EAAEP,uBAAc,CAACQ,IAAI,CAAC;AACzDX,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAACO,aAAI,CAACC,WAAW,EAAEP,uBAAc,CAACS,cAAc,CAAC;AAC9EZ,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAEC,uBAAc,CAACU,KAAK,CAAC;AAC3Cb,MAAM,CAACE,IAAI,CAAC,cAAc,EAAEC,uBAAc,CAACW,WAAW,CAAC;AACvDd,MAAM,CAACE,IAAI,CAAC,eAAe,EAAEC,uBAAc,CAACY,YAAY,CAAC;AACzDf,MAAM,CAACgB,MAAM,CAAC,SAAS,EAAEb,uBAAc,CAACc,MAAM,CAAC;AAC/CjB,MAAM,CAACQ,GAAG,CAAC,MAAM,EAAEC,aAAI,CAACS,eAAe,EAAEf,uBAAc,CAACgB,OAAO,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAtB,OAAA,GAMlDC,MAAM","ignoreList":[]}},"mtime":1750195746466},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      const userC = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userC) {\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"cliente\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_seller: async (req, res) => {\n    try {\n      const userC = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userC) {\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"emprendedor\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_admin: async (req, res) => {\n    try {\n      const userV = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userV) {\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"admin\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      let user = await _models.default.User.create(req.body);\n      res.status(200).json({\n        user: _resourses.default.User.user_list(user)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        //SI ESTA REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              _id: user._id,\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        //SI ESTA REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              _id: user._id,\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login_seller: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: \"emprendedor\"\n      });\n      if (user) {\n        //SI ESTA REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              _id: user._id,\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('/');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let UserT = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: _resourses.default.User.user_list(UserT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  // list: async(req,res) => {\n  //   try {\n  //     var search = req.query.search;\n  //     let Users  = await models.User.find({\n  //       $or:[\n  //         {\"name\": new RegExp(search, \"i\")},\n  //         {\"surname\": new RegExp(search, \"i\")},\n  //         {\"email\": new RegExp(search, \"i\")},\n  //       ]\n  //   }).sort({'createdAt':-1});\n\n  //   Users = Users.map((user) => {\n  //     return resourses.User.user_list(user);\n  //   })\n\n  //   res.status(200).json({\n  //     users: Users\n  //   });\n  //   } catch (error) {\n  //     res.status(500).send({\n  //       message: \"OCURRIÓ UN PROBLEMA\"\n  //     });\n  //     console.log(error);\n\n  //   }\n  // },\n\n  // Listar usuarios según el rol\n  list: async (req, res) => {\n    try {\n      const search = req.query.search || '';\n      const regex = new RegExp(search, \"i\");\n\n      // El rol y el id del usuario autenticado\n      const {\n        rol,\n        _id\n      } = req.user;\n      let users = [];\n      if (rol === \"admin\") {\n        // Admin: todos los usuarios\n        users = await _models.default.User.find({\n          $or: [{\n            name: regex\n          }, {\n            surname: regex\n          }, {\n            email: regex\n          }]\n        });\n      } else if (rol === \"emprendedor\") {\n        // Emprendedor: solo su propio usuario\n        users = await _models.default.User.find({\n          _id: _id,\n          $or: [{\n            name: regex\n          }, {\n            surname: regex\n          }, {\n            email: regex\n          }]\n        });\n      } else {\n        return res.status(403).json({\n          message: \"No autorizado\"\n        });\n      }\n      res.status(200).json({\n        users\n      });\n    } catch (error) {\n      res.status(500).json({\n        message: \"Error al obtener usuarios\"\n      });\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await _models.default.User.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  getById: async (req, res) => {\n    try {\n      const user = await _models.default.User.findById(req.params.id);\n      if (!user) return res.status(404).json({\n        message: \"Usuario no encontrado\"\n      });\n      console.log(\"USER\", user);\n      res.status(200).json({\n        user\n      });\n    } catch (error) {\n      res.status(500).json({\n        message: \"Error al obtener usuario\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmNyeXB0anMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9tb2RlbHMiLCJfdG9rZW4iLCJfcmVzb3Vyc2VzIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJ1c2VyQyIsIm1vZGVscyIsIlVzZXIiLCJmaW5kT25lIiwiZW1haWwiLCJib2R5Iiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJyb2wiLCJwYXNzd29yZCIsImJjcnlwdCIsImhhc2giLCJ1c2VyIiwiY3JlYXRlIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInJlZ2lzdGVyX3NlbGxlciIsInJlZ2lzdGVyX2FkbWluIiwidXNlclYiLCJyZXNvdXJzZXMiLCJ1c2VyX2xpc3QiLCJsb2dpbiIsInN0YXRlIiwiY29tcGFyZSIsInRva2VuVCIsInRva2VuIiwiZW5jb2RlIiwiX2lkIiwiVVNFUl9GUk9OVEVEIiwibmFtZSIsInN1cm5hbWUiLCJhdmF0YXIiLCJsb2dpbl9hZG1pbiIsImxvZ2luX3NlbGxlciIsInVwZGF0ZSIsImZpbGVzIiwiaW1nX3BhdGgiLCJwYXRoIiwic3BsaXQiLCJhdmF0YXJfbmFtZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiVXNlclQiLCJsaXN0Iiwic2VhcmNoIiwicXVlcnkiLCJyZWdleCIsIlJlZ0V4cCIsInVzZXJzIiwiZmluZCIsIiRvciIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIiwiZ2V0QnlJZCIsImZpbmRCeUlkIiwicGFyYW1zIiwiaWQiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJVc2VyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYmNyeXB0IGZyb20gXCJiY3J5cHRqc1wiXG5pbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcbmltcG9ydCB0b2tlbiBmcm9tIFwiLi4vc2VydmljZXMvdG9rZW5cIjtcbmltcG9ydCByZXNvdXJzZXMgZnJvbSBcIi4uL3Jlc291cnNlc1wiO1xuXG5cbmV4cG9ydCBkZWZhdWx0e1xuICBcbiAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlckMgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtlbWFpbDogcmVxLmJvZHkuZW1haWx9KTtcbiAgICAgIGlmKHVzZXJDKXtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBZQSBFWElTVEVcIlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJlcS5ib2R5LnJvbCA9IFwiY2xpZW50ZVwiXG4gICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLDEwKTtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5jcmVhdGUocmVxLmJvZHkpO1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24odXNlcik7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuICB9LFxuXG4gIHJlZ2lzdGVyX3NlbGxlcjogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1c2VyQyA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe2VtYWlsOiByZXEuYm9keS5lbWFpbH0pO1xuICAgICAgaWYodXNlckMpe1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIFlBIEVYSVNURVwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmVxLmJvZHkucm9sID0gXCJlbXByZW5kZWRvclwiXG4gICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLDEwKTtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5jcmVhdGUocmVxLmJvZHkpO1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24odXNlcik7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuICB9LFxuICBcbiAgcmVnaXN0ZXJfYWRtaW46IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlclYgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtlbWFpbDogcmVxLmJvZHkuZW1haWx9KTtcbiAgICAgIGlmKHVzZXJWKXtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBZQSBFWElTVEVcIlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJlcS5ib2R5LnJvbCA9IFwiYWRtaW5cIlxuICAgICAgcmVxLmJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChyZXEuYm9keS5wYXNzd29yZCwxMCk7XG4gICAgICBsZXQgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIHVzZXI6IHJlc291cnNlcy5Vc2VyLnVzZXJfbGlzdCh1c2VyKVxuICAgICAgfSk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuICB9LFxuXG4gIGxvZ2luOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe2VtYWlsOiByZXEuYm9keS5lbWFpbCxzdGF0ZToxfSk7XG4gICAgICAgIGlmKHVzZXIpe1xuICAgICAgICAgICAgLy9TSSBFU1RBIFJFR0lTVFJBRE8gRU4gRUwgU0lTVEVNQVxuICAgICAgICAgICAgbGV0IGNvbXBhcmUgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShyZXEuYm9keS5wYXNzd29yZCx1c2VyLnBhc3N3b3JkKTtcbiAgICAgICAgICAgIGlmKGNvbXBhcmUpe1xuICAgICAgICAgICAgICAgIGxldCB0b2tlblQgPSBhd2FpdCB0b2tlbi5lbmNvZGUodXNlci5faWQsdXNlci5yb2wsdXNlci5lbWFpbCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBVU0VSX0ZST05URUQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuOnRva2VuVCxcbiAgICAgICAgICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiB1c2VyLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VybmFtZTogdXNlci5zdXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhcixcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgICAgIFVTRVJfRlJPTlRFRDpVU0VSX0ZST05URUQsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBOTyBFWElTVEVcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cbiAgfSxcbiAgbG9naW5fYWRtaW46IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtlbWFpbDogcmVxLmJvZHkuZW1haWwsc3RhdGU6MX0pO1xuICAgICAgaWYodXNlcil7XG4gICAgICAgICAgLy9TSSBFU1RBIFJFR0lTVFJBRE8gRU4gRUwgU0lTVEVNQVxuICAgICAgICAgIGxldCBjb21wYXJlID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocmVxLmJvZHkucGFzc3dvcmQsdXNlci5wYXNzd29yZCk7XG4gICAgICAgICAgaWYoY29tcGFyZSl7XG4gICAgICAgICAgICAgIGxldCB0b2tlblQgPSBhd2FpdCB0b2tlbi5lbmNvZGUodXNlci5faWQsdXNlci5yb2wsdXNlci5lbWFpbCk7XG5cbiAgICAgICAgICAgICAgY29uc3QgVVNFUl9GUk9OVEVEID0ge1xuICAgICAgICAgICAgICAgICAgdG9rZW46dG9rZW5ULFxuICAgICAgICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICAgICAgICAgIF9pZDogdXNlci5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgIHN1cm5hbWU6IHVzZXIuc3VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICBhdmF0YXI6IHVzZXIuYXZhdGFyLFxuICAgICAgICAgICAgICAgICAgICAgIHJvbDogdXNlci5yb2xcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgICBVU0VSX0ZST05URUQ6VVNFUl9GUk9OVEVELFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgfWVsc2V7XG4gICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gIH1cbiAgfSxcbiAgbG9naW5fc2VsbGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsLHN0YXRlOjEscm9sOlwiZW1wcmVuZGVkb3JcIn0pO1xuICAgICAgaWYodXNlcil7XG4gICAgICAgICAgLy9TSSBFU1RBIFJFR0lTVFJBRE8gRU4gRUwgU0lTVEVNQVxuICAgICAgICAgIGxldCBjb21wYXJlID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocmVxLmJvZHkucGFzc3dvcmQsdXNlci5wYXNzd29yZCk7XG4gICAgICAgICAgaWYoY29tcGFyZSl7XG4gICAgICAgICAgICAgIGxldCB0b2tlblQgPSBhd2FpdCB0b2tlbi5lbmNvZGUodXNlci5faWQsdXNlci5yb2wsdXNlci5lbWFpbCk7XG5cbiAgICAgICAgICAgICAgY29uc3QgVVNFUl9GUk9OVEVEID0ge1xuICAgICAgICAgICAgICAgICAgdG9rZW46dG9rZW5ULFxuICAgICAgICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICAgICAgICAgIF9pZDogdXNlci5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgIHN1cm5hbWU6IHVzZXIuc3VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICBhdmF0YXI6IHVzZXIuYXZhdGFyLFxuICAgICAgICAgICAgICAgICAgICAgIHJvbDogdXNlci5yb2xcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgICBVU0VSX0ZST05URUQ6VVNFUl9GUk9OVEVELFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgfWVsc2V7XG4gICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gIH1cbiAgfSxcbiAgdXBkYXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICBpZihyZXEuZmlsZXMpe1xuICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLmF2YXRhci5wYXRoO1xuICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICAgdmFyIGF2YXRhcl9uYW1lID0gbmFtZVsyXTtcbiAgICAgICAgIGNvbnNvbGUubG9nKGF2YXRhcl9uYW1lKVxuICAgICAgIH1cbiAgICAgIFxuICAgICAgaWYocmVxLmJvZHkucGFzc3dvcmQpe1xuICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLDEwKTtcbiAgICAgIH1cbiAgICAgYXdhaXQgbW9kZWxzLlVzZXIuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkfSxyZXEuYm9keSk7XG5cbiAgICAgbGV0IFVzZXJUID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7X2lkOiByZXEuYm9keS5faWR9KTtcblxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gU0UgSEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFXCIsXG4gICAgICAgIHVzZXI6IHJlc291cnNlcy5Vc2VyLnVzZXJfbGlzdChVc2VyVCksXG4gICAgICB9KVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuXG4gIH0sXG4gIC8vIGxpc3Q6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgLy8gICB0cnkge1xuICAvLyAgICAgdmFyIHNlYXJjaCA9IHJlcS5xdWVyeS5zZWFyY2g7XG4gIC8vICAgICBsZXQgVXNlcnMgID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZCh7XG4gIC8vICAgICAgICRvcjpbXG4gIC8vICAgICAgICAge1wibmFtZVwiOiBuZXcgUmVnRXhwKHNlYXJjaCwgXCJpXCIpfSxcbiAgLy8gICAgICAgICB7XCJzdXJuYW1lXCI6IG5ldyBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxuICAvLyAgICAgICAgIHtcImVtYWlsXCI6IG5ldyBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxuICAvLyAgICAgICBdXG4gIC8vICAgfSkuc29ydCh7J2NyZWF0ZWRBdCc6LTF9KTtcblxuICAvLyAgIFVzZXJzID0gVXNlcnMubWFwKCh1c2VyKSA9PiB7XG4gIC8vICAgICByZXR1cm4gcmVzb3Vyc2VzLlVzZXIudXNlcl9saXN0KHVzZXIpO1xuICAvLyAgIH0pXG5cbiAgLy8gICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gIC8vICAgICB1c2VyczogVXNlcnNcbiAgLy8gICB9KTtcbiAgLy8gICB9IGNhdGNoIChlcnJvcikge1xuICAvLyAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAvLyAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgLy8gICAgIH0pO1xuICAvLyAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgXG4gIC8vICAgfVxuICAvLyB9LFxuXG4vLyBMaXN0YXIgdXN1YXJpb3Mgc2Vnw7puIGVsIHJvbFxuICBsaXN0OiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaCB8fCAnJztcbiAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKTtcblxuICAgICAgLy8gRWwgcm9sIHkgZWwgaWQgZGVsIHVzdWFyaW8gYXV0ZW50aWNhZG9cbiAgICAgIGNvbnN0IHsgcm9sLCBfaWQgfSA9IHJlcS51c2VyO1xuXG4gICAgICBsZXQgdXNlcnMgPSBbXTtcbiAgICAgIGlmIChyb2wgPT09IFwiYWRtaW5cIikge1xuICAgICAgICAvLyBBZG1pbjogdG9kb3MgbG9zIHVzdWFyaW9zXG4gICAgICAgIHVzZXJzID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZCh7XG4gICAgICAgICAgJG9yOiBbXG4gICAgICAgICAgICB7IG5hbWU6IHJlZ2V4IH0sXG4gICAgICAgICAgICB7IHN1cm5hbWU6IHJlZ2V4IH0sXG4gICAgICAgICAgICB7IGVtYWlsOiByZWdleCB9XG4gICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocm9sID09PSBcImVtcHJlbmRlZG9yXCIpIHtcbiAgICAgICAgLy8gRW1wcmVuZGVkb3I6IHNvbG8gc3UgcHJvcGlvIHVzdWFyaW9cbiAgICAgICAgdXNlcnMgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kKHtcbiAgICAgICAgICBfaWQ6IF9pZCxcbiAgICAgICAgICAkb3I6IFtcbiAgICAgICAgICAgIHsgbmFtZTogcmVnZXggfSxcbiAgICAgICAgICAgIHsgc3VybmFtZTogcmVnZXggfSxcbiAgICAgICAgICAgIHsgZW1haWw6IHJlZ2V4IH1cbiAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKHsgbWVzc2FnZTogXCJObyBhdXRvcml6YWRvXCIgfSk7XG4gICAgICB9XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdXNlcnMgfSk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiBcIkVycm9yIGFsIG9idGVuZXIgdXN1YXJpb3NcIiB9KTtcbiAgICB9XG4gIH0sXG4gIHJlbW92ZTogYXN5bmMocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgVXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IHJlcS5xdWVyeS5faWR9KTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG4gIH0sXG4gIGdldEJ5SWQ6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XG4gICAgICBpZiAoIXVzZXIpIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6IFwiVXN1YXJpbyBubyBlbmNvbnRyYWRvXCIgfSk7XG4gICAgICBjb25zb2xlLmxvZyhcIlVTRVJcIiwgdXNlcik7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHVzZXIgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogXCJFcnJvciBhbCBvYnRlbmVyIHVzdWFyaW9cIiB9KTtcbiAgICB9XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFVBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUFxQyxTQUFBRCx1QkFBQUssQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBR3ZCO0VBRVpHLFFBQVEsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUMxQixJQUFJO01BQ0YsTUFBTUMsS0FBSyxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPLENBQUM7UUFBQ0MsS0FBSyxFQUFFTixHQUFHLENBQUNPLElBQUksQ0FBQ0Q7TUFBSyxDQUFDLENBQUM7TUFDaEUsSUFBR0osS0FBSyxFQUFDO1FBQ1BELEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDbkJDLE9BQU8sRUFBRTtRQUNYLENBQUMsQ0FBQztNQUNKO01BQ0FWLEdBQUcsQ0FBQ08sSUFBSSxDQUFDSSxHQUFHLEdBQUcsU0FBUztNQUN4QlgsR0FBRyxDQUFDTyxJQUFJLENBQUNLLFFBQVEsR0FBRyxNQUFNQyxpQkFBTSxDQUFDQyxJQUFJLENBQUNkLEdBQUcsQ0FBQ08sSUFBSSxDQUFDSyxRQUFR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","map":{"version":3,"names":["_bcryptjs","_interopRequireDefault","require","_models","_token","_resourses","e","__esModule","default","_default","exports","register","req","res","userC","models","User","findOne","email","body","status","send","message","rol","password","bcrypt","hash","user","create","json","error","console","log","register_seller","register_admin","userV","resourses","user_list","login","state","compare","tokenT","token","encode","_id","USER_FRONTED","name","surname","avatar","login_admin","login_seller","update","files","img_path","path","split","avatar_name","findByIdAndUpdate","UserT","list","search","query","regex","RegExp","users","find","$or","remove","findByIdAndDelete","getById","findById","params","id"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["UserController.js"],"sourcesContent":["import bcrypt from \"bcryptjs\"\nimport models from \"../models\";\nimport token from \"../services/token\";\nimport resourses from \"../resourses\";\n\n\nexport default{\n  \n  register: async(req,res) => {\n    try {\n      const userC = await models.User.findOne({email: req.body.email});\n      if(userC){\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"cliente\"\n      req.body.password = await bcrypt.hash(req.body.password,10);\n      const user = await models.User.create(req.body);\n      res.status(200).json(user);\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n\n  register_seller: async(req,res) => {\n    try {\n      const userC = await models.User.findOne({email: req.body.email});\n      if(userC){\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"emprendedor\"\n      req.body.password = await bcrypt.hash(req.body.password,10);\n      const user = await models.User.create(req.body);\n      res.status(200).json(user);\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n  \n  register_admin: async(req,res) => {\n    try {\n      const userV = await models.User.findOne({email: req.body.email});\n      if(userV){\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"admin\"\n      req.body.password = await bcrypt.hash(req.body.password,10);\n      let user = await models.User.create(req.body);\n      res.status(200).json({\n        user: resourses.User.user_list(user)\n      });\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n\n  login: async(req,res) => {\n    try {\n        const user = await models.User.findOne({email: req.body.email,state:1});\n        if(user){\n            //SI ESTA REGISTRADO EN EL SISTEMA\n            let compare = await bcrypt.compare(req.body.password,user.password);\n            if(compare){\n                let tokenT = await token.encode(user._id,user.rol,user.email);\n\n                const USER_FRONTED = {\n                    token:tokenT,\n                    user: {\n                        _id: user._id,\n                        name: user.name,\n                        email: user.email,\n                        surname: user.surname,\n                        avatar: user.avatar,\n                    },\n                }\n\n                res.status(200).json({\n                    USER_FRONTED:USER_FRONTED,\n                })\n            }else{\n                res.status(500).send({\n                    message: \"EL USUARIO NO EXISTE\"\n                });\n            }\n        }else{\n            res.status(500).send({\n                message: \"EL USUARIO NO EXISTE\"\n            });\n        }\n    } catch (error) {\n        res.status(500).send({\n            message: \"OCURRIO UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n  login_admin: async(req,res) => {\n  try {\n      const user = await models.User.findOne({email: req.body.email,state:1});\n      if(user){\n          //SI ESTA REGISTRADO EN EL SISTEMA\n          let compare = await bcrypt.compare(req.body.password,user.password);\n          if(compare){\n              let tokenT = await token.encode(user._id,user.rol,user.email);\n\n              const USER_FRONTED = {\n                  token:tokenT,\n                  user: {\n                      _id: user._id,\n                      name: user.name,\n                      email: user.email,\n                      surname: user.surname,\n                      avatar: user.avatar,\n                      rol: user.rol\n                  },\n              }\n\n              res.status(200).json({\n                  USER_FRONTED:USER_FRONTED,\n              })\n          }else{\n              res.status(500).send({\n                  message: \"EL USUARIO NO EXISTE\"\n              });\n          }\n      }else{\n          res.status(500).send({\n              message: \"EL USUARIO NO EXISTE\"\n          });\n      }\n  } catch (error) {\n      res.status(500).send({\n          message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n  }\n  },\n  login_seller: async(req,res) => {\n  try {\n      const user = await models.User.findOne({email: req.body.email,state:1,rol:\"emprendedor\"});\n      if(user){\n          //SI ESTA REGISTRADO EN EL SISTEMA\n          let compare = await bcrypt.compare(req.body.password,user.password);\n          if(compare){\n              let tokenT = await token.encode(user._id,user.rol,user.email);\n\n              const USER_FRONTED = {\n                  token:tokenT,\n                  user: {\n                      _id: user._id,\n                      name: user.name,\n                      email: user.email,\n                      surname: user.surname,\n                      avatar: user.avatar,\n                      rol: user.rol\n                  },\n              }\n\n              res.status(200).json({\n                  USER_FRONTED:USER_FRONTED,\n              })\n          }else{\n              res.status(500).send({\n                  message: \"EL USUARIO NO EXISTE\"\n              });\n          }\n      }else{\n          res.status(500).send({\n              message: \"EL USUARIO NO EXISTE\"\n          });\n      }\n  } catch (error) {\n      res.status(500).send({\n          message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n  }\n  },\n  update: async(req,res) => {\n    try {\n       if(req.files){\n         var img_path = req.files.avatar.path;\n         var name = img_path.split('/');\n         var avatar_name = name[2];\n         console.log(avatar_name)\n       }\n      \n      if(req.body.password){\n        req.body.password = await bcrypt.hash(req.body.password,10);\n      }\n     await models.User.findByIdAndUpdate({_id: req.body._id},req.body);\n\n     let UserT = await models.User.findOne({_id: req.body._id});\n\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: resourses.User.user_list(UserT),\n      })\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n\n  },\n  // list: async(req,res) => {\n  //   try {\n  //     var search = req.query.search;\n  //     let Users  = await models.User.find({\n  //       $or:[\n  //         {\"name\": new RegExp(search, \"i\")},\n  //         {\"surname\": new RegExp(search, \"i\")},\n  //         {\"email\": new RegExp(search, \"i\")},\n  //       ]\n  //   }).sort({'createdAt':-1});\n\n  //   Users = Users.map((user) => {\n  //     return resourses.User.user_list(user);\n  //   })\n\n  //   res.status(200).json({\n  //     users: Users\n  //   });\n  //   } catch (error) {\n  //     res.status(500).send({\n  //       message: \"OCURRIÓ UN PROBLEMA\"\n  //     });\n  //     console.log(error);\n      \n  //   }\n  // },\n\n// Listar usuarios según el rol\n  list: async (req, res) => {\n    try {\n      const search = req.query.search || '';\n      const regex = new RegExp(search, \"i\");\n\n      // El rol y el id del usuario autenticado\n      const { rol, _id } = req.user;\n\n      let users = [];\n      if (rol === \"admin\") {\n        // Admin: todos los usuarios\n        users = await models.User.find({\n          $or: [\n            { name: regex },\n            { surname: regex },\n            { email: regex }\n          ]\n        });\n      } else if (rol === \"emprendedor\") {\n        // Emprendedor: solo su propio usuario\n        users = await models.User.find({\n          _id: _id,\n          $or: [\n            { name: regex },\n            { surname: regex },\n            { email: regex }\n          ]\n        });\n      } else {\n        return res.status(403).json({ message: \"No autorizado\" });\n      }\n\n      res.status(200).json({ users });\n\n    } catch (error) {\n      res.status(500).json({ message: \"Error al obtener usuarios\" });\n    }\n  },\n  remove: async(req, res) => {\n    try {\n      const User = await models.User.findByIdAndDelete({_id: req.query._id});\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\",\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  getById: async (req, res) => {\n    try {\n      const user = await models.User.findById(req.params.id);\n      if (!user) return res.status(404).json({ message: \"Usuario no encontrado\" });\n      console.log(\"USER\", user);\n      res.status(200).json({ user });\n    } catch (error) {\n      res.status(500).json({ message: \"Error al obtener usuario\" });\n    }\n  }\n}"],"mappings":"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","ignoreList":[]}},"mtime":1750195560942},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Variedad = _interopRequireDefault(require(\"./Variedad\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cupone = _interopRequireDefault(require(\"./Cupone\"));\nvar _Discount = _interopRequireDefault(require(\"./Discount\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nvar _AddressClient = _interopRequireDefault(require(\"./AddressClient\"));\nvar _Sale = _interopRequireDefault(require(\"./Sale\"));\nvar _SaleAddress = _interopRequireDefault(require(\"./SaleAddress\"));\nvar _SaleDetail = _interopRequireDefault(require(\"./SaleDetail\"));\nvar _Review = _interopRequireDefault(require(\"./Review\"));\nvar _TempPayment = _interopRequireDefault(require(\"./TempPayment\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default,\n  Variedad: _Variedad.default,\n  Slider: _Slider.default,\n  Cupone: _Cupone.default,\n  Discount: _Discount.default,\n  Cart: _Cart.default,\n  AddressClient: _AddressClient.default,\n  Sale: _Sale.default,\n  SaleAddress: _SaleAddress.default,\n  SaleDetail: _SaleDetail.default,\n  Review: _Review.default,\n  TempPayment: _TempPayment.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQ2F0ZWdvcmllIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfVXNlciIsIl9Qcm9kdWN0IiwiX1ZhcmllZGFkIiwiX1NsaWRlciIsIl9DdXBvbmUiLCJfRGlzY291bnQiLCJfQ2FydCIsIl9BZGRyZXNzQ2xpZW50IiwiX1NhbGUiLCJfU2FsZUFkZHJlc3MiLCJfU2FsZURldGFpbCIsIl9SZXZpZXciLCJfVGVtcFBheW1lbnQiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJVc2VyIiwiQ2F0ZWdvcmllIiwiUHJvZHVjdCIsIlZhcmllZGFkIiwiU2xpZGVyIiwiQ3Vwb25lIiwiRGlzY291bnQiLCJDYXJ0IiwiQWRkcmVzc0NsaWVudCIsIlNhbGUiLCJTYWxlQWRkcmVzcyIsIlNhbGVEZXRhaWwiLCJSZXZpZXciLCJUZW1wUGF5bWVudCJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2F0ZWdvcmllIGZyb20gXCIuL0NhdGVnb3JpZVwiO1xuaW1wb3J0IFVzZXIgZnJvbSBcIi4vVXNlclwiO1xuaW1wb3J0IFByb2R1Y3QgZnJvbSBcIi4vUHJvZHVjdFwiO1xuaW1wb3J0IFZhcmllZGFkIGZyb20gXCIuL1ZhcmllZGFkXCI7XG5pbXBvcnQgU2xpZGVyIGZyb20gXCIuL1NsaWRlclwiO1xuaW1wb3J0IEN1cG9uZSBmcm9tIFwiLi9DdXBvbmVcIjtcbmltcG9ydCBEaXNjb3VudCBmcm9tIFwiLi9EaXNjb3VudFwiO1xuaW1wb3J0IENhcnQgZnJvbSBcIi4vQ2FydFwiO1xuaW1wb3J0IEFkZHJlc3NDbGllbnQgZnJvbSBcIi4vQWRkcmVzc0NsaWVudFwiO1xuaW1wb3J0IFNhbGUgZnJvbSBcIi4vU2FsZVwiO1xuaW1wb3J0IFNhbGVBZGRyZXNzIGZyb20gXCIuL1NhbGVBZGRyZXNzXCI7XG5pbXBvcnQgU2FsZURldGFpbCBmcm9tIFwiLi9TYWxlRGV0YWlsXCI7XG5pbXBvcnQgUmV2aWV3IGZyb20gXCIuL1Jldmlld1wiO1xuaW1wb3J0IFRlbXBQYXltZW50IGZyb20gXCIuL1RlbXBQYXltZW50XCI7XG5cbmV4cG9ydCBkZWZhdWx0e1xuICBVc2VyLFxuICBDYXRlZ29yaWUsXG4gIFByb2R1Y3QsXG4gIFZhcmllZGFkLFxuICBTbGlkZXIsXG4gIEN1cG9uZSxcbiAgRGlzY291bnQsXG4gIENhcnQsXG4gIEFkZHJlc3NDbGllbnQsXG4gIFNhbGUsXG4gIFNhbGVBZGRyZXNzLFxuICBTYWxlRGV0YWlsLFxuICBSZXZpZXcsXG4gIFRlbXBQYXltZW50LFxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsVUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsUUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsU0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksT0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssT0FBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU0sU0FBQSxHQUFBUCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU8sS0FBQSxHQUFBUixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVEsY0FBQSxHQUFBVCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVMsS0FBQSxHQUFBVixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVUsWUFBQSxHQUFBWCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVcsV0FBQSxHQUFBWixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVksT0FBQSxHQUFBYixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQWEsWUFBQSxHQUFBZCxzQkFBQSxDQUFBQyxPQUFBO0FBQXdDLFNBQUFELHVCQUFBZSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFMUI7RUFDWkcsSUFBSSxFQUFKQSxhQUFJO0VBQ0pDLFNBQVMsRUFBVEEsa0JBQVM7RUFDVEMsT0FBTyxFQUFQQSxnQkFBTztFQUNQQyxRQUFRLEVBQVJBLGlCQUFRO0VBQ1JDLE1BQU0sRUFBTkEsZUFBTTtFQUNOQyxNQUFNLEVBQU5BLGVBQU07RUFDTkMsUUFBUSxFQUFSQSxpQkFBUTtFQUNSQyxJQUFJLEVBQUpBLGFBQUk7RUFDSkMsYUFBYSxFQUFiQSxzQkFBYTtFQUNiQyxJQUFJLEVBQUpBLGFBQUk7RUFDSkMsV0FBVyxFQUFYQSxvQkFBVztFQUNYQyxVQUFVLEVBQVZBLG1CQUFVO0VBQ1ZDLE1BQU0sRUFBTkEsZUFBTTtFQUNOQyxXQUFXLEVBQVhBO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_Categorie","_interopRequireDefault","require","_User","_Product","_Variedad","_Slider","_Cupone","_Discount","_Cart","_AddressClient","_Sale","_SaleAddress","_SaleDetail","_Review","_TempPayment","e","__esModule","default","_default","exports","User","Categorie","Product","Variedad","Slider","Cupone","Discount","Cart","AddressClient","Sale","SaleAddress","SaleDetail","Review","TempPayment"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["index.js"],"sourcesContent":["import Categorie from \"./Categorie\";\nimport User from \"./User\";\nimport Product from \"./Product\";\nimport Variedad from \"./Variedad\";\nimport Slider from \"./Slider\";\nimport Cupone from \"./Cupone\";\nimport Discount from \"./Discount\";\nimport Cart from \"./Cart\";\nimport AddressClient from \"./AddressClient\";\nimport Sale from \"./Sale\";\nimport SaleAddress from \"./SaleAddress\";\nimport SaleDetail from \"./SaleDetail\";\nimport Review from \"./Review\";\nimport TempPayment from \"./TempPayment\";\n\nexport default{\n  User,\n  Categorie,\n  Product,\n  Variedad,\n  Slider,\n  Cupone,\n  Discount,\n  Cart,\n  AddressClient,\n  Sale,\n  SaleAddress,\n  SaleDetail,\n  Review,\n  TempPayment,\n}"],"mappings":";;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,OAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,SAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,KAAA,GAAAR,sBAAA,CAAAC,OAAA;AACA,IAAAQ,cAAA,GAAAT,sBAAA,CAAAC,OAAA;AACA,IAAAS,KAAA,GAAAV,sBAAA,CAAAC,OAAA;AACA,IAAAU,YAAA,GAAAX,sBAAA,CAAAC,OAAA;AACA,IAAAW,WAAA,GAAAZ,sBAAA,CAAAC,OAAA;AACA,IAAAY,OAAA,GAAAb,sBAAA,CAAAC,OAAA;AACA,IAAAa,YAAA,GAAAd,sBAAA,CAAAC,OAAA;AAAwC,SAAAD,uBAAAe,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAE1B;EACZG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,QAAQ,EAARA,iBAAQ;EACRC,MAAM,EAANA,eAAM;EACNC,MAAM,EAANA,eAAM;EACNC,QAAQ,EAARA,iBAAQ;EACRC,IAAI,EAAJA,aAAI;EACJC,aAAa,EAAbA,sBAAa;EACbC,IAAI,EAAJA,aAAI;EACJC,WAAW,EAAXA,oBAAW;EACXC,UAAU,EAAVA,mBAAU;EACVC,MAAM,EAANA,eAAM;EACNC,WAAW,EAAXA;AACF,CAAC","ignoreList":[]}},"mtime":1750380943016},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CategorieSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  } // 1 es activo y 2 es desactivo\n}, {\n  timestamps: true\n});\nconst Categorie = _mongoose.default.model(\"categorie\", CategorieSchema);\nvar _default = exports.default = Categorie;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDYXRlZ29yaWVTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsImltYWdlbiIsInN0YXRlIiwiTnVtYmVyIiwidGltZXN0YW1wcyIsIkNhdGVnb3JpZSIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvbW9kZWxzLyIsInNvdXJjZXMiOlsiQ2F0ZWdvcmllLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgQ2F0ZWdvcmllU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIHRpdGxlOnt0eXBlOlN0cmluZywgbWF4bGVuZ3RoOjI1MCxyZXF1aXJlZDp0cnVlfSxcbiAgaW1hZ2VuOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6MjUwLHJlcXVpcmVkOnRydWV9LFxuICBzdGF0ZTp7dHlwZTogTnVtYmVyLG1heGxlbmd0aDoyLGRlZmF1bHQ6MX0sLy8gMSBlcyBhY3Rpdm8geSAyIGVzIGRlc2FjdGl2b1xufSx7XG4gIHRpbWVzdGFtcHM6dHJ1ZVxufSk7XG5cbmNvbnN0IENhdGVnb3JpZSA9IG1vbmdvb3NlLm1vZGVsKFwiY2F0ZWdvcmllXCIsQ2F0ZWdvcmllU2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IENhdGVnb3JpZTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLENBQUEsU0FBQUcsQ0FBQSxHQUFBUCxDQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQWIsQ0FBQSxFQUFBYyxDQUFBLFVBQUFHLENBQUEsS0FBQUEsQ0FBQSxDQUFBVixHQUFBLElBQUFVLENBQUEsQ0FBQUMsR0FBQSxJQUFBUCxNQUFBLENBQUFDLGNBQUEsQ0FBQUosQ0FBQSxFQUFBTSxDQUFBLEVBQUFHLENBQUEsSUFBQVQsQ0FBQSxDQUFBTSxDQUFBLElBQUFkLENBQUEsQ0FBQWMsQ0FBQSxZQUFBTixDQUFBLENBQUFILE9BQUEsR0FBQUwsQ0FBQSxFQUFBRyxDQUFBLElBQUFBLENBQUEsQ0FBQWUsR0FBQSxDQUFBbEIsQ0FBQSxFQUFBUSxDQUFBLEdBQUFBLENBQUE7QUFFekMsTUFBTVcsZUFBZSxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDakNDLEtBQUssRUFBQztJQUFDQyxJQUFJLEVBQUNDLE1BQU07SUFBRUMsU0FBUyxFQUFDLEdBQUc7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNoREMsTUFBTSxFQUFDO0lBQUNKLElBQUksRUFBQ0MsTUFBTTtJQUFDQyxTQUFTLEVBQUMsR0FBRztJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2hERSxLQUFLLEVBQUM7SUFBQ0wsSUFBSSxFQUFFTSxNQUFNO0lBQUNKLFNBQVMsRUFBQyxDQUFDO0lBQUNuQixPQUFPLEVBQUM7RUFBQyxDQUFDLENBQUM7QUFDN0MsQ0FBQyxFQUFDO0VBQ0F3QixVQUFVLEVBQUM7QUFDYixDQUFDLENBQUM7QUFFRixNQUFNQyxTQUFTLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxXQUFXLEVBQUNiLGVBQWUsQ0FBQztBQUFDLElBQUFjLFFBQUEsR0FBQUMsT0FBQSxDQUFBN0IsT0FBQSxHQUMvQ3lCLFNBQVMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CategorieSchema","Schema","title","type","String","maxlength","required","imagen","state","Number","timestamps","Categorie","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Categorie.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst CategorieSchema = new Schema({\n  title:{type:String, maxlength:250,required:true},\n  imagen:{type:String,maxlength:250,required:true},\n  state:{type: Number,maxlength:2,default:1},// 1 es activo y 2 es desactivo\n},{\n  timestamps:true\n});\n\nconst Categorie = mongoose.model(\"categorie\",CategorieSchema);\nexport default Categorie;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,eAAe,GAAG,IAAIC,gBAAM,CAAC;EACjCC,KAAK,EAAC;IAACC,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChDC,MAAM,EAAC;IAACJ,IAAI,EAACC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChDE,KAAK,EAAC;IAACL,IAAI,EAAEM,MAAM;IAACJ,SAAS,EAAC,CAAC;IAACnB,OAAO,EAAC;EAAC,CAAC,CAAC;AAC7C,CAAC,EAAC;EACAwB,UAAU,EAAC;AACb,CAAC,CAAC;AAEF,MAAMC,SAAS,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAACb,eAAe,CAAC;AAAC,IAAAc,QAAA,GAAAC,OAAA,CAAA7B,OAAA,GAC/CyB,SAAS","ignoreList":[]}},"mtime":1737065419804},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst UserSchema = new _mongoose.Schema({\n  rol: {\n    type: String,\n    maxlength: 30,\n    require: true\n  },\n  // admin |cliente | emprendedor\n  name: {\n    type: String,\n    maxlength: 50,\n    require: true\n  },\n  surname: {\n    type: String,\n    maxlength: 50,\n    require: false\n  },\n  company: {\n    type: String,\n    maxlength: 50,\n    require: false\n  },\n  nif: {\n    type: String,\n    maxlength: 20,\n    require: false\n  },\n  description_company: {\n    type: String,\n    maxlength: 250,\n    require: false\n  },\n  address: {\n    type: String,\n    maxlength: 250,\n    require: false\n  },\n  email: {\n    type: String,\n    maxlength: 50,\n    require: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  acceptTerms: {\n    type: Boolean,\n    require: false\n  },\n  avatar: {\n    type: String,\n    maxlength: 250,\n    require: false\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  // 1 es activo y 2 es desactivo\n  phone: {\n    type: String,\n    maxlength: 20,\n    require: false\n  },\n  birthday: {\n    type: String,\n    maxlength: 250,\n    require: false\n  }\n}, {\n  timestamps: true\n});\nconst User = _mongoose.default.model(\"user\", UserSchema);\nvar _default = exports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJVc2VyU2NoZW1hIiwiU2NoZW1hIiwicm9sIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsIm5hbWUiLCJzdXJuYW1lIiwiY29tcGFueSIsIm5pZiIsImRlc2NyaXB0aW9uX2NvbXBhbnkiLCJhZGRyZXNzIiwiZW1haWwiLCJ1bmlxdWUiLCJwYXNzd29yZCIsImFjY2VwdFRlcm1zIiwiQm9vbGVhbiIsImF2YXRhciIsInN0YXRlIiwiTnVtYmVyIiwicGhvbmUiLCJiaXJ0aGRheSIsInRpbWVzdGFtcHMiLCJVc2VyIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgVXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICByb2w6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDozMCwgcmVxdWlyZTp0cnVlfSwgLy8gYWRtaW4gfGNsaWVudGUgfCBlbXByZW5kZWRvclxuICBuYW1lOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6NTAsIHJlcXVpcmU6dHJ1ZX0sXG4gIHN1cm5hbWU6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDo1MCwgcmVxdWlyZTpmYWxzZX0sXG4gIGNvbXBhbnk6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDogNTAsIHJlcXVpcmU6ZmFsc2V9LFxuICBuaWY6IHsgdHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6IDIwLCByZXF1aXJlOiBmYWxzZX0sXG4gIGRlc2NyaXB0aW9uX2NvbXBhbnk6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDogMjUwLCByZXF1aXJlOmZhbHNlfSxcbiAgYWRkcmVzczogeyB0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDogMjUwLCByZXF1aXJlOmZhbHNlfSxcbiAgZW1haWw6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDo1MCwgcmVxdWlyZTp0cnVlLCB1bmlxdWU6dHJ1ZX0sXG4gIHBhc3N3b3JkOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwLCByZXF1aXJlOnRydWV9LFxuICBhY2NlcHRUZXJtczoge3R5cGU6IEJvb2xlYW4sIHJlcXVpcmU6ZmFsc2V9LFxuICBhdmF0YXI6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmU6ZmFsc2V9LFxuICBzdGF0ZToge3R5cGU6IE51bWJlciwgZGVmYXVsdDoxfSwvLyAxIGVzIGFjdGl2byB5IDIgZXMgZGVzYWN0aXZvXG4gIHBob25lOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjAsIHJlcXVpcmU6ZmFsc2V9LFxuICBiaXJ0aGRheToge3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZTpmYWxzZX0sXG59LHtcbiAgdGltZXN0YW1wczp0cnVlXG59KTtcblxuY29uc3QgVXNlciA9IG1vbmdvb3NlLm1vZGVsKFwidXNlclwiLCBVc2VyU2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IFVzZXIiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMs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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","UserSchema","Schema","rol","type","String","maxlength","name","surname","company","nif","description_company","address","email","unique","password","acceptTerms","Boolean","avatar","state","Number","phone","birthday","timestamps","User","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["User.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst UserSchema = new Schema({\n  rol: {type: String, maxlength:30, require:true}, // admin |cliente | emprendedor\n  name: {type: String, maxlength:50, require:true},\n  surname: {type: String, maxlength:50, require:false},\n  company: {type: String, maxlength: 50, require:false},\n  nif: { type: String, maxlength: 20, require: false},\n  description_company: {type: String, maxlength: 250, require:false},\n  address: { type: String, maxlength: 250, require:false},\n  email: {type: String, maxlength:50, require:true, unique:true},\n  password: {type: String, maxlength:250, require:true},\n  acceptTerms: {type: Boolean, require:false},\n  avatar: {type: String, maxlength:250, require:false},\n  state: {type: Number, default:1},// 1 es activo y 2 es desactivo\n  phone: {type: String, maxlength:20, require:false},\n  birthday: {type: String, maxlength:250, require:false},\n},{\n  timestamps:true\n});\n\nconst User = mongoose.model(\"user\", UserSchema);\nexport default User"],"mappings":"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","ignoreList":[]}},"mtime":1750638652442},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst ProductSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  slug: {\n    type: String,\n    required: true,\n    maxlength: 1000\n  },\n  sku: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  categorie: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'categorie',\n    required: true\n  },\n  price_bs: {\n    type: Number,\n    required: true\n  },\n  price_usd: {\n    type: Number,\n    required: true\n  },\n  portada: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  galerias: [{\n    type: Object,\n    required: false\n  }],\n  state: {\n    type: Number,\n    default: 1\n  },\n  //(1: Demo, 2:publico, 3: anulado)\n  stock: {\n    type: Number,\n    default: 0\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  resumen: {\n    type: String,\n    required: true\n  },\n  tags: {\n    type: String,\n    required: true\n  },\n  type_inventario: {\n    type: Number,\n    default: 1\n  },\n  // 1: unico, 2: multiple\n  condition: {\n    type: Number,\n    required: true\n  },\n  // 1:nuevo, 2:usado, 3:donación\n  seller_id: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'User'\n  } // Id del emprendedor propietario del producto\n}, {\n  timestamps: true\n});\nconst Product = _mongoose.default.model('product', ProductSchema);\nvar _default = exports.default = Product;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJQcm9kdWN0U2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJtYXhsZW5ndGgiLCJzbHVnIiwic2t1IiwiY2F0ZWdvcmllIiwiT2JqZWN0SWQiLCJyZWYiLCJwcmljZV9icyIsIk51bWJlciIsInByaWNlX3VzZCIsInBvcnRhZGEiLCJnYWxlcmlhcyIsInN0YXRlIiwic3RvY2siLCJkZXNjcmlwdGlvbiIsInJlc3VtZW4iLCJ0YWdzIiwidHlwZV9pbnZlbnRhcmlvIiwiY29uZGl0aW9uIiwic2VsbGVyX2lkIiwidGltZXN0YW1wcyIsIlByb2R1Y3QiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIlByb2R1Y3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9ICBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgUHJvZHVjdFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICB0aXRsZTp7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOnRydWUsIG1heGxlbmd0aDoyNTB9LFxuICBzbHVnOnt0eXBlOlN0cmluZywgcmVxdWlyZWQ6dHJ1ZSwgbWF4bGVuZ3RoOjEwMDB9LFxuICBza3U6IHt0eXBlOlN0cmluZywgcmVxdWlyZWQ6dHJ1ZSwgbWF4bGVuZ3RoOjI1MH0sXG4gIGNhdGVnb3JpZTp7dHlwZTpTY2hlbWEuT2JqZWN0SWQsIHJlZjonY2F0ZWdvcmllJywgcmVxdWlyZWQ6dHJ1ZX0sXG4gIHByaWNlX2JzOiB7dHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWV9LFxuICBwcmljZV91c2Q6IHt0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZX0sXG4gIHBvcnRhZGE6e3R5cGU6U3RyaW5nLCByZXF1aXJlZDp0cnVlLCBtYXhsZW5ndGg6MjUwfSxcbiAgZ2FsZXJpYXM6W3t0eXBlOk9iamVjdCwgcmVxdWlyZWQ6ZmFsc2V9XSxcbiAgc3RhdGU6e3R5cGU6TnVtYmVyLCBkZWZhdWx0OjF9LCAvLygxOiBEZW1vLCAyOnB1YmxpY28sIDM6IGFudWxhZG8pXG4gIHN0b2NrOiB7dHlwZTpOdW1iZXIsIGRlZmF1bHQ6MH0sXG4gIGRlc2NyaXB0aW9uOnt0eXBlOlN0cmluZywgcmVxdWlyZWQ6dHJ1ZX0sXG4gIHJlc3VtZW46e3R5cGU6U3RyaW5nLCByZXF1aXJlZDp0cnVlfSxcbiAgdGFnczp7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOnRydWV9LFxuICB0eXBlX2ludmVudGFyaW86e3R5cGU6TnVtYmVyLCBkZWZhdWx0OjF9LCAvLyAxOiB1bmljbywgMjogbXVsdGlwbGVcbiAgY29uZGl0aW9uOnt0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZX0sIC8vIDE6bnVldm8sIDI6dXNhZG8sIDM6ZG9uYWNpw7NuXG4gIHNlbGxlcl9pZDogeyB0eXBlOlNjaGVtYS5PYmplY3RJZCwgcmVmOiAnVXNlcicgfSAvLyBJZCBkZWwgZW1wcmVuZGVkb3IgcHJvcGlldGFyaW8gZGVsIHByb2R1Y3RvXG59LHtcbiAgdGltZXN0YW1wczp0cnVlLFxufSk7XG5cbmNvbnN0IFByb2R1Y3QgPSBtb25nb29zZS5tb2RlbCgncHJvZHVjdCcsIFByb2R1Y3RTY2hlbWEpO1xuXG5leHBvcnQgZGVmYXVsdCBQcm9kdWN0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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ProductSchema","Schema","title","type","String","required","maxlength","slug","sku","categorie","ObjectId","ref","price_bs","Number","price_usd","portada","galerias","state","stock","description","resumen","tags","type_inventario","condition","seller_id","timestamps","Product","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Product.js"],"sourcesContent":["import mongoose,{Schema}  from \"mongoose\";\n\nconst ProductSchema = new Schema({\n  title:{type:String, required:true, maxlength:250},\n  slug:{type:String, required:true, maxlength:1000},\n  sku: {type:String, required:true, maxlength:250},\n  categorie:{type:Schema.ObjectId, ref:'categorie', required:true},\n  price_bs: {type:Number, required:true},\n  price_usd: {type:Number, required:true},\n  portada:{type:String, required:true, maxlength:250},\n  galerias:[{type:Object, required:false}],\n  state:{type:Number, default:1}, //(1: Demo, 2:publico, 3: anulado)\n  stock: {type:Number, default:0},\n  description:{type:String, required:true},\n  resumen:{type:String, required:true},\n  tags:{type:String, required:true},\n  type_inventario:{type:Number, default:1}, // 1: unico, 2: multiple\n  condition:{type:Number, required:true}, // 1:nuevo, 2:usado, 3:donación\n  seller_id: { type:Schema.ObjectId, ref: 'User' } // Id del emprendedor propietario del producto\n},{\n  timestamps:true,\n});\n\nconst Product = mongoose.model('product', ProductSchema);\n\nexport default Product;"],"mappings":"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","ignoreList":[]}},"mtime":1750638197669},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/Variedad.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst VariedadSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  valor: {\n    type: String,\n    required: true\n  },\n  stock: {\n    type: Number,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Variedad = _mongoose.default.model('variedad', VariedadSchema);\nvar _default = exports.default = Variedad;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJWYXJpZWRhZFNjaGVtYSIsIlNjaGVtYSIsInByb2R1Y3QiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsInZhbG9yIiwiU3RyaW5nIiwic3RvY2siLCJOdW1iZXIiLCJ0aW1lc3RhbXBzIiwiVmFyaWVkYWQiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIlZhcmllZGFkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSAgZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IFZhcmllZGFkU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIHByb2R1Y3Q6e3R5cGU6U2NoZW1hLk9iamVjdElkLCByZWY6J3Byb2R1Y3QnLCByZXF1aXJlZDp0cnVlfSxcbiAgdmFsb3I6e3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6dHJ1ZX0sXG4gIHN0b2NrOnt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOnRydWV9LFxufSx7XG4gIHRpbWVzdGFtcHM6dHJ1ZSxcbn0pO1xuXG5jb25zdCBWYXJpZWRhZCA9IG1vbmdvb3NlLm1vZGVsKCd2YXJpZWRhZCcsVmFyaWVkYWRTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgVmFyaWVkYWQiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLENBQUEsU0FBQUcsQ0FBQSxHQUFBUCxDQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQWIsQ0FBQSxFQUFBYyxDQUFBLFVBQUFHLENBQUEsS0FBQUEsQ0FBQSxDQUFBVixHQUFBLElBQUFVLENBQUEsQ0FBQUMsR0FBQSxJQUFBUCxNQUFBLENBQUFDLGNBQUEsQ0FBQUosQ0FBQSxFQUFBTSxDQUFBLEVBQUFHLENBQUEsSUFBQVQsQ0FBQSxDQUFBTSxDQUFBLElBQUFkLENBQUEsQ0FBQWMsQ0FBQSxZQUFBTixDQUFBLENBQUFILE9BQUEsR0FBQUwsQ0FBQSxFQUFBRyxDQUFBLElBQUFBLENBQUEsQ0FBQWUsR0FBQSxDQUFBbEIsQ0FBQSxFQUFBUSxDQUFBLEdBQUFBLENBQUE7QUFFMUMsTUFBTVcsY0FBYyxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDaENDLE9BQU8sRUFBQztJQUFDQyxJQUFJLEVBQUNGLGdCQUFNLENBQUNHLFFBQVE7SUFBRUMsR0FBRyxFQUFDLFNBQVM7SUFBRUMsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUM1REMsS0FBSyxFQUFDO0lBQUNKLElBQUksRUFBRUssTUFBTTtJQUFFRixRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ25DRyxLQUFLLEVBQUM7SUFBQ04sSUFBSSxFQUFFTyxNQUFNO0lBQUVKLFFBQVEsRUFBQztFQUFJO0FBQ3BDLENBQUMsRUFBQztFQUNBSyxVQUFVLEVBQUM7QUFDYixDQUFDLENBQUM7QUFFRixNQUFNQyxRQUFRLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxVQUFVLEVBQUNkLGNBQWMsQ0FBQztBQUFDLElBQUFlLFFBQUEsR0FBQUMsT0FBQSxDQUFBOUIsT0FBQSxHQUM1QzBCLFFBQVEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","VariedadSchema","Schema","product","type","ObjectId","ref","required","valor","String","stock","Number","timestamps","Variedad","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Variedad.js"],"sourcesContent":["import mongoose,{Schema}  from \"mongoose\";\n\nconst VariedadSchema = new Schema({\n  product:{type:Schema.ObjectId, ref:'product', required:true},\n  valor:{type: String, required:true},\n  stock:{type: Number, required:true},\n},{\n  timestamps:true,\n});\n\nconst Variedad = mongoose.model('variedad',VariedadSchema);\nexport default Variedad"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMW,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAChCC,OAAO,EAAC;IAACC,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAC,SAAS;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAC5DC,KAAK,EAAC;IAACJ,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC;EAAI,CAAC;EACnCG,KAAK,EAAC;IAACN,IAAI,EAAEO,MAAM;IAAEJ,QAAQ,EAAC;EAAI;AACpC,CAAC,EAAC;EACAK,UAAU,EAAC;AACb,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,UAAU,EAACd,cAAc,CAAC;AAAC,IAAAe,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GAC5C0B,QAAQ","ignoreList":[]}},"mtime":1737220657416},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SliderSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  link: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  } // 1 es activo y 2 es desactivo\n}, {\n  timestamps: true\n});\nconst Slider = _mongoose.default.model(\"slider\", SliderSchema);\nvar _default = exports.default = Slider;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTbGlkZXJTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsImxpbmsiLCJpbWFnZW4iLCJzdGF0ZSIsIk51bWJlciIsInRpbWVzdGFtcHMiLCJTbGlkZXIiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIlNsaWRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IFNsaWRlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICB0aXRsZTp7dHlwZTpTdHJpbmcsIG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZX0sXG4gIGxpbms6e3R5cGU6U3RyaW5nLCBtYXhsZW5ndGg6MjUwLHJlcXVpcmVkOnRydWV9LFxuICBpbWFnZW46e3R5cGU6U3RyaW5nLG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZX0sXG4gIHN0YXRlOnt0eXBlOiBOdW1iZXIsbWF4bGVuZ3RoOjIsZGVmYXVsdDoxfSwvLyAxIGVzIGFjdGl2byB5IDIgZXMgZGVzYWN0aXZvXG59LHtcbiAgdGltZXN0YW1wczp0cnVlXG59KTtcblxuY29uc3QgU2xpZGVyID0gbW9uZ29vc2UubW9kZWwoXCJzbGlkZXJcIixTbGlkZXJTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgU2xpZGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUssT0FBQSxFQUFBTCxDQUFBLFFBQUFHLENBQUEsR0FBQUosd0JBQUEsQ0FBQUcsQ0FBQSxPQUFBQyxDQUFBLElBQUFBLENBQUEsQ0FBQUcsR0FBQSxDQUFBTixDQUFBLFVBQUFHLENBQUEsQ0FBQUksR0FBQSxDQUFBUCxDQUFBLE9BQUFRLENBQUEsS0FBQUMsU0FBQSxVQUFBQyxDQUFBLEdBQUFDLE1BQUEsQ0FBQUMsY0FBQSxJQUFBRCxNQUFBLENBQUFFLHdCQUFBLFdBQUFDLENBQUEsSUFBQWQsQ0FBQSxvQkFBQWMsQ0FBQSxPQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWhCLENBQUEsRUFBQWMsQ0FBQSxTQUFBRyxDQUFBLEdBQUFQLENBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBYixDQUFBLEVBQUFjLENBQUEsVUFBQUcsQ0FBQSxLQUFBQSxDQUFBLENBQUFWLEdBQUEsSUFBQVUsQ0FBQSxDQUFBQyxHQUFBLElBQUFQLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSixDQUFBLEVBQUFNLENBQUEsRUFBQUcsQ0FBQSxJQUFBVCxDQUFBLENBQUFNLENBQUEsSUFBQWQsQ0FBQSxDQUFBYyxDQUFBLFlBQUFOLENBQUEsQ0FBQUgsT0FBQSxHQUFBTCxDQUFBLEVBQUFHLENBQUEsSUFBQUEsQ0FBQSxDQUFBZSxHQUFBLENBQUFsQixDQUFBLEVBQUFRLENBQUEsR0FBQUEsQ0FBQTtBQUV6QyxNQUFNVyxZQUFZLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUM5QkMsS0FBSyxFQUFDO0lBQUNDLElBQUksRUFBQ0MsTUFBTTtJQUFFQyxTQUFTLEVBQUMsR0FBRztJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2hEQyxJQUFJLEVBQUM7SUFBQ0osSUFBSSxFQUFDQyxNQUFNO0lBQUVDLFNBQVMsRUFBQyxHQUFHO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDL0NFLE1BQU0sRUFBQztJQUFDTCxJQUFJLEVBQUNDLE1BQU07SUFBQ0MsU0FBUyxFQUFDLEdBQUc7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNoREcsS0FBSyxFQUFDO0lBQUNOLElBQUksRUFBRU8sTUFBTTtJQUFDTCxTQUFTLEVBQUMsQ0FBQztJQUFDbkIsT0FBTyxFQUFDO0VBQUMsQ0FBQyxDQUFDO0FBQzdDLENBQUMsRUFBQztFQUNBeUIsVUFBVSxFQUFDO0FBQ2IsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsTUFBTSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsUUFBUSxFQUFDZCxZQUFZLENBQUM7QUFBQyxJQUFBZSxRQUFBLEdBQUFDLE9BQUEsQ0FBQTlCLE9BQUEsR0FDdEMwQixNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SliderSchema","Schema","title","type","String","maxlength","required","link","imagen","state","Number","timestamps","Slider","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Slider.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst SliderSchema = new Schema({\n  title:{type:String, maxlength:250,required:true},\n  link:{type:String, maxlength:250,required:true},\n  imagen:{type:String,maxlength:250,required:true},\n  state:{type: Number,maxlength:2,default:1},// 1 es activo y 2 es desactivo\n},{\n  timestamps:true\n});\n\nconst Slider = mongoose.model(\"slider\",SliderSchema);\nexport default Slider;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC9BC,KAAK,EAAC;IAACC,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChDC,IAAI,EAAC;IAACJ,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC/CE,MAAM,EAAC;IAACL,IAAI,EAACC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChDG,KAAK,EAAC;IAACN,IAAI,EAAEO,MAAM;IAACL,SAAS,EAAC,CAAC;IAACnB,OAAO,EAAC;EAAC,CAAC,CAAC;AAC7C,CAAC,EAAC;EACAyB,UAAU,EAAC;AACb,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,QAAQ,EAACd,YAAY,CAAC;AAAC,IAAAe,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GACtC0B,MAAM","ignoreList":[]}},"mtime":1737837447614},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/Cupone.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CuponeSchema = new _mongoose.Schema({\n  code: {\n    type: String,\n    maxlength: 50,\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  //por porcentaje 1  o por moneda 2\n  discount: {\n    type: Number,\n    required: true\n  },\n  //por moneda o por porcentaje\n  type_count: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  //ilimitado 1 o limitado 2\n  num_use: {\n    type: Number,\n    required: false\n  },\n  type_segment: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es cupon por producto y 2 seria por categoria\n  state: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1:activo\n  products: [{\n    type: Object\n  }],\n  //[{_id: asdasdas },{_id: dsdsds}]\n  categories: [{\n    type: Object\n  }],\n  creator: {\n    type: String,\n    require: false\n  }\n}, {\n  timestamps: true\n});\nconst Cupone = _mongoose.default.model(\"cupones\", CuponeSchema);\nvar _default = exports.default = Cupone;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDdXBvbmVTY2hlbWEiLCJTY2hlbWEiLCJjb2RlIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInJlcXVpcmVkIiwidHlwZV9kaXNjb3VudCIsIk51bWJlciIsImRpc2NvdW50IiwidHlwZV9jb3VudCIsIm51bV91c2UiLCJ0eXBlX3NlZ21lbnQiLCJzdGF0ZSIsInByb2R1Y3RzIiwiY2F0ZWdvcmllcyIsImNyZWF0b3IiLCJ0aW1lc3RhbXBzIiwiQ3Vwb25lIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJDdXBvbmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBDdXBvbmVTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICBjb2RlOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6NTAscmVxdWlyZWQ6dHJ1ZX0sXG4gICAgdHlwZV9kaXNjb3VudDp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZSxkZWZhdWx0OiAxfSwvL3BvciBwb3JjZW50YWplIDEgIG8gcG9yIG1vbmVkYSAyXG4gICAgZGlzY291bnQ6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LC8vcG9yIG1vbmVkYSBvIHBvciBwb3JjZW50YWplXG4gICAgdHlwZV9jb3VudDp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZSxkZWZhdWx0OjF9LC8vaWxpbWl0YWRvIDEgbyBsaW1pdGFkbyAyXG4gICAgbnVtX3VzZTp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6ZmFsc2V9LFxuICAgIHR5cGVfc2VnbWVudDoge3R5cGU6TnVtYmVyLHJlcXVpcmVkOmZhbHNlLGRlZmF1bHQ6MX0sLy8xIGVzIGN1cG9uIHBvciBwcm9kdWN0byB5IDIgc2VyaWEgcG9yIGNhdGVnb3JpYVxuICAgIHN0YXRlOnt0eXBlOk51bWJlcixyZXF1aXJlZDpmYWxzZSxkZWZhdWx0OiAxfSwvLzE6YWN0aXZvXG4gICAgcHJvZHVjdHM6W3t0eXBlOk9iamVjdH1dLC8vW3tfaWQ6IGFzZGFzZGFzIH0se19pZDogZHNkc2RzfV1cbiAgICBjYXRlZ29yaWVzOlt7dHlwZTpPYmplY3R9XSxcbiAgICBjcmVhdG9yOiB7dHlwZTogU3RyaW5nLCByZXF1aXJlOmZhbHNlfVxufSx7XG4gICAgdGltZXN0YW1wczp0cnVlXG59KVxuXG5jb25zdCBDdXBvbmUgPSBtb25nb29zZS5tb2RlbChcImN1cG9uZXNcIixDdXBvbmVTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgQ3Vwb25lOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CuponeSchema","Schema","code","type","String","maxlength","required","type_discount","Number","discount","type_count","num_use","type_segment","state","products","categories","creator","timestamps","Cupone","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Cupone.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst CuponeSchema = new Schema({\n    code:{type:String,maxlength:50,required:true},\n    type_discount:{type:Number,required:true,default: 1},//por porcentaje 1  o por moneda 2\n    discount:{type:Number,required:true},//por moneda o por porcentaje\n    type_count:{type:Number,required:true,default:1},//ilimitado 1 o limitado 2\n    num_use:{type:Number,required:false},\n    type_segment: {type:Number,required:false,default:1},//1 es cupon por producto y 2 seria por categoria\n    state:{type:Number,required:false,default: 1},//1:activo\n    products:[{type:Object}],//[{_id: asdasdas },{_id: dsdsds}]\n    categories:[{type:Object}],\n    creator: {type: String, require:false}\n},{\n    timestamps:true\n})\n\nconst Cupone = mongoose.model(\"cupones\",CuponeSchema);\nexport default Cupone;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,IAAI,EAAC;IAACC,IAAI,EAACC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC7CC,aAAa,EAAC;IAACJ,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,IAAI;IAACpB,OAAO,EAAE;EAAC,CAAC;EAAC;EACrDuB,QAAQ,EAAC;IAACN,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAI,CAAC;EAAC;EACrCI,UAAU,EAAC;IAACP,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,IAAI;IAACpB,OAAO,EAAC;EAAC,CAAC;EAAC;EACjDyB,OAAO,EAAC;IAACR,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAK,CAAC;EACpCM,YAAY,EAAE;IAACT,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,KAAK;IAACpB,OAAO,EAAC;EAAC,CAAC;EAAC;EACrD2B,KAAK,EAAC;IAACV,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,KAAK;IAACpB,OAAO,EAAE;EAAC,CAAC;EAAC;EAC9C4B,QAAQ,EAAC,CAAC;IAACX,IAAI,EAACX;EAAM,CAAC,CAAC;EAAC;EACzBuB,UAAU,EAAC,CAAC;IAACZ,IAAI,EAACX;EAAM,CAAC,CAAC;EAC1BwB,OAAO,EAAE;IAACb,IAAI,EAAEC,MAAM;IAAEzB,OAAO,EAAC;EAAK;AACzC,CAAC,EAAC;EACEsC,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,SAAS,EAACpB,YAAY,CAAC;AAAC,IAAAqB,QAAA,GAAAC,OAAA,CAAApC,OAAA,GACvCgC,MAAM","ignoreList":[]}},"mtime":1750120113116},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/Discount.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst DiscountSchema = new _mongoose.Schema({\n  type_campaign: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1: Campaña de descuento | 2: Venta Flash\n  type_discount: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1: porcentaje || 2: moneda\n  discount: {\n    type: Number,\n    required: true\n  },\n  start_date: {\n    type: Date,\n    required: true\n  },\n  end_date: {\n    type: Date,\n    required: true\n  },\n  start_date_num: {\n    type: Number,\n    required: true\n  },\n  end_date_num: {\n    type: Number,\n    required: true\n  },\n  state: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1: Activo || 2: Desactivo\n  type_segment: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1: Por Productos || 2:Por Categorias\n  products: [{\n    type: Object,\n    required: false\n  }],\n  categories: [{\n    type: Object,\n    required: false\n  }],\n  creator: {\n    type: String,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst Discount = _mongoose.default.model(\"discounts\", DiscountSchema);\nvar _default = exports.default = Discount;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJEaXNjb3VudFNjaGVtYSIsIlNjaGVtYSIsInR5cGVfY2FtcGFpZ24iLCJ0eXBlIiwiTnVtYmVyIiwicmVxdWlyZWQiLCJ0eXBlX2Rpc2NvdW50IiwiZGlzY291bnQiLCJzdGFydF9kYXRlIiwiRGF0ZSIsImVuZF9kYXRlIiwic3RhcnRfZGF0ZV9udW0iLCJlbmRfZGF0ZV9udW0iLCJzdGF0ZSIsInR5cGVfc2VnbWVudCIsInByb2R1Y3RzIiwiY2F0ZWdvcmllcyIsImNyZWF0b3IiLCJTdHJpbmciLCJ0aW1lc3RhbXBzIiwiRGlzY291bnQiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIkRpc2NvdW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwge1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IERpc2NvdW50U2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIHR5cGVfY2FtcGFpZ246eyB0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZSwgZGVmYXVsdDogMSB9LCAvLyAxOiBDYW1wYcOxYSBkZSBkZXNjdWVudG8gfCAyOiBWZW50YSBGbGFzaFxuICB0eXBlX2Rpc2NvdW50OnsgdHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWUsIGRlZmF1bHQ6IDEgfSwgLy8gMTogcG9yY2VudGFqZSB8fCAyOiBtb25lZGFcbiAgZGlzY291bnQ6IHsgdHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWUgfSxcbiAgc3RhcnRfZGF0ZTogeyB0eXBlOkRhdGUsIHJlcXVpcmVkOnRydWUgfSxcbiAgZW5kX2RhdGU6IHsgdHlwZTpEYXRlLCByZXF1aXJlZDp0cnVlIH0sXG4gIHN0YXJ0X2RhdGVfbnVtOiB7IHR5cGU6TnVtYmVyLCByZXF1aXJlZDp0cnVlIH0sXG4gIGVuZF9kYXRlX251bTogeyB0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZSB9LFxuICBzdGF0ZTogeyB0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZSwgZGVmYXVsdDoxIH0sIC8vIDE6IEFjdGl2byB8fCAyOiBEZXNhY3Rpdm9cbiAgdHlwZV9zZWdtZW50OiB7IHR5cGU6TnVtYmVyLCByZXF1aXJlZDp0cnVlLCBkZWZhdWx0OjEgfSwgLy8gMTogUG9yIFByb2R1Y3RvcyB8fCAyOlBvciBDYXRlZ29yaWFzXG4gIHByb2R1Y3RzOiBbe3R5cGU6IE9iamVjdCwgcmVxdWlyZWQ6IGZhbHNlIH1dLFxuICBjYXRlZ29yaWVzOiBbe3R5cGU6IE9iamVjdCwgcmVxdWlyZWQ6IGZhbHNlIH1dLFxuICBjcmVhdG9yOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IGZhbHNlICB9XG59LHtcbiAgdGltZXN0YW1wczogdHJ1ZSxcbn0pO1xuXG5jb25zdCBEaXNjb3VudCA9IG1vbmdvb3NlLm1vZGVsKFwiZGlzY291bnRzXCIsIERpc2NvdW50U2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IERpc2NvdW50OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQTBDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","DiscountSchema","Schema","type_campaign","type","Number","required","type_discount","discount","start_date","Date","end_date","start_date_num","end_date_num","state","type_segment","products","categories","creator","String","timestamps","Discount","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Discount.js"],"sourcesContent":["import mongoose, {Schema} from \"mongoose\";\n\nconst DiscountSchema = new Schema({\n  type_campaign:{ type:Number, required:true, default: 1 }, // 1: Campaña de descuento | 2: Venta Flash\n  type_discount:{ type:Number, required:true, default: 1 }, // 1: porcentaje || 2: moneda\n  discount: { type:Number, required:true },\n  start_date: { type:Date, required:true },\n  end_date: { type:Date, required:true },\n  start_date_num: { type:Number, required:true },\n  end_date_num: { type:Number, required:true },\n  state: { type:Number, required:true, default:1 }, // 1: Activo || 2: Desactivo\n  type_segment: { type:Number, required:true, default:1 }, // 1: Por Productos || 2:Por Categorias\n  products: [{type: Object, required: false }],\n  categories: [{type: Object, required: false }],\n  creator: { type: String, required: false  }\n},{\n  timestamps: true,\n});\n\nconst Discount = mongoose.model(\"discounts\", DiscountSchema);\nexport default Discount;"],"mappings":"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","ignoreList":[]}},"mtime":1750128282723},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/services/token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  encode: async (_id, rol, email) => {\n    const token = _jsonwebtoken.default.sign({\n      _id: _id,\n      rol: rol,\n      email: email\n    }, 'adcee', {\n      expiresIn: '1d'\n    });\n    return token;\n  },\n  decode: async token => {\n    try {\n      const {\n        _id\n      } = await _jsonwebtoken.default.verify(token, 'adcee');\n      const user = await _models.default.User.findOne({\n        _id: _id,\n        state: 1\n      });\n      if (user) {\n        return user;\n      }\n      return false;\n    } catch (error) {\n      console.log(error);\n      return false;\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfbW9kZWxzIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiZW5jb2RlIiwiX2lkIiwicm9sIiwiZW1haWwiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJleHBpcmVzSW4iLCJkZWNvZGUiLCJ2ZXJpZnkiLCJ1c2VyIiwibW9kZWxzIiwiVXNlciIsImZpbmRPbmUiLCJzdGF0ZSIsImVycm9yIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9zZXJ2aWNlcy8iLCJzb3VyY2VzIjpbInRva2VuLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiXG5pbXBvcnQgbW9kZWxzICBmcm9tIFwiLi4vbW9kZWxzXCI7XG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBlbmNvZGU6IGFzeW5jKF9pZCxyb2wsZW1haWwpID0+e1xuICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oe19pZDpfaWQscm9sOiByb2wsZW1haWw6IGVtYWlsfSwgJ2FkY2VlJywge2V4cGlyZXNJbjogJzFkJ30pO1xuICAgIHJldHVybiB0b2tlbjtcbiAgICBcblxuICB9LFxuICBkZWNvZGU6IGFzeW5jKHRva2VuKSA9PntcbiAgICB0cnkge1xuICAgICAgY29uc3Qge19pZH09IGF3YWl0IGp3dC52ZXJpZnkodG9rZW4sICdhZGNlZScpO1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe19pZDogX2lkLHN0YXRlOiAxfSk7XG4gICAgICBcbiAgICAgIGlmKHVzZXIpe1xuICAgICAgICByZXR1cm4gdXNlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLGFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUFnQyxTQUFBRCx1QkFBQUcsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBR2pCO0VBQ2JHLE1BQU0sRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsRUFBQ0MsS0FBSyxLQUFJO0lBQzdCLE1BQU1DLEtBQUssR0FBR0MscUJBQUcsQ0FBQ0MsSUFBSSxDQUFDO01BQUNMLEdBQUcsRUFBQ0EsR0FBRztNQUFDQyxHQUFHLEVBQUVBLEdBQUc7TUFBQ0MsS0FBSyxFQUFFQTtJQUFLLENBQUMsRUFBRSxPQUFPLEVBQUU7TUFBQ0ksU0FBUyxFQUFFO0lBQUksQ0FBQyxDQUFDO0lBQ25GLE9BQU9ILEtBQUs7RUFHZCxDQUFDO0VBQ0RJLE1BQU0sRUFBRSxNQUFNSixLQUFLLElBQUk7SUFDckIsSUFBSTtNQUNGLE1BQU07UUFBQ0g7TUFBRyxDQUFDLEdBQUUsTUFBTUkscUJBQUcsQ0FBQ0ksTUFBTSxDQUFDTCxLQUFLLEVBQUUsT0FBTyxDQUFDO01BQzdDLE1BQU1NLElBQUksR0FBRyxNQUFNQyxlQUFNLENBQUNDLElBQUksQ0FBQ0MsT0FBTyxDQUFDO1FBQUNaLEdBQUcsRUFBRUEsR0FBRztRQUFDYSxLQUFLLEVBQUU7TUFBQyxDQUFDLENBQUM7TUFFM0QsSUFBR0osSUFBSSxFQUFDO1FBQ04sT0FBT0EsSUFBSTtNQUNiO01BQ0EsT0FBTyxLQUFLO0lBQ2QsQ0FBQyxDQUFDLE9BQU9LLEtBQUssRUFBRTtNQUNaQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsS0FBSyxDQUFDO01BQ2xCLE9BQU8sS0FBSztJQUNoQjtFQUNGO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_models","e","__esModule","default","_default","exports","encode","_id","rol","email","token","jwt","sign","expiresIn","decode","verify","user","models","User","findOne","state","error","console","log"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/services/","sources":["token.js"],"sourcesContent":["import jwt from \"jsonwebtoken\"\nimport models  from \"../models\";\n\n\nexport default {\n  encode: async(_id,rol,email) =>{\n    const token = jwt.sign({_id:_id,rol: rol,email: email}, 'adcee', {expiresIn: '1d'});\n    return token;\n    \n\n  },\n  decode: async(token) =>{\n    try {\n      const {_id}= await jwt.verify(token, 'adcee');\n      const user = await models.User.findOne({_id: _id,state: 1});\n      \n      if(user){\n        return user;\n      }\n      return false;\n    } catch (error) {\n        console.log(error);\n        return false;\n    }\n  }\n}"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAGjB;EACbG,MAAM,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,EAACC,KAAK,KAAI;IAC7B,MAAMC,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAAC;MAACL,GAAG,EAACA,GAAG;MAACC,GAAG,EAAEA,GAAG;MAACC,KAAK,EAAEA;IAAK,CAAC,EAAE,OAAO,EAAE;MAACI,SAAS,EAAE;IAAI,CAAC,CAAC;IACnF,OAAOH,KAAK;EAGd,CAAC;EACDI,MAAM,EAAE,MAAMJ,KAAK,IAAI;IACrB,IAAI;MACF,MAAM;QAACH;MAAG,CAAC,GAAE,MAAMI,qBAAG,CAACI,MAAM,CAACL,KAAK,EAAE,OAAO,CAAC;MAC7C,MAAMM,IAAI,GAAG,MAAMC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACZ,GAAG,EAAEA,GAAG;QAACa,KAAK,EAAE;MAAC,CAAC,CAAC;MAE3D,IAAGJ,IAAI,EAAC;QACN,OAAOA,IAAI;MACb;MACA,OAAO,KAAK;IACd,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClB,OAAO,KAAK;IAChB;EACF;AACF,CAAC","ignoreList":[]}},"mtime":1750376357261},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default,\n  Slider: _Slider.default,\n  Cart: _Cart.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQ2F0ZWdvcmllIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfVXNlciIsIl9Qcm9kdWN0IiwiX1NsaWRlciIsIl9DYXJ0IiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiVXNlciIsIkNhdGVnb3JpZSIsIlByb2R1Y3QiLCJTbGlkZXIiLCJDYXJ0Il0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3Jlc291cnNlcy8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDYXRlZ29yaWUgZnJvbSAnLi9DYXRlZ29yaWUnXG5pbXBvcnQgVXNlciBmcm9tICcuL1VzZXInXG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuL1Byb2R1Y3QnXG5pbXBvcnQgU2xpZGVyIGZyb20gJy4vU2xpZGVyJ1xuaW1wb3J0IENhcnQgZnJvbSAnLi9DYXJ0J1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIFVzZXIsXG4gIENhdGVnb3JpZSxcbiAgUHJvZHVjdCxcbiAgU2xpZGVyLFxuICBDYXJ0LFxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsVUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsUUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsT0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksS0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQXlCLFNBQUFELHVCQUFBTSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFVjtFQUNiRyxJQUFJLEVBQUpBLGFBQUk7RUFDSkMsU0FBUyxFQUFUQSxrQkFBUztFQUNUQyxPQUFPLEVBQVBBLGdCQUFPO0VBQ1BDLE1BQU0sRUFBTkEsZUFBTTtFQUNOQyxJQUFJLEVBQUpBO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_Categorie","_interopRequireDefault","require","_User","_Product","_Slider","_Cart","e","__esModule","default","_default","exports","User","Categorie","Product","Slider","Cart"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["index.js"],"sourcesContent":["import Categorie from './Categorie'\nimport User from './User'\nimport Product from './Product'\nimport Slider from './Slider'\nimport Cart from './Cart'\n\nexport default {\n  User,\n  Categorie,\n  Product,\n  Slider,\n  Cart,\n}"],"mappings":";;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,OAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,KAAA,GAAAL,sBAAA,CAAAC,OAAA;AAAyB,SAAAD,uBAAAM,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEV;EACbG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,MAAM,EAANA,eAAM;EACNC,IAAI,EAAJA;AACF,CAAC","ignoreList":[]}},"mtime":1739206333849},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  categorie_list: categorie => {\n    return {\n      _id: categorie._id,\n      title: categorie.title,\n      imagen: categorie.imagen,\n      imagen_home: process.env.URL_BACKEND + \"/api/categories/uploads/categorie/\" + categorie.imagen,\n      state: categorie.state\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXRlZ29yaWVfbGlzdCIsImNhdGVnb3JpZSIsIl9pZCIsInRpdGxlIiwiaW1hZ2VuIiwiaW1hZ2VuX2hvbWUiLCJwcm9jZXNzIiwiZW52IiwiVVJMX0JBQ0tFTkQiLCJzdGF0ZSJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yZXNvdXJzZXMvIiwic291cmNlcyI6WyJDYXRlZ29yaWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHR7XG4gIGNhdGVnb3JpZV9saXN0OiAoY2F0ZWdvcmllKSA9PiB7XG4gICAgcmV0dXJue1xuICAgICAgX2lkOiBjYXRlZ29yaWUuX2lkLFxuICAgICAgdGl0bGU6IGNhdGVnb3JpZS50aXRsZSxcbiAgICAgIGltYWdlbjogY2F0ZWdvcmllLmltYWdlbixcbiAgICAgIGltYWdlbl9ob21lOiBwcm9jZXNzLmVudi5VUkxfQkFDS0VORCtcIi9hcGkvY2F0ZWdvcmllcy91cGxvYWRzL2NhdGVnb3JpZS9cIitjYXRlZ29yaWUuaW1hZ2VuLFxuICAgICAgc3RhdGU6IGNhdGVnb3JpZS5zdGF0ZSxcbiAgICB9XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztpQ0FBYztFQUNaQSxjQUFjLEVBQUdDLFNBQVMsSUFBSztJQUM3QixPQUFNO01BQ0pDLEdBQUcsRUFBRUQsU0FBUyxDQUFDQyxHQUFHO01BQ2xCQyxLQUFLLEVBQUVGLFNBQVMsQ0FBQ0UsS0FBSztNQUN0QkMsTUFBTSxFQUFFSCxTQUFTLENBQUNHLE1BQU07TUFDeEJDLFdBQVcsRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFdBQVcsR0FBQyxvQ0FBb0MsR0FBQ1AsU0FBUyxDQUFDRyxNQUFNO01BQzFGSyxLQUFLLEVBQUVSLFNBQVMsQ0FBQ1E7SUFDbkIsQ0FBQztFQUNIO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["categorie_list","categorie","_id","title","imagen","imagen_home","process","env","URL_BACKEND","state"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["Categorie.js"],"sourcesContent":["export default{\n  categorie_list: (categorie) => {\n    return{\n      _id: categorie._id,\n      title: categorie.title,\n      imagen: categorie.imagen,\n      imagen_home: process.env.URL_BACKEND+\"/api/categories/uploads/categorie/\"+categorie.imagen,\n      state: categorie.state,\n    }\n  }\n}"],"mappings":";;;;;;iCAAc;EACZA,cAAc,EAAGC,SAAS,IAAK;IAC7B,OAAM;MACJC,GAAG,EAAED,SAAS,CAACC,GAAG;MAClBC,KAAK,EAAEF,SAAS,CAACE,KAAK;MACtBC,MAAM,EAAEH,SAAS,CAACG,MAAM;MACxBC,WAAW,EAAEC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,oCAAoC,GAACP,SAAS,CAACG,MAAM;MAC1FK,KAAK,EAAER,SAAS,CAACQ;IACnB,CAAC;EACH;AACF,CAAC","ignoreList":[]}},"mtime":1741488417710},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  user_list: user => {\n    return {\n      _id: user._id,\n      name: user.name,\n      surname: user.surname,\n      rol: user.rol,\n      email: user.email,\n      sellerUserId: user.sellerUserId,\n      company: user.company\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyX2xpc3QiLCJ1c2VyIiwiX2lkIiwibmFtZSIsInN1cm5hbWUiLCJyb2wiLCJlbWFpbCIsInNlbGxlclVzZXJJZCIsImNvbXBhbnkiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvcmVzb3Vyc2VzLyIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdHtcbiAgdXNlcl9saXN0OiAodXNlcikgPT4ge1xuICAgIHJldHVybntcbiAgICAgIF9pZDogdXNlci5faWQsXG4gICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXG4gICAgICByb2w6IHVzZXIucm9sLFxuICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICBzZWxsZXJVc2VySWQ6IHVzZXIuc2VsbGVyVXNlcklkLFxuICAgICAgY29tcGFueTogdXNlci5jb21wYW55XG4gICAgICBcblxuICAgIH1cbiAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFjO0VBQ1pBLFNBQVMsRUFBR0MsSUFBSSxJQUFLO0lBQ25CLE9BQU07TUFDSkMsR0FBRyxFQUFFRCxJQUFJLENBQUNDLEdBQUc7TUFDYkMsSUFBSSxFQUFFRixJQUFJLENBQUNFLElBQUk7TUFDZkMsT0FBTyxFQUFFSCxJQUFJLENBQUNHLE9BQU87TUFDckJDLEdBQUcsRUFBRUosSUFBSSxDQUFDSSxHQUFHO01BQ2JDLEtBQUssRUFBRUwsSUFBSSxDQUFDSyxLQUFLO01BQ2pCQyxZQUFZLEVBQUVOLElBQUksQ0FBQ00sWUFBWTtNQUMvQkMsT0FBTyxFQUFFUCxJQUFJLENBQUNPO0lBR2hCLENBQUM7RUFDSDtBQUNGLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["user_list","user","_id","name","surname","rol","email","sellerUserId","company"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["User.js"],"sourcesContent":["export default{\n  user_list: (user) => {\n    return{\n      _id: user._id,\n      name: user.name,\n      surname: user.surname,\n      rol: user.rol,\n      email: user.email,\n      sellerUserId: user.sellerUserId,\n      company: user.company\n      \n\n    }\n  }\n}"],"mappings":";;;;;;iCAAc;EACZA,SAAS,EAAGC,IAAI,IAAK;IACnB,OAAM;MACJC,GAAG,EAAED,IAAI,CAACC,GAAG;MACbC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAEH,IAAI,CAACG,OAAO;MACrBC,GAAG,EAAEJ,IAAI,CAACI,GAAG;MACbC,KAAK,EAAEL,IAAI,CAACK,KAAK;MACjBC,YAAY,EAAEN,IAAI,CAACM,YAAY;MAC/BC,OAAO,EAAEP,IAAI,CAACO;IAGhB,CAAC;EACH;AACF,CAAC","ignoreList":[]}},"mtime":1750194008446},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  product_list: (product, variedades = [], avg_review = 0, count_review = 0, CampaignDiscount = null) => {\n    var IMAGEN_TWO = \"\";\n    let GALERIAS = [];\n    if (product.galerias && product.galerias.length > 0) {\n      //NUEVO POR AGREGAR\n\n      GALERIAS = product.galerias.map(galeria => {\n        galeria.imagen = process.env.URL_BACKEND + '/api/products/uploads/product/' + galeria.imagen;\n        return galeria;\n      });\n      var VAL = Math.floor(Math.random() * product.galerias.length); //0,1,2\n      IMAGEN_TWO = GALERIAS[VAL].imagen;\n    } //NUEVO POR AGREGAR\n\n    return {\n      _id: product._id,\n      title: product.title,\n      imagen: process.env.URL_BACKEND + \"/api/products/uploads/product/\" + product.portada,\n      state: product.state,\n      slug: product.slug,\n      sku: product.sku,\n      categorie: product.categorie,\n      price_bs: product.price_bs,\n      price_usd: product.price_usd,\n      stock: product.stock,\n      description: product.description,\n      resumen: product.resumen,\n      tags: product.tags ? JSON.parse(product.tags) : [],\n      type_inventario: product.type_inventario,\n      condition: product.condition,\n      variedades: variedades,\n      imagen_two: IMAGEN_TWO,\n      galerias: GALERIAS,\n      avg_review: avg_review,\n      count_review: count_review,\n      campaign_discount: CampaignDiscount,\n      seller_id: product.seller_id\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0X2xpc3QiLCJwcm9kdWN0IiwidmFyaWVkYWRlcyIsImF2Z19yZXZpZXciLCJjb3VudF9yZXZpZXciLCJDYW1wYWlnbkRpc2NvdW50IiwiSU1BR0VOX1RXTyIsIkdBTEVSSUFTIiwiZ2FsZXJpYXMiLCJsZW5ndGgiLCJtYXAiLCJnYWxlcmlhIiwiaW1hZ2VuIiwicHJvY2VzcyIsImVudiIsIlVSTF9CQUNLRU5EIiwiVkFMIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiX2lkIiwidGl0bGUiLCJwb3J0YWRhIiwic3RhdGUiLCJzbHVnIiwic2t1IiwiY2F0ZWdvcmllIiwicHJpY2VfYnMiLCJwcmljZV91c2QiLCJzdG9jayIsImRlc2NyaXB0aW9uIiwicmVzdW1lbiIsInRhZ3MiLCJKU09OIiwicGFyc2UiLCJ0eXBlX2ludmVudGFyaW8iLCJjb25kaXRpb24iLCJpbWFnZW5fdHdvIiwiY2FtcGFpZ25fZGlzY291bnQiLCJzZWxsZXJfaWQiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvcmVzb3Vyc2VzLyIsInNvdXJjZXMiOlsiUHJvZHVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdHtcbiAgcHJvZHVjdF9saXN0OiAocHJvZHVjdCwgdmFyaWVkYWRlcyA9IFtdLCBhdmdfcmV2aWV3ID0gMCwgY291bnRfcmV2aWV3ID0gMCwgQ2FtcGFpZ25EaXNjb3VudCA9IG51bGwpID0+IHtcbiAgICB2YXIgSU1BR0VOX1RXTyA9IFwiXCI7XG4gICAgbGV0IEdBTEVSSUFTID0gW107XG4gICAgICBpZihwcm9kdWN0LmdhbGVyaWFzICYmIHByb2R1Y3QuZ2FsZXJpYXMubGVuZ3RoID4gMCl7Ly9OVUVWTyBQT1IgQUdSRUdBUlxuXG4gICAgICAgIEdBTEVSSUFTID0gcHJvZHVjdC5nYWxlcmlhcy5tYXAoKGdhbGVyaWEpID0+IHtcbiAgICAgICAgICBnYWxlcmlhLmltYWdlbiA9IHByb2Nlc3MuZW52LlVSTF9CQUNLRU5EKycvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC8nK2dhbGVyaWEuaW1hZ2VuO1xuICAgICAgICAgICAgICAgICByZXR1cm4gZ2FsZXJpYTtcbiAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICB2YXIgVkFMID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcHJvZHVjdC5nYWxlcmlhcy5sZW5ndGgpOy8vMCwxLDJcbiAgICAgICAgICAgICBJTUFHRU5fVFdPID0gR0FMRVJJQVNbVkFMXS5pbWFnZW47XG4gICAgICAgfS8vTlVFVk8gUE9SIEFHUkVHQVJcblxuICAgIHJldHVybntcbiAgICAgIF9pZDogcHJvZHVjdC5faWQsXG4gICAgICB0aXRsZTogcHJvZHVjdC50aXRsZSxcbiAgICAgIGltYWdlbjpwcm9jZXNzLmVudi5VUkxfQkFDS0VORCtcIi9hcGkvcHJvZHVjdHMvdXBsb2Fkcy9wcm9kdWN0L1wiK3Byb2R1Y3QucG9ydGFkYSwgXG4gICAgICBzdGF0ZTogcHJvZHVjdC5zdGF0ZSxcbiAgICAgIHNsdWc6IHByb2R1Y3Quc2x1ZyxcbiAgICAgIHNrdTogcHJvZHVjdC5za3UsXG4gICAgICBjYXRlZ29yaWU6cHJvZHVjdC5jYXRlZ29yaWUsXG4gICAgICBwcmljZV9iczpwcm9kdWN0LnByaWNlX2JzLFxuICAgICAgcHJpY2VfdXNkOnByb2R1Y3QucHJpY2VfdXNkLFxuICAgICAgc3RvY2s6cHJvZHVjdC5zdG9jayxcbiAgICAgIGRlc2NyaXB0aW9uOiBwcm9kdWN0LmRlc2NyaXB0aW9uLFxuICAgICAgcmVzdW1lbjpwcm9kdWN0LnJlc3VtZW4sXG4gICAgICB0YWdzOnByb2R1Y3QudGFncz8gSlNPTi5wYXJzZShwcm9kdWN0LnRhZ3MpIDogW10sXG4gICAgICB0eXBlX2ludmVudGFyaW86cHJvZHVjdC50eXBlX2ludmVudGFyaW8sXG4gICAgICBjb25kaXRpb246cHJvZHVjdC5jb25kaXRpb24sXG4gICAgICB2YXJpZWRhZGVzOiB2YXJpZWRhZGVzLFxuICAgICAgaW1hZ2VuX3R3bzogSU1BR0VOX1RXTywgXG4gICAgICBnYWxlcmlhczogR0FMRVJJQVMsXG4gICAgICBhdmdfcmV2aWV3OiBhdmdfcmV2aWV3LFxuICAgICAgY291bnRfcmV2aWV3OiBjb3VudF9yZXZpZXcsXG4gICAgICBjYW1wYWlnbl9kaXNjb3VudDogQ2FtcGFpZ25EaXNjb3VudCxcbiAgICAgIHNlbGxlcl9pZDogcHJvZHVjdC5zZWxsZXJfaWQsXG4gICAgfVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztpQ0FBYztFQUNaQSxZQUFZLEVBQUVBLENBQUNDLE9BQU8sRUFBRUMsVUFBVSxHQUFHLEVBQUUsRUFBRUMsVUFBVSxHQUFHLENBQUMsRUFBRUMsWUFBWSxHQUFHLENBQUMsRUFBRUMsZ0JBQWdCLEdBQUcsSUFBSSxLQUFLO0lBQ3JHLElBQUlDLFVBQVUsR0FBRyxFQUFFO0lBQ25CLElBQUlDLFFBQVEsR0FBRyxFQUFFO0lBQ2YsSUFBR04sT0FBTyxDQUFDTyxRQUFRLElBQUlQLE9BQU8sQ0FBQ08sUUFBUSxDQUFDQyxNQUFNLEdBQUcsQ0FBQyxFQUFDO01BQUM7O01BRWxERixRQUFRLEdBQUdOLE9BQU8sQ0FBQ08sUUFBUSxDQUFDRSxHQUFHLENBQUVDLE9BQU8sSUFBSztRQUMzQ0EsT0FBTyxDQUFDQyxNQUFNLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxXQUFXLEdBQUMsZ0NBQWdDLEdBQUNKLE9BQU8sQ0FBQ0MsTUFBTTtRQUNqRixPQUFPRCxPQUFPO01BQ2xCLENBQUMsQ0FBQztNQUNGLElBQUlLLEdBQUcsR0FBR0MsSUFBSSxDQUFDQyxLQUFLLENBQUNELElBQUksQ0FBQ0UsTUFBTSxDQUFDLENBQUMsR0FBR2xCLE9BQU8sQ0FBQ08sUUFBUSxDQUFDQyxNQUFNLENBQUMsQ0FBQztNQUM5REgsVUFBVSxHQUFHQyxRQUFRLENBQUNTLEdBQUcsQ0FBQyxDQUFDSixNQUFNO0lBQ3ZDLENBQUM7O0lBRUosT0FBTTtNQUNKUSxHQUFHLEVBQUVuQixPQUFPLENBQUNtQixHQUFHO01BQ2hCQyxLQUFLLEVBQUVwQixPQUFPLENBQUNvQixLQUFLO01BQ3BCVCxNQUFNLEVBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxXQUFXLEdBQUMsZ0NBQWdDLEdBQUNkLE9BQU8sQ0FBQ3FCLE9BQU87TUFDL0VDLEtBQUssRUFBRXRCLE9BQU8sQ0FBQ3NCLEtBQUs7TUFDcEJDLElBQUksRUFBRXZCLE9BQU8sQ0FBQ3VCLElBQUk7TUFDbEJDLEdBQUcsRUFBRXhCLE9BQU8sQ0FBQ3dCLEdBQUc7TUFDaEJDLFNBQVMsRUFBQ3pCLE9BQU8sQ0FBQ3lCLFNBQVM7TUFDM0JDLFFBQVEsRUFBQzFCLE9BQU8sQ0FBQzBCLFFBQVE7TUFDekJDLFNBQVMsRUFBQzNCLE9BQU8sQ0FBQzJCLFNBQVM7TUFDM0JDLEtBQUssRUFBQzVCLE9BQU8sQ0FBQzRCLEtBQUs7TUFDbkJDLFdBQVcsRUFBRTdCLE9BQU8sQ0FBQzZCLFdBQVc7TUFDaENDLE9BQU8sRUFBQzlCLE9BQU8sQ0FBQzhCLE9BQU87TUFDdkJDLElBQUksRUFBQy9CLE9BQU8sQ0FBQytCLElBQUksR0FBRUMsSUFBSSxDQUFDQyxLQUFLLENBQUNqQyxPQUFPLENBQUMrQixJQUFJLENBQUMsR0FBRyxFQUFFO01BQ2hERyxlQUFlLEVBQUNsQyxPQUFPLENBQUNrQyxlQUFlO01BQ3ZDQyxTQUFTLEVBQUNuQyxPQUFPLENBQUNtQyxTQUFTO01BQzNCbEMsVUFBVSxFQUFFQSxVQUFVO01BQ3RCbUMsVUFBVSxFQUFFL0IsVUFBVTtNQUN0QkUsUUFBUSxFQUFFRCxRQUFRO01BQ2xCSixVQUFVLEVBQUVBLFVBQVU7TUFDdEJDLFlBQVksRUFBRUEsWUFBWTtNQUMxQmtDLGlCQUFpQixFQUFFakMsZ0JBQWdCO01BQ25Da0MsU0FBUyxFQUFFdEMsT0FBTyxDQUFDc0M7SUFDckIsQ0FBQztFQUNIO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["product_list","product","variedades","avg_review","count_review","CampaignDiscount","IMAGEN_TWO","GALERIAS","galerias","length","map","galeria","imagen","process","env","URL_BACKEND","VAL","Math","floor","random","_id","title","portada","state","slug","sku","categorie","price_bs","price_usd","stock","description","resumen","tags","JSON","parse","type_inventario","condition","imagen_two","campaign_discount","seller_id"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["Product.js"],"sourcesContent":["export default{\n  product_list: (product, variedades = [], avg_review = 0, count_review = 0, CampaignDiscount = null) => {\n    var IMAGEN_TWO = \"\";\n    let GALERIAS = [];\n      if(product.galerias && product.galerias.length > 0){//NUEVO POR AGREGAR\n\n        GALERIAS = product.galerias.map((galeria) => {\n          galeria.imagen = process.env.URL_BACKEND+'/api/products/uploads/product/'+galeria.imagen;\n                 return galeria;\n             });\n             var VAL = Math.floor(Math.random() * product.galerias.length);//0,1,2\n             IMAGEN_TWO = GALERIAS[VAL].imagen;\n       }//NUEVO POR AGREGAR\n\n    return{\n      _id: product._id,\n      title: product.title,\n      imagen:process.env.URL_BACKEND+\"/api/products/uploads/product/\"+product.portada, \n      state: product.state,\n      slug: product.slug,\n      sku: product.sku,\n      categorie:product.categorie,\n      price_bs:product.price_bs,\n      price_usd:product.price_usd,\n      stock:product.stock,\n      description: product.description,\n      resumen:product.resumen,\n      tags:product.tags? JSON.parse(product.tags) : [],\n      type_inventario:product.type_inventario,\n      condition:product.condition,\n      variedades: variedades,\n      imagen_two: IMAGEN_TWO, \n      galerias: GALERIAS,\n      avg_review: avg_review,\n      count_review: count_review,\n      campaign_discount: CampaignDiscount,\n      seller_id: product.seller_id,\n    }\n  }\n}\n"],"mappings":";;;;;;iCAAc;EACZA,YAAY,EAAEA,CAACC,OAAO,EAAEC,UAAU,GAAG,EAAE,EAAEC,UAAU,GAAG,CAAC,EAAEC,YAAY,GAAG,CAAC,EAAEC,gBAAgB,GAAG,IAAI,KAAK;IACrG,IAAIC,UAAU,GAAG,EAAE;IACnB,IAAIC,QAAQ,GAAG,EAAE;IACf,IAAGN,OAAO,CAACO,QAAQ,IAAIP,OAAO,CAACO,QAAQ,CAACC,MAAM,GAAG,CAAC,EAAC;MAAC;;MAElDF,QAAQ,GAAGN,OAAO,CAACO,QAAQ,CAACE,GAAG,CAAEC,OAAO,IAAK;QAC3CA,OAAO,CAACC,MAAM,GAAGC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,gCAAgC,GAACJ,OAAO,CAACC,MAAM;QACjF,OAAOD,OAAO;MAClB,CAAC,CAAC;MACF,IAAIK,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGlB,OAAO,CAACO,QAAQ,CAACC,MAAM,CAAC,CAAC;MAC9DH,UAAU,GAAGC,QAAQ,CAACS,GAAG,CAAC,CAACJ,MAAM;IACvC,CAAC;;IAEJ,OAAM;MACJQ,GAAG,EAAEnB,OAAO,CAACmB,GAAG;MAChBC,KAAK,EAAEpB,OAAO,CAACoB,KAAK;MACpBT,MAAM,EAACC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,gCAAgC,GAACd,OAAO,CAACqB,OAAO;MAC/EC,KAAK,EAAEtB,OAAO,CAACsB,KAAK;MACpBC,IAAI,EAAEvB,OAAO,CAACuB,IAAI;MAClBC,GAAG,EAAExB,OAAO,CAACwB,GAAG;MAChBC,SAAS,EAACzB,OAAO,CAACyB,SAAS;MAC3BC,QAAQ,EAAC1B,OAAO,CAAC0B,QAAQ;MACzBC,SAAS,EAAC3B,OAAO,CAAC2B,SAAS;MAC3BC,KAAK,EAAC5B,OAAO,CAAC4B,KAAK;MACnBC,WAAW,EAAE7B,OAAO,CAAC6B,WAAW;MAChCC,OAAO,EAAC9B,OAAO,CAAC8B,OAAO;MACvBC,IAAI,EAAC/B,OAAO,CAAC+B,IAAI,GAAEC,IAAI,CAACC,KAAK,CAACjC,OAAO,CAAC+B,IAAI,CAAC,GAAG,EAAE;MAChDG,eAAe,EAAClC,OAAO,CAACkC,eAAe;MACvCC,SAAS,EAACnC,OAAO,CAACmC,SAAS;MAC3BlC,UAAU,EAAEA,UAAU;MACtBmC,UAAU,EAAE/B,UAAU;MACtBE,QAAQ,EAAED,QAAQ;MAClBJ,UAAU,EAAEA,UAAU;MACtBC,YAAY,EAAEA,YAAY;MAC1BkC,iBAAiB,EAAEjC,gBAAgB;MACnCkC,SAAS,EAAEtC,OAAO,CAACsC;IACrB,CAAC;EACH;AACF,CAAC","ignoreList":[]}},"mtime":1750023876359},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  slider_list: slider => {\n    return {\n      _id: slider._id,\n      title: slider.title,\n      link: slider.link,\n      imagen: slider.imagen,\n      imagen_home: process.env.URL_BACKEND + \"/api/sliders/uploads/slider/\" + slider.imagen,\n      state: slider.state\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzbGlkZXJfbGlzdCIsInNsaWRlciIsIl9pZCIsInRpdGxlIiwibGluayIsImltYWdlbiIsImltYWdlbl9ob21lIiwicHJvY2VzcyIsImVudiIsIlVSTF9CQUNLRU5EIiwic3RhdGUiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvcmVzb3Vyc2VzLyIsInNvdXJjZXMiOlsiU2xpZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0e1xuICBzbGlkZXJfbGlzdDogKHNsaWRlcikgPT4ge1xuICAgIHJldHVybntcbiAgICAgIF9pZDogc2xpZGVyLl9pZCxcbiAgICAgIHRpdGxlOiBzbGlkZXIudGl0bGUsXG4gICAgICBsaW5rOiBzbGlkZXIubGluayxcbiAgICAgIGltYWdlbjogc2xpZGVyLmltYWdlbixcbiAgICAgIGltYWdlbl9ob21lOiBwcm9jZXNzLmVudi5VUkxfQkFDS0VORCtcIi9hcGkvc2xpZGVycy91cGxvYWRzL3NsaWRlci9cIitzbGlkZXIuaW1hZ2VuLFxuICAgICAgc3RhdGU6IHNsaWRlci5zdGF0ZSxcbiAgICB9XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztpQ0FBYztFQUNaQSxXQUFXLEVBQUdDLE1BQU0sSUFBSztJQUN2QixPQUFNO01BQ0pDLEdBQUcsRUFBRUQsTUFBTSxDQUFDQyxHQUFHO01BQ2ZDLEtBQUssRUFBRUYsTUFBTSxDQUFDRSxLQUFLO01BQ25CQyxJQUFJLEVBQUVILE1BQU0sQ0FBQ0csSUFBSTtNQUNqQkMsTUFBTSxFQUFFSixNQUFNLENBQUNJLE1BQU07TUFDckJDLFdBQVcsRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFdBQVcsR0FBQyw4QkFBOEIsR0FBQ1IsTUFBTSxDQUFDSSxNQUFNO01BQ2pGSyxLQUFLLEVBQUVULE1BQU0sQ0FBQ1M7SUFDaEIsQ0FBQztFQUNIO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["slider_list","slider","_id","title","link","imagen","imagen_home","process","env","URL_BACKEND","state"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["Slider.js"],"sourcesContent":["export default{\n  slider_list: (slider) => {\n    return{\n      _id: slider._id,\n      title: slider.title,\n      link: slider.link,\n      imagen: slider.imagen,\n      imagen_home: process.env.URL_BACKEND+\"/api/sliders/uploads/slider/\"+slider.imagen,\n      state: slider.state,\n    }\n  }\n}"],"mappings":";;;;;;iCAAc;EACZA,WAAW,EAAGC,MAAM,IAAK;IACvB,OAAM;MACJC,GAAG,EAAED,MAAM,CAACC,GAAG;MACfC,KAAK,EAAEF,MAAM,CAACE,KAAK;MACnBC,IAAI,EAAEH,MAAM,CAACG,IAAI;MACjBC,MAAM,EAAEJ,MAAM,CAACI,MAAM;MACrBC,WAAW,EAAEC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,8BAA8B,GAACR,MAAM,CAACI,MAAM;MACjFK,KAAK,EAAET,MAAM,CAACS;IAChB,CAAC;EACH;AACF,CAAC","ignoreList":[]}},"mtime":1741488434433},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/middlewares/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/middlewares/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      return res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      console.log(\"RES\", response);\n      if (response.rol == \"cliente\" || response.rol == \"admin\") {\n        req.user = response; // <--- Adjunta el usuario decodificado\n        return next();\n      } else {\n        return res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    } else {\n      return res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  },\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      return res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"admin\" || response.rol == \"emprendedor\") {\n        req.user = response; // <--- Adjunta el usuario decodificado\n        return next();\n      } else {\n        return res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    } else {\n      return res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9qc29ud2VidG9rZW4iLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJ2ZXJpZnlFY29tbWVyY2UiLCJyZXEiLCJyZXMiLCJuZXh0IiwiaGVhZGVycyIsInRva2VuIiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJyZXNwb25zZSIsImRlY29kZSIsImNvbnNvbGUiLCJsb2ciLCJyb2wiLCJ1c2VyIiwidmVyaWZ5QWRtaW4iXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvbWlkZGxld2FyZXMvIiwic291cmNlcyI6WyJhdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0b2tlbiBmcm9tIFwiLi4vc2VydmljZXMvdG9rZW5cIlxuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuXG5cblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHZlcmlmeUVjb21tZXJjZTogYXN5bmMocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBpZighcmVxLmhlYWRlcnMudG9rZW4pe1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJOTyBTRSBFTlZJw5MgRUwgVE9LRU5cIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdG9rZW4uZGVjb2RlKHJlcS5oZWFkZXJzLnRva2VuKTtcbiAgICBpZihyZXNwb25zZSl7XG4gICAgICBjb25zb2xlLmxvZyhcIlJFU1wiLHJlc3BvbnNlKTtcblxuICAgICAgaWYocmVzcG9uc2Uucm9sID09IFwiY2xpZW50ZVwiIHx8IHJlc3BvbnNlLnJvbCA9PSBcImFkbWluXCIpe1xuICAgICAgICByZXEudXNlciA9IHJlc3BvbnNlOyAvLyA8LS0tIEFkanVudGEgZWwgdXN1YXJpbyBkZWNvZGlmaWNhZG9cbiAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICAgIH1cbiAgICAgIGVsc2V7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJOTyBFU1RBIFBFUk1JVElETyBWSVNJVEFSIEVTVEEgUlVUQVwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1lbHNle1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJFTCBUT0tFTiBOTyBFUyBWQUxJRE9cIlxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICB2ZXJpZnlBZG1pbjogYXN5bmMocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBpZighcmVxLmhlYWRlcnMudG9rZW4pe1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJOTyBTRSBFTlZJw5MgRUwgVE9LRU5cIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdG9rZW4uZGVjb2RlKHJlcS5oZWFkZXJzLnRva2VuKTtcbiAgICBpZihyZXNwb25zZSl7XG4gICAgICBpZihyZXNwb25zZS5yb2wgPT0gXCJhZG1pblwiIHx8IHJlc3BvbnNlLnJvbCA9PSBcImVtcHJlbmRlZG9yXCIpe1xuICAgICAgICByZXEudXNlciA9IHJlc3BvbnNlOyAvLyA8LS0tIEFkanVudGEgZWwgdXN1YXJpbyBkZWNvZGlmaWNhZG9cbiAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICAgIH1cbiAgICAgIGVsc2V7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJOTyBFU1RBIFBFUk1JVElETyBWSVNJVEFSIEVTVEEgUlVUQVwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1lbHNle1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJFTCBUT0tFTiBOTyBFUyBWQUxJRE9cIlxuICAgICAgfSk7XG4gICAgfVxuICB9LFxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxhQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBK0IsU0FBQUQsdUJBQUFHLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUtoQjtFQUNiRyxlQUFlLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSztJQUN4QyxJQUFHLENBQUNGLEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLEVBQUM7TUFDcEIsT0FBT0gsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUMxQkMsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ0o7SUFDQSxNQUFNQyxRQUFRLEdBQUcsTUFBTUosY0FBSyxDQUFDSyxNQUFNLENBQUNULEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLENBQUM7SUFDdEQsSUFBR0ksUUFBUSxFQUFDO01BQ1ZFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLEtBQUssRUFBQ0gsUUFBUSxDQUFDO01BRTNCLElBQUdBLFFBQVEsQ0FBQ0ksR0FBRyxJQUFJLFNBQVMsSUFBSUosUUFBUSxDQUFDSSxHQUFHLElBQUksT0FBTyxFQUFDO1FBQ3REWixHQUFHLENBQUNhLElBQUksR0FBR0wsUUFBUSxDQUFDLENBQUM7UUFDckIsT0FBT04sSUFBSSxDQUFDLENBQUM7TUFDZixDQUFDLE1BQ0c7UUFDRixPQUFPRCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQzFCQyxPQUFPLEVBQUU7UUFDWCxDQUFDLENBQUM7TUFDSjtJQUNGLENBQUMsTUFBSTtNQUNILE9BQU9OLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDMUJDLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUNKO0VBQ0YsQ0FBQztFQUNETyxXQUFXLEVBQUUsTUFBQUEsQ0FBTWQsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSztJQUNwQyxJQUFHLENBQUNGLEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLEVBQUM7TUFDcEIsT0FBT0gsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUMxQkMsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ0o7SUFDQSxNQUFNQyxRQUFRLEdBQUcsTUFBTUosY0FBSyxDQUFDSyxNQUFNLENBQUNULEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLENBQUM7SUFDdEQsSUFBR0ksUUFBUSxFQUFDO01BQ1YsSUFBR0EsUUFBUSxDQUFDSSxHQUFHLElBQUksT0FBTyxJQUFJSixRQUFRLENBQUNJLEdBQUcsSUFBSSxhQUFhLEVBQUM7UUFDMURaLEdBQUcsQ0FBQ2EsSUFBSSxHQUFHTCxRQUFRLENBQUMsQ0FBQztRQUNyQixPQUFPTixJQUFJLENBQUMsQ0FBQztNQUNmLENBQUMsTUFDRztRQUNGLE9BQU9ELEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDMUJDLE9BQU8sRUFBRTtRQUNYLENBQUMsQ0FBQztNQUNKO0lBQ0YsQ0FBQyxNQUFJO01BQ0gsT0FBT04sR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUMxQkMsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ0o7RUFDRjtBQUNGLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_token","_interopRequireDefault","require","_jsonwebtoken","e","__esModule","default","_default","exports","verifyEcommerce","req","res","next","headers","token","status","send","message","response","decode","console","log","rol","user","verifyAdmin"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/middlewares/","sources":["auth.js"],"sourcesContent":["import token from \"../services/token\"\nimport jwt from 'jsonwebtoken';\n\n\n\n\nexport default {\n  verifyEcommerce: async(req, res, next) => {\n    if(!req.headers.token){\n      return res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await token.decode(req.headers.token);\n    if(response){\n      console.log(\"RES\",response);\n\n      if(response.rol == \"cliente\" || response.rol == \"admin\"){\n        req.user = response; // <--- Adjunta el usuario decodificado\n        return next();\n      }\n      else{\n        return res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    }else{\n      return res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  },\n  verifyAdmin: async(req, res, next) => {\n    if(!req.headers.token){\n      return res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await token.decode(req.headers.token);\n    if(response){\n      if(response.rol == \"admin\" || response.rol == \"emprendedor\"){\n        req.user = response; // <--- Adjunta el usuario decodificado\n        return next();\n      }\n      else{\n        return res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    }else{\n      return res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  },\n}\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,aAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAKhB;EACbG,eAAe,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IACxC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MACpB,OAAOH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1BC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACVE,OAAO,CAACC,GAAG,CAAC,KAAK,EAACH,QAAQ,CAAC;MAE3B,IAAGA,QAAQ,CAACI,GAAG,IAAI,SAAS,IAAIJ,QAAQ,CAACI,GAAG,IAAI,OAAO,EAAC;QACtDZ,GAAG,CAACa,IAAI,GAAGL,QAAQ,CAAC,CAAC;QACrB,OAAON,IAAI,CAAC,CAAC;MACf,CAAC,MACG;QACF,OAAOD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAC1BC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;IACF,CAAC,MAAI;MACH,OAAON,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1BC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF,CAAC;EACDO,WAAW,EAAE,MAAAA,CAAMd,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IACpC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MACpB,OAAOH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1BC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACV,IAAGA,QAAQ,CAACI,GAAG,IAAI,OAAO,IAAIJ,QAAQ,CAACI,GAAG,IAAI,aAAa,EAAC;QAC1DZ,GAAG,CAACa,IAAI,GAAGL,QAAQ,CAAC,CAAC;QACrB,OAAON,IAAI,CAAC,CAAC;MACf,CAAC,MACG;QACF,OAAOD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAC1BC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;IACF,CAAC,MAAI;MACH,OAAON,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1BC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF;AACF,CAAC","ignoreList":[]}},"mtime":1750344001423},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CategorieController = _interopRequireDefault(require(\"../controllers/CategorieController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/categorie'\n});\nconst router = (0, _expressPromiseRouter.default)();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _CategorieController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _CategorieController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CategorieController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CategorieController.default.remove);\nrouter.get(\"/uploads/categorie/:img\", _CategorieController.default.obtener_imagen);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXRlZ29yaWVDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJwYXRoIiwibXVsdGlwYXJ0eSIsInVwbG9hZERpciIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwiY2F0ZWdvcmllQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSIsIm9idGVuZXJfaW1hZ2VuIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiXG5pbXBvcnQgY2F0ZWdvcmllQ29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvQ2F0ZWdvcmllQ29udHJvbGxlclwiXG5pbXBvcnQgYXV0aCBmcm9tIFwiLi4vbWlkZGxld2FyZXMvYXV0aFwiXG5pbXBvcnQgbXVsdGlwYXJ0eSBmcm9tICdjb25uZWN0LW11bHRpcGFydHknO1xuXG5cbnZhciBwYXRoID0gbXVsdGlwYXJ0eSh7dXBsb2FkRGlyOicuL3VwbG9hZHMvY2F0ZWdvcmllJ30pO1xuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG4vLyBwcm9jZXNzLmVudi5VUkxfQkFDS0VORC9hcGkvdXNlcnMvcmVnaXN0ZXJcblxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGhdLCBjYXRlZ29yaWVDb250cm9sbGVyLnJlZ2lzdGVyKTtcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0sY2F0ZWdvcmllQ29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLmdldChcIi9saXN0XCIsYXV0aC52ZXJpZnlBZG1pbixjYXRlZ29yaWVDb250cm9sbGVyLmxpc3QpO1xucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIixhdXRoLnZlcmlmeUFkbWluLGNhdGVnb3JpZUNvbnRyb2xsZXIucmVtb3ZlKTtcblxucm91dGVyLmdldChcIi91cGxvYWRzL2NhdGVnb3JpZS86aW1nXCIsY2F0ZWdvcmllQ29udHJvbGxlci5vYnRlbmVyX2ltYWdlbik7XG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLG9CQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxrQkFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQTRDLFNBQUFELHVCQUFBSyxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBRzVDLElBQUlHLElBQUksR0FBRyxJQUFBQywwQkFBVSxFQUFDO0VBQUNDLFNBQVMsRUFBQztBQUFxQixDQUFDLENBQUM7QUFDeEQsTUFBTUMsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQzs7QUFFeEI7O0FBRUFELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFDLEVBQUVRLDRCQUFtQixDQUFDQyxRQUFRLENBQUM7QUFDaEZOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBQyxDQUFDSixhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNRLDRCQUFtQixDQUFDRyxNQUFNLENBQUM7QUFDeEVSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDRCQUFtQixDQUFDSyxJQUFJLENBQUM7QUFDN0RWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLFNBQVMsRUFBQ1IsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDRCQUFtQixDQUFDTyxNQUFNLENBQUM7QUFFcEVaLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLHlCQUF5QixFQUFDSiw0QkFBbUIsQ0FBQ1EsY0FBYyxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFuQixPQUFBLEdBRzFESSxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CategorieController","_auth","_connectMultiparty","e","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","categorieController","register","put","update","get","list","delete","remove","obtener_imagen","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Categorie.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport categorieController from \"../controllers/CategorieController\"\nimport auth from \"../middlewares/auth\"\nimport multiparty from 'connect-multiparty';\n\n\nvar path = multiparty({uploadDir:'./uploads/categorie'});\nconst router = routerx();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [auth.verifyAdmin, path], categorieController.register);\nrouter.put(\"/update\",[auth.verifyAdmin,path],categorieController.update);\nrouter.get(\"/list\",auth.verifyAdmin,categorieController.list);\nrouter.delete(\"/delete\",auth.verifyAdmin,categorieController.remove);\n\nrouter.get(\"/uploads/categorie/:img\",categorieController.obtener_imagen);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,oBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA4C,SAAAD,uBAAAK,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAG5C,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAC;AAAqB,CAAC,CAAC;AACxD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,4BAAmB,CAACC,QAAQ,CAAC;AAChFN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAC,CAACJ,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,4BAAmB,CAACG,MAAM,CAAC;AACxER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACK,IAAI,CAAC;AAC7DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAACR,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACO,MAAM,CAAC;AAEpEZ,MAAM,CAACS,GAAG,CAAC,yBAAyB,EAACJ,4BAAmB,CAACQ,cAAc,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAnB,OAAA,GAG1DI,MAAM","ignoreList":[]}},"mtime":1741488736458},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/CategorieController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      //console.log(req.files);\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      const categorie = await _models.default.Categorie.create(req.body);\n      res.status(200).json(categorie);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Categorie.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let CategorieT = await _models.default.Categorie.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORÍA SE HA MODIFICADO CORRECTAMENTE\",\n        categorie: _resourses.default.Categorie.categorie_list(CategorieT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Categories = await _models.default.Categorie.find({\n        $or: [{\n          \"title\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Categories = Categories.map(user => {\n        return _resourses.default.Categorie.categorie_list(user);\n      });\n      res.status(200).json({\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/categorie/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/categorie/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Categorie.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"  LA CATEGORÍA SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3Vyc2VzIiwiX2ZzIiwiX3BhdGgiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImZpbGVzIiwiaW1nX3BhdGgiLCJwb3J0YWRhIiwicGF0aCIsIm5hbWUiLCJzcGxpdCIsInBvcnRhZGFfbmFtZSIsImJvZHkiLCJpbWFnZW4iLCJjYXRlZ29yaWUiLCJtb2RlbHMiLCJDYXRlZ29yaWUiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsIkNhdGVnb3JpZVQiLCJmaW5kT25lIiwicmVzb3Vyc2UiLCJjYXRlZ29yaWVfbGlzdCIsImxpc3QiLCJzZWFyY2giLCJxdWVyeSIsIkNhdGVnb3JpZXMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsInVzZXIiLCJjYXRlZ29yaWVzIiwib2J0ZW5lcl9pbWFnZW4iLCJpbWciLCJwYXJhbXMiLCJmcyIsInN0YXQiLCJlcnIiLCJwYXRoX2ltZyIsInNlbmRGaWxlIiwicmVzb2x2ZSIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiQ2F0ZWdvcmllQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcbmltcG9ydCByZXNvdXJzZSBmcm9tICcuLi9yZXNvdXJzZXMnXG5pbXBvcnQgZnMgZnJvbSAnZnMnXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy9jb25zb2xlLmxvZyhyZXEuZmlsZXMpO1xuICAgICAgIGlmKHJlcS5maWxlcyl7XG4gICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMucG9ydGFkYS5wYXRoO1xuICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgICAvL2NvbnNvbGUubG9nKHBvcnRhZGFfbmFtZSlcbiAgICAgICAgIHJlcS5ib2R5LmltYWdlbiA9IHBvcnRhZGFfbmFtZTtcbiAgICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGNhdGVnb3JpZSA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuY3JlYXRlKHJlcS5ib2R5KTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGNhdGVnb3JpZSk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuICB9LFxuICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgIGlmKHJlcS5maWxlcyAmJiByZXEuZmlsZXMucG9ydGFkYSl7XG4gICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMucG9ydGFkYS5wYXRoO1xuICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgICAvL2NvbnNvbGUubG9nKHBvcnRhZGFfbmFtZSlcbiAgICAgICByZXEuYm9keS5pbWFnZW4gPSBwb3J0YWRhX25hbWU7XG4gICAgICAgfVxuXG4gICAgIGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkfSxyZXEuYm9keSk7XG5cbiAgICAgbGV0IENhdGVnb3JpZVQgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmRPbmUoe19pZDogcmVxLmJvZHkuX2lkfSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJMQSBDQVRFR09Sw41BIFNFIEhBIE1PRElGSUNBRE8gQ09SUkVDVEFNRU5URVwiLFxuICAgICAgICBjYXRlZ29yaWU6IHJlc291cnNlLkNhdGVnb3JpZS5jYXRlZ29yaWVfbGlzdChDYXRlZ29yaWVUKSxcbiAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG5cbiAgfSxcbiAgbGlzdDogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICB2YXIgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcbiAgICAgIGxldCBDYXRlZ29yaWVzICA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZCh7XG4gICAgICAgICRvcjpbXG4gICAgICAgICAge1widGl0bGVcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgIF1cbiAgICB9KS5zb3J0KHsnY3JlYXRlZEF0JzotMX0pO1xuXG4gICAgQ2F0ZWdvcmllcyA9IENhdGVnb3JpZXMubWFwKCh1c2VyKSA9PiB7XG4gICAgICByZXR1cm4gcmVzb3Vyc2UuQ2F0ZWdvcmllLmNhdGVnb3JpZV9saXN0KHVzZXIpO1xuICAgIH0pXG5cbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICBjYXRlZ29yaWVzOiBDYXRlZ29yaWVzXG4gICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIFxuICAgIH1cbiAgfSxcbiAgb2J0ZW5lcl9pbWFnZW46IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICB2YXIgaW1nID0gcmVxLnBhcmFtc1snaW1nJ107XG4gICAgICAgIFxuXG4gICAgICAgIGZzLnN0YXQoJy4vdXBsb2Fkcy9jYXRlZ29yaWUvJysgaW1nLCBmdW5jdGlvbihlcnIpe1xuICAgICAgICAgICAgaWYoIWVycil7XG4gICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9jYXRlZ29yaWUvJytpbWc7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9kZWZhdWx0LmpwZyc7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1jYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG4gIH0sXG4gIHJlbW92ZTogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IHJlcS5xdWVyeS5faWR9KTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCIgIExBIENBVEVHT1LDjUEgU0UgRUxJTUlOTyBDT1JSRUNUQU1FTlRFXCIsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cbiAgfSxcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEdBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLEtBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUF1QixTQUFBRCx1QkFBQUssQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBR1I7RUFDYkcsUUFBUSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0lBQzFCLElBQUk7TUFDRjtNQUNDLElBQUdELEdBQUcsQ0FBQ0UsS0FBSyxFQUFDO1FBQ1gsSUFBSUMsUUFBUSxHQUFHSCxHQUFHLENBQUNFLEtBQUssQ0FBQ0UsT0FBTyxDQUFDQyxJQUFJO1FBQ3JDLElBQUlDLElBQUksR0FBR0gsUUFBUSxDQUFDSSxLQUFLLENBQUMsR0FBRyxDQUFDO1FBQzlCLElBQUlDLFlBQVksR0FBR0YsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUMxQjtRQUNBTixHQUFHLENBQUNTLElBQUksQ0FBQ0MsTUFBTSxHQUFHRixZQUFZO01BQ2hDO01BRUQsTUFBTUcs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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resourses","_fs","_path","e","__esModule","default","_default","exports","register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","categorie","models","Categorie","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","CategorieT","findOne","resourse","categorie_list","list","search","query","Categories","find","$or","RegExp","sort","map","user","categories","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","remove","findByIdAndDelete"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["CategorieController.js"],"sourcesContent":["import models from \"../models\";\nimport resourse from '../resourses'\nimport fs from 'fs'\nimport path from 'path'\n\n\nexport default {\n  register: async(req,res) => {\n    try {\n      //console.log(req.files);\n       if(req.files){\n         var img_path = req.files.portada.path;\n         var name = img_path.split('/');\n         var portada_name = name[2];\n         //console.log(portada_name)\n         req.body.imagen = portada_name;\n       }\n      \n      const categorie = await models.Categorie.create(req.body);\n      res.status(200).json(categorie);\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n  update: async(req,res) => {\n    try {\n       if(req.files && req.files.portada){\n         var img_path = req.files.portada.path;\n         var name = img_path.split('/');\n         var portada_name = name[2];\n         //console.log(portada_name)\n       req.body.imagen = portada_name;\n       }\n\n     await models.Categorie.findByIdAndUpdate({_id: req.body._id},req.body);\n\n     let CategorieT = await models.Categorie.findOne({_id: req.body._id});\n\n      res.status(200).json({\n        message: \"LA CATEGORÍA SE HA MODIFICADO CORRECTAMENTE\",\n        categorie: resourse.Categorie.categorie_list(CategorieT),\n      })\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n\n  },\n  list: async(req,res) => {\n    try {\n      var search = req.query.search;\n      let Categories  = await models.Categorie.find({\n        $or:[\n          {\"title\": new RegExp(search, \"i\")},\n        ]\n    }).sort({'createdAt':-1});\n\n    Categories = Categories.map((user) => {\n      return resourse.Categorie.categorie_list(user);\n    })\n\n    res.status(200).json({\n      categories: Categories\n    });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n      \n    }\n  },\n  obtener_imagen: async(req,res) => {\n    try {\n        var img = req.params['img'];\n        \n\n        fs.stat('./uploads/categorie/'+ img, function(err){\n            if(!err){\n                let path_img = './uploads/categorie/'+img;\n                res.status(200).sendFile(path.resolve(path_img));\n            }else{\n                let path_img = './uploads/default.jpg';\n                res.status(200).sendFile(path.resolve(path_img));\n            }\n        })\n    }catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async(req,res) => {\n    try {\n      await models.Categorie.findByIdAndDelete({_id: req.query._id});\n      res.status(200).json({\n        message: \"  LA CATEGORÍA SE ELIMINO CORRECTAMENTE\",\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n}"],"mappings":"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","ignoreList":[]}},"mtime":1737174922357},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _ProductController = _interopRequireDefault(require(\"../controllers/ProductController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nvar _VariedadController = _interopRequireDefault(require(\"../controllers/VariedadController\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/product'\n});\nconst router = (0, _expressPromiseRouter.default)();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _ProductController.default.register);\n\n//IMAGEN PORTADA Y GALERIA\nrouter.post(\"/register_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.register_imagen);\nrouter.post(\"/remove_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.remove_imagen);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _ProductController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _ProductController.default.list);\nrouter.get(\"/list-seller\", _auth.default.verifyAdmin, _ProductController.default.list_seller);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _ProductController.default.remove);\nrouter.get(\"/uploads/product/:img\", _ProductController.default.obtener_imagen);\nrouter.get(\"/show/:id\", _ProductController.default.show);\n\n// VARIEDAD\nrouter.post(\"/register-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.register);\nrouter.put(\"/update-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.update);\nrouter.delete(\"/delete-variedad/:id\", [_auth.default.verifyAdmin, path], _VariedadController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Qcm9kdWN0Q29udHJvbGxlciIsIl9hdXRoIiwiX2Nvbm5lY3RNdWx0aXBhcnR5IiwiX1ZhcmllZGFkQ29udHJvbGxlciIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInBhdGgiLCJtdWx0aXBhcnR5IiwidXBsb2FkRGlyIiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJwcm9kdWN0Q29udHJvbGxlciIsInJlZ2lzdGVyIiwicmVnaXN0ZXJfaW1hZ2VuIiwicmVtb3ZlX2ltYWdlbiIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJsaXN0X3NlbGxlciIsImRlbGV0ZSIsInJlbW92ZSIsIm9idGVuZXJfaW1hZ2VuIiwic2hvdyIsInZhcmllZGFkQ29udHJvbGxlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJQcm9kdWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gXCJleHByZXNzLXByb21pc2Utcm91dGVyXCJcbmltcG9ydCBwcm9kdWN0Q29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvUHJvZHVjdENvbnRyb2xsZXJcIlxuaW1wb3J0IGF1dGggZnJvbSBcIi4uL21pZGRsZXdhcmVzL2F1dGhcIlxuaW1wb3J0IG11bHRpcGFydHkgZnJvbSAnY29ubmVjdC1tdWx0aXBhcnR5JztcbmltcG9ydCB2YXJpZWRhZENvbnRyb2xsZXIgZnJvbSBcIi4uL2NvbnRyb2xsZXJzL1ZhcmllZGFkQ29udHJvbGxlclwiO1xuXG5cbnZhciBwYXRoID0gbXVsdGlwYXJ0eSh7dXBsb2FkRGlyOicuL3VwbG9hZHMvcHJvZHVjdCd9KTtcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcblxuLy8gcHJvY2Vzcy5lbnYuVVJMX0JBQ0tFTkQvYXBpL3VzZXJzL3JlZ2lzdGVyXG5cbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsIFthdXRoLnZlcmlmeUFkbWluLCBwYXRoXSwgcHJvZHVjdENvbnRyb2xsZXIucmVnaXN0ZXIpO1xuXG5cbi8vSU1BR0VOIFBPUlRBREEgWSBHQUxFUklBXG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlcl9pbWFnZW5cIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGhdLCBwcm9kdWN0Q29udHJvbGxlci5yZWdpc3Rlcl9pbWFnZW4pO1xucm91dGVyLnBvc3QoXCIvcmVtb3ZlX2ltYWdlblwiLCBbYXV0aC52ZXJpZnlBZG1pbiwgcGF0aF0sIHByb2R1Y3RDb250cm9sbGVyLnJlbW92ZV9pbWFnZW4pO1xuXG5cbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0scHJvZHVjdENvbnRyb2xsZXIudXBkYXRlKTtcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4scHJvZHVjdENvbnRyb2xsZXIubGlzdCk7XG5yb3V0ZXIuZ2V0KFwiL2xpc3Qtc2VsbGVyXCIsYXV0aC52ZXJpZnlBZG1pbixwcm9kdWN0Q29udHJvbGxlci5saXN0X3NlbGxlcik7XG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLGF1dGgudmVyaWZ5QWRtaW4scHJvZHVjdENvbnRyb2xsZXIucmVtb3ZlKTtcblxucm91dGVyLmdldChcIi91cGxvYWRzL3Byb2R1Y3QvOmltZ1wiLHByb2R1Y3RDb250cm9sbGVyLm9idGVuZXJfaW1hZ2VuKTtcblxucm91dGVyLmdldChcIi9zaG93LzppZFwiLHByb2R1Y3RDb250cm9sbGVyLnNob3cpO1xuXG4vLyBWQVJJRURBRFxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXItdmFyaWVkYWRcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSx2YXJpZWRhZENvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnB1dChcIi91cGRhdGUtdmFyaWVkYWRcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSx2YXJpZWRhZENvbnRyb2xsZXIudXBkYXRlKTtcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlLXZhcmllZGFkLzppZFwiLFthdXRoLnZlcmlmeUFkbWluLHBhdGhdLHZhcmllZGFkQ29udHJvbGxlci5kZWxldGUpO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxrQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsa0JBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLG1CQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFBbUUsU0FBQUQsdUJBQUFNLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFHbkUsSUFBSUcsSUFBSSxHQUFHLElBQUFDLDBCQUFVLEVBQUM7RUFBQ0MsU0FBUyxFQUFDO0FBQW1CLENBQUMsQ0FBQztBQUN0RCxNQUFNQyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDOztBQUV4Qjs7QUFFQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFFUCxJQUFJLENBQUMsRUFBRVEsMEJBQWlCLENBQUNDLFFBQVEsQ0FBQzs7QUFHOUU7QUFDQU4sTUFBTSxDQUFDRSxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUVQLElBQUksQ0FBQyxFQUFFUSwwQkFBaUIsQ0FBQ0UsZUFBZSxDQUFDO0FBQzVGUCxNQUFNLENBQUNFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFDLEVBQUVRLDBCQUFpQixDQUFDRyxhQUFhLENBQUM7QUFHeEZSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLFNBQVMsRUFBQyxDQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNRLDBCQUFpQixDQUFDSyxNQUFNLENBQUM7QUFDdEVWLE1BQU0sQ0FBQ1csR0FBRyxDQUFDLE9BQU8sRUFBQ1IsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDBCQUFpQixDQUFDTyxJQUFJLENBQUM7QUFDM0RaLE1BQU0sQ0FBQ1csR0FBRyxDQUFDLGNBQWMsRUFBQ1IsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDBCQUFpQixDQUFDUSxXQUFXLENBQUM7QUFDekViLE1BQU0sQ0FBQ2MsTUFBTSxDQUFDLFNBQVMsRUFBQ1gsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDBCQUFpQixDQUFDVSxNQUFNLENBQUM7QUFFbEVmLE1BQU0sQ0FBQ1csR0FBRyxDQUFDLHVCQUF1QixFQUFDTiwwQkFBaUIsQ0FBQ1csY0FBYyxDQUFDO0FBRXBFaEIsTUFBTSxDQUFDVyxHQUFHLENBQUMsV0FBVyxFQUFDTiwwQkFBaUIsQ0FBQ1ksSUFBSSxDQUFDOztBQUU5QztBQUNBakIsTUFBTSxDQUFDRSxJQUFJLENBQUMsb0JBQW9CLEVBQUMsQ0FBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUNQLElBQUksQ0FBQyxFQUFDcUIsMkJBQWtCLENBQUNaLFFBQVEsQ0FBQztBQUNyRk4sTUFBTSxDQUFDUyxHQUFHLENBQUMsa0JBQWtCLEVBQUMsQ0FBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNQLElBQUksQ0FBQyxFQUFDcUIsMkJBQWtCLENBQUNSLE1BQU0sQ0FBQztBQUNoRlYsTUFBTSxDQUFDYyxNQUFNLENBQUMsc0JBQXNCLEVBQUMsQ0FBQ1gsYUFBSSxDQUFDQyxXQUFXLEVBQUNQLElBQUksQ0FBQyxFQUFDcUIsMkJBQWtCLENBQUNKLE1BQU0sQ0FBQztBQUFDLElBQUFLLFFBQUEsR0FBQUMsT0FBQSxDQUFBeEIsT0FBQSxHQUd6RUksTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_ProductController","_auth","_connectMultiparty","_VariedadController","e","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","productController","register","register_imagen","remove_imagen","put","update","get","list","list_seller","delete","remove","obtener_imagen","show","variedadController","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Product.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport productController from \"../controllers/ProductController\"\nimport auth from \"../middlewares/auth\"\nimport multiparty from 'connect-multiparty';\nimport variedadController from \"../controllers/VariedadController\";\n\n\nvar path = multiparty({uploadDir:'./uploads/product'});\nconst router = routerx();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [auth.verifyAdmin, path], productController.register);\n\n\n//IMAGEN PORTADA Y GALERIA\nrouter.post(\"/register_imagen\", [auth.verifyAdmin, path], productController.register_imagen);\nrouter.post(\"/remove_imagen\", [auth.verifyAdmin, path], productController.remove_imagen);\n\n\nrouter.put(\"/update\",[auth.verifyAdmin,path],productController.update);\nrouter.get(\"/list\",auth.verifyAdmin,productController.list);\nrouter.get(\"/list-seller\",auth.verifyAdmin,productController.list_seller);\nrouter.delete(\"/delete\",auth.verifyAdmin,productController.remove);\n\nrouter.get(\"/uploads/product/:img\",productController.obtener_imagen);\n\nrouter.get(\"/show/:id\",productController.show);\n\n// VARIEDAD\nrouter.post(\"/register-variedad\",[auth.verifyAdmin,path],variedadController.register);\nrouter.put(\"/update-variedad\",[auth.verifyAdmin,path],variedadController.update);\nrouter.delete(\"/delete-variedad/:id\",[auth.verifyAdmin,path],variedadController.delete);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,kBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,mBAAA,GAAAL,sBAAA,CAAAC,OAAA;AAAmE,SAAAD,uBAAAM,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAGnE,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAC;AAAmB,CAAC,CAAC;AACtD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,0BAAiB,CAACC,QAAQ,CAAC;;AAG9E;AACAN,MAAM,CAACE,IAAI,CAAC,kBAAkB,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,0BAAiB,CAACE,eAAe,CAAC;AAC5FP,MAAM,CAACE,IAAI,CAAC,gBAAgB,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,0BAAiB,CAACG,aAAa,CAAC;AAGxFR,MAAM,CAACS,GAAG,CAAC,SAAS,EAAC,CAACN,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,0BAAiB,CAACK,MAAM,CAAC;AACtEV,MAAM,CAACW,GAAG,CAAC,OAAO,EAACR,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACO,IAAI,CAAC;AAC3DZ,MAAM,CAACW,GAAG,CAAC,cAAc,EAACR,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACQ,WAAW,CAAC;AACzEb,MAAM,CAACc,MAAM,CAAC,SAAS,EAACX,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACU,MAAM,CAAC;AAElEf,MAAM,CAACW,GAAG,CAAC,uBAAuB,EAACN,0BAAiB,CAACW,cAAc,CAAC;AAEpEhB,MAAM,CAACW,GAAG,CAAC,WAAW,EAACN,0BAAiB,CAACY,IAAI,CAAC;;AAE9C;AACAjB,MAAM,CAACE,IAAI,CAAC,oBAAoB,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACqB,2BAAkB,CAACZ,QAAQ,CAAC;AACrFN,MAAM,CAACS,GAAG,CAAC,kBAAkB,EAAC,CAACN,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACqB,2BAAkB,CAACR,MAAM,CAAC;AAChFV,MAAM,CAACc,MAAM,CAAC,sBAAsB,EAAC,CAACX,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACqB,2BAAkB,CAACJ,MAAM,CAAC;AAAC,IAAAK,QAAA,GAAAC,OAAA,CAAAxB,OAAA,GAGzEI,MAAM","ignoreList":[]}},"mtime":1750026535363},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/ProductController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_Product = await _models.default.Product.findOne({\n        title: data.title\n      });\n      if (valid_Product) {\n        res.status(200).json({\n          code: 403,\n          message: \"EL PRODUCTO YA EXISTE\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\n      if (req.files) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        data.portada = portada_name;\n      }\n      let product = await _models.default.Product.create(data);\n      res.status(200).json({\n        message: \"Super! El producto se registró satisfactoriamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_product = await _models.default.Product.findOne({\n        title: data.title,\n        _id: {\n          $ne: data._id\n        }\n      });\n      if (valid_product) {\n        res.status(200).json({\n          code: 403,\n          message: \"EL PRODUCTO YA EXISTE\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, \"-\").replace(/[^\\w-]+/g, '');\n      if (req.files && req.files.imagen) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        data.portada = portada_name;\n      }\n      await _models.default.Product.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: \"Super! El producto se actualizó satisfactoriamente\"\n      });\n    } catch (error) {\n      console.log('mi falla es:', error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var filter = [];\n      if (req.query.search) {\n        filter.push({\n          \"title\": new RegExp(req.query.search, \"i\")\n        });\n      }\n      if (req.query.categorie) {\n        filter.push({\n          \"categorie\": req.query.categorie\n        });\n      }\n      if (req.query.condition) {\n        filter.push({\n          \"condition\": req.query.condition\n        });\n      }\n      let products = await _models.default.Product.find({\n        $and: filter\n      }).populate(\"categorie\");\n\n      //console.log(\"PRO\",products);\n\n      products = products.map(product => {\n        return _resourses.default.Product.product_list(product);\n      });\n      res.status(200).json({\n        products: products\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  list_seller: async (req, res) => {\n    try {\n      // Obtenemos seller_id (puede venir de req.body, req.query o params, según tu diseño)\n      const sellerId = req.user._id;\n      console.log(req.user);\n      if (!sellerId) {\n        return res.status(400).json({\n          message: \"seller_id es obligatorio\"\n        });\n      }\n\n      // Creamos el filtro inicial con seller_id\n      let filter = {\n        seller_id: sellerId\n      };\n\n      // Agregamos condiciones adicionales si existen\n      if (req.query.search) {\n        filter.title = new RegExp(req.query.search, \"i\");\n      }\n      if (req.query.categorie) {\n        filter.categorie = req.query.categorie;\n      }\n      if (req.query.condition) {\n        filter.condition = req.query.condition;\n      }\n\n      // Ejecutamos la consulta con populate\n      let products_seller = await _models.default.Product.find(filter).populate(\"categorie\");\n\n      // console.log(\"PRO\", products_seller);\n\n      // Mapear productos según tu recurso\n      products_seller = products_seller.map(product_seller => {\n        return _resourses.default.Product.product_list(product_seller);\n      });\n      res.status(200).json({\n        products_seller\n      });\n    } catch (error) {\n      console.error(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Product.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        massage: \"Super! El producto se eliminó satisfactoriamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/product/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/product/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      var product_id = req.params.id;\n      let PRODUCT = await _models.default.Product.findById({\n        _id: product_id\n      });\n      let VARIEDADES = await _models.default.Variedad.find({\n        product: product_id\n      });\n      res.status(200).json({\n        product: _resourses.default.Product.product_list(PRODUCT, VARIEDADES)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_imagen: async (req, res) => {\n    try {\n      var img_path = req.files.imagen.path;\n      var name = img_path.split('/');\n      var imagen_name = name[2];\n      let product = await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $push: {\n          galerias: {\n            imagen: imagen_name,\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"LA IMAGEN SE SUBIO CORRECTAMENTE\",\n        imagen: {\n          imagen: process.env.URL_BACKEND + \"/api/products/uploads/product/\" + imagen_name,\n          _id: req.body.__id\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  remove_imagen: async (req, res) => {\n    try {\n      await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $pull: {\n          galerias: {\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"LA IMAGEN SE ELIMINÓ CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3Vyc2VzIiwiX2ZzIiwiX3BhdGgiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5IiwidmFsaWRfUHJvZHVjdCIsIm1vZGVscyIsIlByb2R1Y3QiLCJmaW5kT25lIiwidGl0bGUiLCJzdGF0dXMiLCJqc29uIiwiY29kZSIsIm1lc3NhZ2UiLCJzbHVnIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwiZmlsZXMiLCJpbWdfcGF0aCIsImltYWdlbiIsInBhdGgiLCJuYW1lIiwic3BsaXQiLCJwb3J0YWRhX25hbWUiLCJwb3J0YWRhIiwicHJvZHVjdCIsImNyZWF0ZSIsImVycm9yIiwic2VuZCIsInVwZGF0ZSIsInZhbGlkX3Byb2R1Y3QiLCJfaWQiLCIkbmUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsImNvbnNvbGUiLCJsb2ciLCJsaXN0IiwiZmlsdGVyIiwicXVlcnkiLCJzZWFyY2giLCJwdXNoIiwiUmVnRXhwIiwiY2F0ZWdvcmllIiwiY29uZGl0aW9uIiwicHJvZHVjdHMiLCJmaW5kIiwiJGFuZCIsInBvcHVsYXRlIiwibWFwIiwicmVzb3Vyc2VzIiwicHJvZHVjdF9saXN0IiwibGlzdF9zZWxsZXIiLCJzZWxsZXJJZCIsInVzZXIiLCJzZWxsZXJfaWQiLCJwcm9kdWN0c19zZWxsZXIiLCJwcm9kdWN0X3NlbGxlciIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIiwibWFzc2FnZSIsIm9idGVuZXJfaW1hZ2VuIiwiaW1nIiwicGFyYW1zIiwiZnMiLCJzdGF0IiwiZXJyIiwicGF0aF9pbWciLCJzZW5kRmlsZSIsInJlc29sdmUiLCJzaG93IiwicHJvZHVjdF9pZCIsImlkIiwiUFJPRFVDVCIsImZpbmRCeUlkIiwiVkFSSUVEQURFUyIsIlZhcmllZGFkIiwicmVnaXN0ZXJfaW1hZ2VuIiwiaW1hZ2VuX25hbWUiLCIkcHVzaCIsImdhbGVyaWFzIiwiX19pZCIsInByb2Nlc3MiLCJlbnYiLCJVUkxfQkFDS0VORCIsInJlbW92ZV9pbWFnZW4iLCIkcHVsbCJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIlByb2R1Y3RDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSAnLi4vbW9kZWxzJ1xuaW1wb3J0IHJlc291cnNlcyBmcm9tICcuLi9yZXNvdXJzZXMnO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcblxuZXhwb3J0IGRlZmF1bHR7XG4gIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PntcbiAgICB0cnkge1xuICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcbiAgICBcbiAgICAgIGxldCB2YWxpZF9Qcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZE9uZSh7dGl0bGU6ZGF0YS50aXRsZX0pO1xuICAgICAgaWYodmFsaWRfUHJvZHVjdCl7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICBjb2RlOjQwMyxcbiAgICAgICAgICBtZXNzYWdlOiBcIkVMIFBST0RVQ1RPIFlBIEVYSVNURVwiXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkYXRhLnNsdWcgPSBkYXRhLnRpdGxlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvIC9nLCctJykucmVwbGFjZSgvW15cXHctXSsvZywnJyk7XG5cbiAgICAgIGlmKHJlcS5maWxlcyl7XG4gICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5pbWFnZW4ucGF0aDtcbiAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhwb3J0YWRhX25hbWUpXG4gICAgICAgIGRhdGEucG9ydGFkYSA9IHBvcnRhZGFfbmFtZTtcbiAgICAgIH1cblxuICAgICAgbGV0IHByb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5jcmVhdGUoZGF0YSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJTdXBlciEgRWwgcHJvZHVjdG8gc2UgcmVnaXN0csOzIHNhdGlzZmFjdG9yaWFtZW50ZVwiXG4gICAgICB9KTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgdXBkYXRlOiBhc3luYyhyZXEscmVzKSA9PntcbiAgICB0cnkge1xuICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcbiAgICAgIFxuICAgICAgbGV0IHZhbGlkX3Byb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kT25lKHt0aXRsZTpkYXRhLnRpdGxlLCBfaWQ6eyRuZTogZGF0YS5faWR9fSk7XG5cbiAgICAgIGlmKHZhbGlkX3Byb2R1Y3Qpe1xuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgY29kZTo0MDMsXG4gICAgICAgICAgbWVzc2FnZTogXCJFTCBQUk9EVUNUTyBZQSBFWElTVEVcIlxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGF0YS5zbHVnID0gZGF0YS50aXRsZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyAvZyxcIi1cIikucmVwbGFjZSgvW15cXHctXSsvZywnJyk7XG5cbiAgICAgIGlmKHJlcS5maWxlcyAmJiByZXEuZmlsZXMuaW1hZ2VuKXtcbiAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLmltYWdlbi5wYXRoO1xuICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCcvJyk7XG4gICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xuICAgICAgICAvL2NvbnNvbGUubG9nKHBvcnRhZGFfbmFtZSlcbiAgICAgICAgZGF0YS5wb3J0YWRhID0gcG9ydGFkYV9uYW1lO1xuICAgICAgfVxuXG4gICAgIGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6ZGF0YS5faWR9LCBkYXRhKTtcblxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiBcIlN1cGVyISBFbCBwcm9kdWN0byBzZSBhY3R1YWxpesOzIHNhdGlzZmFjdG9yaWFtZW50ZVwiXG4gICAgICB9KTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZygnbWkgZmFsbGEgZXM6JywgZXJyb3IpXG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICB9XG5cbiAgfSxcblxuICBsaXN0OiBhc3luYyhyZXEscmVzKSA9PntcbiAgICB0cnkge1xuICAgICAgdmFyIGZpbHRlciA9IFtdO1xuICAgICAgaWYocmVxLnF1ZXJ5LnNlYXJjaCl7XG4gICAgICAgIGZpbHRlci5wdXNoKFxuICAgICAgICAgIHtcInRpdGxlXCI6IG5ldyBSZWdFeHAocmVxLnF1ZXJ5LnNlYXJjaCwgXCJpXCIpfSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmKHJlcS5xdWVyeS5jYXRlZ29yaWUpe1xuICAgICAgICBmaWx0ZXIucHVzaChcbiAgICAgICAgICB7XCJjYXRlZ29yaWVcIjogcmVxLnF1ZXJ5LmNhdGVnb3JpZX0sXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZihyZXEucXVlcnkuY29uZGl0aW9uKXtcbiAgICAgICAgZmlsdGVyLnB1c2goXG4gICAgICAgICAge1wiY29uZGl0aW9uXCI6IHJlcS5xdWVyeS5jb25kaXRpb259LFxuICAgICAgICApO1xuICAgICAgfVxuICBcbiAgICAgIGxldCBwcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoe1xuICAgICAgICAkYW5kOiBmaWx0ZXIsXG4gICAgICB9KS5wb3B1bGF0ZShcImNhdGVnb3JpZVwiKVxuXG4gICAgICAvL2NvbnNvbGUubG9nKFwiUFJPXCIscHJvZHVjdHMpO1xuICBcbiAgICAgIHByb2R1Y3RzID0gcHJvZHVjdHMubWFwKHByb2R1Y3QgPT4ge1xuICAgICAgICByZXR1cm4gcmVzb3Vyc2VzLlByb2R1Y3QucHJvZHVjdF9saXN0KHByb2R1Y3QpO1xuXG4gICAgICB9KVxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBwcm9kdWN0czogcHJvZHVjdHMsXG4gICAgICB9KVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgbGlzdF9zZWxsZXI6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgXG4gICAgLy8gT2J0ZW5lbW9zIHNlbGxlcl9pZCAocHVlZGUgdmVuaXIgZGUgcmVxLmJvZHksIHJlcS5xdWVyeSBvIHBhcmFtcywgc2Vnw7puIHR1IGRpc2XDsW8pXG4gICAgY29uc3Qgc2VsbGVySWQgPSByZXEudXNlci5faWQ7XG5cbiAgICBjb25zb2xlLmxvZyhyZXEudXNlcik7XG5cbiAgICBpZiAoIXNlbGxlcklkKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBcInNlbGxlcl9pZCBlcyBvYmxpZ2F0b3Jpb1wiIH0pO1xuICAgIH1cblxuICAgIC8vIENyZWFtb3MgZWwgZmlsdHJvIGluaWNpYWwgY29uIHNlbGxlcl9pZFxuICAgIGxldCBmaWx0ZXIgPSB7IHNlbGxlcl9pZDogc2VsbGVySWQgfTtcblxuICAgIC8vIEFncmVnYW1vcyBjb25kaWNpb25lcyBhZGljaW9uYWxlcyBzaSBleGlzdGVuXG4gICAgaWYgKHJlcS5xdWVyeS5zZWFyY2gpIHtcbiAgICAgIGZpbHRlci50aXRsZSA9IG5ldyBSZWdFeHAocmVxLnF1ZXJ5LnNlYXJjaCwgXCJpXCIpO1xuICAgIH1cbiAgICBpZiAocmVxLnF1ZXJ5LmNhdGVnb3JpZSkge1xuICAgICAgZmlsdGVyLmNhdGVnb3JpZSA9IHJlcS5xdWVyeS5jYXRlZ29yaWU7XG4gICAgfVxuICAgIGlmIChyZXEucXVlcnkuY29uZGl0aW9uKSB7XG4gICAgICBmaWx0ZXIuY29uZGl0aW9uID0gcmVxLnF1ZXJ5LmNvbmRpdGlvbjtcbiAgICB9XG5cbiAgICAvLyBFamVjdXRhbW9zIGxhIGNvbnN1bHRhIGNvbiBwb3B1bGF0ZVxuICAgIGxldCBwcm9kdWN0c19zZWxsZXIgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kKGZpbHRlcikucG9wdWxhdGUoXCJjYXRlZ29yaWVcIik7XG5cbiAgIC8vIGNvbnNvbGUubG9nKFwiUFJPXCIsIHByb2R1Y3RzX3NlbGxlcik7XG5cbiAgICAvLyBNYXBlYXIgcHJvZHVjdG9zIHNlZ8O6biB0dSByZWN1cnNvXG4gICAgcHJvZHVjdHNfc2VsbGVyID0gcHJvZHVjdHNfc2VsbGVyLm1hcChwcm9kdWN0X3NlbGxlciA9PiB7XG4gICAgICByZXR1cm4gcmVzb3Vyc2VzLlByb2R1Y3QucHJvZHVjdF9saXN0KHByb2R1Y3Rfc2VsbGVyKTtcbiAgICB9KTtcblxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgcHJvZHVjdHNfc2VsbGVyIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIiB9KTtcbiAgfVxufSxcblxuXG4gIHJlbW92ZTogYXN5bmMocmVxLHJlcykgPT57XG4gICAgdHJ5IHtcbiAgICAgIGxldCBfaWQgPSByZXEucXVlcnkuX2lkO1xuICAgICAgYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWRBbmREZWxldGUoe19pZDpfaWR9KTtcblxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBtYXNzYWdlOiBcIlN1cGVyISBFbCBwcm9kdWN0byBzZSBlbGltaW7DsyBzYXRpc2ZhY3RvcmlhbWVudGVcIlxuICAgICAgfSk7XG5cbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICB9XG5cbiAgfSxcblxuICBvYnRlbmVyX2ltYWdlbjogYXN5bmMocmVxLHJlcykgPT57XG4gICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBpbWcgPSByZXEucGFyYW1zWydpbWcnXTtcbiAgICAgICAgICAgIGZzLnN0YXQoJy4vdXBsb2Fkcy9wcm9kdWN0LycrIGltZywgZnVuY3Rpb24oZXJyKXtcbiAgICAgICAgICAgICAgICBpZighZXJyKXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9wcm9kdWN0LycraW1nO1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvZGVmYXVsdC5qcGcnO1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfWNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gIH0sXG5cbiAgc2hvdzogYXN5bmMocmVxLHJlcykgPT57XG4gICAgdHJ5IHtcbiAgICAgIHZhciBwcm9kdWN0X2lkID0gcmVxLnBhcmFtcy5pZDtcbiAgICAgIGxldCBQUk9EVUNUID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWQoe19pZDogcHJvZHVjdF9pZH0pO1xuXG4gICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OiBwcm9kdWN0X2lkfSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgcHJvZHVjdDogcmVzb3Vyc2VzLlByb2R1Y3QucHJvZHVjdF9saXN0KFBST0RVQ1QsIFZBUklFREFERVMpLFxuICAgICAgfSlcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuXG4gIH0sXG5cbiAgcmVnaXN0ZXJfaW1hZ2VuOiBhc3luYyhyZXEscmVzKSA9PntcbiAgICB0cnkge1xuICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMuaW1hZ2VuLnBhdGg7XG4gICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgdmFyIGltYWdlbl9uYW1lID0gbmFtZVsyXTtcblxuICAgICAgICBsZXQgcHJvZHVjdCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0sIHtcbiAgICAgICAgICAkcHVzaDoge1xuICAgICAgICAgICAgZ2FsZXJpYXM6e1xuICAgICAgICAgICAgICBpbWFnZW46IGltYWdlbl9uYW1lLFxuICAgICAgICAgICAgICBfaWQ6IHJlcS5ib2R5Ll9faWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIkxBIElNQUdFTiBTRSBTVUJJTyBDT1JSRUNUQU1FTlRFXCIsXG4gICAgICAgICAgaW1hZ2VuOiB7XG4gICAgICAgICAgICBpbWFnZW46IHByb2Nlc3MuZW52LlVSTF9CQUNLRU5EK1wiL2FwaS9wcm9kdWN0cy91cGxvYWRzL3Byb2R1Y3QvXCIraW1hZ2VuX25hbWUsXG4gICAgICAgICAgICAgIF9pZDogcmVxLmJvZHkuX19pZCxcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgIH1cblxuICB9LFxuXG4gIHJlbW92ZV9pbWFnZW46YXN5bmMocmVxLHJlcykgPT57XG4gICAgdHJ5IHtcbiAgICAgICBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiByZXEuYm9keS5faWR9LCB7XG4gICAgICAgICAgJHB1bGw6IHtcbiAgICAgICAgICAgIGdhbGVyaWFzOntcbiAgICAgICAgICAgICAgX2lkOiByZXEuYm9keS5fX2lkLFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSkgICAgIFxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgbWVzc2FnZTogXCJMQSBJTUFHRU4gU0UgRUxJTUlOw5MgQ09SUkVDVEFNRU5URVwiLFxuICAgICAgICB9KVxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIFxuICAgIH1cblxuICB9LFxuXG5cblxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsR0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsS0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQXVCLFNBQUFELHVCQUFBSyxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFVDtFQUNaRyxRQUFRLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUk7SUFDekIsSUFBSTtNQUNGLElBQUlDLElBQUksR0FBR0YsR0FBRyxDQUFDRyxJQUFJO01BRW5CLElBQUlDLGFBQWEsR0FBRyxNQUFNQyxlQUFNLENBQUNDLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDO1FBQUNDLEtBQUssRUFBQ04sSUFBSSxDQUFDTTtNQUFLLENBQUMsQ0FBQztNQUNwRSxJQUFHSixhQUFhLEVBQUM7UUFDZkgsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUNuQkMsSUFBSSxFQUFDLEdBQUc7VUFDUkMsT0FBTyxFQUFFO1FBQ1gsQ0FBQyxDQUFDO1FBQ0Y7TUFDRjtNQUNBVixJQUFJLENBQUNXLElBQUksR0FBR1gsSUFBSSxDQUFDTSxLQUFLLENBQUNNLFdBQVcsQ0FBQyxDQUFDLENBQUNDLE9BQU8sQ0FBQyxJQUFJLEVBQUMsR0FBRyxDQUFD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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resourses","_fs","_path","e","__esModule","default","_default","exports","register","req","res","data","body","valid_Product","models","Product","findOne","title","status","json","code","message","slug","toLowerCase","replace","files","img_path","imagen","path","name","split","portada_name","portada","product","create","error","send","update","valid_product","_id","$ne","findByIdAndUpdate","console","log","list","filter","query","search","push","RegExp","categorie","condition","products","find","$and","populate","map","resourses","product_list","list_seller","sellerId","user","seller_id","products_seller","product_seller","remove","findByIdAndDelete","massage","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","show","product_id","id","PRODUCT","findById","VARIEDADES","Variedad","register_imagen","imagen_name","$push","galerias","__id","process","env","URL_BACKEND","remove_imagen","$pull"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["ProductController.js"],"sourcesContent":["import models from '../models'\nimport resourses from '../resourses';\nimport fs from 'fs'\nimport path from 'path'\n\nexport default{\n  register: async(req,res) =>{\n    try {\n      let data = req.body;\n    \n      let valid_Product = await models.Product.findOne({title:data.title});\n      if(valid_Product){\n        res.status(200).json({\n          code:403,\n          message: \"EL PRODUCTO YA EXISTE\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g,'-').replace(/[^\\w-]+/g,'');\n\n      if(req.files){\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        data.portada = portada_name;\n      }\n\n      let product = await models.Product.create(data);\n\n      res.status(200).json({\n        message: \"Super! El producto se registró satisfactoriamente\"\n      });\n\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n\n  update: async(req,res) =>{\n    try {\n      let data = req.body;\n      \n      let valid_product = await models.Product.findOne({title:data.title, _id:{$ne: data._id}});\n\n      if(valid_product){\n        res.status(200).json({\n          code:403,\n          message: \"EL PRODUCTO YA EXISTE\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g,\"-\").replace(/[^\\w-]+/g,'');\n\n      if(req.files && req.files.imagen){\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        data.portada = portada_name;\n      }\n\n     await models.Product.findByIdAndUpdate({_id:data._id}, data);\n\n      res.status(200).json({\n        message: \"Super! El producto se actualizó satisfactoriamente\"\n      });\n\n    } catch (error) {\n      console.log('mi falla es:', error)\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n\n  },\n\n  list: async(req,res) =>{\n    try {\n      var filter = [];\n      if(req.query.search){\n        filter.push(\n          {\"title\": new RegExp(req.query.search, \"i\")},\n        );\n      }\n      if(req.query.categorie){\n        filter.push(\n          {\"categorie\": req.query.categorie},\n        );\n      }\n      if(req.query.condition){\n        filter.push(\n          {\"condition\": req.query.condition},\n        );\n      }\n  \n      let products = await models.Product.find({\n        $and: filter,\n      }).populate(\"categorie\")\n\n      //console.log(\"PRO\",products);\n  \n      products = products.map(product => {\n        return resourses.Product.product_list(product);\n\n      })\n      res.status(200).json({\n        products: products,\n      })\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n\n  list_seller: async (req, res) => {\n  try {\n   \n    // Obtenemos seller_id (puede venir de req.body, req.query o params, según tu diseño)\n    const sellerId = req.user._id;\n\n    console.log(req.user);\n\n    if (!sellerId) {\n      return res.status(400).json({ message: \"seller_id es obligatorio\" });\n    }\n\n    // Creamos el filtro inicial con seller_id\n    let filter = { seller_id: sellerId };\n\n    // Agregamos condiciones adicionales si existen\n    if (req.query.search) {\n      filter.title = new RegExp(req.query.search, \"i\");\n    }\n    if (req.query.categorie) {\n      filter.categorie = req.query.categorie;\n    }\n    if (req.query.condition) {\n      filter.condition = req.query.condition;\n    }\n\n    // Ejecutamos la consulta con populate\n    let products_seller = await models.Product.find(filter).populate(\"categorie\");\n\n   // console.log(\"PRO\", products_seller);\n\n    // Mapear productos según tu recurso\n    products_seller = products_seller.map(product_seller => {\n      return resourses.Product.product_list(product_seller);\n    });\n\n    res.status(200).json({ products_seller });\n\n  } catch (error) {\n    console.error(error);\n    res.status(500).send({ message: \"OCURRIO UN PROBLEMA\" });\n  }\n},\n\n\n  remove: async(req,res) =>{\n    try {\n      let _id = req.query._id;\n      await models.Product.findByIdAndDelete({_id:_id});\n\n      res.status(200).json({\n        massage: \"Super! El producto se eliminó satisfactoriamente\"\n      });\n\n      \n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n\n  },\n\n  obtener_imagen: async(req,res) =>{\n    try {\n            var img = req.params['img'];\n            fs.stat('./uploads/product/'+ img, function(err){\n                if(!err){\n                    let path_img = './uploads/product/'+img;\n                    res.status(200).sendFile(path.resolve(path_img));\n                }else{\n                    let path_img = './uploads/default.jpg';\n                    res.status(200).sendFile(path.resolve(path_img));\n                }\n            })\n        }catch (error) {\n          res.status(500).send({\n            message: \"OCURRIÓ UN PROBLEMA\"\n          });\n        }\n  },\n\n  show: async(req,res) =>{\n    try {\n      var product_id = req.params.id;\n      let PRODUCT = await models.Product.findById({_id: product_id});\n\n      let VARIEDADES = await models.Variedad.find({product: product_id});\n\n      res.status(200).json({\n        product: resourses.Product.product_list(PRODUCT, VARIEDADES),\n      })\n      \n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n\n  },\n\n  register_imagen: async(req,res) =>{\n    try {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var imagen_name = name[2];\n\n        let product = await models.Product.findByIdAndUpdate({_id: req.body._id}, {\n          $push: {\n            galerias:{\n              imagen: imagen_name,\n              _id: req.body.__id\n            }\n          }\n        })\n        res.status(200).json({\n          message: \"LA IMAGEN SE SUBIO CORRECTAMENTE\",\n          imagen: {\n            imagen: process.env.URL_BACKEND+\"/api/products/uploads/product/\"+imagen_name,\n              _id: req.body.__id,\n          }\n        })\n      \n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n\n  },\n\n  remove_imagen:async(req,res) =>{\n    try {\n       await models.Product.findByIdAndUpdate({_id: req.body._id}, {\n          $pull: {\n            galerias:{\n              _id: req.body.__id,\n            }\n          }\n        })     \n        res.status(200).json({\n          message: \"LA IMAGEN SE ELIMINÓ CORRECTAMENTE\",\n        })\n      \n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      \n    }\n\n  },\n\n\n\n}"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,GAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,KAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAuB,SAAAD,uBAAAK,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAET;EACZG,QAAQ,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,KAAI;IACzB,IAAI;MACF,IAAIC,IAAI,GAAGF,GAAG,CAACG,IAAI;MAEnB,IAAIC,aAAa,GAAG,MAAMC,eAAM,CAACC,OAAO,CAACC,OAAO,CAAC;QAACC,KAAK,EAACN,IAAI,CAACM;MAAK,CAAC,CAAC;MACpE,IAAGJ,aAAa,EAAC;QACfH,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACnBC,IAAI,EAAC,GAAG;UACRC,OAAO,EAAE;QACX,CAAC,CAAC;QACF;MACF;MACAV,IAAI,CAACW,IAAI,GAAGX,IAAI,CAACM,KAAK,CAACM,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,IAAI,EAAC,GAAG,CAAC,CAACA,OAAO,CAAC,UAAU,EAAC,EAAE,CAAC;MAE7E,IAAGf,GAAG,CAACgB,KAAK,EAAC;QACX,IAAIC,QAAQ,GAAGjB,GAAG,CAACgB,KAAK,CAACE,MAAM,CAACC,IAAI;QACpC,IAAIC,IAAI,GAAGH,QAAQ,CAACI,KAAK,CAAC,GAAG,CAAC;QAC9B,IAAIC,YAAY,GAAGF,IAAI,CAAC,CAAC,CAAC;QAC1B;QACAlB,IAAI,CAACqB,OAAO,GAAGD,YAAY;MAC7B;MAEA,IAAIE,OAAO,GAAG,MAAMnB,eAAM,CAACC,OAAO,CAACmB,MAAM,CAACvB,IAAI,CAAC;MAE/CD,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBE,OAAO,EAAE;MACX,CAAC,CAAC;IAEJ,CAAC,CAAC,OAAOc,KAAK,EAAE;MACdzB,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACkB,IAAI,CAAC;QACnBf,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF,CAAC;EAEDgB,MAAM,EAAE,MAAAA,CAAM5B,GAAG,EAACC,GAAG,KAAI;IACvB,IAAI;MACF,IAAIC,IAAI,GAAGF,GAAG,CAACG,IAAI;MAEnB,IAAI0B,aAAa,GAAG,MAAMxB,eAAM,CAACC,OAAO,CAACC,OAAO,CAAC;QAACC,KAAK,EAACN,IAAI,CAACM,KAAK;QAAEsB,GAAG,EAAC;UAACC,GAAG,EAAE7B,IAAI,CAAC4B;QAAG;MAAC,CAAC,CAAC;MAEzF,IAAGD,aAAa,EAAC;QACf5B,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACnBC,IAAI,EAAC,GAAG;UACRC,OAAO,EAAE;QACX,CAAC,CAAC;QACF;MACF;MACAV,IAAI,CAACW,IAAI,GAAGX,IAAI,CAACM,KAAK,CAACM,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,IAAI,EAAC,GAAG,CAAC,CAACA,OAAO,CAAC,UAAU,EAAC,EAAE,CAAC;MAE7E,IAAGf,GAAG,CAACgB,KAAK,IAAIhB,GAAG,CAACgB,KAAK,CAACE,MAAM,EAAC;QAC/B,IAAID,QAAQ,GAAGjB,GAAG,CAACgB,KAAK,CAACE,MAAM,CAACC,IAAI;QACpC,IAAIC,IAAI,GAAGH,QAAQ,CAACI,KAAK,CAAC,GAAG,CAAC;QAC9B,IAAIC,YAAY,GAAGF,IAAI,CAAC,CAAC,CAAC;QAC1B;QACAlB,IAAI,CAACqB,OAAO,GAAGD,YAAY;MAC7B;MAED,MAAMjB,eAAM,CAACC,OAAO,CAAC0B,iBAAiB,CAAC;QAACF,GAAG,EAAC5B,IAAI,CAAC4B;MAAG,CAAC,EAAE5B,IAAI,CAAC;MAE3DD,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBE,OAAO,EAAE;MACX,CAAC,CAAC;IAEJ,CAAC,CAAC,OAAOc,KAAK,EAAE;MACdO,OAAO,CAACC,GAAG,CAAC,cAAc,EAAER,KAAK,CAAC;MAClCzB,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACkB,IAAI,CAAC;QACnBf,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EAEF,CAAC;EAEDuB,IAAI,EAAE,MAAAA,CAAMnC,GAAG,EAACC,GAAG,KAAI;IACrB,IAAI;MACF,IAAImC,MAAM,GAAG,EAAE;MACf,IAAGpC,GAAG,CAACqC,KAAK,CAACC,MAAM,EAAC;QAClBF,MAAM,CAACG,IAAI,CACT;UAAC,OAAO,EAAE,IAAIC,MAAM,CAACxC,GAAG,CAACqC,KAAK,CAACC,MAAM,EAAE,GAAG;QAAC,CAC7C,CAAC;MACH;MACA,IAAGtC,GAAG,CAACqC,KAAK,CAACI,SAAS,EAAC;QACrBL,MAAM,CAACG,IAAI,CACT;UAAC,WAAW,EAAEvC,GAAG,CAACqC,KAAK,CAACI;QAAS,CACnC,CAAC;MACH;MACA,IAAGzC,GAAG,CAACqC,KAAK,CAACK,SAAS,EAAC;QACrBN,MAAM,CAACG,IAAI,CACT;UAAC,WAAW,EAAEvC,GAAG,CAACqC,KAAK,CAACK;QAAS,CACnC,CAAC;MACH;MAEA,IAAIC,QAAQ,GAAG,MAAMtC,eAAM,CAACC,OAAO,CAACsC,IAAI,CAAC;QACvCC,IAAI,EAAET;MACR,CAAC,CAAC,CAACU,QAAQ,CAAC,WAAW,CAAC;;MAExB;;MAEAH,QAAQ,GAAGA,QAAQ,CAACI,GAAG,CAACvB,OAAO,IAAI;QACjC,OAAOwB,kBAAS,CAAC1C,OAAO,CAAC2C,YAAY,CAACzB,OAAO,CAAC;MAEhD,CAAC,CAAC;MACFvB,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBiC,QAAQ,EAAEA;MACZ,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOjB,KAAK,EAAE;MACdzB,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACkB,IAAI,CAAC;QACnBf,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF,CAAC;EAEDsC,WAAW,EAAE,MAAAA,CAAOlD,GAAG,EAAEC,GAAG,KAAK;IACjC,IAAI;MAEF;MACA,MAAMkD,QAAQ,GAAGnD,GAAG,CAACoD,IAAI,CAACtB,GAAG;MAE7BG,OAAO,CAACC,GAAG,CAAClC,GAAG,CAACoD,IAAI,CAAC;MAErB,IAAI,CAACD,QAAQ,EAAE;QACb,OAAOlD,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UAAEE,OAAO,EAAE;QAA2B,CAAC,CAAC;MACtE;;MAEA;MACA,IAAIwB,MAAM,GAAG;QAAEiB,SAAS,EAAEF;MAAS,CAAC;;MAEpC;MACA,IAAInD,GAAG,CAACqC,KAAK,CAACC,MAAM,EAAE;QACpBF,MAAM,CAAC5B,KAAK,GAAG,IAAIgC,MAAM,CAACxC,GAAG,CAACqC,KAAK,CAACC,MAAM,EAAE,GAAG,CAAC;MAClD;MACA,IAAItC,GAAG,CAACqC,KAAK,CAACI,SAAS,EAAE;QACvBL,MAAM,CAACK,SAAS,GAAGzC,GAAG,CAACqC,KAAK,CAACI,SAAS;MACxC;MACA,IAAIzC,GAAG,CAACqC,KAAK,CAACK,SAAS,EAAE;QACvBN,MAAM,CAACM,SAAS,GAAG1C,GAAG,CAACqC,KAAK,CAACK,SAAS;MACxC;;MAEA;MACA,IAAIY,eAAe,GAAG,MAAMjD,eAAM,CAACC,OAAO,CAACsC,IAAI,CAACR,MAAM,CAAC,CAACU,QAAQ,CAAC,WAAW,CAAC;;MAE9E;;MAEC;MACAQ,eAAe,GAAGA,eAAe,CAACP,GAAG,CAACQ,cAAc,IAAI;QACtD,OAAOP,kBAAS,CAAC1C,OAAO,CAAC2C,YAAY,CAACM,cAAc,CAAC;MACvD,CAAC,CAAC;MAEFtD,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAAE4C;MAAgB,CAAC,CAAC;IAE3C,CAAC,CAAC,OAAO5B,KAAK,EAAE;MACdO,OAAO,CAACP,KAAK,CAACA,KAAK,CAAC;MACpBzB,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACkB,IAAI,CAAC;QAAEf,OAAO,EAAE;MAAsB,CAAC,CAAC;IAC1D;EACF,CAAC;EAGC4C,MAAM,EAAE,MAAAA,CAAMxD,GAAG,EAACC,GAAG,KAAI;IACvB,IAAI;MACF,IAAI6B,GAAG,GAAG9B,GAAG,CAACqC,KAAK,CAACP,GAAG;MACvB,MAAMzB,eAAM,CAACC,OAAO,CAACmD,iBAAiB,CAAC;QAAC3B,GAAG,EAACA;MAAG,CAAC,CAAC;MAEjD7B,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBgD,OAAO,EAAE;MACX,CAAC,CAAC;IAGJ,CAAC,CAAC,OAAOhC,KAAK,EAAE;MACdzB,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACkB,IAAI,CAAC;QACnBf,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EAEF,CAAC;EAED+C,cAAc,EAAE,MAAAA,CAAM3D,GAAG,EAACC,GAAG,KAAI;IAC/B,IAAI;MACI,IAAI2D,GAAG,GAAG5D,GAAG,CAAC6D,MAAM,CAAC,KAAK,CAAC;MAC3BC,WAAE,CAACC,IAAI,CAAC,oBAAoB,GAAEH,GAAG,EAAE,UAASI,GAAG,EAAC;QAC5C,IAAG,CAACA,GAAG,EAAC;UACJ,IAAIC,QAAQ,GAAG,oBAAoB,GAACL,GAAG;UACvC3D,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACyD,QAAQ,CAAC/C,aAAI,CAACgD,OAAO,CAACF,QAAQ,CAAC,CAAC;QACpD,CAAC,MAAI;UACD,IAAIA,QAAQ,GAAG,uBAAuB;UACtChE,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACyD,QAAQ,CAAC/C,aAAI,CAACgD,OAAO,CAACF,QAAQ,CAAC,CAAC;QACpD;MACJ,CAAC,CAAC;IACN,CAAC,QAAOvC,KAAK,EAAE;MACbzB,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACkB,IAAI,CAAC;QACnBf,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACN,CAAC;EAEDwD,IAAI,EAAE,MAAAA,CAAMpE,GAAG,EAACC,GAAG,KAAI;IACrB,IAAI;MACF,IAAIoE,UAAU,GAAGrE,GAAG,CAAC6D,MAAM,CAACS,EAAE;MAC9B,IAAIC,OAAO,GAAG,MAAMlE,eAAM,CAACC,OAAO,CAACkE,QAAQ,CAAC;QAAC1C,GAAG,EAAEuC;MAAU,CAAC,CAAC;MAE9D,IAAII,UAAU,GAAG,MAAMpE,eAAM,CAACqE,QAAQ,CAAC9B,IAAI,CAAC;QAACpB,OAAO,EAAE6C;MAAU,CAAC,CAAC;MAElEpE,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBc,OAAO,EAAEwB,kBAAS,CAAC1C,OAAO,CAAC2C,YAAY,CAACsB,OAAO,EAAEE,UAAU;MAC7D,CAAC,CAAC;IAEJ,CAAC,CAAC,OAAO/C,KAAK,EAAE;MACdzB,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACkB,IAAI,CAAC;QACnBf,OAAO,EAAE;MACX,CAAC,CAAC;MACFqB,OAAO,CAACC,GAAG,CAACR,KAAK,CAAC;IACpB;EAEF,CAAC;EAEDiD,eAAe,EAAE,MAAAA,CAAM3E,GAAG,EAACC,GAAG,KAAI;IAChC,IAAI;MACA,IAAIgB,QAAQ,GAAGjB,GAAG,CAACgB,KAAK,CAACE,MAAM,CAACC,IAAI;MACpC,IAAIC,IAAI,GAAGH,QAAQ,CAACI,KAAK,CAAC,GAAG,CAAC;MAC9B,IAAIuD,WAAW,GAAGxD,IAAI,CAAC,CAAC,CAAC;MAEzB,IAAII,OAAO,GAAG,MAAMnB,eAAM,CAACC,OAAO,CAAC0B,iBAAiB,CAAC;QAACF,GAAG,EAAE9B,GAAG,CAACG,IAAI,CAAC2B;MAAG,CAAC,EAAE;QACxE+C,KAAK,EAAE;UACLC,QAAQ,EAAC;YACP5D,MAAM,EAAE0D,WAAW;YACnB9C,GAAG,EAAE9B,GAAG,CAACG,IAAI,CAAC4E;UAChB;QACF;MACF,CAAC,CAAC;MACF9E,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBE,OAAO,EAAE,kCAAkC;QAC3CM,MAAM,EAAE;UACNA,MAAM,EAAE8D,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,gCAAgC,GAACN,WAAW;UAC1E9C,GAAG,EAAE9B,GAAG,CAACG,IAAI,CAAC4E;QAClB;MACF,CAAC,CAAC;IAEN,CAAC,CAAC,OAAOrD,KAAK,EAAE;MACdzB,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACkB,IAAI,CAAC;QACnBf,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EAEF,CAAC;EAEDuE,aAAa,EAAC,MAAAA,CAAMnF,GAAG,EAACC,GAAG,KAAI;IAC7B,IAAI;MACD,MAAMI,eAAM,CAACC,OAAO,CAAC0B,iBAAiB,CAAC;QAACF,GAAG,EAAE9B,GAAG,CAACG,IAAI,CAAC2B;MAAG,CAAC,EAAE;QACzDsD,KAAK,EAAE;UACLN,QAAQ,EAAC;YACPhD,GAAG,EAAE9B,GAAG,CAACG,IAAI,CAAC4E;UAChB;QACF;MACF,CAAC,CAAC;MACF9E,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBE,OAAO,EAAE;MACX,CAAC,CAAC;IAEN,CAAC,CAAC,OAAOc,KAAK,EAAE;MACdzB,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACkB,IAAI,CAAC;QACnBf,OAAO,EAAE;MACX,CAAC,CAAC;IAEJ;EAEF;AAIF,CAAC","ignoreList":[]}},"mtime":1750080552365},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/VariedadController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let variedad_exits = await _models.default.Variedad.findOne({\n        valor: data.valor,\n        product: data.product\n      });\n      var variedad = null;\n      if (variedad_exits) {\n        data.stock = variedad_exits.stock + data.stock;\n        await _models.default.Variedad.findByIdAndUpdate({\n          _id: variedad_exits._id\n        }, data);\n        variedad = await _models.default.Variedad.findById({\n          _id: variedad_exits._id\n        });\n      } else {\n        variedad = await _models.default.Variedad.create(data);\n      }\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      await _models.default.Variedad.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let variedad = await _models.default.Variedad.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.params.id;\n      await _models.default.Variedad.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: \"Se elimino la variedad\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5IiwidmFyaWVkYWRfZXhpdHMiLCJtb2RlbHMiLCJWYXJpZWRhZCIsImZpbmRPbmUiLCJ2YWxvciIsInByb2R1Y3QiLCJ2YXJpZWRhZCIsInN0b2NrIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJfaWQiLCJmaW5kQnlJZCIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJzZW5kIiwibWVzc2FnZSIsInVwZGF0ZSIsImRlbGV0ZSIsInBhcmFtcyIsImlkIiwiZmluZEJ5SWRBbmREZWxldGUiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJWYXJpZWRhZENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5cblxuZXhwb3J0IGRlZmF1bHR7XG5cbiAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcblxuICAgICAgbGV0IHZhcmllZGFkX2V4aXRzID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRPbmUoe3ZhbG9yOiBkYXRhLnZhbG9yLCBwcm9kdWN0OiBkYXRhLnByb2R1Y3R9KTtcblxuICAgICAgdmFyIHZhcmllZGFkID0gbnVsbDtcblxuICAgICAgaWYodmFyaWVkYWRfZXhpdHMpe1xuICAgICAgICBkYXRhLnN0b2NrID0gdmFyaWVkYWRfZXhpdHMuc3RvY2sgKyBkYXRhLnN0b2NrO1xuICAgICAgICBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogdmFyaWVkYWRfZXhpdHMuX2lkfSwgZGF0YSk7XG4gICAgICAgIHZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkKHtfaWQ6IHZhcmllZGFkX2V4aXRzLl9pZH0pO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmNyZWF0ZShkYXRhKTtcbiAgICAgIH1cblxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICB2YXJpZWRhZDogdmFyaWVkYWQgXG4gICAgICB9KTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KVxuICAgIH1cbiAgfSxcblxuICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcblxuICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6ZGF0YS5faWR9LGRhdGEpO1xuICAgICAgXG4gICAgICBsZXQgdmFyaWVkYWQgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWQoe19pZDpkYXRhLl9pZH0pO1xuXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIHZhcmllZGFkOiB2YXJpZWRhZCBcbiAgICAgIH0pO1xuICAgICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxuICAgICAgfSlcbiAgICB9XG4gIH0sXG4gIGRlbGV0ZTogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgXG4gICAgdHJ5IHtcbiAgICAgIGxldCBfaWQ9IHJlcS5wYXJhbXMuaWQ7XG4gICAgIFxuICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6X2lkfSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJTZSBlbGltaW5vIGxhIHZhcmllZGFkXCJcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxuICAgICAgfSlcbiAgICB9XG4gIH0sXG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUErQixTQUFBRCx1QkFBQUUsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBR2pCO0VBRVpHLFFBQVEsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUMxQixJQUFJO01BQ0YsSUFBSUMsSUFBSSxHQUFHRixHQUFHLENBQUNHLElBQUk7TUFFbkIsSUFBSUMsY0FBYyxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsUUFBUSxDQUFDQyxPQUFPLENBQUM7UUFBQ0MsS0FBSyxFQUFFTixJQUFJLENBQUNNLEtBQUs7UUFBRUMsT0FBTyxFQUFFUCxJQUFJLENBQUNPO01BQU8sQ0FBQyxDQUFDO01BRTlGLElBQUlDLFFBQVEsR0FBRyxJQUFJO01BRW5CLElBQUdOLGNBQWMsRUFBQztRQUNoQkYsSUFBSSxDQUFDUyxLQUFLLEdBQUdQLGNBQWMsQ0FB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","map":{"version":3,"names":["_models","_interopRequireDefault","require","e","__esModule","default","_default","exports","register","req","res","data","body","variedad_exits","models","Variedad","findOne","valor","product","variedad","stock","findByIdAndUpdate","_id","findById","create","status","json","error","console","log","send","message","update","delete","params","id","findByIdAndDelete"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["VariedadController.js"],"sourcesContent":["import models from \"../models\";\n\n\nexport default{\n\n  register: async(req,res) => {\n    try {\n      let data = req.body;\n\n      let variedad_exits = await models.Variedad.findOne({valor: data.valor, product: data.product});\n\n      var variedad = null;\n\n      if(variedad_exits){\n        data.stock = variedad_exits.stock + data.stock;\n        await models.Variedad.findByIdAndUpdate({_id: variedad_exits._id}, data);\n        variedad = await models.Variedad.findById({_id: variedad_exits._id});\n      }else{\n        variedad = await models.Variedad.create(data);\n      }\n\n      res.status(200).json({\n        variedad: variedad \n      });\n\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      })\n    }\n  },\n\n  update: async(req,res) => {\n    try {\n      let data = req.body;\n\n      await models.Variedad.findByIdAndUpdate({_id:data._id},data);\n      \n      let variedad = await models.Variedad.findById({_id:data._id});\n\n      res.status(200).json({\n        variedad: variedad \n      });\n        \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      })\n    }\n  },\n  delete: async(req,res) => {\n   \n    try {\n      let _id= req.params.id;\n     \n      await models.Variedad.findByIdAndDelete({_id:_id});\n\n      res.status(200).json({\n        message: \"Se elimino la variedad\"\n      });\n      \n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      })\n    }\n  },\n}\n"],"mappings":"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","ignoreList":[]}},"mtime":1737600006827},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _SliderController = _interopRequireDefault(require(\"../controllers/SliderController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/slider'\n});\nconst router = (0, _expressPromiseRouter.default)();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _SliderController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _SliderController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _SliderController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _SliderController.default.remove);\nrouter.get(\"/uploads/slider/:img\", _SliderController.default.obtener_imagen);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9TbGlkZXJDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJwYXRoIiwibXVsdGlwYXJ0eSIsInVwbG9hZERpciIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwic2xpZGVyQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSIsIm9idGVuZXJfaW1hZ2VuIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbIlNsaWRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiXG5pbXBvcnQgc2xpZGVyQ29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvU2xpZGVyQ29udHJvbGxlclwiXG5pbXBvcnQgYXV0aCBmcm9tIFwiLi4vbWlkZGxld2FyZXMvYXV0aFwiXG5pbXBvcnQgbXVsdGlwYXJ0eSBmcm9tICdjb25uZWN0LW11bHRpcGFydHknO1xuXG5cbnZhciBwYXRoID0gbXVsdGlwYXJ0eSh7dXBsb2FkRGlyOicuL3VwbG9hZHMvc2xpZGVyJ30pO1xuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG4vLyBwcm9jZXNzLmVudi5VUkxfQkFDS0VORC9hcGkvdXNlcnMvcmVnaXN0ZXJcblxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGhdLHNsaWRlckNvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnB1dChcIi91cGRhdGVcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxzbGlkZXJDb250cm9sbGVyLnVwZGF0ZSk7XG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUFkbWluLHNsaWRlckNvbnRyb2xsZXIubGlzdCk7XG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLGF1dGgudmVyaWZ5QWRtaW4sc2xpZGVyQ29udHJvbGxlci5yZW1vdmUpO1xuXG5yb3V0ZXIuZ2V0KFwiL3VwbG9hZHMvc2xpZGVyLzppbWdcIixzbGlkZXJDb250cm9sbGVyLm9idGVuZXJfaW1hZ2VuKTtcblxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsaUJBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLGtCQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBNEMsU0FBQUQsdUJBQUFLLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFHNUMsSUFBSUcsSUFBSSxHQUFHLElBQUFDLDBCQUFVLEVBQUM7RUFBQ0MsU0FBUyxFQUFDO0FBQWtCLENBQUMsQ0FBQztBQUNyRCxNQUFNQyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDOztBQUV4Qjs7QUFFQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFFUCxJQUFJLENBQUMsRUFBQ1EseUJBQWdCLENBQUNDLFFBQVEsQ0FBQztBQUM1RU4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDLENBQUNKLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EseUJBQWdCLENBQUNHLE1BQU0sQ0FBQztBQUNyRVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MseUJBQWdCLENBQUNLLElBQUksQ0FBQztBQUMxRFYsTUFBTSxDQUFDVyxNQUFNLENBQUMsU0FBUyxFQUFDUixhQUFJLENBQUNDLFdBQVcsRUFBQ0MseUJBQWdCLENBQUNPLE1BQU0sQ0FBQztBQUVqRVosTUFBTSxDQUFDUyxHQUFHLENBQUMsc0JBQXNCLEVBQUNKLHlCQUFnQixDQUFDUSxjQUFjLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQW5CLE9BQUEsR0FHcERJLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_SliderController","_auth","_connectMultiparty","e","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","sliderController","register","put","update","get","list","delete","remove","obtener_imagen","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Slider.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport sliderController from \"../controllers/SliderController\"\nimport auth from \"../middlewares/auth\"\nimport multiparty from 'connect-multiparty';\n\n\nvar path = multiparty({uploadDir:'./uploads/slider'});\nconst router = routerx();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [auth.verifyAdmin, path],sliderController.register);\nrouter.put(\"/update\",[auth.verifyAdmin,path],sliderController.update);\nrouter.get(\"/list\",auth.verifyAdmin,sliderController.list);\nrouter.delete(\"/delete\",auth.verifyAdmin,sliderController.remove);\n\nrouter.get(\"/uploads/slider/:img\",sliderController.obtener_imagen);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,iBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA4C,SAAAD,uBAAAK,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAG5C,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAC;AAAkB,CAAC,CAAC;AACrD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAACQ,yBAAgB,CAACC,QAAQ,CAAC;AAC5EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAC,CAACJ,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,yBAAgB,CAACG,MAAM,CAAC;AACrER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACK,IAAI,CAAC;AAC1DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAACR,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACO,MAAM,CAAC;AAEjEZ,MAAM,CAACS,GAAG,CAAC,sBAAsB,EAACJ,yBAAgB,CAACQ,cAAc,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAnB,OAAA,GAGpDI,MAAM","ignoreList":[]}},"mtime":1741488788318},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/SliderController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      //console.log(req.files);\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      const slider = await _models.default.Slider.create(req.body);\n      res.status(200).json(slider);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Slider.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let SliderT = await _models.default.Slider.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL SLIDER SE HA MODIFICADO CORRECTAMENTE\",\n        slider: _resourses.default.Slider.slider_list(SliderT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Sliders = await _models.default.Slider.find({\n        $or: [{\n          \"title\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Sliders = Sliders.map(user => {\n        return _resourses.default.Slider.slider_list(user);\n      });\n      res.status(200).json({\n        sliders: Sliders\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/slider/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/slider/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Slider.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"  EL SLIDER SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3Vyc2VzIiwiX2ZzIiwiX3BhdGgiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImZpbGVzIiwiaW1nX3BhdGgiLCJwb3J0YWRhIiwicGF0aCIsIm5hbWUiLCJzcGxpdCIsInBvcnRhZGFfbmFtZSIsImJvZHkiLCJpbWFnZW4iLCJzbGlkZXIiLCJtb2RlbHMiLCJTbGlkZXIiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsIlNsaWRlclQiLCJmaW5kT25lIiwicmVzb3Vyc2UiLCJzbGlkZXJfbGlzdCIsImxpc3QiLCJzZWFyY2giLCJxdWVyeSIsIlNsaWRlcnMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsInVzZXIiLCJzbGlkZXJzIiwib2J0ZW5lcl9pbWFnZW4iLCJpbWciLCJwYXJhbXMiLCJmcyIsInN0YXQiLCJlcnIiLCJwYXRoX2ltZyIsInNlbmRGaWxlIiwicmVzb2x2ZSIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiU2xpZGVyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcbmltcG9ydCByZXNvdXJzZSBmcm9tICcuLi9yZXNvdXJzZXMnXG5pbXBvcnQgZnMgZnJvbSAnZnMnXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy9jb25zb2xlLmxvZyhyZXEuZmlsZXMpO1xuICAgICAgIGlmKHJlcS5maWxlcyl7XG4gICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMucG9ydGFkYS5wYXRoO1xuICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgICAvL2NvbnNvbGUubG9nKHBvcnRhZGFfbmFtZSlcbiAgICAgICAgIHJlcS5ib2R5LmltYWdlbiA9IHBvcnRhZGFfbmFtZTtcbiAgICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHNsaWRlciA9IGF3YWl0IG1vZGVscy5TbGlkZXIuY3JlYXRlKHJlcS5ib2R5KTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHNsaWRlcik7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuICB9LFxuICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgIGlmKHJlcS5maWxlcyAmJiByZXEuZmlsZXMucG9ydGFkYSl7XG4gICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMucG9ydGFkYS5wYXRoO1xuICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgICAvL2NvbnNvbGUubG9nKHBvcnRhZGFfbmFtZSlcbiAgICAgICByZXEuYm9keS5pbWFnZW4gPSBwb3J0YWRhX25hbWU7XG4gICAgICAgfVxuXG4gICAgIGF3YWl0IG1vZGVscy5TbGlkZXIuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkfSxyZXEuYm9keSk7XG5cbiAgICAgbGV0IFNsaWRlclQgPSBhd2FpdCBtb2RlbHMuU2xpZGVyLmZpbmRPbmUoe19pZDogcmVxLmJvZHkuX2lkfSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJFTCBTTElERVIgU0UgSEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFXCIsXG4gICAgICAgIHNsaWRlcjogcmVzb3Vyc2UuU2xpZGVyLnNsaWRlcl9saXN0KFNsaWRlclQpLFxuICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cblxuICB9LFxuICBsaXN0OiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoO1xuICAgICAgbGV0IFNsaWRlcnMgID0gYXdhaXQgbW9kZWxzLlNsaWRlci5maW5kKHtcbiAgICAgICAgJG9yOltcbiAgICAgICAgICB7XCJ0aXRsZVwiOiBuZXcgUmVnRXhwKHNlYXJjaCwgXCJpXCIpfSxcbiAgICAgICAgXVxuICAgIH0pLnNvcnQoeydjcmVhdGVkQXQnOi0xfSk7XG5cbiAgICBTbGlkZXJzID0gU2xpZGVycy5tYXAoKHVzZXIpID0+IHtcbiAgICAgIHJldHVybiByZXNvdXJzZS5TbGlkZXIuc2xpZGVyX2xpc3QodXNlcik7XG4gICAgfSlcblxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgIHNsaWRlcnM6IFNsaWRlcnNcbiAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgXG4gICAgfVxuICB9LFxuICBvYnRlbmVyX2ltYWdlbjogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBpbWcgPSByZXEucGFyYW1zWydpbWcnXTtcbiAgICAgICAgXG5cbiAgICAgICAgZnMuc3RhdCgnLi91cGxvYWRzL3NsaWRlci8nKyBpbWcsIGZ1bmN0aW9uKGVycil7XG4gICAgICAgICAgICBpZighZXJyKXtcbiAgICAgICAgICAgICAgICBsZXQgcGF0aF9pbWcgPSAnLi91cGxvYWRzL3NsaWRlci8nK2ltZztcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBsZXQgcGF0aF9pbWcgPSAnLi91cGxvYWRzL2RlZmF1bHQuanBnJztcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfWNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cbiAgfSxcbiAgcmVtb3ZlOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IG1vZGVscy5TbGlkZXIuZmluZEJ5SWRBbmREZWxldGUoe19pZDogcmVxLnF1ZXJ5Ll9pZH0pO1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiBcIiAgRUwgU0xJREVSIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG4gIH0sXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxHQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxLQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBdUIsU0FBQUQsdUJBQUFLLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUdSO0VBQ2JHLFFBQVEsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUMxQixJQUFJO01BQ0Y7TUFDQyxJQUFHRCxHQUFHLENBQUNFLEtBQUssRUFBQztRQUNYLElBQUlDLFFBQVEsR0FBR0gsR0FBRyxDQUFDRSxLQUFLLENBQUNFLE9BQU8sQ0FBQ0MsSUFBSTtRQUNyQyxJQUFJQyxJQUFJLEdBQUdILFFBQVEsQ0FBQ0ksS0FBSyxDQUFDLEdBQUcsQ0FBQztRQUM5QixJQUFJQyxZQUFZLEdBQUdGLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDMUI7UUFDQU4sR0FBRyxDQUFDUyxJQUFJLENBQUNDLE1BQU0sR0FBR0YsWUFBWTtNQUNoQztNQUVELE1BQU1HLE1BQU0sR0FBRyxNQUFNQyxlQUFNLENBQUNDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDZCxHQUFHLENBQUNTLElBQUksQ0FBQztNQUNuRFIsR0FBRyxDQUFDYyxNQUFN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QUFDO0lBRXBCO0VBQ0YsQ0FBQztFQUNEdUIsY0FBYyxFQUFFLE1BQUFBLENBQU14QyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUNoQyxJQUFJO01BQ0EsSUFBSXdDLEdBQUcsR0FBR3pDLEdBQUcsQ0FBQzBDLE1BQU0sQ0FBQyxLQUFLLENBQUM7TUFHM0JDLFdBQUUsQ0FBQ0MsSUFBSSxDQUFDLG1CQUFtQixHQUFFSCxHQUFHLEVBQUUsVUFBU0ksR0FBRyxFQUFDO1FBQzNDLElBQUcsQ0FBQ0EsR0FBRyxFQUFDO1VBQ0osSUFBSUMsUUFBUSxHQUFHLG1CQUFtQixHQUFDTCxHQUFHO1VBQ3RDeEMsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNnQyxRQUFRLENBQUMxQyxhQUFJLENBQUMyQyxPQUFPLENBQUNGLFFBQVEsQ0FBQyxDQUFDO1FBQ3BELENBQUMsTUFBSTtVQUNELElBQUlBLFFBQVEsR0FBRyx1QkFBdUI7VUFDdEM3QyxHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ2dDLFFBQVEsQ0FBQzFDLGFBQUksQ0FBQzJDLE9BQU8sQ0FBQ0YsUUFBUSxDQUFDLENBQUM7UUFDcEQ7TUFDSixDQUFDLENBQUM7SUFDTixDQUFDLFFBQU83QixLQUFLLEVBQUU7TUFDYmhCLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFDbkJDLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztNQUNGQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3BCO0VBQ0YsQ0FBQztFQUNEZ0MsTUFBTSxFQUFFLE1BQUFBLENBQU1qRCxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUN4QixJQUFJO01BQ0YsTUFBTVcsZUFBTSxDQUFDQyxNQUFNLENBQUNxQyxpQkFBaUIsQ0FBQztRQUFDMUIsR0FBRyxFQUFFeEIsR0FBRyxDQUFDK0IsS0FBSyxDQUFDUDtNQUFHLENBQUMsQ0FBQztNQUMzRHZCLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDbkJHLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQyxPQUFPRixLQUFLLEVBQUU7TUFDZGhCLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFDbkJDLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztNQUNGQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3BCO0VBQ0Y7QUFDRixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resourses","_fs","_path","e","__esModule","default","_default","exports","register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","slider","models","Slider","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","SliderT","findOne","resourse","slider_list","list","search","query","Sliders","find","$or","RegExp","sort","map","user","sliders","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","remove","findByIdAndDelete"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["SliderController.js"],"sourcesContent":["import models from \"../models\";\nimport resourse from '../resourses'\nimport fs from 'fs'\nimport path from 'path'\n\n\nexport default {\n  register: async(req,res) => {\n    try {\n      //console.log(req.files);\n       if(req.files){\n         var img_path = req.files.portada.path;\n         var name = img_path.split('/');\n         var portada_name = name[2];\n         //console.log(portada_name)\n         req.body.imagen = portada_name;\n       }\n      \n      const slider = await models.Slider.create(req.body);\n      res.status(200).json(slider);\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n  update: async(req,res) => {\n    try {\n       if(req.files && req.files.portada){\n         var img_path = req.files.portada.path;\n         var name = img_path.split('/');\n         var portada_name = name[2];\n         //console.log(portada_name)\n       req.body.imagen = portada_name;\n       }\n\n     await models.Slider.findByIdAndUpdate({_id: req.body._id},req.body);\n\n     let SliderT = await models.Slider.findOne({_id: req.body._id});\n\n      res.status(200).json({\n        message: \"EL SLIDER SE HA MODIFICADO CORRECTAMENTE\",\n        slider: resourse.Slider.slider_list(SliderT),\n      })\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n\n  },\n  list: async(req,res) => {\n    try {\n      var search = req.query.search;\n      let Sliders  = await models.Slider.find({\n        $or:[\n          {\"title\": new RegExp(search, \"i\")},\n        ]\n    }).sort({'createdAt':-1});\n\n    Sliders = Sliders.map((user) => {\n      return resourse.Slider.slider_list(user);\n    })\n\n    res.status(200).json({\n      sliders: Sliders\n    });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n      \n    }\n  },\n  obtener_imagen: async(req,res) => {\n    try {\n        var img = req.params['img'];\n        \n\n        fs.stat('./uploads/slider/'+ img, function(err){\n            if(!err){\n                let path_img = './uploads/slider/'+img;\n                res.status(200).sendFile(path.resolve(path_img));\n            }else{\n                let path_img = './uploads/default.jpg';\n                res.status(200).sendFile(path.resolve(path_img));\n            }\n        })\n    }catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async(req,res) => {\n    try {\n      await models.Slider.findByIdAndDelete({_id: req.query._id});\n      res.status(200).json({\n        message: \"  EL SLIDER SE ELIMINO CORRECTAMENTE\",\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n}"],"mappings":"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","ignoreList":[]}},"mtime":1737838781510},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Cupone.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CuponeController = _interopRequireDefault(require(\"../controllers/CuponeController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyAdmin, _CuponeController.default.register);\nrouter.put(\"/update\", _auth.default.verifyAdmin, _CuponeController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CuponeController.default.list);\nrouter.get(\"/config\", _auth.default.verifyAdmin, _CuponeController.default.config);\nrouter.get(\"/show\", _auth.default.verifyAdmin, _CuponeController.default.show);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CuponeController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DdXBvbmVDb250cm9sbGVyIiwiX2F1dGgiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlBZG1pbiIsImN1cG9uZUNvbnRyb2xsZXIiLCJyZWdpc3RlciIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJjb25maWciLCJzaG93IiwiZGVsZXRlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbIkN1cG9uZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xuaW1wb3J0IGN1cG9uZUNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvQ3Vwb25lQ29udHJvbGxlcidcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXG5cbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcblxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIixhdXRoLnZlcmlmeUFkbWluLGN1cG9uZUNvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUFkbWluLGN1cG9uZUNvbnRyb2xsZXIudXBkYXRlKTtcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sY3Vwb25lQ29udHJvbGxlci5saXN0KTtcbnJvdXRlci5nZXQoXCIvY29uZmlnXCIsYXV0aC52ZXJpZnlBZG1pbixjdXBvbmVDb250cm9sbGVyLmNvbmZpZyk7XG5yb3V0ZXIuZ2V0KFwiL3Nob3dcIixhdXRoLnZlcmlmeUFkbWluLGN1cG9uZUNvbnRyb2xsZXIuc2hvdyk7XG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLGF1dGgudmVyaWZ5QWRtaW4sY3Vwb25lQ29udHJvbGxlci5kZWxldGUpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsaUJBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUksQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUV0QyxNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBRXhCRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0MsUUFBUSxDQUFDO0FBQ25FTixNQUFNLENBQUNPLEdBQUcsQ0FBQyxTQUFTLEVBQUNKLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0csTUFBTSxDQUFDO0FBQzlEUixNQUFNLENBQUNTLEdBQUcsQ0FBQyxPQUFPLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0ssSUFBSSxDQUFDO0FBQzFEVixNQUFNLENBQUNTLEdBQUcsQ0FBQyxTQUFTLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ00sTUFBTSxDQUFDO0FBQzlEWCxNQUFNLENBQUNTLEdBQUcsQ0FBQyxPQUFPLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ08sSUFBSSxDQUFDO0FBQzFEWixNQUFNLENBQUNhLE1BQU0sQ0FBQyxTQUFTLEVBQUNWLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ1EsTUFBTSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFoQixPQUFBLEdBRW5EQyxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CuponeController","_auth","e","__esModule","default","router","routerx","post","auth","verifyAdmin","cuponeController","register","put","update","get","list","config","show","delete","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Cupone.js"],"sourcesContent":["import routerx from 'express-promise-router'\nimport cuponeController from '../controllers/CuponeController'\nimport auth from '../middlewares/auth'\n\nconst router = routerx();\n\nrouter.post(\"/register\",auth.verifyAdmin,cuponeController.register);\nrouter.put(\"/update\",auth.verifyAdmin,cuponeController.update);\nrouter.get(\"/list\",auth.verifyAdmin,cuponeController.list);\nrouter.get(\"/config\",auth.verifyAdmin,cuponeController.config);\nrouter.get(\"/show\",auth.verifyAdmin,cuponeController.show);\nrouter.delete(\"/delete\",auth.verifyAdmin,cuponeController.delete);\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,iBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACC,QAAQ,CAAC;AACnEN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACG,MAAM,CAAC;AAC9DR,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACK,IAAI,CAAC;AAC1DV,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACM,MAAM,CAAC;AAC9DX,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACO,IAAI,CAAC;AAC1DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACQ,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAEnDC,MAAM","ignoreList":[]}},"mtime":1738074332387},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/CuponeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      const {\n        rol,\n        _id\n      } = req.user;\n      const {\n        code,\n        type_discount,\n        discount,\n        type_count,\n        num_use,\n        type_segment,\n        products = [],\n        categories = []\n      } = req.body;\n\n      // Validación básica de campos obligatorios\n      if (!code || !type_discount || !discount || !type_count || !type_segment) {\n        return res.status(400).json({\n          message: 400,\n          message_text: \"Faltan campos obligatorios\"\n        });\n      }\n      if (type_count == 2 && (!num_use || num_use < 1)) {\n        return res.status(400).json({\n          message: 400,\n          message_text: \"Debes indicar el número de usos\"\n        });\n      }\n      if (type_segment == 1 && (!products || products.length === 0)) {\n        return res.status(400).json({\n          message: 400,\n          message_text: \"Debes seleccionar al menos un producto\"\n        });\n      }\n      if (type_segment == 2 && (!categories || categories.length === 0)) {\n        return res.status(400).json({\n          message: 400,\n          message_text: \"Debes seleccionar al menos una categoría\"\n        });\n      }\n\n      // Validación de permisos para emprendedor\n      if (rol === \"emprendedor\") {\n        // Validar productos\n        if (type_segment == 1 && products.length > 0) {\n          const myProducts = await _models.default.Product.find({\n            seller_id: _id\n          });\n          const myProductIds = myProducts.map(p => p._id.toString());\n          const invalid = products.some(p => !myProductIds.includes(p._id));\n          if (invalid) {\n            return res.status(403).json({\n              message: 403,\n              message_text: \"No puedes crear cupones para productos que no son tuyos\"\n            });\n          }\n        }\n        // Validar categorías\n        if (type_segment == 2 && categories.length > 0) {\n          const myProducts = await _models.default.Product.find({\n            seller_id: _id\n          });\n          const myCategoryIds = [...new Set(myProducts.map(p => p.categorie.toString()))];\n          const invalid = categories.some(c => !myCategoryIds.includes(c._id));\n          if (invalid) {\n            return res.status(403).json({\n              message: 403,\n              message_text: \"No puedes crear cupones para categorías donde no tienes productos\"\n            });\n          }\n        }\n      }\n\n      // Crear el cupón\n      const newCupone = new _models.default.Cupone({\n        code,\n        type_discount,\n        discount,\n        type_count,\n        num_use: type_count == 2 ? num_use : null,\n        type_segment,\n        products: products.map(p => p._id),\n        categories: categories.map(c => c._id),\n        creator: _id // puedes guardar quién creó el cupón si lo deseas\n      });\n      await newCupone.save();\n      return res.status(200).json({\n        message: 200,\n        message_text: \"Cupón creado correctamente\"\n      });\n    } catch (error) {\n      console.error(error);\n      return res.status(500).json({\n        message: 500,\n        message_text: \"Error al registrar cupón\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let exits_cupone = await _models.default.Cupone.findOne({\n        code: data.code,\n        _id: {\n          $ne: data._id\n        }\n      });\n      if (exits_cupone) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n        });\n        return;\n      }\n      let cupone = await _models.default.Cupone.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let cuponeT = await _models.default.Cupone.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"El cupón se actualizó satisfactoriamente\",\n        cupone: cuponeT\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Cupone.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"El cupón se eliminó satisfactoriamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  // list: async(req,res) => {\n  //     try {\n  //         let search = req.query.search;\n\n  //         let cupones = await models.Cupone.find({\n  //             $or:[\n  //                 {\"code\": new RegExp(search, \"i\")},\n  //             ]\n  //         }).sort({'createdAt': -1});\n\n  //         res.status(200).json({\n  //             message: 200,\n  //             cupones: cupones,\n  //         });\n\n  //     } catch (error) {\n  //         res.status(500).send({\n  //             message: \"OCURRIO UN ERROR\",\n  //         });\n  //     }\n  // },\n\n  list: async (req, res) => {\n    try {\n      const search = req.query.search || '';\n      const regex = new RegExp(search, \"i\");\n      const {\n        rol,\n        _id\n      } = req.user;\n      let filter = {\n        code: {\n          $regex: regex\n        }\n      };\n      if (rol === \"emprendedor\") {\n        // Solo los cupones creados por el emprendedor\n        filter.creator = _id;\n      }\n      // Admin ve todos los cupones\n\n      const cupones = await _models.default.Cupone.find(filter).sort({\n        createdAt: -1\n      });\n      res.status(200).json({\n        cupones\n      });\n    } catch (error) {\n      res.status(500).json({\n        message: \"Error al obtener cupones\"\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      let cupone_id = req.query.cupone_id;\n      let cupon = await _models.default.Cupone.findOne({\n        _id: cupone_id\n      });\n      res.status(200).json({\n        message: 200,\n        cupon: cupon\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      const {\n        rol,\n        _id\n      } = req.user;\n      let categories, products;\n      if (rol === \"admin\") {\n        categories = await _models.default.Categorie.find();\n        products = await _models.default.Product.find();\n      } else if (rol === \"emprendedor\") {\n        // Solo productos del emprendedor\n        products = await _models.default.Product.find({\n          seller_id: _id\n        });\n        // Solo categorías donde tiene productos\n        const categoryIds = [...new Set(products.map(p => p.categorie.toString()))];\n        categories = await _models.default.Categorie.find({\n          _id: {\n            $in: categoryIds\n          }\n        });\n      } else {\n        return res.status(403).json({\n          message: \"No autorizado\"\n        });\n      }\n      res.status(200).json({\n        categories,\n        products\n      });\n    } catch (error) {\n      res.status(500).json({\n        message: \"Error al obtener configuración de cupones\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsInJvbCIsIl9pZCIsInVzZXIiLCJjb2RlIiwidHlwZV9kaXNjb3VudCIsImRpc2NvdW50IiwidHlwZV9jb3VudCIsIm51bV91c2UiLCJ0eXBlX3NlZ21lbnQiLCJwcm9kdWN0cyIsImNhdGVnb3JpZXMiLCJib2R5Iiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJtZXNzYWdlX3RleHQiLCJsZW5ndGgiLCJteVByb2R1Y3RzIiwibW9kZWxzIiwiUHJvZHVjdCIsImZpbmQiLCJzZWxsZXJfaWQiLCJteVByb2R1Y3RJZHMiLCJtYXAiLCJwIiwidG9TdHJpbmciLCJpbnZhbGlkIiwic29tZSIsImluY2x1ZGVzIiwibXlDYXRlZ29yeUlkcyIsIlNldCIsImNhdGVnb3JpZSIsImMiLCJuZXdDdXBvbmUiLCJDdXBvbmUiLCJjcmVhdG9yIiwic2F2ZSIsImVycm9yIiwiY29uc29sZSIsInVwZGF0ZSIsImRhdGEiLCJleGl0c19jdXBvbmUiLCJmaW5kT25lIiwiJG5lIiwiY3Vwb25lIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJjdXBvbmVUIiwiZmluZEJ5SWQiLCJzZW5kIiwiZGVsZXRlIiwicXVlcnkiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImxpc3QiLCJzZWFyY2giLCJyZWdleCIsIlJlZ0V4cCIsImZpbHRlciIsIiRyZWdleCIsImN1cG9uZXMiLCJzb3J0IiwiY3JlYXRlZEF0Iiwic2hvdyIsImN1cG9uZV9pZCIsImN1cG9uIiwiY29uZmlnIiwiQ2F0ZWdvcmllIiwiY2F0ZWdvcnlJZHMiLCIkaW4iXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJDdXBvbmVDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgXG4gIHJlZ2lzdGVyOiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyByb2wsIF9pZCB9ID0gcmVxLnVzZXI7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGNvZGUsXG4gICAgICAgIHR5cGVfZGlzY291bnQsXG4gICAgICAgIGRpc2NvdW50LFxuICAgICAgICB0eXBlX2NvdW50LFxuICAgICAgICBudW1fdXNlLFxuICAgICAgICB0eXBlX3NlZ21lbnQsXG4gICAgICAgIHByb2R1Y3RzID0gW10sXG4gICAgICAgIGNhdGVnb3JpZXMgPSBbXVxuICAgICAgfSA9IHJlcS5ib2R5O1xuXG4gICAgICAvLyBWYWxpZGFjacOzbiBiw6FzaWNhIGRlIGNhbXBvcyBvYmxpZ2F0b3Jpb3NcbiAgICAgIGlmICghY29kZSB8fCAhdHlwZV9kaXNjb3VudCB8fCAhZGlzY291bnQgfHwgIXR5cGVfY291bnQgfHwgIXR5cGVfc2VnbWVudCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiA0MDAsIG1lc3NhZ2VfdGV4dDogXCJGYWx0YW4gY2FtcG9zIG9ibGlnYXRvcmlvc1wiIH0pO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVfY291bnQgPT0gMiAmJiAoIW51bV91c2UgfHwgbnVtX3VzZSA8IDEpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IDQwMCwgbWVzc2FnZV90ZXh0OiBcIkRlYmVzIGluZGljYXIgZWwgbsO6bWVybyBkZSB1c29zXCIgfSk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZV9zZWdtZW50ID09IDEgJiYgKCFwcm9kdWN0cyB8fCBwcm9kdWN0cy5sZW5ndGggPT09IDApKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IDQwMCwgbWVzc2FnZV90ZXh0OiBcIkRlYmVzIHNlbGVjY2lvbmFyIGFsIG1lbm9zIHVuIHByb2R1Y3RvXCIgfSk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZV9zZWdtZW50ID09IDIgJiYgKCFjYXRlZ29yaWVzIHx8IGNhdGVnb3JpZXMubGVuZ3RoID09PSAwKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiA0MDAsIG1lc3NhZ2VfdGV4dDogXCJEZWJlcyBzZWxlY2Npb25hciBhbCBtZW5vcyB1bmEgY2F0ZWdvcsOtYVwiIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBWYWxpZGFjacOzbiBkZSBwZXJtaXNvcyBwYXJhIGVtcHJlbmRlZG9yXG4gICAgICBpZiAocm9sID09PSBcImVtcHJlbmRlZG9yXCIpIHtcbiAgICAgICAgLy8gVmFsaWRhciBwcm9kdWN0b3NcbiAgICAgICAgaWYgKHR5cGVfc2VnbWVudCA9PSAxICYmIHByb2R1Y3RzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBteVByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7IHNlbGxlcl9pZDogX2lkIH0pO1xuICAgICAgICAgIGNvbnN0IG15UHJvZHVjdElkcyA9IG15UHJvZHVjdHMubWFwKHAgPT4gcC5faWQudG9TdHJpbmcoKSk7XG4gICAgICAgICAgY29uc3QgaW52YWxpZCA9IHByb2R1Y3RzLnNvbWUocCA9PiAhbXlQcm9kdWN0SWRzLmluY2x1ZGVzKHAuX2lkKSk7XG4gICAgICAgICAgaWYgKGludmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7IG1lc3NhZ2U6IDQwMywgbWVzc2FnZV90ZXh0OiBcIk5vIHB1ZWRlcyBjcmVhciBjdXBvbmVzIHBhcmEgcHJvZHVjdG9zIHF1ZSBubyBzb24gdHV5b3NcIiB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVmFsaWRhciBjYXRlZ29yw61hc1xuICAgICAgICBpZiAodHlwZV9zZWdtZW50ID09IDIgJiYgY2F0ZWdvcmllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgbXlQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoeyBzZWxsZXJfaWQ6IF9pZCB9KTtcbiAgICAgICAgICBjb25zdCBteUNhdGVnb3J5SWRzID0gWy4uLm5ldyBTZXQobXlQcm9kdWN0cy5tYXAocCA9PiBwLmNhdGVnb3JpZS50b1N0cmluZygpKSldO1xuICAgICAgICAgIGNvbnN0IGludmFsaWQgPSBjYXRlZ29yaWVzLnNvbWUoYyA9PiAhbXlDYXRlZ29yeUlkcy5pbmNsdWRlcyhjLl9pZCkpO1xuICAgICAgICAgIGlmIChpbnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oeyBtZXNzYWdlOiA0MDMsIG1lc3NhZ2VfdGV4dDogXCJObyBwdWVkZXMgY3JlYXIgY3Vwb25lcyBwYXJhIGNhdGVnb3LDrWFzIGRvbmRlIG5vIHRpZW5lcyBwcm9kdWN0b3NcIiB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXIgZWwgY3Vww7NuXG4gICAgICBjb25zdCBuZXdDdXBvbmUgPSBuZXcgbW9kZWxzLkN1cG9uZSh7XG4gICAgICAgIGNvZGUsXG4gICAgICAgIHR5cGVfZGlzY291bnQsXG4gICAgICAgIGRpc2NvdW50LFxuICAgICAgICB0eXBlX2NvdW50LFxuICAgICAgICBudW1fdXNlOiB0eXBlX2NvdW50ID09IDIgPyBudW1fdXNlIDogbnVsbCxcbiAgICAgICAgdHlwZV9zZWdtZW50LFxuICAgICAgICBwcm9kdWN0czogcHJvZHVjdHMubWFwKHAgPT4gcC5faWQpLFxuICAgICAgICBjYXRlZ29yaWVzOiBjYXRlZ29yaWVzLm1hcChjID0+IGMuX2lkKSxcbiAgICAgICAgY3JlYXRvcjogX2lkLCAvLyBwdWVkZXMgZ3VhcmRhciBxdWnDqW4gY3Jlw7MgZWwgY3Vww7NuIHNpIGxvIGRlc2Vhc1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IG5ld0N1cG9uZS5zYXZlKCk7XG5cbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6IDIwMCwgbWVzc2FnZV90ZXh0OiBcIkN1cMOzbiBjcmVhZG8gY29ycmVjdGFtZW50ZVwiIH0pO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogNTAwLCBtZXNzYWdlX3RleHQ6IFwiRXJyb3IgYWwgcmVnaXN0cmFyIGN1cMOzblwiIH0pO1xuICAgIH1cbiAgfSxcbiAgdXBkYXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XG5cbiAgICAgICAgICBsZXQgZXhpdHNfY3Vwb25lID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kT25lKHtjb2RlOiBkYXRhLmNvZGUsX2lkOiB7JG5lOiBkYXRhLl9pZH19KTtcblxuICAgICAgICAgIGlmKGV4aXRzX2N1cG9uZSl7XG4gICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6NDAzLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENPRElHTyBERUwgQ1VQT04gWUEgRVhJU1RFXCJcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsZXQgY3Vwb25lID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiBkYXRhLl9pZH0sZGF0YSk7XG4gICAgICAgICAgXG4gICAgICAgICAgbGV0IGN1cG9uZVQgPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRCeUlkKHtfaWQ6IGRhdGEuX2lkfSk7XG5cbiAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcbiAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVsIGN1cMOzbiBzZSBhY3R1YWxpesOzIHNhdGlzZmFjdG9yaWFtZW50ZVwiLFxuICAgICAgICAgICAgICBjdXBvbmU6Y3Vwb25lVCxcbiAgICAgICAgICB9KTtcblxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxuICAgICAgICAgIH0pO1xuICAgICAgfVxuICB9LFxuICBkZWxldGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IF9pZCA9IHJlcS5xdWVyeS5faWQ7XG5cbiAgICAgICAgICBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IF9pZH0pO1xuXG4gICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXG4gICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFbCBjdXDDs24gc2UgZWxpbWluw7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgICAgfSk7XG5cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgfSxcbiAgLy8gbGlzdDogYXN5bmMocmVxLHJlcykgPT4ge1xuICAvLyAgICAgdHJ5IHtcbiAgLy8gICAgICAgICBsZXQgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcblxuICAvLyAgICAgICAgIGxldCBjdXBvbmVzID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kKHtcbiAgLy8gICAgICAgICAgICAgJG9yOltcbiAgLy8gICAgICAgICAgICAgICAgIHtcImNvZGVcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gIC8vICAgICAgICAgICAgIF1cbiAgLy8gICAgICAgICB9KS5zb3J0KHsnY3JlYXRlZEF0JzogLTF9KTtcblxuICAvLyAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgLy8gICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxuICAvLyAgICAgICAgICAgICBjdXBvbmVzOiBjdXBvbmVzLFxuICAvLyAgICAgICAgIH0pO1xuXG4gIC8vICAgICB9IGNhdGNoIChlcnJvcikge1xuICAvLyAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgLy8gICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXG4gIC8vICAgICAgICAgfSk7XG4gIC8vICAgICB9XG4gIC8vIH0sXG4gIFxuICBsaXN0OiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaCB8fCAnJztcbiAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKTtcbiAgICAgIGNvbnN0IHsgcm9sLCBfaWQgfSA9IHJlcS51c2VyO1xuXG4gICAgICBsZXQgZmlsdGVyID0ge1xuICAgICAgICBjb2RlOiB7ICRyZWdleDogcmVnZXggfVxuICAgICAgfTtcblxuICAgICAgaWYgKHJvbCA9PT0gXCJlbXByZW5kZWRvclwiKSB7XG4gICAgICAgIC8vIFNvbG8gbG9zIGN1cG9uZXMgY3JlYWRvcyBwb3IgZWwgZW1wcmVuZGVkb3JcbiAgICAgICAgZmlsdGVyLmNyZWF0b3IgPSBfaWQ7XG4gICAgICB9XG4gICAgICAvLyBBZG1pbiB2ZSB0b2RvcyBsb3MgY3Vwb25lc1xuXG4gICAgICBjb25zdCBjdXBvbmVzID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kKGZpbHRlcikuc29ydCh7IGNyZWF0ZWRBdDogLTEgfSk7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IGN1cG9uZXMgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogXCJFcnJvciBhbCBvYnRlbmVyIGN1cG9uZXNcIiB9KTtcbiAgICB9XG4gIH0sXG4gIHNob3c6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IGN1cG9uZV9pZCA9IHJlcS5xdWVyeS5jdXBvbmVfaWQ7XG5cbiAgICAgICAgICBsZXQgY3Vwb24gPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRPbmUoe19pZDogY3Vwb25lX2lkfSk7XG5cbiAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcbiAgICAgICAgICAgICAgY3Vwb246IGN1cG9uLFxuICAgICAgICAgIH0pO1xuXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gIH0sXG4gIGNvbmZpZzogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgcm9sLCBfaWQgfSA9IHJlcS51c2VyO1xuICAgICAgbGV0IGNhdGVnb3JpZXMsIHByb2R1Y3RzO1xuXG4gICAgICBpZiAocm9sID09PSBcImFkbWluXCIpIHtcbiAgICAgICAgY2F0ZWdvcmllcyA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZCgpO1xuICAgICAgICBwcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoKTtcbiAgICAgIH0gZWxzZSBpZiAocm9sID09PSBcImVtcHJlbmRlZG9yXCIpIHtcbiAgICAgICAgLy8gU29sbyBwcm9kdWN0b3MgZGVsIGVtcHJlbmRlZG9yXG4gICAgICAgIHByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7IHNlbGxlcl9pZDogX2lkIH0pO1xuICAgICAgICAvLyBTb2xvIGNhdGVnb3LDrWFzIGRvbmRlIHRpZW5lIHByb2R1Y3Rvc1xuICAgICAgICBjb25zdCBjYXRlZ29yeUlkcyA9IFsuLi5uZXcgU2V0KHByb2R1Y3RzLm1hcChwID0+IHAuY2F0ZWdvcmllLnRvU3RyaW5nKCkpKV07XG4gICAgICAgIGNhdGVnb3JpZXMgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmQoeyBfaWQ6IHsgJGluOiBjYXRlZ29yeUlkcyB9IH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5qc29uKHsgbWVzc2FnZTogXCJObyBhdXRvcml6YWRvXCIgfSk7XG4gICAgICB9XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgY2F0ZWdvcmllcywgcHJvZHVjdHMgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogXCJFcnJvciBhbCBvYnRlbmVyIGNvbmZpZ3VyYWNpw7NuIGRlIGN1cG9uZXNcIiB9KTtcbiAgICB9XG4gIH0sXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBOEIsU0FBQUQsdUJBQUFFLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVmO0VBRWJHLFFBQVEsRUFBRSxNQUFBQSxDQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUM1QixJQUFJO01BQ0YsTUFBTTtRQUFF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Q29DLElBQUksQ0FBQztRQUNqQmxDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOO0VBQ0osQ0FBQztFQUNEa0QsTUFBTSxFQUFFLE1BQUFBLENBQU9sRSxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUMxQixJQUFJO01BQ0YsTUFBTTtRQUFFQyxHQUFHO1FBQUVDO01BQUksQ0FBQyxHQUFHSCxHQUFHLENBQUNJLElBQUk7TUFDN0IsSUFBSVEsVUFBVSxFQUFFRCxRQUFRO01BRXhCLElBQUlULEdBQUcsS0FBSyxPQUFPLEVBQUU7UUFDbkJVLFVBQVUsR0FBRyxNQUFNUSxlQUFNLENBQUMrQyxTQUFTLENBQUM3QyxJQUFJLENBQUMsQ0FBQztRQUMxQ1gsUUFBUSxHQUFHLE1BQU1TLGVBQU0sQ0FBQ0MsT0FBTyxDQUFDQyxJQUFJLENBQUMsQ0FBQztNQUN4QyxDQUFDLE1BQU0sSUFBSXBCLEdBQUcsS0FBSyxhQUFhLEVBQUU7UUFDaEM7UUFDQVMsUUFBUSxHQUFHLE1BQU1TLGVBQU0sQ0FBQ0MsT0FBTyxDQUFDQyxJQUFJLENBQUM7VUFBRUMsU0FBUyxFQUFFcEI7UUFBSSxDQUFDLENBQUM7UUFDeEQ7UUFDQSxNQUFNaUUsV0FBVyxHQUFHLENBQUMsR0FBRyxJQUFJcEMsR0FBRyxDQUFDckIsUUFBUSxDQUFDYyxHQUFHLENBQUNDLENBQUMsSUFBSUEsQ0FBQyxDQUFDTyxTQUFTLENBQUNOLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNFZixVQUFVLEdBQUcsTUFBTVEsZUFBTSxDQUFDK0MsU0FBUyxDQUFDN0MsSUFBSSxDQUFDO1VBQUVuQixHQUFHLEVBQUU7WUFBRWtFLEdBQUcsRUFBRUQ7VUFBWTtRQUFFLENBQUMsQ0FBQztNQUN6RSxDQUFDLE1BQU07UUFDTCxPQUFPbkUsR0FBRyxDQUFDYSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUFFQyxPQUFPLEVBQUU7UUFBZ0IsQ0FBQyxDQUFDO01BQzNEO01BRUFmLEdBQUcsQ0FBQ2EsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFBRUgsVUFBVTtRQUFFRDtNQUFTLENBQUMsQ0FBQztJQUNoRCxDQUFDLENBQUMsT0FBTzRCLEtBQUssRUFBRTtNQUNkdEMsR0FBRyxDQUFDYSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUFFQyxPQUFPLEVBQUU7TUFBNEMsQ0FBQyxDQUFDO0lBQ2hGO0VBQ0Y7QUFDRixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_models","_interopRequireDefault","require","e","__esModule","default","_default","exports","register","req","res","rol","_id","user","code","type_discount","discount","type_count","num_use","type_segment","products","categories","body","status","json","message","message_text","length","myProducts","models","Product","find","seller_id","myProductIds","map","p","toString","invalid","some","includes","myCategoryIds","Set","categorie","c","newCupone","Cupone","creator","save","error","console","update","data","exits_cupone","findOne","$ne","cupone","findByIdAndUpdate","cuponeT","findById","send","delete","query","findByIdAndDelete","list","search","regex","RegExp","filter","$regex","cupones","sort","createdAt","show","cupone_id","cupon","config","Categorie","categoryIds","$in"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["CuponeController.js"],"sourcesContent":["import models from \"../models\"\n\nexport default {\n  \n  register: async (req, res) => {\n    try {\n      const { rol, _id } = req.user;\n      const {\n        code,\n        type_discount,\n        discount,\n        type_count,\n        num_use,\n        type_segment,\n        products = [],\n        categories = []\n      } = req.body;\n\n      // Validación básica de campos obligatorios\n      if (!code || !type_discount || !discount || !type_count || !type_segment) {\n        return res.status(400).json({ message: 400, message_text: \"Faltan campos obligatorios\" });\n      }\n      if (type_count == 2 && (!num_use || num_use < 1)) {\n        return res.status(400).json({ message: 400, message_text: \"Debes indicar el número de usos\" });\n      }\n      if (type_segment == 1 && (!products || products.length === 0)) {\n        return res.status(400).json({ message: 400, message_text: \"Debes seleccionar al menos un producto\" });\n      }\n      if (type_segment == 2 && (!categories || categories.length === 0)) {\n        return res.status(400).json({ message: 400, message_text: \"Debes seleccionar al menos una categoría\" });\n      }\n\n      // Validación de permisos para emprendedor\n      if (rol === \"emprendedor\") {\n        // Validar productos\n        if (type_segment == 1 && products.length > 0) {\n          const myProducts = await models.Product.find({ seller_id: _id });\n          const myProductIds = myProducts.map(p => p._id.toString());\n          const invalid = products.some(p => !myProductIds.includes(p._id));\n          if (invalid) {\n            return res.status(403).json({ message: 403, message_text: \"No puedes crear cupones para productos que no son tuyos\" });\n          }\n        }\n        // Validar categorías\n        if (type_segment == 2 && categories.length > 0) {\n          const myProducts = await models.Product.find({ seller_id: _id });\n          const myCategoryIds = [...new Set(myProducts.map(p => p.categorie.toString()))];\n          const invalid = categories.some(c => !myCategoryIds.includes(c._id));\n          if (invalid) {\n            return res.status(403).json({ message: 403, message_text: \"No puedes crear cupones para categorías donde no tienes productos\" });\n          }\n        }\n      }\n\n      // Crear el cupón\n      const newCupone = new models.Cupone({\n        code,\n        type_discount,\n        discount,\n        type_count,\n        num_use: type_count == 2 ? num_use : null,\n        type_segment,\n        products: products.map(p => p._id),\n        categories: categories.map(c => c._id),\n        creator: _id, // puedes guardar quién creó el cupón si lo deseas\n      });\n\n      await newCupone.save();\n\n      return res.status(200).json({ message: 200, message_text: \"Cupón creado correctamente\" });\n\n    } catch (error) {\n      console.error(error);\n      return res.status(500).json({ message: 500, message_text: \"Error al registrar cupón\" });\n    }\n  },\n  update: async(req,res) => {\n      try {\n          let data = req.body;\n\n          let exits_cupone = await models.Cupone.findOne({code: data.code,_id: {$ne: data._id}});\n\n          if(exits_cupone){\n              res.status(200).json({\n                  message:403,\n                  message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n              });\n              return;\n          }\n\n          let cupone = await models.Cupone.findByIdAndUpdate({_id: data._id},data);\n          \n          let cuponeT = await models.Cupone.findById({_id: data._id});\n\n          res.status(200).json({\n              message: 200,\n              message_text: \"El cupón se actualizó satisfactoriamente\",\n              cupone:cuponeT,\n          });\n\n      } catch (error) {\n          res.status(500).send({\n              message: \"OCURRIO UN ERROR\",\n          });\n      }\n  },\n  delete: async(req,res) => {\n      try {\n          let _id = req.query._id;\n\n          await models.Cupone.findByIdAndDelete({_id: _id});\n\n          res.status(200).json({\n              message: 200,\n              message_text: \"El cupón se eliminó satisfactoriamente\",\n          });\n\n      } catch (error) {\n          res.status(500).send({\n              message: \"OCURRIO UN ERROR\",\n          });\n      }\n  },\n  // list: async(req,res) => {\n  //     try {\n  //         let search = req.query.search;\n\n  //         let cupones = await models.Cupone.find({\n  //             $or:[\n  //                 {\"code\": new RegExp(search, \"i\")},\n  //             ]\n  //         }).sort({'createdAt': -1});\n\n  //         res.status(200).json({\n  //             message: 200,\n  //             cupones: cupones,\n  //         });\n\n  //     } catch (error) {\n  //         res.status(500).send({\n  //             message: \"OCURRIO UN ERROR\",\n  //         });\n  //     }\n  // },\n  \n  list: async (req, res) => {\n    try {\n      const search = req.query.search || '';\n      const regex = new RegExp(search, \"i\");\n      const { rol, _id } = req.user;\n\n      let filter = {\n        code: { $regex: regex }\n      };\n\n      if (rol === \"emprendedor\") {\n        // Solo los cupones creados por el emprendedor\n        filter.creator = _id;\n      }\n      // Admin ve todos los cupones\n\n      const cupones = await models.Cupone.find(filter).sort({ createdAt: -1 });\n      res.status(200).json({ cupones });\n    } catch (error) {\n      res.status(500).json({ message: \"Error al obtener cupones\" });\n    }\n  },\n  show: async(req,res) => {\n      try {\n          let cupone_id = req.query.cupone_id;\n\n          let cupon = await models.Cupone.findOne({_id: cupone_id});\n\n          res.status(200).json({\n              message: 200,\n              cupon: cupon,\n          });\n\n      } catch (error) {\n          res.status(500).send({\n              message: \"OCURRIO UN ERROR\",\n          });\n      }\n  },\n  config: async (req, res) => {\n    try {\n      const { rol, _id } = req.user;\n      let categories, products;\n\n      if (rol === \"admin\") {\n        categories = await models.Categorie.find();\n        products = await models.Product.find();\n      } else if (rol === \"emprendedor\") {\n        // Solo productos del emprendedor\n        products = await models.Product.find({ seller_id: _id });\n        // Solo categorías donde tiene productos\n        const categoryIds = [...new Set(products.map(p => p.categorie.toString()))];\n        categories = await models.Categorie.find({ _id: { $in: categoryIds } });\n      } else {\n        return res.status(403).json({ message: \"No autorizado\" });\n      }\n\n      res.status(200).json({ categories, products });\n    } catch (error) {\n      res.status(500).json({ message: \"Error al obtener configuración de cupones\" });\n    }\n  },\n}"],"mappings":"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","ignoreList":[]}},"mtime":1750125848298},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Discount.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _DiscountController = _interopRequireDefault(require(\"../controllers/DiscountController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyAdmin, _DiscountController.default.register);\nrouter.put(\"/update\", _auth.default.verifyAdmin, _DiscountController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _DiscountController.default.list);\nrouter.get(\"/config\", _auth.default.verifyAdmin, _DiscountController.default.config);\nrouter.get(\"/show\", _auth.default.verifyAdmin, _DiscountController.default.show);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _DiscountController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9EaXNjb3VudENvbnRyb2xsZXIiLCJfYXV0aCIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwiZGlzY291bnRDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJsaXN0IiwiY29uZmlnIiwic2hvdyIsImRlbGV0ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJEaXNjb3VudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xuaW1wb3J0IGRpc2NvdW50Q29udHJvbGxlciBmcm9tICBcIi4uL2NvbnRyb2xsZXJzL0Rpc2NvdW50Q29udHJvbGxlclwiXG5pbXBvcnQgYXV0aCBmcm9tIFwiLi4vbWlkZGxld2FyZXMvYXV0aFwiXG5cbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcblxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci5yZWdpc3Rlcik7XG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLGF1dGgudmVyaWZ5QWRtaW4sZGlzY291bnRDb250cm9sbGVyLnVwZGF0ZSk7XG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci5saXN0KTtcbnJvdXRlci5nZXQoXCIvY29uZmlnXCIsYXV0aC52ZXJpZnlBZG1pbixkaXNjb3VudENvbnRyb2xsZXIuY29uZmlnKTtcbnJvdXRlci5nZXQoXCIvc2hvd1wiLGF1dGgudmVyaWZ5QWRtaW4sZGlzY291bnRDb250cm9sbGVyLnNob3cpO1xucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci5kZWxldGUpO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLG1CQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBc0MsU0FBQUQsdUJBQUFJLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFFdEMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUV4QkQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNDLFFBQVEsQ0FBQztBQUNyRU4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDSixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNHLE1BQU0sQ0FBQztBQUNoRVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNLLElBQUksQ0FBQztBQUM1RFYsTUFBTSxDQUFDUyxHQUFHLENBQUMsU0FBUyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNNLE1BQU0sQ0FBQztBQUNoRVgsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNPLElBQUksQ0FBQztBQUM1RFosTUFBTSxDQUFDYSxNQUFNLENBQUMsU0FBUyxFQUFDVixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNRLE1BQU0sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBaEIsT0FBQSxHQUdyREMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_DiscountController","_auth","e","__esModule","default","router","routerx","post","auth","verifyAdmin","discountController","register","put","update","get","list","config","show","delete","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Discount.js"],"sourcesContent":["import routerx from 'express-promise-router'\nimport discountController from  \"../controllers/DiscountController\"\nimport auth from \"../middlewares/auth\"\n\nconst router = routerx();\n\nrouter.post(\"/register\",auth.verifyAdmin,discountController.register);\nrouter.put(\"/update\",auth.verifyAdmin,discountController.update);\nrouter.get(\"/list\",auth.verifyAdmin,discountController.list);\nrouter.get(\"/config\",auth.verifyAdmin,discountController.config);\nrouter.get(\"/show\",auth.verifyAdmin,discountController.show);\nrouter.delete(\"/delete\",auth.verifyAdmin,discountController.delete);\n\n\nexport default router;\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,mBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACC,QAAQ,CAAC;AACrEN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACG,MAAM,CAAC;AAChER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACK,IAAI,CAAC;AAC5DV,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACM,MAAM,CAAC;AAChEX,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACO,IAAI,CAAC;AAC5DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACQ,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAGrDC,MAAM","ignoreList":[]}},"mtime":1738097761620},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/DiscountController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      const {\n        rol,\n        _id\n      } = req.user;\n\n      // Validación de permisos para emprendedor\n      if (rol === \"emprendedor\") {\n        // Validar productos\n        if (data.type_segment == 1 && data.product_s && data.product_s.length > 0) {\n          const myProducts = await _models.default.Product.find({\n            seller_id: _id\n          });\n          const myProductIds = myProducts.map(p => p._id.toString());\n          const invalid = data.product_s.some(p => !myProductIds.includes(p));\n          if (invalid) {\n            return res.status(403).json({\n              message: 403,\n              message_text: \"No puedes crear descuentos para productos que no son tuyos\"\n            });\n          }\n        }\n        // Validar categorías\n        if (data.type_segment == 2 && data.categorie_s && data.categorie_s.length > 0) {\n          const myProducts = await _models.default.Product.find({\n            seller_id: _id\n          });\n          const myCategoryIds = [...new Set(myProducts.map(p => p.categorie.toString()))];\n          const invalid = data.categorie_s.some(c => !myCategoryIds.includes(c));\n          if (invalid) {\n            return res.status(403).json({\n              message: 403,\n              message_text: \"No puedes crear descuentos para categorías donde no tienes productos\"\n            });\n          }\n        }\n      }\n\n      // Lógica de solapamiento de descuentos\n      var filter_a = [];\n      var filter_b = [];\n      if (data.type_segment == 1) {\n        filter_a.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n      } else {\n        filter_a.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n      }\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        start_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        end_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      let exits_start_date = await _models.default.Discount.find({\n        $and: filter_a\n      });\n      let exits_end_date = await _models.default.Discount.find({\n        $and: filter_b\n      });\n      if (exits_start_date.length > 0 || exits_end_date.length > 0) {\n        return res.status(200).json({\n          message: 403,\n          message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR, ALGUNA OPCIÓN SELECCIONADA TIENE UN DESCUENTO ACTIVO\"\n        });\n      }\n\n      // Guardar el creador del descuento\n      data.creator = _id;\n      let discount = await _models.default.Discount.create(data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"El descuento se registró satisfactoriamente\",\n        discount: discount\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      var filter_a = [];\n      var filter_b = [];\n      if (data.type_segment == 1) {\n        filter_a.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n      } else {\n        filter_a.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n      }\n      ;\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        _id: {\n          $ne: data._id\n        },\n        start_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        _id: {\n          $ne: data._id\n        },\n        end_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      let exits_start_date = await _models.default.Discount.find({\n        $and: filter_a\n      });\n      let exits_end_date = await _models.default.Discount.find({\n        $and: filter_b\n      });\n      if (exits_start_date.length > 0 || exits_end_date.length > 0) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR, ALGUNA OPCIÓN TIENE UN DESCUENTO ACTIVO\"\n        });\n        return;\n      }\n      let discount = await _models.default.Discount.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"El descuento se actualizó satisfactoriamente\",\n        discount: discount\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Discount.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"El descuento se eliminó satisfactoriamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      const search = req.query.search || '';\n      const regex = new RegExp(search, \"i\");\n      const {\n        rol,\n        _id\n      } = req.user;\n      let filter = {\n        // Puedes agregar filtros por código, nombre, etc. si tienes campos para búsqueda\n        // Aquí un ejemplo si tienes campo 'code' o 'name' en el descuento\n        // code: { $regex: regex }\n      };\n      if (rol === \"emprendedor\") {\n        // Solo descuentos creados por el emprendedor\n        filter.creator = _id;\n      }\n      // Admin ve todos los descuentos, sin filtro por creator\n\n      const discounts = await _models.default.Discount.find(filter).sort({\n        createdAt: -1\n      });\n      res.status(200).json({\n        discounts\n      });\n    } catch (error) {\n      console.error(error);\n      res.status(500).json({\n        message: \"Error al obtener descuentos\"\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      let discount_id = req.query.discount_id;\n      let discount = await _models.default.Discount.findOne({\n        _id: discount_id\n      });\n      res.status(200).json({\n        message: 200,\n        discount: discount\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      const {\n        rol,\n        _id\n      } = req.user;\n      let categories, products;\n      if (rol === \"admin\") {\n        categories = await _models.default.Categorie.find();\n        products = await _models.default.Product.find();\n      } else if (rol === \"emprendedor\") {\n        products = await _models.default.Product.find({\n          seller_id: _id\n        });\n        const categoryIds = [...new Set(products.map(p => p.categorie.toString()))];\n        categories = await _models.default.Categorie.find({\n          _id: {\n            $in: categoryIds\n          }\n        });\n      } else {\n        return res.status(403).json({\n          message: \"No autorizado\"\n        });\n      }\n      res.status(200).json({\n        message: 200,\n        categories: categories,\n        products: products\n      });\n    } catch (error) {\n      res.status(500).json({\n        message: \"Error al obtener configuración de descuentos\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5Iiwicm9sIiwiX2lkIiwidXNlciIsInR5cGVfc2VnbWVudCIsInByb2R1Y3RfcyIsImxlbmd0aCIsIm15UHJvZHVjdHMiLCJtb2RlbHMiLCJQcm9kdWN0IiwiZmluZCIsInNlbGxlcl9pZCIsIm15UHJvZHVjdElkcyIsIm1hcCIsInAiLCJ0b1N0cmluZyIsImludmFsaWQiLCJzb21lIiwiaW5jbHVkZXMiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsIm1lc3NhZ2VfdGV4dCIsImNhdGVnb3JpZV9zIiwibXlDYXRlZ29yeUlkcyIsIlNldCIsImNhdGVnb3JpZSIsImMiLCJmaWx0ZXJfYSIsImZpbHRlcl9iIiwicHVzaCIsIiRlbGVtTWF0Y2giLCIkaW4iLCJ0eXBlX2NhbXBhaWduIiwic3RhcnRfZGF0ZV9udW0iLCIkZ3RlIiwiJGx0ZSIsImVuZF9kYXRlX251bSIsImV4aXRzX3N0YXJ0X2RhdGUiLCJEaXNjb3VudCIsIiRhbmQiLCJleGl0c19lbmRfZGF0ZSIsImNyZWF0b3IiLCJkaXNjb3VudCIsImNyZWF0ZSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInNlbmQiLCJ1cGRhdGUiLCIkbmUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsImRlbGV0ZSIsInF1ZXJ5IiwiZmluZEJ5SWRBbmREZWxldGUiLCJsaXN0Iiwic2VhcmNoIiwicmVnZXgiLCJSZWdFeHAiLCJmaWx0ZXIiLCJkaXNjb3VudHMiLCJzb3J0IiwiY3JlYXRlZEF0Iiwic2hvdyIsImRpc2NvdW50X2lkIiwiZmluZE9uZSIsImNvbmZpZyIsImNhdGVnb3JpZXMiLCJwcm9kdWN0cyIsIkNhdGVnb3JpZSIsImNhdGVnb3J5SWRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiRGlzY291bnRDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgXG4gIHJlZ2lzdGVyOiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xuICAgIGNvbnN0IHsgcm9sLCBfaWQgfSA9IHJlcS51c2VyO1xuXG4gICAgLy8gVmFsaWRhY2nDs24gZGUgcGVybWlzb3MgcGFyYSBlbXByZW5kZWRvclxuICAgIGlmIChyb2wgPT09IFwiZW1wcmVuZGVkb3JcIikge1xuICAgICAgLy8gVmFsaWRhciBwcm9kdWN0b3NcbiAgICAgIGlmIChkYXRhLnR5cGVfc2VnbWVudCA9PSAxICYmIGRhdGEucHJvZHVjdF9zICYmIGRhdGEucHJvZHVjdF9zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgbXlQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoeyBzZWxsZXJfaWQ6IF9pZCB9KTtcbiAgICAgICAgY29uc3QgbXlQcm9kdWN0SWRzID0gbXlQcm9kdWN0cy5tYXAocCA9PiBwLl9pZC50b1N0cmluZygpKTtcbiAgICAgICAgY29uc3QgaW52YWxpZCA9IGRhdGEucHJvZHVjdF9zLnNvbWUocCA9PiAhbXlQcm9kdWN0SWRzLmluY2x1ZGVzKHApKTtcbiAgICAgICAgaWYgKGludmFsaWQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxuICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIk5vIHB1ZWRlcyBjcmVhciBkZXNjdWVudG9zIHBhcmEgcHJvZHVjdG9zIHF1ZSBubyBzb24gdHV5b3NcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBWYWxpZGFyIGNhdGVnb3LDrWFzXG4gICAgICBpZiAoZGF0YS50eXBlX3NlZ21lbnQgPT0gMiAmJiBkYXRhLmNhdGVnb3JpZV9zICYmIGRhdGEuY2F0ZWdvcmllX3MubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBteVByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7IHNlbGxlcl9pZDogX2lkIH0pO1xuICAgICAgICBjb25zdCBteUNhdGVnb3J5SWRzID0gWy4uLm5ldyBTZXQobXlQcm9kdWN0cy5tYXAocCA9PiBwLmNhdGVnb3JpZS50b1N0cmluZygpKSldO1xuICAgICAgICBjb25zdCBpbnZhbGlkID0gZGF0YS5jYXRlZ29yaWVfcy5zb21lKGMgPT4gIW15Q2F0ZWdvcnlJZHMuaW5jbHVkZXMoYykpO1xuICAgICAgICBpZiAoaW52YWxpZCkge1xuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiA0MDMsXG4gICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiTm8gcHVlZGVzIGNyZWFyIGRlc2N1ZW50b3MgcGFyYSBjYXRlZ29yw61hcyBkb25kZSBubyB0aWVuZXMgcHJvZHVjdG9zXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEzDs2dpY2EgZGUgc29sYXBhbWllbnRvIGRlIGRlc2N1ZW50b3NcbiAgICB2YXIgZmlsdGVyX2EgPSBbXTtcbiAgICB2YXIgZmlsdGVyX2IgPSBbXTtcblxuICAgIGlmIChkYXRhLnR5cGVfc2VnbWVudCA9PSAxKSB7XG4gICAgICBmaWx0ZXJfYS5wdXNoKHtcbiAgICAgICAgXCJwcm9kdWN0c1wiOiB7ICRlbGVtTWF0Y2g6IHsgX2lkOiB7ICRpbjogZGF0YS5wcm9kdWN0X3MgfSB9IH1cbiAgICAgIH0pO1xuICAgICAgZmlsdGVyX2IucHVzaCh7XG4gICAgICAgIFwicHJvZHVjdHNcIjogeyAkZWxlbU1hdGNoOiB7IF9pZDogeyAkaW46IGRhdGEucHJvZHVjdF9zIH0gfSB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmlsdGVyX2EucHVzaCh7XG4gICAgICAgIFwiY2F0ZWdvcmllc1wiOiB7ICRlbGVtTWF0Y2g6IHsgX2lkOiB7ICRpbjogZGF0YS5jYXRlZ29yaWVfcyB9IH0gfVxuICAgICAgfSk7XG4gICAgICBmaWx0ZXJfYi5wdXNoKHtcbiAgICAgICAgXCJjYXRlZ29yaWVzXCI6IHsgJGVsZW1NYXRjaDogeyBfaWQ6IHsgJGluOiBkYXRhLmNhdGVnb3JpZV9zIH0gfSB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmaWx0ZXJfYS5wdXNoKHtcbiAgICAgIHR5cGVfY2FtcGFpZ246IGRhdGEudHlwZV9jYW1wYWlnbixcbiAgICAgIHN0YXJ0X2RhdGVfbnVtOiB7ICRndGU6IGRhdGEuc3RhcnRfZGF0ZV9udW0sICRsdGU6IGRhdGEuZW5kX2RhdGVfbnVtIH1cbiAgICB9KTtcblxuICAgIGZpbHRlcl9iLnB1c2goe1xuICAgICAgdHlwZV9jYW1wYWlnbjogZGF0YS50eXBlX2NhbXBhaWduLFxuICAgICAgZW5kX2RhdGVfbnVtOiB7ICRndGU6IGRhdGEuc3RhcnRfZGF0ZV9udW0sICRsdGU6IGRhdGEuZW5kX2RhdGVfbnVtIH1cbiAgICB9KTtcblxuICAgIGxldCBleGl0c19zdGFydF9kYXRlID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmQoeyAkYW5kOiBmaWx0ZXJfYSB9KTtcbiAgICBsZXQgZXhpdHNfZW5kX2RhdGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZCh7ICRhbmQ6IGZpbHRlcl9iIH0pO1xuXG4gICAgaWYgKGV4aXRzX3N0YXJ0X2RhdGUubGVuZ3RoID4gMCB8fCBleGl0c19lbmRfZGF0ZS5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiA0MDMsXG4gICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBERVNDVUVOVE8gTk8gU0UgUFVFREUgUFJPR1JBTUFSLCBBTEdVTkEgT1BDScOTTiBTRUxFQ0NJT05BREEgVElFTkUgVU4gREVTQ1VFTlRPIEFDVElWT1wiXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBHdWFyZGFyIGVsIGNyZWFkb3IgZGVsIGRlc2N1ZW50b1xuICAgIGRhdGEuY3JlYXRvciA9IF9pZDtcblxuICAgIGxldCBkaXNjb3VudCA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5jcmVhdGUoZGF0YSk7XG5cbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICBtZXNzYWdlOiAyMDAsXG4gICAgICBtZXNzYWdlX3RleHQ6IFwiRWwgZGVzY3VlbnRvIHNlIHJlZ2lzdHLDsyBzYXRpc2ZhY3RvcmlhbWVudGVcIixcbiAgICAgIGRpc2NvdW50OiBkaXNjb3VudFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcbiAgICB9KTtcbiAgfVxuICB9LFxuICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcbiAgICAgIHZhciBmaWx0ZXJfYSA9IFtdO1xuICAgICAgdmFyIGZpbHRlcl9iID0gW107XG5cbiAgICAgIGlmKGRhdGEudHlwZV9zZWdtZW50ID09IDEpe1xuICAgICAgICBmaWx0ZXJfYS5wdXNoKHtcbiAgICAgICAgICBcInByb2R1Y3RzXCI6IHskZWxlbU1hdGNoOiB7X2lkOiB7JGluOmRhdGEucHJvZHVjdF9zfX19XG4gICAgICAgIH0pO1xuICAgICAgICBmaWx0ZXJfYi5wdXNoKHtcbiAgICAgICAgICBcInByb2R1Y3RzXCI6IHskZWxlbU1hdGNoOiB7X2lkOiB7JGluOmRhdGEucHJvZHVjdF9zfX19XG4gICAgICAgIH0pO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGZpbHRlcl9hLnB1c2goe1xuICAgICAgICAgIFwiY2F0ZWdvcmllc1wiOiB7JGVsZW1NYXRjaDoge19pZDogeyRpbjpkYXRhLmNhdGVnb3JpZV9zfX19XG4gICAgICAgIH0pO1xuICAgICAgICBmaWx0ZXJfYi5wdXNoKHtcbiAgICAgICAgICBcImNhdGVnb3JpZXNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46ZGF0YS5jYXRlZ29yaWVfc319fVxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIGZpbHRlcl9hLnB1c2goe1xuICAgICAgICB0eXBlX2NhbXBhaWduOiBkYXRhLnR5cGVfY2FtcGFpZ24sXG4gICAgICAgIF9pZDogeyRuZTogZGF0YS5faWR9LFxuICAgICAgICBzdGFydF9kYXRlX251bTogeyRndGU6IGRhdGEuc3RhcnRfZGF0ZV9udW0sICRsdGU6IGRhdGEuZW5kX2RhdGVfbnVtfVxuICAgICAgfSlcblxuICAgICAgZmlsdGVyX2IucHVzaCh7XG4gICAgICAgIHR5cGVfY2FtcGFpZ246IGRhdGEudHlwZV9jYW1wYWlnbixcbiAgICAgICAgX2lkOiB7JG5lOiBkYXRhLl9pZH0sXG4gICAgICAgIGVuZF9kYXRlX251bTogeyRndGU6IGRhdGEuc3RhcnRfZGF0ZV9udW0sICRsdGU6IGRhdGEuZW5kX2RhdGVfbnVtfVxuICAgICAgfSlcblxuICAgICAgbGV0IGV4aXRzX3N0YXJ0X2RhdGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZCh7JGFuZDogZmlsdGVyX2F9KTtcblxuICAgICAgbGV0IGV4aXRzX2VuZF9kYXRlID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmQoeyRhbmQ6IGZpbHRlcl9ifSk7XG5cbiAgICAgIGlmKCBleGl0c19zdGFydF9kYXRlLmxlbmd0aCA+IDAgfHwgZXhpdHNfZW5kX2RhdGUubGVuZ3RoID4gMCApe1xuICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgbWVzc2FnZTo0MDMsXG4gICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBERVNDVUVOVE8gTk8gU0UgUFVFREUgUFJPR1JBTUFSLCBBTEdVTkEgT1BDScOTTiBUSUVORSBVTiBERVNDVUVOVE8gQUNUSVZPXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxldCBkaXNjb3VudCA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiBkYXRhLl9pZH0sZGF0YSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICBtZXNzYWdlOiAyMDAsXG4gICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVsIGRlc2N1ZW50byBzZSBhY3R1YWxpesOzIHNhdGlzZmFjdG9yaWFtZW50ZVwiLFxuICAgICAgICAgIGRpc2NvdW50OmRpc2NvdW50XG4gICAgICB9KTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgZGVsZXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgbGV0IF9pZCA9IHJlcS5xdWVyeS5faWQ7XG5cbiAgICAgICAgYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IF9pZH0pO1xuXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcbiAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFbCBkZXNjdWVudG8gc2UgZWxpbWluw7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgIH0pO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgbGlzdDogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaCB8fCAnJztcbiAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoc2VhcmNoLCBcImlcIik7XG4gICAgY29uc3QgeyByb2wsIF9pZCB9ID0gcmVxLnVzZXI7XG5cbiAgICBsZXQgZmlsdGVyID0ge1xuICAgICAgLy8gUHVlZGVzIGFncmVnYXIgZmlsdHJvcyBwb3IgY8OzZGlnbywgbm9tYnJlLCBldGMuIHNpIHRpZW5lcyBjYW1wb3MgcGFyYSBiw7pzcXVlZGFcbiAgICAgIC8vIEFxdcOtIHVuIGVqZW1wbG8gc2kgdGllbmVzIGNhbXBvICdjb2RlJyBvICduYW1lJyBlbiBlbCBkZXNjdWVudG9cbiAgICAgIC8vIGNvZGU6IHsgJHJlZ2V4OiByZWdleCB9XG4gICAgfTtcblxuICAgIGlmIChyb2wgPT09IFwiZW1wcmVuZGVkb3JcIikge1xuICAgICAgLy8gU29sbyBkZXNjdWVudG9zIGNyZWFkb3MgcG9yIGVsIGVtcHJlbmRlZG9yXG4gICAgICBmaWx0ZXIuY3JlYXRvciA9IF9pZDtcbiAgICB9XG4gICAgLy8gQWRtaW4gdmUgdG9kb3MgbG9zIGRlc2N1ZW50b3MsIHNpbiBmaWx0cm8gcG9yIGNyZWF0b3JcblxuICAgIGNvbnN0IGRpc2NvdW50cyA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kKGZpbHRlcikuc29ydCh7IGNyZWF0ZWRBdDogLTEgfSk7XG5cbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IGRpc2NvdW50cyB9KTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogXCJFcnJvciBhbCBvYnRlbmVyIGRlc2N1ZW50b3NcIiB9KTtcbiAgfVxuICB9LFxuICBzaG93OiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgbGV0IGRpc2NvdW50X2lkID0gcmVxLnF1ZXJ5LmRpc2NvdW50X2lkO1xuXG4gICAgICAgIGxldCBkaXNjb3VudCA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kT25lKHtfaWQ6IGRpc2NvdW50X2lkfSk7XG5cbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxuICAgICAgICAgICAgZGlzY291bnQ6IGRpc2NvdW50LFxuICAgICAgICB9KTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgY29uZmlnOiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyByb2wsIF9pZCB9ID0gcmVxLnVzZXI7XG4gICAgICBsZXQgY2F0ZWdvcmllcywgcHJvZHVjdHM7XG5cbiAgICAgIGlmIChyb2wgPT09IFwiYWRtaW5cIikge1xuICAgICAgICBjYXRlZ29yaWVzID0gYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kKCk7XG4gICAgICAgIHByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCgpO1xuICAgICAgfSBlbHNlIGlmIChyb2wgPT09IFwiZW1wcmVuZGVkb3JcIikge1xuICAgICAgICBwcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoeyBzZWxsZXJfaWQ6IF9pZCB9KTtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnlJZHMgPSBbLi4ubmV3IFNldChwcm9kdWN0cy5tYXAocCA9PiBwLmNhdGVnb3JpZS50b1N0cmluZygpKSldO1xuICAgICAgICBjYXRlZ29yaWVzID0gYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kKHsgX2lkOiB7ICRpbjogY2F0ZWdvcnlJZHMgfSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7IG1lc3NhZ2U6IFwiTm8gYXV0b3JpemFkb1wiIH0pO1xuICAgICAgfVxuXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IFxuICAgICAgICBtZXNzYWdlOiAyMDAsXG4gICAgICAgIGNhdGVnb3JpZXM6IGNhdGVnb3JpZXMsXG4gICAgICAgIHByb2R1Y3RzOiBwcm9kdWN0cyB9KTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6IFwiRXJyb3IgYWwgb2J0ZW5lciBjb25maWd1cmFjacOzbiBkZSBkZXNjdWVudG9zXCIgfSk7XG4gICAgfVxuICB9LFxuXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBOEIsU0FBQUQsdUJBQUFFLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVmO0VBRWJHLFFBQVEsRUFBRSxNQUFBQSxDQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUM5QixJQUFJO01BQ0YsSUFBSUMsSUFBSSxHQUFHRixHQUFHLENBQUNHLElBQUk7TUFDbkIsTUFBTTtRQUFFQyxHQUFHO1FBQUVDO01BQUksQ0FBQyxHQUFHTCxHQUFHLENBQUNNLElBQUk7O01BRTdCO01BQ0EsSUFBSUYsR0FBRyxLQUFLLGFBQWEsRUFBRTtRQUN6QjtRQUNBLElBQUlGLElBQUksQ0FBQ0ssWUFBWSxJQUFJLENBQUMsSUFBSUwsSUFBSSxD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","map":{"version":3,"names":["_models","_interopRequireDefault","require","e","__esModule","default","_default","exports","register","req","res","data","body","rol","_id","user","type_segment","product_s","length","myProducts","models","Product","find","seller_id","myProductIds","map","p","toString","invalid","some","includes","status","json","message","message_text","categorie_s","myCategoryIds","Set","categorie","c","filter_a","filter_b","push","$elemMatch","$in","type_campaign","start_date_num","$gte","$lte","end_date_num","exits_start_date","Discount","$and","exits_end_date","creator","discount","create","error","console","log","send","update","$ne","findByIdAndUpdate","delete","query","findByIdAndDelete","list","search","regex","RegExp","filter","discounts","sort","createdAt","show","discount_id","findOne","config","categories","products","Categorie","categoryIds"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["DiscountController.js"],"sourcesContent":["import models from \"../models\"\n\nexport default {\n  \n  register: async (req, res) => {\n  try {\n    let data = req.body;\n    const { rol, _id } = req.user;\n\n    // Validación de permisos para emprendedor\n    if (rol === \"emprendedor\") {\n      // Validar productos\n      if (data.type_segment == 1 && data.product_s && data.product_s.length > 0) {\n        const myProducts = await models.Product.find({ seller_id: _id });\n        const myProductIds = myProducts.map(p => p._id.toString());\n        const invalid = data.product_s.some(p => !myProductIds.includes(p));\n        if (invalid) {\n          return res.status(403).json({\n            message: 403,\n            message_text: \"No puedes crear descuentos para productos que no son tuyos\"\n          });\n        }\n      }\n      // Validar categorías\n      if (data.type_segment == 2 && data.categorie_s && data.categorie_s.length > 0) {\n        const myProducts = await models.Product.find({ seller_id: _id });\n        const myCategoryIds = [...new Set(myProducts.map(p => p.categorie.toString()))];\n        const invalid = data.categorie_s.some(c => !myCategoryIds.includes(c));\n        if (invalid) {\n          return res.status(403).json({\n            message: 403,\n            message_text: \"No puedes crear descuentos para categorías donde no tienes productos\"\n          });\n        }\n      }\n    }\n\n    // Lógica de solapamiento de descuentos\n    var filter_a = [];\n    var filter_b = [];\n\n    if (data.type_segment == 1) {\n      filter_a.push({\n        \"products\": { $elemMatch: { _id: { $in: data.product_s } } }\n      });\n      filter_b.push({\n        \"products\": { $elemMatch: { _id: { $in: data.product_s } } }\n      });\n    } else {\n      filter_a.push({\n        \"categories\": { $elemMatch: { _id: { $in: data.categorie_s } } }\n      });\n      filter_b.push({\n        \"categories\": { $elemMatch: { _id: { $in: data.categorie_s } } }\n      });\n    }\n\n    filter_a.push({\n      type_campaign: data.type_campaign,\n      start_date_num: { $gte: data.start_date_num, $lte: data.end_date_num }\n    });\n\n    filter_b.push({\n      type_campaign: data.type_campaign,\n      end_date_num: { $gte: data.start_date_num, $lte: data.end_date_num }\n    });\n\n    let exits_start_date = await models.Discount.find({ $and: filter_a });\n    let exits_end_date = await models.Discount.find({ $and: filter_b });\n\n    if (exits_start_date.length > 0 || exits_end_date.length > 0) {\n      return res.status(200).json({\n        message: 403,\n        message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR, ALGUNA OPCIÓN SELECCIONADA TIENE UN DESCUENTO ACTIVO\"\n      });\n    }\n\n    // Guardar el creador del descuento\n    data.creator = _id;\n\n    let discount = await models.Discount.create(data);\n\n    res.status(200).json({\n      message: 200,\n      message_text: \"El descuento se registró satisfactoriamente\",\n      discount: discount\n    });\n  } catch (error) {\n    console.log(error);\n    res.status(500).send({\n      message: \"OCURRIO UN ERROR\",\n    });\n  }\n  },\n  update: async(req,res) => {\n    try {\n      let data = req.body;\n      var filter_a = [];\n      var filter_b = [];\n\n      if(data.type_segment == 1){\n        filter_a.push({\n          \"products\": {$elemMatch: {_id: {$in:data.product_s}}}\n        });\n        filter_b.push({\n          \"products\": {$elemMatch: {_id: {$in:data.product_s}}}\n        });\n      }else{\n        filter_a.push({\n          \"categories\": {$elemMatch: {_id: {$in:data.categorie_s}}}\n        });\n        filter_b.push({\n          \"categories\": {$elemMatch: {_id: {$in:data.categorie_s}}}\n        });\n      };\n\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        _id: {$ne: data._id},\n        start_date_num: {$gte: data.start_date_num, $lte: data.end_date_num}\n      })\n\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        _id: {$ne: data._id},\n        end_date_num: {$gte: data.start_date_num, $lte: data.end_date_num}\n      })\n\n      let exits_start_date = await models.Discount.find({$and: filter_a});\n\n      let exits_end_date = await models.Discount.find({$and: filter_b});\n\n      if( exits_start_date.length > 0 || exits_end_date.length > 0 ){\n          res.status(200).json({\n              message:403,\n              message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR, ALGUNA OPCIÓN TIENE UN DESCUENTO ACTIVO\"\n          });\n          return;\n      }\n\n      let discount = await models.Discount.findByIdAndUpdate({_id: data._id},data);\n\n      res.status(200).json({\n          message: 200,\n          message_text: \"El descuento se actualizó satisfactoriamente\",\n          discount:discount\n      });\n\n    } catch (error) {\n        console.log(error);\n        res.status(500).send({\n            message: \"OCURRIO UN ERROR\",\n        });\n    }\n  },\n  delete: async(req,res) => {\n    try {\n        let _id = req.query._id;\n\n        await models.Discount.findByIdAndDelete({_id: _id});\n\n        res.status(200).json({\n            message: 200,\n            message_text: \"El descuento se eliminó satisfactoriamente\",\n        });\n\n    } catch (error) {\n        res.status(500).send({\n            message: \"OCURRIO UN ERROR\",\n        });\n    }\n  },\n  list: async (req, res) => {\n  try {\n    const search = req.query.search || '';\n    const regex = new RegExp(search, \"i\");\n    const { rol, _id } = req.user;\n\n    let filter = {\n      // Puedes agregar filtros por código, nombre, etc. si tienes campos para búsqueda\n      // Aquí un ejemplo si tienes campo 'code' o 'name' en el descuento\n      // code: { $regex: regex }\n    };\n\n    if (rol === \"emprendedor\") {\n      // Solo descuentos creados por el emprendedor\n      filter.creator = _id;\n    }\n    // Admin ve todos los descuentos, sin filtro por creator\n\n    const discounts = await models.Discount.find(filter).sort({ createdAt: -1 });\n\n    res.status(200).json({ discounts });\n\n  } catch (error) {\n    console.error(error);\n    res.status(500).json({ message: \"Error al obtener descuentos\" });\n  }\n  },\n  show: async(req,res) => {\n    try {\n        let discount_id = req.query.discount_id;\n\n        let discount = await models.Discount.findOne({_id: discount_id});\n\n        res.status(200).json({\n            message: 200,\n            discount: discount,\n        });\n\n    } catch (error) {\n        console.log(error);\n        res.status(500).send({\n            message: \"OCURRIO UN ERROR\",\n        });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      const { rol, _id } = req.user;\n      let categories, products;\n\n      if (rol === \"admin\") {\n        categories = await models.Categorie.find();\n        products = await models.Product.find();\n      } else if (rol === \"emprendedor\") {\n        products = await models.Product.find({ seller_id: _id });\n        const categoryIds = [...new Set(products.map(p => p.categorie.toString()))];\n        categories = await models.Categorie.find({ _id: { $in: categoryIds } });\n      } else {\n        return res.status(403).json({ message: \"No autorizado\" });\n      }\n\n      res.status(200).json({ \n        message: 200,\n        categories: categories,\n        products: products });\n\n    } catch (error) {\n      res.status(500).json({ message: \"Error al obtener configuración de descuentos\" });\n    }\n  },\n\n}"],"mappings":"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","ignoreList":[]}},"mtime":1750131853268},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Home.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _HomeController = _interopRequireDefault(require(\"../controllers/HomeController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.get(\"/list\", _HomeController.default.list);\nrouter.get(\"/landing-product/:slug\", _HomeController.default.show_landing_product);\nrouter.post(\"/search_product\", _HomeController.default.search_product);\nrouter.get(\"/config_initial\", _HomeController.default.config_initial);\nrouter.post(\"/filter_products\", _HomeController.default.filter_products);\nrouter.post(\"/profile_client\", _auth.default.verifyEcommerce, _HomeController.default.profile_client);\nrouter.post(\"/update_client\", _auth.default.verifyEcommerce, _HomeController.default.update_client);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Ib21lQ29udHJvbGxlciIsIl9hdXRoIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsImdldCIsImhvbWVDb250cm9sbGVyIiwibGlzdCIsInNob3dfbGFuZGluZ19wcm9kdWN0IiwicG9zdCIsInNlYXJjaF9wcm9kdWN0IiwiY29uZmlnX2luaXRpYWwiLCJmaWx0ZXJfcHJvZHVjdHMiLCJhdXRoIiwidmVyaWZ5RWNvbW1lcmNlIiwicHJvZmlsZV9jbGllbnQiLCJ1cGRhdGVfY2xpZW50IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbIkhvbWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcbmltcG9ydCBob21lQ29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9Ib21lQ29udHJvbGxlcidcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXG5cblxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixob21lQ29udHJvbGxlci5saXN0KTtcbnJvdXRlci5nZXQoXCIvbGFuZGluZy1wcm9kdWN0LzpzbHVnXCIsaG9tZUNvbnRyb2xsZXIuc2hvd19sYW5kaW5nX3Byb2R1Y3QpO1xucm91dGVyLnBvc3QoXCIvc2VhcmNoX3Byb2R1Y3RcIixob21lQ29udHJvbGxlci5zZWFyY2hfcHJvZHVjdCk7XG5yb3V0ZXIuZ2V0KFwiL2NvbmZpZ19pbml0aWFsXCIsaG9tZUNvbnRyb2xsZXIuY29uZmlnX2luaXRpYWwpO1xucm91dGVyLnBvc3QoXCIvZmlsdGVyX3Byb2R1Y3RzXCIsaG9tZUNvbnRyb2xsZXIuZmlsdGVyX3Byb2R1Y3RzKTtcbnJvdXRlci5wb3N0KFwiL3Byb2ZpbGVfY2xpZW50XCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsaG9tZUNvbnRyb2xsZXIucHJvZmlsZV9jbGllbnQpO1xucm91dGVyLnBvc3QoXCIvdXBkYXRlX2NsaWVudFwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGhvbWVDb250cm9sbGVyLnVwZGF0ZV9jbGllbnQpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsZUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBR3RDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFFeEJELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBQ0MsdUJBQWMsQ0FBQ0MsSUFBSSxDQUFDO0FBQ3ZDSixNQUFNLENBQUNFLEdBQUcsQ0FBQyx3QkFBd0IsRUFBQ0MsdUJBQWMsQ0FBQ0Usb0JBQW9CLENBQUM7QUFDeEVMLE1BQU0sQ0FBQ00sSUFBSSxDQUFDLGlCQUFpQixFQUFDSCx1QkFBYyxDQUFDSSxjQUFjLENBQUM7QUFDNURQLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLGlCQUFpQixFQUFDQyx1QkFBYyxDQUFDSyxjQUFjLENBQUM7QUFDM0RSLE1BQU0sQ0FBQ00sSUFBSSxDQUFDLGtCQUFrQixFQUFDSCx1QkFBYyxDQUFDTSxlQUFlLENBQUM7QUFDOURULE1BQU0sQ0FBQ00sSUFBSSxDQUFDLGlCQUFpQixFQUFDSSxhQUFJLENBQUNDLGVBQWUsRUFBQ1IsdUJBQWMsQ0FBQ1MsY0FBYyxDQUFDO0FBQ2pGWixNQUFNLENBQUNNLElBQUksQ0FBQyxnQkFBZ0IsRUFBQ0ksYUFBSSxDQUFDQyxlQUFlLEVBQUNSLHVCQUFjLENBQUNVLGFBQWEsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBaEIsT0FBQSxHQUVqRUMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_HomeController","_auth","e","__esModule","default","router","routerx","get","homeController","list","show_landing_product","post","search_product","config_initial","filter_products","auth","verifyEcommerce","profile_client","update_client","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Home.js"],"sourcesContent":["import routerx from 'express-promise-router'\nimport homeController from '../controllers/HomeController'\nimport auth from '../middlewares/auth'\n\n\nconst router = routerx();\n\nrouter.get(\"/list\",homeController.list);\nrouter.get(\"/landing-product/:slug\",homeController.show_landing_product);\nrouter.post(\"/search_product\",homeController.search_product);\nrouter.get(\"/config_initial\",homeController.config_initial);\nrouter.post(\"/filter_products\",homeController.filter_products);\nrouter.post(\"/profile_client\",auth.verifyEcommerce,homeController.profile_client);\nrouter.post(\"/update_client\",auth.verifyEcommerce,homeController.update_client);\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAGtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,GAAG,CAAC,OAAO,EAACC,uBAAc,CAACC,IAAI,CAAC;AACvCJ,MAAM,CAACE,GAAG,CAAC,wBAAwB,EAACC,uBAAc,CAACE,oBAAoB,CAAC;AACxEL,MAAM,CAACM,IAAI,CAAC,iBAAiB,EAACH,uBAAc,CAACI,cAAc,CAAC;AAC5DP,MAAM,CAACE,GAAG,CAAC,iBAAiB,EAACC,uBAAc,CAACK,cAAc,CAAC;AAC3DR,MAAM,CAACM,IAAI,CAAC,kBAAkB,EAACH,uBAAc,CAACM,eAAe,CAAC;AAC9DT,MAAM,CAACM,IAAI,CAAC,iBAAiB,EAACI,aAAI,CAACC,eAAe,EAACR,uBAAc,CAACS,cAAc,CAAC;AACjFZ,MAAM,CAACM,IAAI,CAAC,gBAAgB,EAACI,aAAI,CAACC,eAAe,EAACR,uBAAc,CAACU,aAAa,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAEjEC,MAAM","ignoreList":[]}},"mtime":1740583513095},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/HomeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  list: async (req, res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let Sliders = await _models.default.Slider.find({\n        state: 1\n      });\n      Sliders = Sliders.map(slider => {\n        return _resourses.default.Slider.slider_list(slider);\n      });\n      let productPromo = await _models.default.Product.findById('67c0ebd90204b3909cea1e67');\n      if (productPromo) {\n        productPromo = _resourses.default.Product.product_list(productPromo);\n      }\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      Categories = Categories.map(categorie => {\n        return _resourses.default.Categorie.categorie_list(categorie);\n      });\n      let CampaignDiscount = await _models.default.Discount.findOne({\n        type_campaign: 1,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        end_date_num: {\n          $gte: TIME_NOW\n        }\n      });\n\n      // console.log(CampaignDiscount);\n\n      let BestProducts = await _models.default.Product.find({\n        state: 2,\n        condition: {\n          $ne: 3\n        }\n      }).sort({\n        \"createdAt\": -1\n      });\n      var ObjectBestProducts = [];\n      for (const Product of BestProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaignDiscount) {\n          if (CampaignDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaignDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaignDiscount;\n            }\n          } else {\n            // por categoria}\n            let categories_a = [];\n            CampaignDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaignDiscount;\n            }\n          }\n        }\n        ObjectBestProducts.push(_resourses.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n      let OursProducts = await _models.default.Product.find({\n        state: 2,\n        condition: {\n          $ne: 3\n        }\n      }).sort({\n        \"createdAt\": 1\n      });\n      var ObjectOursProducts = [];\n      for (const Product of OursProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaignDiscount) {\n          if (CampaignDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaignDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaignDiscount;\n            }\n          } else {\n            // por categoria}\n            let categories_a = [];\n            CampaignDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaignDiscount;\n            }\n          }\n        }\n        ObjectOursProducts.push(_resourses.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n\n      // OursProducts = OursProducts.map(async (product) => {\n      //   let VARIEDADES = await models.Variedad.find({product: product._id});\n      //   return resourse.Product.product_list(product,VARIEDADES);\n      // })\n\n      let DonationProducts = await _models.default.Product.find({\n        state: 2,\n        condition: 3\n      }).sort({\n        \"createdAt\": 1\n      });\n      var ObjectDonationProducts = [];\n      for (const Product of DonationProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        ObjectDonationProducts.push(_resourses.default.Product.product_list(Product, VARIEDADES));\n      }\n\n      // DonationProducts = DonationProducts.map((product) => {\n      //   return resourse.Product.product_list(product);\n      // })\n\n      let FlashSale = await _models.default.Discount.findOne({\n        type_campaign: 2,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        end_date_num: {\n          $gte: TIME_NOW\n        }\n      });\n      let ProductList = [];\n      if (FlashSale) {\n        for (const product of FlashSale.products) {\n          var ObjecT = await _models.default.Product.findById({\n            _id: product._id\n          });\n          let VARIEDADES = await _models.default.Variedad.find({\n            product: product._id\n          });\n          ProductList.push(_resourses.default.Product.product_list(ObjecT, VARIEDADES));\n        }\n      }\n      //console.log(FlashSale);\n      // console.log(TIME_NOW);\n\n      res.status(200).json({\n        sliders: Sliders,\n        categories: Categories,\n        productPromo: [productPromo],\n        // Envía como un arreglo\n        best_products: ObjectBestProducts,\n        our_products: ObjectOursProducts,\n        donation_products: ObjectDonationProducts,\n        FlashSale: FlashSale,\n        campaign_products: ProductList\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  show_landing_product: async (req, res) => {\n    try {\n      let SLUG = req.params.slug;\n      let DISCOUNT_ID = req.query._id;\n\n      // console.log(\"_id= \"+DISCOUNT_ID);\n\n      let Product = await _models.default.Product.findOne({\n        slug: SLUG,\n        state: 2\n      });\n      let VARIEDADES = await _models.default.Variedad.find({\n        product: Product._id\n      });\n      let REVIEWS = await _models.default.Review.find({\n        product: Product._id\n      }).populate(\"user\");\n      let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n      let COUNT_REVIEW = REVIEWS.length;\n\n      // console.log(\"Las estrellas: \"+AVG_REVIEW);\n\n      let RelatedProducts = await _models.default.Product.find({\n        categorie: Product.categorie,\n        state: 2\n      });\n      var ObjectRelatedProducts = [];\n      for (const Product of RelatedProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        ObjectRelatedProducts.push(_resourses.default.Product.product_list(Product, VARIEDADES));\n      }\n      let SALE_FLASH = null;\n      if (DISCOUNT_ID) {\n        SALE_FLASH = await _models.default.Discount.findById({\n          _id: DISCOUNT_ID\n        });\n      }\n      res.status(200).json({\n        product: _resourses.default.Product.product_list(Product, VARIEDADES),\n        related_products: ObjectRelatedProducts,\n        SALE_FLASH: SALE_FLASH,\n        REVIEWS: REVIEWS,\n        AVG_REVIEW: AVG_REVIEW,\n        COUNT_REVIEW: COUNT_REVIEW,\n        message: \"Super! El producto agregó satisfactoriamente\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  search_product: async (req, res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let search_product = req.body.search_product;\n      let OursProducts = await _models.default.Product.find({\n        state: 2,\n        title: new RegExp(search_product, \"i\")\n      }).sort({\n        \"createdAt\": 1\n      });\n      let CampaignDiscount = await _models.default.Discount.findOne({\n        type_campaign: 1,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        end_date_num: {\n          $gte: TIME_NOW\n        }\n      });\n      var Products = [];\n      for (const Product of OursProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaignDiscount) {\n          if (CampaignDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaignDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaignDiscount;\n            }\n          } else {\n            // por categoria}\n            let categories_a = [];\n            CampaignDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaignDiscount;\n            }\n          }\n        }\n        Products.push(_resourses.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n      res.status(200).json({\n        products: Products\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  profile_client: async (req, res) => {\n    try {\n      let user_id = req.body.user_id;\n      let Orders = await _models.default.Sale.find({\n        user: user_id\n      });\n      let sale_orders = [];\n      for (const order of Orders) {\n        let detail_orders = await _models.default.SaleDetail.find({\n          sale: order._id\n        }).populate({\n          path: \"product\",\n          populate: {\n            path: \"categorie\"\n          }\n        }).populate(\"variedad\");\n        let sale_address = await _models.default.SaleAddress.find({\n          sale: order._id\n        });\n        let collection_detail_orders = [];\n        for (const detail_order of detail_orders) {\n          let reviewS = await _models.default.Review.findOne({\n            sale_detail: detail_order._id\n          });\n          collection_detail_orders.push({\n            _id: detail_order._id,\n            product: {\n              _id: detail_order.product._id,\n              title: detail_order.product.title,\n              imagen: process.env.URL_BACKEND + \"/api/products/uploads/product/\" + detail_order.product.portada,\n              state: detail_order.product.state,\n              slug: detail_order.product.slug,\n              sku: detail_order.product.sku,\n              categorie: detail_order.product.categorie,\n              price_bs: detail_order.product.price_bs,\n              price_usd: detail_order.product.price_usd,\n              condition: detail_order.product.condition\n            },\n            type_discount: detail_order.type_discount,\n            discount: detail_order.discount,\n            cantidad: detail_order.cantidad,\n            variedad: detail_order.variedad,\n            code_cupon: detail_order.code_cupon,\n            code_discount: detail_order.code_discount,\n            price_unit: detail_order.price_unit,\n            subtotal: detail_order.subtotal,\n            total: detail_order.total,\n            review: reviewS\n          });\n        }\n        sale_orders.push({\n          sale: order,\n          sale_details: collection_detail_orders,\n          sale_address: sale_address\n        });\n      }\n      let ADDRESS_CLIENT = await _models.default.AddressClient.find({\n        user: user_id\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        sale_orders: sale_orders,\n        address_client: ADDRESS_CLIENT\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  update_client: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('/');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n\n      //  console.log(req.body);\n\n      const updateData = {};\n\n      // Verifica cada campo y solo actualiza si tiene valor\n      if (req.body.name) updateData.name = req.body.name;\n      if (req.body.surname) updateData.surname = req.body.surname;\n      if (req.body.email) updateData.email = req.body.email;\n\n      // Solo actualiza el password si se proporciona uno nuevo\n      if (req.body.password && req.body.password !== \"\") {\n        updateData.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, updateData);\n      let User = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"Super! Su información se actualizó satisfactoriamente\",\n        user: {\n          name: User.name,\n          surname: User.surname,\n          email: User.email,\n          _id: User._id\n        }\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  config_initial: async (req, res) => {\n    try {\n      let categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      let variedades = await _models.default.Variedad.find({});\n      res.status(200).json({\n        categories: categories,\n        variedades: variedades\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  filter_products: async (req, res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let search_product = req.body.search_product;\n      let categories_salecteds = req.body.categories_salecteds;\n      let is_discount = req.body.is_discount;\n      let variedad_selected = req.body.variedad_selected;\n      let price_min = req.body.price_min;\n      let price_max = req.body.price_max;\n      let filter = [{\n        state: 2\n      }];\n      var categories_s = [];\n      var products_s = [];\n      //{ state:2, title: new RegExp(search_product, \"i\")}\n\n      if (categories_salecteds.length > 0) {\n        categories_salecteds.forEach(categorie => {\n          categories_s.push(categorie);\n        });\n        // filter.push({\n        //   categorie:{ $in: categories_salecteds},\n        // })\n      }\n      let CampaignDiscount = await _models.default.Discount.findOne({\n        type_campaign: 1,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        end_date_num: {\n          $gte: TIME_NOW\n        }\n      });\n      if (is_discount == 2) {\n        if (CampaignDiscount.type_segment == 1) {\n          CampaignDiscount.products.forEach(item => {\n            products_s.push(item._id);\n          });\n        } else {\n          CampaignDiscount.categories.forEach(item => {\n            categories_s.push(item._id);\n          });\n        }\n      }\n      if (variedad_selected) {\n        let VARIE = await _models.default.Variedad.findById({\n          _id: variedad_selected._id\n        });\n        if (VARIE) {\n          products_s.push(VARIE.product);\n        }\n      }\n      if (categories_s.length > 0) {\n        filter.push({\n          categorie: {\n            $in: categories_s\n          }\n        });\n      }\n      if (products_s.length > 0) {\n        filter.push({\n          _id: {\n            $in: products_s\n          }\n        });\n      }\n      if (price_min > 0 && price_max > 0) {\n        filter.push({\n          price_usd: {\n            $gte: price_min,\n            $lte: price_max\n          }\n        });\n      }\n      let OursProducts = await _models.default.Product.find({\n        $and: filter\n      }).sort({\n        \"createdAt\": 1\n      });\n      var Products = [];\n      for (const Product of OursProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaignDiscount) {\n          if (CampaignDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaignDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaignDiscount;\n            }\n          } else {\n            // por categoria}\n            let categories_a = [];\n            CampaignDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaignDiscount;\n            }\n          }\n        }\n        Products.push(_resourses.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n      res.status(200).json({\n        products: Products\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3Vyc2VzIiwiX2JjcnlwdGpzIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwibGlzdCIsInJlcSIsInJlcyIsIlRJTUVfTk9XIiwicXVlcnkiLCJTbGlkZXJzIiwibW9kZWxzIiwiU2xpZGVyIiwiZmluZCIsInN0YXRlIiwibWFwIiwic2xpZGVyIiwicmVzb3Vyc2UiLCJzbGlkZXJfbGlzdCIsInByb2R1Y3RQcm9tbyIsIlByb2R1Y3QiLCJmaW5kQnlJZCIsInByb2R1Y3RfbGlzdCIsIkNhdGVnb3JpZXMiLCJDYXRlZ29yaWUiLCJjYXRlZ29yaWUiLCJjYXRlZ29yaWVfbGlzdCIsIkNhbXBhaWduRGlzY291bnQiLCJEaXNjb3VudCIsImZpbmRPbmUiLCJ0eXBlX2NhbXBhaWduIiwic3RhcnRfZGF0ZV9udW0iLCIkbHRlIiwiZW5kX2RhdGVfbnVtIiwiJGd0ZSIsIkJlc3RQcm9kdWN0cyIsImNvbmRpdGlvbiIsIiRuZSIsInNvcnQiLCJPYmplY3RCZXN0UHJvZHVjdHMiLCJWQVJJRURBREVTIiwiVmFyaWVkYWQiLCJwcm9kdWN0IiwiX2lkIiwiUkVWSUVXUyIsIlJldmlldyIsIkFWR19SRVZJRVciLCJsZW5ndGgiLCJNYXRoIiwiY2VpbCIsInJlZHVjZSIsInN1bSIsIml0ZW0iLCJjYW50aWRhZCIsIkNPVU5UX1JFVklFVyIsIkRJU0NPVU5UX0VYSVRTIiwidHlwZV9zZWdtZW50IiwicHJvZHVjdHNfYSIsInByb2R1Y3RzIiwiZm9yRWFjaCIsInB1c2giLCJpbmNsdWRlcyIsImNhdGVnb3JpZXNfYSIsImNhdGVnb3JpZXMiLCJPdXJzUHJvZHVjdHMiLCJPYmplY3RPdXJzUHJvZHVjdHMiLCJEb25hdGlvblByb2R1Y3RzIiwiT2JqZWN0RG9uYXRpb25Qcm9kdWN0cyIsIkZsYXNoU2FsZSIsIlByb2R1Y3RMaXN0IiwiT2JqZWNUIiwic3RhdHVzIiwianNvbiIsInNsaWRlcnMiLCJiZXN0X3Byb2R1Y3RzIiwib3VyX3Byb2R1Y3RzIiwiZG9uYXRpb25fcHJvZHVjdHMiLCJjYW1wYWlnbl9wcm9kdWN0cyIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInNlbmQiLCJtZXNzYWdlIiwic2hvd19sYW5kaW5nX3Byb2R1Y3QiLCJTTFVHIiwicGFyYW1zIiwic2x1ZyIsIkRJU0NPVU5UX0lEIiwicG9wdWxhdGUiLCJSZWxhdGVkUHJvZHVjdHMiLCJPYmplY3RSZWxhdGVkUHJvZHVjdHMiLCJTQUxFX0ZMQVNIIiwicmVsYXRlZF9wcm9kdWN0cyIsInNlYXJjaF9wcm9kdWN0IiwiYm9keSIsInRpdGxlIiwiUmVnRXhwIiwiUHJvZHVjdHMiLCJwcm9maWxlX2NsaWVudCIsInVzZXJfaWQiLCJPcmRlcnMiLCJTYWxlIiwidXNlciIsInNhbGVfb3JkZXJzIiwib3JkZXIiLCJkZXRhaWxfb3JkZXJzIiwiU2FsZURldGFpbCIsInNhbGUiLCJwYXRoIiwic2FsZV9hZGRyZXNzIiwiU2FsZUFkZHJlc3MiLCJjb2xsZWN0aW9uX2RldGFpbF9vcmRlcnMiLCJkZXRhaWxfb3JkZXIiLCJyZXZpZXdTIiwic2FsZV9kZXRhaWwiLCJpbWFnZW4iLCJwcm9jZXNzIiwiZW52IiwiVVJMX0JBQ0tFTkQiLCJwb3J0YWRhIiwic2t1IiwicHJpY2VfYnMiLCJwcmljZV91c2QiLCJ0eXBlX2Rpc2NvdW50IiwiZGlzY291bnQiLCJ2YXJpZWRhZCIsImNvZGVfY3Vwb24iLCJjb2RlX2Rpc2NvdW50IiwicHJpY2VfdW5pdCIsInN1YnRvdGFsIiwidG90YWwiLCJyZXZpZXciLCJzYWxlX2RldGFpbHMiLCJBRERSRVNTX0NMSUVOVCIsIkFkZHJlc3NDbGllbnQiLCJhZGRyZXNzX2NsaWVudCIsInVwZGF0ZV9jbGllbnQiLCJmaWxlcyIsImltZ19wYXRoIiwiYXZhdGFyIiwibmFtZSIsInNwbGl0IiwiYXZhdGFyX25hbWUiLCJ1cGRhdGVEYXRhIiwic3VybmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJiY3J5cHQiLCJoYXNoIiwiVXNlciIsImZpbmRCeUlkQW5kVXBkYXRlIiwiY29uZmlnX2luaXRpYWwiLCJ2YXJpZWRhZGVzIiwiZmlsdGVyX3Byb2R1Y3RzIiwiY2F0ZWdvcmllc19zYWxlY3RlZHMiLCJpc19kaXNjb3VudCIsInZhcmllZGFkX3NlbGVjdGVkIiwicHJpY2VfbWluIiwicHJpY2VfbWF4IiwiZmlsdGVyIiwiY2F0ZWdvcmllc19zIiwicHJvZHVjdHNfcyIsIlZBUklFIiwiJGluIiwiJGFuZCJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIkhvbWVDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiO1xuaW1wb3J0IHJlc291cnNlIGZyb20gXCIuLi9yZXNvdXJzZXNcIjtcbmltcG9ydCBiY3J5cHQgZnJvbSBcImJjcnlwdGpzXCJcblxuXG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICBsaXN0OiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBUSU1FX05PVyA9IHJlcS5xdWVyeS5USU1FX05PV1xuXG4gICAgICAgIGxldCBTbGlkZXJzID0gYXdhaXQgbW9kZWxzLlNsaWRlci5maW5kKHtzdGF0ZToxfSk7IFxuICAgICAgICBTbGlkZXJzID0gU2xpZGVycy5tYXAoKHNsaWRlcikgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gcmVzb3Vyc2UuU2xpZGVyLnNsaWRlcl9saXN0KHNsaWRlcik7XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIGxldCBwcm9kdWN0UHJvbW8gPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZCgnNjdjMGViZDkwMjA0YjM5MDljZWExZTY3Jyk7XG4gICAgICAgIGlmIChwcm9kdWN0UHJvbW8pIHtcbiAgICAgICAgICBwcm9kdWN0UHJvbW8gPSByZXNvdXJzZS5Qcm9kdWN0LnByb2R1Y3RfbGlzdChwcm9kdWN0UHJvbW8pO1xuICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgXG5cbiAgICAgICAgbGV0IENhdGVnb3JpZXMgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmQoe3N0YXRlOjF9KTsgXG4gICAgICAgIENhdGVnb3JpZXMgPSBDYXRlZ29yaWVzLm1hcCgoY2F0ZWdvcmllKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHJlc291cnNlLkNhdGVnb3JpZS5jYXRlZ29yaWVfbGlzdChjYXRlZ29yaWUpO1xuICAgICAgICB9KVxuXG4gICAgICAgIGxldCBDYW1wYWlnbkRpc2NvdW50ID0gIGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kT25lKHtcbiAgICAgICAgICB0eXBlX2NhbXBhaWduOiAxLFxuICAgICAgICAgIHN0YXJ0X2RhdGVfbnVtOnskbHRlOiBUSU1FX05PV30sXG4gICAgICAgICAgZW5kX2RhdGVfbnVtOnskZ3RlOiBUSU1FX05PV30sXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coQ2FtcGFpZ25EaXNjb3VudCk7XG5cbiAgICAgICAgbGV0IEJlc3RQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoeyBzdGF0ZToyLCBjb25kaXRpb246IHskbmU6IDN9fSkuc29ydCh7IFwiY3JlYXRlZEF0XCI6IC0xfSk7XG4gICAgICAgIHZhciBPYmplY3RCZXN0UHJvZHVjdHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBQcm9kdWN0IG9mIEJlc3RQcm9kdWN0cyl7XG4gICAgICAgICAgbGV0IFZBUklFREFERVMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcbiAgICAgICAgICBsZXQgUkVWSUVXUyA9IGF3YWl0IG1vZGVscy5SZXZpZXcuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcbiAgICAgICAgICBsZXQgQVZHX1JFVklFVyA9IFJFVklFV1MubGVuZ3RoID4gMCA/IE1hdGguY2VpbChSRVZJRVdTLnJlZHVjZSgoc3VtLGl0ZW0pID0+IHN1bSArIGl0ZW0uY2FudGlkYWQsMCkvUkVWSUVXUy5sZW5ndGgpOiAwO1xuICAgICAgICAgIGxldCBDT1VOVF9SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aDtcbiAgICAgICAgICBsZXQgRElTQ09VTlRfRVhJVFMgPSAgbnVsbDtcbiAgICAgICAgICBpZihDYW1wYWlnbkRpc2NvdW50KXtcbiAgICAgICAgICAgIGlmKENhbXBhaWduRGlzY291bnQudHlwZV9zZWdtZW50ID09IDEpey8vcG9yIHByb2R1Y3RvXG4gICAgICAgICAgICAgIGxldCBwcm9kdWN0c19hID0gW107XG4gICAgICAgICAgICAgIENhbXBhaWduRGlzY291bnQucHJvZHVjdHMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICBwcm9kdWN0c19hLnB1c2goaXRlbS5faWQpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICBpZihwcm9kdWN0c19hLmluY2x1ZGVzKFByb2R1Y3QuX2lkK1wiXCIpKXtcbiAgICAgICAgICAgICAgICBESVNDT1VOVF9FWElUUyA9IENhbXBhaWduRGlzY291bnQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1lbHNley8vIHBvciBjYXRlZ29yaWF9XG4gICAgICAgICAgICAgIGxldCBjYXRlZ29yaWVzX2EgPSBbXTtcbiAgICAgICAgICAgICAgQ2FtcGFpZ25EaXNjb3VudC5jYXRlZ29yaWVzLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllc19hLnB1c2goaXRlbS5faWQpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICBpZihjYXRlZ29yaWVzX2EuaW5jbHVkZXMoUHJvZHVjdC5jYXRlZ29yaWUrXCJcIikpe1xuICAgICAgICAgICAgICAgIERJU0NPVU5UX0VYSVRTID0gQ2FtcGFpZ25EaXNjb3VudDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBPYmplY3RCZXN0UHJvZHVjdHMucHVzaChyZXNvdXJzZS5Qcm9kdWN0LnByb2R1Y3RfbGlzdChQcm9kdWN0LCBWQVJJRURBREVTLCBBVkdfUkVWSUVXLCBDT1VOVF9SRVZJRVcsIERJU0NPVU5UX0VYSVRTKSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgT3Vyc1Byb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7IHN0YXRlOjIsIGNvbmRpdGlvbjogeyRuZTogM319KS5zb3J0KHsgXCJjcmVhdGVkQXRcIjogMX0pO1xuXG4gICAgICAgIHZhciBPYmplY3RPdXJzUHJvZHVjdHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBQcm9kdWN0IG9mIE91cnNQcm9kdWN0cykge1xuICAgICAgICAgICAgbGV0IFZBUklFREFERVMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcbiAgICAgICAgICAgIGxldCBSRVZJRVdTID0gYXdhaXQgbW9kZWxzLlJldmlldy5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xuICAgICAgICAgICAgbGV0IEFWR19SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aCA+IDAgPyBNYXRoLmNlaWwoUkVWSUVXUy5yZWR1Y2UoKHN1bSxpdGVtKSA9PiBzdW0gKyBpdGVtLmNhbnRpZGFkLDApL1JFVklFV1MubGVuZ3RoKTogMDtcbiAgICAgICAgICAgIGxldCBDT1VOVF9SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aDtcbiAgICAgICAgICAgIGxldCBESVNDT1VOVF9FWElUUyA9ICBudWxsO1xuICAgICAgICAgICAgaWYoQ2FtcGFpZ25EaXNjb3VudCl7XG4gICAgICAgICAgICAgIGlmKENhbXBhaWduRGlzY291bnQudHlwZV9zZWdtZW50ID09IDEpey8vcG9yIHByb2R1Y3RvXG4gICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RzX2EgPSBbXTtcbiAgICAgICAgICAgICAgICBDYW1wYWlnbkRpc2NvdW50LnByb2R1Y3RzLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICBwcm9kdWN0c19hLnB1c2goaXRlbS5faWQpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgaWYocHJvZHVjdHNfYS5pbmNsdWRlcyhQcm9kdWN0Ll9pZCtcIlwiKSl7XG4gICAgICAgICAgICAgICAgICBESVNDT1VOVF9FWElUUyA9IENhbXBhaWduRGlzY291bnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9ZWxzZXsvLyBwb3IgY2F0ZWdvcmlhfVxuICAgICAgICAgICAgICAgIGxldCBjYXRlZ29yaWVzX2EgPSBbXTtcbiAgICAgICAgICAgICAgICBDYW1wYWlnbkRpc2NvdW50LmNhdGVnb3JpZXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNfYS5wdXNoKGl0ZW0uX2lkKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGlmKGNhdGVnb3JpZXNfYS5pbmNsdWRlcyhQcm9kdWN0LmNhdGVnb3JpZStcIlwiKSl7XG4gICAgICAgICAgICAgICAgICBESVNDT1VOVF9FWElUUyA9IENhbXBhaWduRGlzY291bnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBPYmplY3RPdXJzUHJvZHVjdHMucHVzaChyZXNvdXJzZS5Qcm9kdWN0LnByb2R1Y3RfbGlzdChQcm9kdWN0LFZBUklFREFERVMsIEFWR19SRVZJRVcsIENPVU5UX1JFVklFVywgRElTQ09VTlRfRVhJVFMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE91cnNQcm9kdWN0cyA9IE91cnNQcm9kdWN0cy5tYXAoYXN5bmMgKHByb2R1Y3QpID0+IHtcbiAgICAgICAgLy8gICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OiBwcm9kdWN0Ll9pZH0pO1xuICAgICAgICAvLyAgIHJldHVybiByZXNvdXJzZS5Qcm9kdWN0LnByb2R1Y3RfbGlzdChwcm9kdWN0LFZBUklFREFERVMpO1xuICAgICAgICAvLyB9KVxuXG4gICAgICAgIGxldCBEb25hdGlvblByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7IHN0YXRlOjIsIGNvbmRpdGlvbjozfSkuc29ydCh7IFwiY3JlYXRlZEF0XCI6IDF9KTtcbiAgICAgICAgdmFyIE9iamVjdERvbmF0aW9uUHJvZHVjdHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBQcm9kdWN0IG9mIERvbmF0aW9uUHJvZHVjdHMpIHtcbiAgICAgICAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3Q6IFByb2R1Y3QuX2lkfSk7XG4gICAgICAgICAgICBPYmplY3REb25hdGlvblByb2R1Y3RzLnB1c2gocmVzb3Vyc2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCxWQVJJRURBREVTKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEb25hdGlvblByb2R1Y3RzID0gRG9uYXRpb25Qcm9kdWN0cy5tYXAoKHByb2R1Y3QpID0+IHtcbiAgICAgICAgLy8gICByZXR1cm4gcmVzb3Vyc2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QocHJvZHVjdCk7XG4gICAgICAgIC8vIH0pXG5cbiAgICAgICAgbGV0IEZsYXNoU2FsZSA9ICBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZE9uZSh7XG4gICAgICAgICAgdHlwZV9jYW1wYWlnbjogMixcbiAgICAgICAgICBzdGFydF9kYXRlX251bTp7JGx0ZTogVElNRV9OT1d9LFxuICAgICAgICAgIGVuZF9kYXRlX251bTp7JGd0ZTogVElNRV9OT1d9LFxuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgUHJvZHVjdExpc3QgPSBbXTtcbiAgICAgICAgaWYoRmxhc2hTYWxlKXtcbiAgICAgICAgICBmb3IgKGNvbnN0IHByb2R1Y3Qgb2YgRmxhc2hTYWxlLnByb2R1Y3RzKSB7XG4gICAgICAgICAgICB2YXIgT2JqZWNUID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWQoe19pZDpwcm9kdWN0Ll9pZH0pO1xuICAgICAgICAgICAgbGV0IFZBUklFREFERVMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogcHJvZHVjdC5faWR9KTtcbiAgICAgICAgICAgIFByb2R1Y3RMaXN0LnB1c2gocmVzb3Vyc2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoT2JqZWNULFZBUklFREFERVMpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgICAvL2NvbnNvbGUubG9nKEZsYXNoU2FsZSk7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coVElNRV9OT1cpO1xuICAgICAgICBcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgIHNsaWRlcnM6IFNsaWRlcnMsXG4gICAgICAgICAgY2F0ZWdvcmllczogQ2F0ZWdvcmllcyxcbiAgICAgICAgICBwcm9kdWN0UHJvbW86IFtwcm9kdWN0UHJvbW9dLCAvLyBFbnbDrWEgY29tbyB1biBhcnJlZ2xvXG4gICAgICAgICAgYmVzdF9wcm9kdWN0czpPYmplY3RCZXN0UHJvZHVjdHMsXG4gICAgICAgICAgb3VyX3Byb2R1Y3RzOiBPYmplY3RPdXJzUHJvZHVjdHMsXG4gICAgICAgICAgZG9uYXRpb25fcHJvZHVjdHM6T2JqZWN0RG9uYXRpb25Qcm9kdWN0cyxcbiAgICAgICAgICBGbGFzaFNhbGU6Rmxhc2hTYWxlLFxuICAgICAgICAgIGNhbXBhaWduX3Byb2R1Y3RzOlByb2R1Y3RMaXN0LFxuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgc2hvd19sYW5kaW5nX3Byb2R1Y3Q6IGFzeW5jKHJlcSwgcmVzKSA9PntcbiAgICB0cnkge1xuICAgICAgbGV0IFNMVUcgPSByZXEucGFyYW1zLnNsdWc7XG4gICAgICBsZXQgRElTQ09VTlRfSUQgPSByZXEucXVlcnkuX2lkO1xuXG4gICAgICAvLyBjb25zb2xlLmxvZyhcIl9pZD0gXCIrRElTQ09VTlRfSUQpO1xuXG4gICAgICBsZXQgUHJvZHVjdCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRPbmUoe3NsdWc6IFNMVUcsIHN0YXRlOiAyfSk7XG5cbiAgICAgIGxldCBWQVJJRURBREVTID0gIGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xuXG4gICAgICBsZXQgUkVWSUVXUyA9IGF3YWl0IG1vZGVscy5SZXZpZXcuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KS5wb3B1bGF0ZShcInVzZXJcIik7XG4gICAgICBsZXQgQVZHX1JFVklFVyA9IFJFVklFV1MubGVuZ3RoID4gMCA/IE1hdGguY2VpbChSRVZJRVdTLnJlZHVjZSgoc3VtLGl0ZW0pID0+IHN1bSArIGl0ZW0uY2FudGlkYWQsMCkvUkVWSUVXUy5sZW5ndGgpOiAwO1xuICAgICAgbGV0IENPVU5UX1JFVklFVyA9IFJFVklFV1MubGVuZ3RoO1xuXG4gICAgICAvLyBjb25zb2xlLmxvZyhcIkxhcyBlc3RyZWxsYXM6IFwiK0FWR19SRVZJRVcpO1xuXG4gICAgICBsZXQgUmVsYXRlZFByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7Y2F0ZWdvcmllOiBQcm9kdWN0LmNhdGVnb3JpZSwgc3RhdGU6IDIgfSk7XG5cbiAgICAgIHZhciBPYmplY3RSZWxhdGVkUHJvZHVjdHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBQcm9kdWN0IG9mIFJlbGF0ZWRQcm9kdWN0cykge1xuICAgICAgICAgICAgbGV0IFZBUklFREFERVMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcbiAgICAgICAgICAgIE9iamVjdFJlbGF0ZWRQcm9kdWN0cy5wdXNoKHJlc291cnNlLlByb2R1Y3QucHJvZHVjdF9saXN0KFByb2R1Y3QsVkFSSUVEQURFUykpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBTQUxFX0ZMQVNIID0gbnVsbDtcbiAgICAgICAgaWYoRElTQ09VTlRfSUQpe1xuICAgICAgICAgIFNBTEVfRkxBU0ggPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZEJ5SWQoe19pZDogRElTQ09VTlRfSUR9KVxuICAgICAgICB9XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgcHJvZHVjdDogcmVzb3Vyc2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCwgVkFSSUVEQURFUyksXG4gICAgICAgIHJlbGF0ZWRfcHJvZHVjdHM6IE9iamVjdFJlbGF0ZWRQcm9kdWN0cyxcbiAgICAgICAgU0FMRV9GTEFTSDogU0FMRV9GTEFTSCxcbiAgICAgICAgUkVWSUVXUzogUkVWSUVXUyxcbiAgICAgICAgQVZHX1JFVklFVzogQVZHX1JFVklFVyxcbiAgICAgICAgQ09VTlRfUkVWSUVXOiBDT1VOVF9SRVZJRVcsXG4gICAgICAgIG1lc3NhZ2U6IFwiU3VwZXIhIEVsIHByb2R1Y3RvIGFncmVnw7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgIH0pXG5cbiAgICAgIFxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgc2VhcmNoX3Byb2R1Y3Q6IGFzeW5jKHJlcSwgcmVzKSA9PntcbiAgICB0cnkge1xuICAgICAgdmFyIFRJTUVfTk9XID0gcmVxLnF1ZXJ5LlRJTUVfTk9XO1xuXG4gICAgICBsZXQgc2VhcmNoX3Byb2R1Y3QgPSByZXEuYm9keS5zZWFyY2hfcHJvZHVjdDtcbiAgICAgIGxldCBPdXJzUHJvZHVjdHMgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kKHsgc3RhdGU6MiwgdGl0bGU6IG5ldyBSZWdFeHAoc2VhcmNoX3Byb2R1Y3QsIFwiaVwiKX0pLnNvcnQoeyBcImNyZWF0ZWRBdFwiOiAxfSk7XG5cbiAgICAgIGxldCBDYW1wYWlnbkRpc2NvdW50ID0gIGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kT25lKHtcbiAgICAgICAgdHlwZV9jYW1wYWlnbjogMSxcbiAgICAgICAgc3RhcnRfZGF0ZV9udW06eyRsdGU6IFRJTUVfTk9XfSxcbiAgICAgICAgZW5kX2RhdGVfbnVtOnskZ3RlOiBUSU1FX05PV30sXG4gICAgICB9KTtcblxuICAgICAgdmFyIFByb2R1Y3RzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgUHJvZHVjdCBvZiBPdXJzUHJvZHVjdHMpIHtcbiAgICAgICAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3Q6IFByb2R1Y3QuX2lkfSk7XG4gICAgICAgICAgICBsZXQgUkVWSUVXUyA9IGF3YWl0IG1vZGVscy5SZXZpZXcuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcbiAgICAgICAgICAgIGxldCBBVkdfUkVWSUVXID0gUkVWSUVXUy5sZW5ndGggPiAwID8gTWF0aC5jZWlsKFJFVklFV1MucmVkdWNlKChzdW0saXRlbSkgPT4gc3VtICsgaXRlbS5jYW50aWRhZCwwKS9SRVZJRVdTLmxlbmd0aCk6IDA7XG4gICAgICAgICAgICBsZXQgQ09VTlRfUkVWSUVXID0gUkVWSUVXUy5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgRElTQ09VTlRfRVhJVFMgPSAgbnVsbDtcbiAgICAgICAgICAgIGlmKENhbXBhaWduRGlzY291bnQpe1xuICAgICAgICAgICAgICBpZihDYW1wYWlnbkRpc2NvdW50LnR5cGVfc2VnbWVudCA9PSAxKXsvL3BvciBwcm9kdWN0b1xuICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0c19hID0gW107XG4gICAgICAgICAgICAgICAgQ2FtcGFpZ25EaXNjb3VudC5wcm9kdWN0cy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgcHJvZHVjdHNfYS5wdXNoKGl0ZW0uX2lkKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGlmKHByb2R1Y3RzX2EuaW5jbHVkZXMoUHJvZHVjdC5faWQrXCJcIikpe1xuICAgICAgICAgICAgICAgICAgRElTQ09VTlRfRVhJVFMgPSBDYW1wYWlnbkRpc2NvdW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfWVsc2V7Ly8gcG9yIGNhdGVnb3JpYX1cbiAgICAgICAgICAgICAgICBsZXQgY2F0ZWdvcmllc19hID0gW107XG4gICAgICAgICAgICAgICAgQ2FtcGFpZ25EaXNjb3VudC5jYXRlZ29yaWVzLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzX2EucHVzaChpdGVtLl9pZCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBpZihjYXRlZ29yaWVzX2EuaW5jbHVkZXMoUHJvZHVjdC5jYXRlZ29yaWUrXCJcIikpe1xuICAgICAgICAgICAgICAgICAgRElTQ09VTlRfRVhJVFMgPSBDYW1wYWlnbkRpc2NvdW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgUHJvZHVjdHMucHVzaChyZXNvdXJzZS5Qcm9kdWN0LnByb2R1Y3RfbGlzdChQcm9kdWN0LFZBUklFREFERVMsIEFWR19SRVZJRVcsIENPVU5UX1JFVklFVywgRElTQ09VTlRfRVhJVFMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgcHJvZHVjdHM6IFByb2R1Y3RzLFxuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCIsXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgcHJvZmlsZV9jbGllbnQ6IGFzeW5jKHJlcSwgcmVzKSA9PntcbiAgICB0cnkge1xuICAgICAgbGV0IHVzZXJfaWQgPSByZXEuYm9keS51c2VyX2lkO1xuXG4gICAgICBsZXQgT3JkZXJzID0gIGF3YWl0IG1vZGVscy5TYWxlLmZpbmQoe3VzZXI6IHVzZXJfaWR9KTtcblxuICAgICAgbGV0IHNhbGVfb3JkZXJzID0gW107XG5cbiAgICAgIGZvciAoY29uc3Qgb3JkZXIgb2YgT3JkZXJzKSB7XG4gICAgICAgIGxldCBkZXRhaWxfb3JkZXJzID0gYXdhaXQgbW9kZWxzLlNhbGVEZXRhaWwuZmluZCh7c2FsZTogb3JkZXIuX2lkfSkucG9wdWxhdGUoe1xuICAgICAgICAgIHBhdGg6IFwicHJvZHVjdFwiLFxuICAgICAgICAgIHBvcHVsYXRlOiB7XG4gICAgICAgICAgICAgcGF0aDogXCJjYXRlZ29yaWVcIlxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLnBvcHVsYXRlKFwidmFyaWVkYWRcIik7XG4gICAgICAgIGxldCBzYWxlX2FkZHJlc3MgPSBhd2FpdCBtb2RlbHMuU2FsZUFkZHJlc3MuZmluZCh7c2FsZTogb3JkZXIuX2lkfSk7XG4gICAgICAgIGxldCBjb2xsZWN0aW9uX2RldGFpbF9vcmRlcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBkZXRhaWxfb3JkZXIgb2YgZGV0YWlsX29yZGVycykge1xuICAgICAgICAgIGxldCByZXZpZXdTID0gYXdhaXQgbW9kZWxzLlJldmlldy5maW5kT25lKHtzYWxlX2RldGFpbDogZGV0YWlsX29yZGVyLl9pZH0pO1xuICAgICAgICAgIGNvbGxlY3Rpb25fZGV0YWlsX29yZGVycy5wdXNoKHtcbiAgICAgICAgICAgICAgX2lkOmRldGFpbF9vcmRlci5faWQsXG4gICAgICAgICAgICAgIHByb2R1Y3Q6e1xuICAgICAgICAgICAgICAgIF9pZDogZGV0YWlsX29yZGVyLnByb2R1Y3QuX2lkLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBkZXRhaWxfb3JkZXIucHJvZHVjdC50aXRsZSxcbiAgICAgICAgICAgICAgICBpbWFnZW46cHJvY2Vzcy5lbnYuVVJMX0JBQ0tFTkQrXCIvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC9cIitkZXRhaWxfb3JkZXIucHJvZHVjdC5wb3J0YWRhLCBcbiAgICAgICAgICAgICAgICBzdGF0ZTogZGV0YWlsX29yZGVyLnByb2R1Y3Quc3RhdGUsXG4gICAgICAgICAgICAgICAgc2x1ZzogZGV0YWlsX29yZGVyLnByb2R1Y3Quc2x1ZyxcbiAgICAgICAgICAgICAgICBza3U6IGRldGFpbF9vcmRlci5wcm9kdWN0LnNrdSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWU6IGRldGFpbF9vcmRlci5wcm9kdWN0LmNhdGVnb3JpZSxcbiAgICAgICAgICAgICAgICBwcmljZV9iczogZGV0YWlsX29yZGVyLnByb2R1Y3QucHJpY2VfYnMsXG4gICAgICAgICAgICAgICAgcHJpY2VfdXNkOiBkZXRhaWxfb3JkZXIucHJvZHVjdC5wcmljZV91c2QsXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uOiBkZXRhaWxfb3JkZXIucHJvZHVjdC5jb25kaXRpb24sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHR5cGVfZGlzY291bnQ6IGRldGFpbF9vcmRlci50eXBlX2Rpc2NvdW50LFxuICAgICAgICAgICAgICBkaXNjb3VudDogZGV0YWlsX29yZGVyLmRpc2NvdW50LFxuICAgICAgICAgICAgICBjYW50aWRhZDogZGV0YWlsX29yZGVyLmNhbnRpZGFkLFxuICAgICAgICAgICAgICB2YXJpZWRhZDogZGV0YWlsX29yZGVyLnZhcmllZGFkLFxuICAgICAgICAgICAgICBjb2RlX2N1cG9uOiBkZXRhaWxfb3JkZXIuY29kZV9jdXBvbixcbiAgICAgICAgICAgICAgY29kZV9kaXNjb3VudDogZGV0YWlsX29yZGVyLmNvZGVfZGlzY291bnQsXG4gICAgICAgICAgICAgIHByaWNlX3VuaXQ6IGRldGFpbF9vcmRlci5wcmljZV91bml0LFxuICAgICAgICAgICAgICBzdWJ0b3RhbDogZGV0YWlsX29yZGVyLnN1YnRvdGFsLFxuICAgICAgICAgICAgICB0b3RhbDogZGV0YWlsX29yZGVyLnRvdGFsLFxuICAgICAgICAgICAgICByZXZpZXc6IHJldmlld1MsXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBzYWxlX29yZGVycy5wdXNoKHtcbiAgICAgICAgICBzYWxlOiBvcmRlcixcbiAgICAgICAgICBzYWxlX2RldGFpbHM6Y29sbGVjdGlvbl9kZXRhaWxfb3JkZXJzLFxuICAgICAgICAgIHNhbGVfYWRkcmVzczogc2FsZV9hZGRyZXNzLFxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgbGV0IEFERFJFU1NfQ0xJRU5UICA9IGF3YWl0IG1vZGVscy5BZGRyZXNzQ2xpZW50LmZpbmQoe3VzZXI6dXNlcl9pZH0pLnNvcnQoeydjcmVhdGVkQXQnOi0xfSk7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIHNhbGVfb3JkZXJzOiBzYWxlX29yZGVycyxcbiAgICAgICAgYWRkcmVzc19jbGllbnQ6IEFERFJFU1NfQ0xJRU5UXG4gICAgICB9KVxuXG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCIsXG4gICAgICB9KTtcbiAgICAgIFxuICAgIH1cbiAgfSxcbiAgIHVwZGF0ZV9jbGllbnQ6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgICB0cnkge1xuICAgICAgIGlmIChyZXEuZmlsZXMpIHtcbiAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5hdmF0YXIucGF0aDtcbiAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgIHZhciBhdmF0YXJfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgICBjb25zb2xlLmxvZyhhdmF0YXJfbmFtZSlcbiAgICAgICB9XG5cbiAgICAgIC8vICBjb25zb2xlLmxvZyhyZXEuYm9keSk7XG4gIFxuICAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7fTtcbiAgXG4gICAgICAgLy8gVmVyaWZpY2EgY2FkYSBjYW1wbyB5IHNvbG8gYWN0dWFsaXphIHNpIHRpZW5lIHZhbG9yXG4gICAgICAgaWYgKHJlcS5ib2R5Lm5hbWUpIHVwZGF0ZURhdGEubmFtZSA9IHJlcS5ib2R5Lm5hbWU7XG4gICAgICAgaWYgKHJlcS5ib2R5LnN1cm5hbWUpIHVwZGF0ZURhdGEuc3VybmFtZSA9IHJlcS5ib2R5LnN1cm5hbWU7XG4gICAgICAgaWYgKHJlcS5ib2R5LmVtYWlsKSB1cGRhdGVEYXRhLmVtYWlsID0gcmVxLmJvZHkuZW1haWw7XG4gIFxuICAgICAgIC8vIFNvbG8gYWN0dWFsaXphIGVsIHBhc3N3b3JkIHNpIHNlIHByb3BvcmNpb25hIHVubyBudWV2b1xuICAgICAgIGlmIChyZXEuYm9keS5wYXNzd29yZCAmJiByZXEuYm9keS5wYXNzd29yZCAhPT0gXCJcIikge1xuICAgICAgICAgdXBkYXRlRGF0YS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG4gICAgICAgfVxuICBcbiAgICAgICBhd2FpdCBtb2RlbHMuVXNlci5maW5kQnlJZEFuZFVwZGF0ZSh7IF9pZDogcmVxLmJvZHkuX2lkIH0sIHVwZGF0ZURhdGEpO1xuICBcbiAgICAgICBsZXQgVXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoeyBfaWQ6IHJlcS5ib2R5Ll9pZCB9KTtcbiAgXG4gICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgbWVzc2FnZTogXCJTdXBlciEgU3UgaW5mb3JtYWNpw7NuIHNlIGFjdHVhbGl6w7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgIG5hbWU6IFVzZXIubmFtZSxcbiAgICAgICAgICAgc3VybmFtZTogVXNlci5zdXJuYW1lLFxuICAgICAgICAgICBlbWFpbDogVXNlci5lbWFpbCxcbiAgICAgICAgICAgX2lkOiBVc2VyLl9pZCxcbiAgICAgICAgIH1cbiAgICAgICB9KVxuICBcbiAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgfSk7XG4gICAgIH1cbiAgIH0sXG5cbiAgIGNvbmZpZ19pbml0aWFsOiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGNhdGVnb3JpZXMgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmQoe3N0YXRlOiAxfSk7XG4gICAgICBsZXQgdmFyaWVkYWRlcyA9ICBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7fSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgY2F0ZWdvcmllczpjYXRlZ29yaWVzLFxuICAgICAgICB2YXJpZWRhZGVzOiB2YXJpZWRhZGVzLFxuICAgICAgfSk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgIH0pO1xuICAgIH1cblxuICAgfSxcbiAgIGZpbHRlcl9wcm9kdWN0czogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICB2YXIgVElNRV9OT1cgPSByZXEucXVlcnkuVElNRV9OT1c7XG4gICAgICBsZXQgc2VhcmNoX3Byb2R1Y3QgPSByZXEuYm9keS5zZWFyY2hfcHJvZHVjdDtcblxuICAgICAgbGV0IGNhdGVnb3JpZXNfc2FsZWN0ZWRzID0gcmVxLmJvZHkuY2F0ZWdvcmllc19zYWxlY3RlZHM7XG4gICAgICBsZXQgaXNfZGlzY291bnQgPSByZXEuYm9keS5pc19kaXNjb3VudDtcbiAgICAgIGxldCB2YXJpZWRhZF9zZWxlY3RlZCA9IHJlcS5ib2R5LnZhcmllZGFkX3NlbGVjdGVkO1xuICAgICAgbGV0IHByaWNlX21pbiA9IHJlcS5ib2R5LnByaWNlX21pbjtcbiAgICAgIGxldCBwcmljZV9tYXggPSByZXEuYm9keS5wcmljZV9tYXg7XG5cbiAgICAgIGxldCBmaWx0ZXIgPSBbXG4gICAgICAgIHsgc3RhdGU6MiB9LFxuICAgICAgXTtcblxuICAgICAgdmFyIGNhdGVnb3JpZXNfcyA9IFtdO1xuICAgICAgdmFyIHByb2R1Y3RzX3MgPSBbXTtcbiAgICAgIC8veyBzdGF0ZToyLCB0aXRsZTogbmV3IFJlZ0V4cChzZWFyY2hfcHJvZHVjdCwgXCJpXCIpfVxuXG4gICAgICBpZihjYXRlZ29yaWVzX3NhbGVjdGVkcy5sZW5ndGggPiAwKXtcbiAgICAgICAgY2F0ZWdvcmllc19zYWxlY3RlZHMuZm9yRWFjaCgoY2F0ZWdvcmllKSA9PiB7XG4gICAgICAgICAgY2F0ZWdvcmllc19zLnB1c2goY2F0ZWdvcmllKTtcbiAgICAgICAgfSlcbiAgICAgICAgLy8gZmlsdGVyLnB1c2goe1xuICAgICAgICAvLyAgIGNhdGVnb3JpZTp7ICRpbjogY2F0ZWdvcmllc19zYWxlY3RlZHN9LFxuICAgICAgICAvLyB9KVxuICAgICAgfVxuXG4gICAgICBsZXQgQ2FtcGFpZ25EaXNjb3VudCA9ICBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZE9uZSh7XG4gICAgICAgIHR5cGVfY2FtcGFpZ246IDEsXG4gICAgICAgIHN0YXJ0X2RhdGVfbnVtOnskbHRlOiBUSU1FX05PV30sXG4gICAgICAgIGVuZF9kYXRlX251bTp7JGd0ZTogVElNRV9OT1d9LFxuICAgICAgfSk7XG5cbiAgICAgIGlmKGlzX2Rpc2NvdW50ID09IDIpe1xuICAgICAgIGlmKCBDYW1wYWlnbkRpc2NvdW50LnR5cGVfc2VnbWVudCA9PSAxKXtcbiAgICAgICAgIENhbXBhaWduRGlzY291bnQucHJvZHVjdHMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgcHJvZHVjdHNfcy5wdXNoKGl0ZW0uX2lkKTtcbiAgICAgICAgICB9KVxuICAgICAgIH1lbHNle1xuICAgICAgICAgQ2FtcGFpZ25EaXNjb3VudC5jYXRlZ29yaWVzLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgIGNhdGVnb3JpZXNfcy5wdXNoKGl0ZW0uX2lkKTtcbiAgICAgICAgICB9KVxuICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYodmFyaWVkYWRfc2VsZWN0ZWQpe1xuICAgICAgICBsZXQgVkFSSUUgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWQoe19pZDogdmFyaWVkYWRfc2VsZWN0ZWQuX2lkfSk7XG4gICAgICAgIGlmKFZBUklFKXtcbiAgICAgICAgICBwcm9kdWN0c19zLnB1c2goVkFSSUUucHJvZHVjdCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYoY2F0ZWdvcmllc19zLmxlbmd0aCA+IDApe1xuICAgICAgICBmaWx0ZXIucHVzaCh7XG4gICAgICAgICAgY2F0ZWdvcmllOiB7JGluOiBjYXRlZ29yaWVzX3N9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZihwcm9kdWN0c19zLmxlbmd0aCA+IDApe1xuICAgICAgICBmaWx0ZXIucHVzaCh7XG4gICAgICAgICAgX2lkOiB7JGluOiBwcm9kdWN0c19zfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYocHJpY2VfbWluID4gMCAmJiBwcmljZV9tYXggPiAwKXtcbiAgICAgICAgZmlsdGVyLnB1c2goe1xuICAgICAgICAgIHByaWNlX3VzZDogeyRndGU6cHJpY2VfbWluLCAkbHRlOiBwcmljZV9tYXh9LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgbGV0IE91cnNQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoeyRhbmQ6IGZpbHRlcn0pLnNvcnQoeyBcImNyZWF0ZWRBdFwiOiAxfSk7XG5cblxuICAgICAgdmFyIFByb2R1Y3RzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgUHJvZHVjdCBvZiBPdXJzUHJvZHVjdHMpIHtcbiAgICAgICAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3Q6IFByb2R1Y3QuX2lkfSk7XG4gICAgICAgICAgICBsZXQgUkVWSUVXUyA9IGF3YWl0IG1vZGVscy5SZXZpZXcuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcbiAgICAgICAgICAgIGxldCBBVkdfUkVWSUVXID0gUkVWSUVXUy5sZW5ndGggPiAwID8gTWF0aC5jZWlsKFJFVklFV1MucmVkdWNlKChzdW0saXRlbSkgPT4gc3VtICsgaXRlbS5jYW50aWRhZCwwKS9SRVZJRVdTLmxlbmd0aCk6IDA7XG4gICAgICAgICAgICBsZXQgQ09VTlRfUkVWSUVXID0gUkVWSUVXUy5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgRElTQ09VTlRfRVhJVFMgPSAgbnVsbDtcbiAgICAgICAgICAgIGlmKENhbXBhaWduRGlzY291bnQpe1xuICAgICAgICAgICAgICBpZihDYW1wYWlnbkRpc2NvdW50LnR5cGVfc2VnbWVudCA9PSAxKXsvL3BvciBwcm9kdWN0b1xuICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0c19hID0gW107XG4gICAgICAgICAgICAgICAgQ2FtcGFpZ25EaXNjb3VudC5wcm9kdWN0cy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgcHJvZHVjdHNfYS5wdXNoKGl0ZW0uX2lkKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGlmKHByb2R1Y3RzX2EuaW5jbHVkZXMoUHJvZHVjdC5faWQrXCJcIikpe1xuICAgICAgICAgICAgICAgICAgRElTQ09VTlRfRVhJVFMgPSBDYW1wYWlnbkRpc2NvdW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfWVsc2V7Ly8gcG9yIGNhdGVnb3JpYX1cbiAgICAgICAgICAgICAgICBsZXQgY2F0ZWdvcmllc19hID0gW107XG4gICAgICAgICAgICAgICAgQ2FtcGFpZ25EaXNjb3VudC5jYXRlZ29yaWVzLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzX2EucHVzaChpdGVtLl9pZCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBpZihjYXRlZ29yaWVzX2EuaW5jbHVkZXMoUHJvZHVjdC5jYXRlZ29yaWUrXCJcIikpe1xuICAgICAgICAgICAgICAgICAgRElTQ09VTlRfRVhJVFMgPSBDYW1wYWlnbkRpc2NvdW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgUHJvZHVjdHMucHVzaChyZXNvdXJzZS5Qcm9kdWN0LnByb2R1Y3RfbGlzdChQcm9kdWN0LFZBUklFREFERVMsIEFWR19SRVZJRVcsIENPVU5UX1JFVklFVywgRElTQ09VTlRfRVhJVFMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgcHJvZHVjdHM6IFByb2R1Y3RzLFxuICAgICAgICB9KTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgfSk7XG4gICAgfVxuICAgfSxcblxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsU0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQTZCLFNBQUFELHVCQUFBSSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FJZDtFQUViRyxJQUFJLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFFQyxHQUFHLEtBQUs7SUFDdkIsSUFBSTtNQUNBLElBQUlDLFFBQVEsR0FBR0YsR0FBRyxDQUFDRyxLQUFLLENBQUNELFFBQVE7TUFFakMsSUFBSUUsT0FBTyxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDQyxJQUFJLENBQUM7UUFBQ0MsS0FBSyxFQUFDO01BQUMsQ0FBQyxDQUFDO01BQ2pESixPQUFPLEdBQUdBLE9BQU8sQ0FBQ0ssR0FBRyxDQUFFQyxNQUFNLElBQUs7UUFDNUIsT0FBT0Msa0JBQVEsQ0FBQ0wsTUFBTSxDQUFDTSxXQUFXLENBQUNGLE1BQU0sQ0FBQztNQUM1QyxDQUFDLENBQUM7TUFFTixJQUFJRyxZQUFZLEdBQUcsTUFBTVIsZUFBTSxDQUFDUyxPQUFPLENBQUNDLFFBQVEsQ0FBQywwQkFBMEIsQ0FBQztNQUM1RSxJQUFJRixZQUFZLEVBQUU7UUFDaEJBLFlBQVksR0FBR0Ysa0JBQVEsQ0FBQ0csT0FBTyxDQUFDRSxZQUFZLENBQUNILFlBQVksQ0FBQztNQUM1RDtNQUlBLElBQUlJLFVBQVUsR0FBRyxNQUFNWixlQUFNLENBQUNhLFNBQVMsQ0FBQ1gsSUFBSSxDQUFDO1FBQUNDLEtBQUssRUFBQztNQUFDLENBQUMsQ0FBQztNQUN2RFMsVUFBVSxHQUFHQSxVQUFVLENBQUNSLEdBQUcsQ0FBRVUsU0FBUyxJQUFLO1FBQ3pDLE9BQU9SLGtCQUFRLENBQUNPLFNBQVMsQ0FBQ0UsY0FBYyxDQUFDRCxTQUFTLENBQUM7TUFDckQsQ0FBQyxDQUFDO01BRUYsSUFBSUUsZ0JBQWdCLEdBQUksTUFBTWhCLGVBQU0sQ0FBQ2lCLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDO1FBQ3BEQyxhQUFhLEVBQUUsQ0FBQztRQUNoQkMsY0FBYyxFQUFDO1VBQUNDLElBQUksRUFBRXhCO1FBQVEsQ0FBQztRQUMvQnlCLFlBQVksRUFBQztVQUFDQyxJQUFJLEVBQUUxQjtRQUFRO01BQzlCLENBQUMsQ0FBQzs7TUFFRjs7TUFFQSxJQUFJMkIsWUFBWSxHQUFHLE1BQU14QixlQUFNLENBQUNTLE9BQU8sQ0FBQ1AsSUFBSSxDQUFDO1FBQUVDLEtBQUssRUFBQyxDQUFDO1FBQUVzQixTQUFTLEVBQUU7VUFBQ0MsR0FBRyxFQUFFO1FBQUM7TUFBQyxDQUFDLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQUUsV0FBVyxFQUFFLENBQUM7TUFBQyxDQUFDLENBQUM7TUFDdEcsSUFBSUMsa0JBQWtCLEdBQUcsRUFBRTtNQUMzQixLQUFLLE1BQU1uQixPQUFPLElBQUllLFlBQVksRUFBQztRQUNqQyxJQUFJSyxVQUFVLEdBQUcsTUFBTTdCLGVBQU0sQ0FBQzhCLFFBQVEsQ0FBQzVCLElBQUksQ0FBQztVQUFDNkIsT0FBTyxFQUFFdEIsT0FBTyxDQUFDdUI7UUFBRyxDQUFDLENBQUM7UUFDbkUsSUFBSUMsT0FBTyxHQUFHLE1BQU1qQyxlQUFNLENBQUNrQyxNQUFNLENBQUNoQyxJQUFJLENBQUM7VUFBQzZCLE9BQU8sRUFBRXRCLE9BQU8sQ0FBQ3VCO1FBQUcsQ0FBQyxDQUFDO1FBQzlELElBQUlHLFVBQVUsR0FBR0YsT0FBTyxDQUFDRyxNQUFNLEdBQUcsQ0FBQyxHQUFHQyxJQUFJLENBQUNDLElBQUksQ0FBQ0wsT0FBTyxDQUFDTSxNQUFNLENBQUMsQ0FBQ0MsR0FBRyxFQUFDQyxJQUFJLEtBQUtELEdBQUcsR0FBR0MsSUFBSSxDQUFDQyxRQUFRLEVBQUMsQ0FBQyxDQUFDLEdBQUNULE9BQU8sQ0FBQ0csTUFBTSxDQUFDLEdBQUUsQ0FBQztRQUN0SCxJQUFJTyxZQUFZLEdBQUdWLE9BQU8sQ0FBQ0csTUFBTTtRQUNqQyxJQUFJUSxjQUFjLEdBQUksSUFBSTtRQUMxQixJQUFHNUIsZ0JBQWdCLEVBQUM7VUFDbEIsSUFBR0EsZ0JBQWdCLENBQUM2QixZQUFZLElBQUksQ0FBQyxFQUFDO1lBQUM7WUFDckMsSUFBSUMsVUFBVSxHQUFHLEVBQUU7WUFDbkI5QixnQkFBZ0IsQ0FBQytCLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDUCxJQUFJLElBQUk7Y0FDeENLLFVBQVUsQ0FBQ0csSUFBSSxDQUFDUixJQUFJLENBQUNULEdBQUcsQ0FBQztZQUMzQixDQUFDLENBQUM7WUFDRixJQUFHYyxVQUFVLENBQUNJLFFBQVEsQ0FBQ3pDLE9BQU8sQ0FBQ3VCLEdBQUcsR0FBQyxFQUFFLENBQUMsRUFBQztjQUNyQ1ksY0FBYyxHQUFHNUIsZ0JBQWdCO1lBQ25DO1VBQ0YsQ0FBQyxNQUFJO1lBQUM7WUFDSixJQUFJbUMsWUFBWSxHQUFHLEVBQUU7WUFDckJuQyxnQkFBZ0IsQ0FBQ29DLFVBQVUsQ0FBQ0osT0FBTyxDQUFDUCxJQUFJLElBQUk7Y0FDMUNVLFlBQVksQ0FBQ0YsSUFBSSxDQUFDUixJQUFJLENBQUNULEdBQUcsQ0FBQztZQUM3QixDQUFDLENBQUM7WUFDRixJQUFHbUIsWUFBWSxDQUFDRCxRQUFRLENBQUN6QyxPQUFPLENBQUNLLFNBQVMsR0FBQyxFQUFFLENBQUMsRUFBQztjQUM3QzhCLGNBQWMsR0FBRzVCLGdCQUFnQjtZQUNuQztVQUNGO1FBQ0Y7UUFDQVksa0JBQWtCLENBQUNxQixJQUFJLENBQUMzQyxrQkFBUSxDQUFDRyxPQUFPLENBQUNFLFlBQVksQ0FBQ0YsT0FBTyxFQUFFb0IsVUFBVSxFQUFFTSxVQUFVLEVBQUVRLFlBQVksRUFBRUMsY0FBYyxDQUFDLENBQUM7TUFDdkg7TUFFQSxJQUFJUyxZQUFZLEdBQUcsTUFBTXJELGVBQU0sQ0FBQ1MsT0FBTyxDQUFDUCxJQUFJLENBQUM7UUFBRUMsS0FBSyxFQUFDLENBQUM7UUFBRXNCLFNBQVMsRUFBRTtVQUFDQyxHQUFHLEVBQUU7UUFBQztNQUFDLENBQUMsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFBRSxXQUFXLEVBQUU7TUFBQyxDQUFDLENBQUM7TUFFckcsSUFBSTJCLGtCQUFrQixHQUFHLEVBQUU7TUFDM0IsS0FBSyxNQUFNN0MsT0FBTyxJQUFJNEMsWUFBWSxFQUFFO1FBQ2hDLElBQUl4QixVQUFVLEdBQUcsTUFBTTdCLGVBQU0sQ0FBQzhCLFFBQVEsQ0FBQzVCLElBQUksQ0FBQztVQUFDNkIsT0FBTyxFQUFFdEIsT0FBTyxDQUFDdUI7UUFBRyxDQUFDLENBQUM7UUFDbkUsSUFBSUMsT0FBTyxHQUFHLE1BQU1qQyxlQUFNLENBQUNrQyxNQUFNLENBQUNoQyxJQUFJLENBQUM7VUFBQzZCLE9BQU8sRUFBRXRCLE9BQU8sQ0FBQ3VCO1FBQUcsQ0FBQyxDQUFDO1FBQzlELElBQUlHLFVBQVUsR0FBR0YsT0FBTyxDQUFDRyxNQUFNLEdBQUcsQ0FBQyxHQUFHQyxJQUFJLENBQUNDLElBQUksQ0FBQ0wsT0FBTyxDQUFDTSxNQUFNLENBQUMsQ0FBQ0MsR0FBRyxFQUFDQyxJQUFJLEtBQUtELEdBQUcsR0FBR0MsSUFBSSxDQUFDQyxRQUFRLEVBQUMsQ0FBQyxDQUFDLEdBQUNULE9BQU8sQ0FBQ0csTUFBTSxDQUFDLEdBQUUsQ0FBQztRQUN0SCxJQUFJTyxZQUFZLEdBQUdWLE9BQU8sQ0FBQ0csTUFBTTtRQUNqQyxJQUFJUSxjQUFjLEdBQUksSUFBSTtRQUMxQixJQUFHNUIsZ0JBQWdCLEVBQUM7VUFDbEIsSUFBR0EsZ0JBQWdCLENBQUM2QixZQUFZLElBQUksQ0FBQyxFQUFDO1lBQUM7WUFDckMsSUFBSUMsVUFBVSxHQUFHLEVBQUU7WUFDbkI5QixnQkFBZ0IsQ0FBQytCLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDUCxJQUFJLElBQUk7Y0FDeENLLFVBQVUsQ0FBQ0csSUFBSSxDQUFDUixJQUFJLENBQUNULEdBQUcsQ0FBQztZQUMzQixDQUFDLENBQUM7WUFDRixJQUFHYyxVQUFVLENBQUNJLFFBQVEsQ0FBQ3pDLE9BQU8sQ0FBQ3VCLEdBQUcsR0FBQyxFQUFFLENBQUMsRUFBQztjQUNyQ1ksY0FBYyxHQUFHNUIsZ0JBQWdCO1lBQ25DO1VBQ0YsQ0FBQyxNQUFJO1lBQUM7WUFDSixJQUFJbUMsWUFBWSxHQUFHLEVBQUU7WUFDckJuQyxnQkFBZ0IsQ0FBQ29DLFVBQVUsQ0FBQ0osT0FBTyxDQUFDUCxJQUFJLElBQUk7Y0FDMUNVLFlBQVksQ0FBQ0YsSUFBSSxDQUFDUixJQUFJLENBQUNULEdBQUcsQ0FBQztZQUM3QixDQUFDLENBQUM7WUFDRixJQUFHbUIsWUFBWSxDQUFDRCxRQUFRLENBQUN6QyxPQUFPLENBQUNLLFNBQVMsR0FBQyxFQUFFLENBQUMsRUFBQztjQUM3QzhCLGNBQWMsR0FBRzVCLGdCQUFnQjtZQUNuQztVQUNGO1FBQ0Y7UUFDQXNDLGtCQUFrQixDQUFDTCxJQUFJLENBQUMzQyxrQkFBUSxDQUFDRyxPQUFPLENBQUNFLFlBQVksQ0FBQ0YsT0FBTyxFQUFDb0IsVUFBVSxFQUFFTSxVQUFVLEVBQUVRLFlBQVksRUFBRUMsY0FBYyxDQUFDLENBQUM7TUFDeEg7O01BRUE7TUFDQTtNQUNBO01BQ0E7O01BRUEsSUFBSVcsZ0JBQWdCLEdBQUcsTUFBTXZELGVBQU0sQ0FBQ1MsT0FBTyxDQUFDUCxJQUFJLENBQUM7UUFBRUMsS0FBSyxFQUFDLENBQUM7UUFBRXNCLFNBQVMsRUFBQztNQUFDLENBQUMsQ0FBQyxDQUFDRSxJQUFJLENBQUM7UUFBRSxXQUFXLEVBQUU7TUFBQyxDQUFDLENBQUM7TUFDakcsSUFBSTZCLHNCQUFzQixHQUFHLEVBQUU7TUFDL0IsS0FBSyxNQUFNL0MsT0FBTyxJQUFJOEMsZ0JBQWdCLEVBQUU7UUFDcEMsSUFBSTFCLFVBQVUsR0FBRyxNQUFNN0IsZUFBTSxDQUFDOEIsUUFBUSxDQUFDNUIsSUFBSSxDQUFDO1VBQUM2QixPQUFPLEVBQUV0QixPQUFPLENBQUN1QjtRQUFHLENBQUMsQ0FBQztRQUNuRXdCLHNCQUFzQixDQUFDUCxJQUFJLENBQUMzQyxrQkFBUSxDQUFDRyxPQUFPLENBQUNFLFlBQVksQ0FBQ0YsT0FBTyxFQUFDb0IsVUFBVSxDQUFDLENBQUM7TUFDbEY7O01BRUE7TUFDQTtNQUNBOztNQUVBLElBQUk0QixTQUFTLEdBQUksTUFBTXpELGVBQU0sQ0FBQ2lCLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDO1FBQzdDQyxhQUFhLEVBQUUsQ0FBQztRQUNoQkMsY0FBYyxFQUFDO1VBQUNDLElBQUksRUFBRXhCO1FBQVEsQ0FBQztRQUMvQnlCLFlBQVksRUFBQztVQUFDQyxJQUFJLEVBQUUxQjtRQUFRO01BQzlCLENBQUMsQ0FBQztNQUVGLElBQUk2RCxXQUFXLEdBQUcsRUFBRTtNQUNwQixJQUFHRCxTQUFTLEVBQUM7UUFDWCxLQUFLLE1BQU0xQixPQUFPLElBQUkwQixTQUFTLENBQUNWLFFBQVEsRUFBRTtVQUN4QyxJQUFJWSxNQUFNLEdBQUcsTUFBTTNELGVBQU0sQ0FBQ1MsT0FBTyxDQUFDQyxRQUFRLENBQUM7WUFBQ3NCLEdBQUcsRUFBQ0QsT0FBTyxDQUFDQztVQUFHLENBQUMsQ0FBQztVQUM3RCxJQUFJSCxVQUFVLEdBQUcsTUFBTTdCLGVBQU0sQ0FBQzhCLFFBQVEsQ0FBQzVCLElBQUksQ0FBQztZQUFDNkIsT0FBTyxFQUFFQSxPQUFPLENBQUNDO1VBQUcsQ0FBQyxDQUFDO1VBQ25FMEIsV0FBVyxDQUFDVCxJQUFJLENBQUMzQyxrQkFBUSxDQUFDRyxPQUFPLENBQUNFLFlBQVksQ0FBQ2dELE1BQU0sRUFBQzlCLFVBQVUsQ0FBQyxDQUFDO1FBQ3BFO01BQ0Y7TUFDRTtNQUNBOztNQUVGakMsR0FBRyxDQUFDZ0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDbkJDLE9BQU8sRUFBRS9ELE9BQU87UUFDaEJxRCxVQUFVLEVBQUV4QyxVQUFVO1FBQ3RCSixZQUFZLEVBQUUsQ0FBQ0EsWUFBWSxDQUFDO1FBQUU7UUFDOUJ1RCxhQUFhLEVBQUNuQyxrQkFBa0I7UUFDaENvQyxZQUFZLEVBQUVWLGtCQUFrQjtRQUNoQ1csaUJBQWlCLEVBQUNULHNCQUFzQjtRQUN4Q0MsU0FBUyxFQUFDQSxTQUFTO1FBQ25CUyxpQkFBaUIsRUFBQ1I7TUFDcEIsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDLE9BQU9TLEtBQUssRUFBRTtNQUNkQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsS0FBSyxDQUFDO01BQ2xCdkUsR0FBRyxDQUFDZ0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDVSxJQUFJLENBQUM7UUFDbkJDLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUNKO0VBQ0YsQ0FBQztFQUNEQyxvQkFBb0IsRUFBRSxNQUFBQSxDQUFNN0UsR0FBRyxFQUFFQyxHQUFHLEtBQUk7SUFDdEMsSUFBSTtNQUNGLElBQUk2RSxJQUFJLEdBQUc5RSxHQUFHLENBQUMrRSxNQUFNLENBQUNDLElBQUk7TUFDMUIsSUFBSUMsV0FBVyxHQUFHakYsR0FBRyxDQUFDRyxLQUFLLENBQUNrQyxHQUFHOztNQUUvQjs7TUFFQSxJQUFJdkIsT0FBTyxHQUFHLE1BQU1ULGVBQU0sQ0FBQ1MsT0FBTyxDQUFDUyxPQUFPLENBQUM7UUFBQ3lELElBQUksRUFBRUYsSUFBSTtRQUFFdEUsS0FBSyxFQUFFO01BQUMsQ0FBQyxDQUFDO01BRWxFLElBQUkwQixVQUFVLEdBQUksTUFBTTdCLGVBQU0sQ0FBQzhCLFFBQVEsQ0FBQzVCLElBQUksQ0FBQztRQUFDNkIsT0FBTyxFQUFFdEIsT0FBTyxDQUFDdUI7TUFBRyxDQUFDLENBQUM7TUFFcEUsSUFBSUMsT0FBTyxHQUFHLE1BQU1qQyxlQUFNLENBQUNrQyxNQUFNLENBQUNoQyxJQUFJLENBQUM7UUFBQzZCLE9BQU8sRUFBRXRCLE9BQU8sQ0FBQ3VCO01BQUcsQ0FBQyxDQUFDLENBQUM2QyxRQUFRLENBQUMsTUFBTSxDQUFDO01BQy9FLElBQUkxQyxVQUFVLEdBQUdGLE9BQU8sQ0FBQ0csTUFBTSxHQUFHLENBQUMsR0FBR0MsSUFBSSxDQUFDQyxJQUFJLENBQUNMLE9BQU8sQ0FBQ00sTUFBTSxDQUFDLENBQUNDLEdBQUcsRUFBQ0MsSUFBSSxLQUFLRCxHQUFHLEdBQUdDLElBQUksQ0FBQ0MsUUFBUSxFQUFDLENBQUMsQ0FBQyxHQUFDVCxPQUFPLENBQUNHLE1BQU0sQ0FBQyxHQUFFLENBQUM7TUFDdEgsSUFBSU8sWUFBWSxHQUFHVixPQUFPLENBQUNHLE1BQU07O01BRWpDOztNQUVBLElBQUkwQyxlQUFlLEdBQUcsTUFBTTlFLGVBQU0sQ0FBQ1MsT0FBTyxDQUFDUCxJQUFJLENBQUM7UUFBQ1ksU0FBUyxFQUFFTCxPQUFPLENBQUNLLFNBQVM7UUFBRVgsS0FBSyxFQUFFO01BQUUsQ0FBQyxDQUFDO01BRTFGLElBQUk0RSxxQkFBcUIsR0FBRyxFQUFFO01BQzVCLEtBQUssTUFBTXRFLE9BQU8sSUFBSXFFLGVBQWUsRUFBRTtRQUNuQyxJQUFJakQsVUFBVSxHQUFHLE1BQU03QixlQUFNLENBQUM4QixRQUFRLENBQUM1QixJQUFJLENBQUM7VUFBQzZCLE9BQU8sRUFBRXRCLE9BQU8sQ0FBQ3VCO1FBQUcsQ0FBQyxDQUFDO1FBQ25FK0MscUJBQXFCLENBQUM5QixJQUFJLENBQUMzQyxrQkFBUSxDQUFDRyxPQUFPLENBQUNFLFlBQVksQ0FBQ0YsT0FBTyxFQUFDb0IsVUFBVSxDQUFDLENBQUM7TUFDakY7TUFDQSxJQUFJbUQsVUFBVSxHQUFHLElBQUk7TUFDckIsSUFBR0osV0FBVyxFQUFDO1FBQ2JJLFVBQVUsR0FBRyxNQUFNaEYsZUFBTSxDQUFDaUIsUUFBUSxDQUFDUCxRQUFRLENBQUM7VUFBQ3NCLEdBQUcsRUFBRTRDO1FBQVcsQ0FBQyxDQUFDO01BQ2pFO01BRUZoRixHQUFHLENBQUNnRSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNuQjlCLE9BQU8sRUFBRXpCLGtCQUFRLENBQUNHLE9BQU8sQ0FBQ0UsWUFBWSxDQUFDRixPQUFPLEVBQUVvQixVQUFVLENBQUM7UUFDM0RvRCxnQkFBZ0IsRUFBRUYscUJBQXFCO1FBQ3ZDQyxVQUFVLEVBQUVBLFVBQVU7UUFDdEIvQyxPQUFPLEVBQUVBLE9BQU87UUFDaEJFLFVBQVUsRUFBRUEsVUFBVTtRQUN0QlEsWUFBWSxFQUFFQSxZQUFZO1FBQzFCNEIsT0FBTyxFQUFFO01BQ1QsQ0FBQyxDQUFDO0lBSU4sQ0FBQyxDQUFDLE9BQU9KLEtBQUssRUFBRTtNQUNkQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsS0FBSyxDQUFDO01BQ2xCdkUsR0FBRyxDQUFDZ0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDVSxJQUFJLENBQUM7UUFDbkJDLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUNKO0VBQ0YsQ0FBQztFQUVEVyxjQUFjLEVBQUUsTUFBQUEsQ0FBTXZGLEdBQUcsRUFBRUMsR0FBRyxLQUFJO0lBQ2hDLElBQUk7TUFDRixJQUFJQyxRQUFRLEdBQUdGLEdBQUcsQ0FBQ0csS0FBSyxDQUFDRCxRQUFRO01BRWpDLElBQUlxRixjQUFjLEdBQUd2RixHQUFHLENBQUN3RixJQUFJLENBQUNELGNBQWM7TUFDNUMsSUFBSTdCLFlBQVksR0FBRyxNQUFNckQsZUFBTSxDQUFDUyxPQUFPLENBQUNQLElBQUksQ0FBQztRQUFFQyxLQUFLLEVBQUMsQ0FBQztRQUFFaUYsS0FBSyxFQUFFLElBQUlDLE1BQU0sQ0FBQ0gsY0FBYyxFQUFFLEdBQUc7TUFBQyxDQUFDLENBQUMsQ0FBQ3ZELElBQUksQ0FBQztRQUFFLFdBQVcsRUFBRTtNQUFDLENBQUMsQ0FBQztNQUV4SCxJQUFJWCxnQkFBZ0IsR0FBSSxNQUFNaEIsZUFBTSxDQUFDaUIsUUFBUSxDQUFDQyxPQUFPLENBQUM7UUFDcERDLGFBQWEsRUFBRSxDQUFDO1FBQ2hCQyxjQUFjLEVBQUM7VUFBQ0MsSUFBSSxFQUFFeEI7UUFBUSxDQUFDO1FBQy9CeUIsWUFBWSxFQUFDO1VBQUNDLElBQUksRUFBRTFCO1FBQVE7TUFDOUIsQ0FBQyxDQUFDO01BRUYsSUFBSXlGLFFBQVEsR0FBRyxFQUFFO01BQ2YsS0FBSyxNQUFNN0UsT0FBTyxJQUFJNEMsWUFBWSxFQUFFO1FBQ2hDLElBQUl4QixVQUFVLEdBQUcsTUFBTTdCLGVBQU0sQ0FBQzhCLFFBQVEsQ0FBQzVCLElBQUksQ0FBQztVQUFDNkIsT0FBTyxFQUFFdEIsT0FBTyxDQUFDdUI7UUFBRyxDQUFDLENBQUM7UUFDbkUsSUFBSUMsT0FBTyxHQUFHLE1BQU1qQyxlQUFNLENBQUNrQyxNQUFNLENBQUNoQyxJQUFJLENBQUM7VUFBQzZCLE9BQU8sRUFBRXRCLE9BQU8sQ0FBQ3VCO1FBQUcsQ0FBQyxDQUFDO1FBQzlELElBQUlHLFVBQVUsR0FBR0YsT0FBTyxDQUFDRyxNQUFNLEdBQUcsQ0FBQyxHQUFHQyxJQUFJLENBQUNDLElBQUksQ0FBQ0wsT0FBTyxDQUFDTSxNQUFNLENBQUMsQ0FBQ0MsR0FBRyxFQUFDQyxJQUFJLEtBQUtELEdBQUcsR0FBR0MsSUFBSSxDQUFDQyxRQUFRLEVBQUMsQ0FBQyxDQUFDLEdBQUNULE9BQU8sQ0FBQ0csTUFBTSxDQUFDLEdBQUUsQ0FBQztRQUN0SCxJQUFJTyxZQUFZLEdBQUdWLE9BQU8sQ0FBQ0csTUFBTTtRQUNqQyxJQUFJUSxjQUFjLEdBQUksSUFBSTtRQUMxQixJQUFHNUIsZ0JBQWdCLEVBQUM7VUFDbEIsSUFBR0EsZ0JBQWdCLENBQUM2QixZQUFZLElBQUksQ0FBQyxFQUFDO1lBQUM7WUFDckMsSUFBSUMsVUFBVSxHQUFHLEVBQUU7WUFDbkI5QixnQkFBZ0IsQ0FBQytCLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDUCxJQUFJLElBQUk7Y0FDeENLLFVBQVUsQ0FBQ0csSUFBSSxDQUFDUixJQUFJLENBQUNULEdBQUcsQ0FBQztZQUMzQixDQUFDLENBQUM7WUFDRixJQUFHYyxVQUFVLENBQUNJLFFBQVEsQ0FBQ3pDLE9BQU8sQ0FBQ3VCLEdBQUcsR0FBQyxFQUFFLENBQUMsRUFBQztjQUNyQ1ksY0FBYyxHQUFHNUIsZ0JBQWdCO1lBQ25DO1VBQ0YsQ0FBQyxNQUFJO1lBQUM7WUFDSixJQUFJbUMsWUFBWSxHQUFHLEVBQUU7WUFDckJuQyxnQkFBZ0IsQ0FBQ29DLFVBQVUsQ0FBQ0osT0FBTyxDQUFDUCxJQUFJLElBQUk7Y0FDMUNVLFlBQVksQ0FBQ0YsSUFBSSxDQUFDUixJQUFJLENBQUNULEdBQUcsQ0FBQztZQUM3QixDQUFDLENBQUM7WUFDRixJQUFHbUIsWUFBWSxDQUFDRCxRQUFRLENBQUN6QyxPQUFPLENBQUNLLFNBQVMsR0FBQyxFQUFFLENBQUMsRUFBQztjQUM3QzhCLGNBQWMsR0FBRzVCLGdCQUFnQjtZQUNuQztVQUNGO1FBQ0Y7UUFDQXNFLFFBQVEsQ0FBQ3JDLElBQUksQ0FBQzNDLGtCQUFRLENBQUNHLE9BQU8sQ0FBQ0UsWUFBWSxDQUFDRixPQUFPLEVBQUNvQixVQUFVLEVBQUVNLFVBQVUsRUFBRVEsWUFBWSxFQUFFQyxjQUFjLENBQUMsQ0FBQztNQUM5RztNQUNBaEQsR0FBRyxDQUFDZ0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDbkJkLFFBQVEsRUFBRXVDO01BQ1osQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDLE9BQU9uQixLQUFLLEVBQUU7TUFDZEMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEtBQUssQ0FBQztNQUNsQnZFLEdBQUcsQ0FBQ2dFLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ1UsSUFBSSxDQUFDO1FBQ25CQyxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7SUFDSjtFQUNGLENBQUM7RUFFRGdCLGNBQWMsRUFBRSxNQUFBQSxDQUFNNUYsR0FBRyxFQUFFQyxHQUFHLEtBQUk7SUFDaEMsSUFBSTtNQUNGLElBQUk0RixPQUFPLEdBQUc3RixHQUFHLENBQUN3RixJQUFJLENBQUNLLE9BQU87TUFFOUIsSUFBSUMsTUFBTSxHQUFJLE1BQU16RixlQUFNLENBQUMwRixJQUFJLENBQUN4RixJQUFJLENBQUM7UUFBQ3lGLElBQUksRUFBRUg7TUFBTyxDQUFDLENBQUM7TUFFckQsSUFBSUksV0FBVyxHQUFHLEVBQUU7TUFFcEIsS0FBSyxNQUFNQyxLQUFLLElBQUlKLE1BQU0sRUFBRTtRQUMxQixJQUFJSyxhQUFhLEdBQUcsTUFBTTlGLGVBQU0sQ0FBQytGLFVBQVUsQ0FBQzdGLElBQUksQ0FBQztVQUFDOEYsSUFBSSxFQUFFSCxLQUFLLENBQUM3RDtRQUFHLENBQUMsQ0FBQyxDQUFDNkMsUUFBUSxDQUFDO1VBQzNFb0IsSUFBSSxFQUFFLFNBQVM7VUFDZnBCLFFBQVEsRUFBRTtZQUNQb0IsSUFBSSxFQUFFO1VBQ1Q7UUFDRixDQUFDLENBQUMsQ0FBQ3BCLFFBQVEsQ0FBQyxVQUFVLENBQUM7UUFDdkIsSUFBSXFCLFlBQVksR0FBRyxNQUFNbEcsZUFBTSxDQUFDbUcsV0FBVyxDQUFDakcsSUFBSSxDQUFDO1VBQUM4RixJQUFJLEVBQUVILEtBQUssQ0FBQzdEO1FBQUcsQ0FBQyxDQUFDO1FBQ25FLElBQUlvRSx3QkFBd0IsR0FBRyxFQUFFO1FBQ2pDLEtBQUssTUFBTUMsWUFBWSxJQUFJUCxhQUFhLEVBQUU7VUFDeEMsSUFBSVEsT0FBTyxHQUFHLE1BQU10RyxlQUFNLENBQUNrQyxNQUFNLENBQUNoQixPQUFPLENBQUM7WUFBQ3FGLFdBQVcsRUFBRUYsWUFBWSxDQUFDckU7VUFBRyxDQUFDLENBQUM7VUFDMUVvRSx3QkFBd0IsQ0FBQ25ELElBQUksQ0FBQztZQUMxQmpCLEdBQUcsRUFBQ3FFLFlBQVksQ0FBQ3JFLEdBQUc7WUFDcEJELE9BQU8sRUFBQztjQUNOQyxHQUFHLEVBQUVxRSxZQUFZLENBQUN0RSxPQUFPLENBQUNDLEdBQUc7Y0FDN0JvRCxLQUFLLEVBQUVpQixZQUFZLENBQUN0RSxPQUFPLENBQUNxRCxLQUFLO2NBQ2pDb0IsTUFBTSxFQUFDQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsV0FBVyxHQUFDLGdDQUFnQyxHQUFDTixZQUFZLENBQUN0RSxPQUFPLENBQUM2RSxPQUFPO2NBQzVGekcsS0FBSyxFQUFFa0csWUFBWSxDQUFDdEUsT0FBTyxDQUFDNUIsS0FBSztjQUNqQ3dFLElBQUksRUFBRTBCLFlBQVksQ0FBQ3RFLE9BQU8sQ0FBQzRDLElBQUk7Y0FDL0JrQyxHQUFHLEVBQUVSLFlBQVksQ0FBQ3RFLE9BQU8sQ0FBQzhFLEdBQUc7Y0FDN0IvRixTQUFTLEVBQUV1RixZQUFZLENBQUN0RSxPQUFPLENBQUNqQixTQUFTO2NBQ3pDZ0csUUFBUSxFQUFFVCxZQUFZLENBQUN0RSxPQUFPLENBQUMrRSxRQUFRO2NBQ3ZDQyxTQUFTLEVBQUVWLFlBQVksQ0FBQ3RFLE9BQU8sQ0FBQ2dGLFNBQVM7Y0FDekN0RixTQUFTLEVBQUU0RSxZQUFZLENBQUN0RSxPQUFPLENBQUNOO1lBQ2xDLENBQUM7WUFDRHVGLGFBQWEsRUFBRVgsWUFBWSxDQUFDVyxhQUFhO1lBQ3pDQyxRQUFRLEVBQUVaLFlBQVksQ0FBQ1ksUUFBUTtZQUMvQnZFLFFBQVEsRUFBRTJELFlBQVksQ0FBQzNELFFBQVE7WUFDL0J3RSxRQUFRLEVBQUViLFlBQVksQ0FBQ2EsUUFBUTtZQUMvQkMsVUFBVSxFQUFFZCxZQUFZLENBQUNjLFVBQVU7WUFDbkNDLGFBQWEsRUFBRWYsWUFBWSxDQUFDZSxhQUFhO1lBQ3pDQyxVQUFVLEVBQUVoQixZQUFZLENBQUNnQixVQUFVO1lBQ25DQyxRQUFRLEVBQUVqQixZQUFZLENBQUNpQixRQUFRO1lBQy9CQyxLQUFLLEVBQUVsQixZQUFZLENBQUNrQixLQUFLO1lBQ3pCQyxNQUFNLEVBQUVsQjtVQUNaLENBQUMsQ0FBQztRQUNKO1FBQ0FWLFdBQVcsQ0FBQzNDLElBQUksQ0FBQztVQUNmK0MsSUFBSSxFQUFFSCxLQUFLO1VBQ1g0QixZQUFZLEVBQUNyQix3QkFBd0I7VUFDckNGLFlBQVksRUFBRUE7UUFDaEIsQ0FBQyxDQUFDO01BQ0o7TUFDQSxJQUFJd0IsY0FBYyxHQUFJLE1BQU0xSCxlQUFNLENBQUMySCxhQUFhLENBQUN6SCxJQUFJLENBQUM7UUFBQ3lGLElBQUksRUFBQ0g7TUFBTyxDQUFDLENBQUMsQ0FBQzdELElBQUksQ0FBQztRQUFDLFdBQVcsRUFBQyxDQUFDO01BQUMsQ0FBQyxDQUFDO01BQzVGL0IsR0FBRyxDQUFDZ0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDbkIrQixXQUFXLEVBQUVBLFdBQVc7UUFDeEJnQyxjQUFjLEVBQUVGO01BQ2xCLENBQUMsQ0FBQztJQUdKLENBQUMsQ0FBQyxPQUFPdkQsS0FBSyxFQUFFO01BQ2RDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRixLQUFLLENBQUM7TUFDbEJ2RSxHQUFHLENBQUNnRSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNVLElBQUksQ0FBQztRQUNuQkMsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBRUo7RUFDRixDQUFDO0VBQ0FzRCxhQUFhLEVBQUUsTUFBQUEsQ0FBT2xJLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0lBQ2pDLElBQUk7TUFDRixJQUFJRCxHQUFHLENBQUNtSSxLQUFLLEVBQUU7UUFDYixJQUFJQyxRQUFRLEdBQUdwSSxHQUFHLENBQUNtSSxLQUFLLENBQUNFLE1BQU0sQ0FBQy9CLElBQUk7UUFDcEMsSUFBSWdDLElBQUksR0FBR0YsUUFBUSxDQUFDRyxLQUFLLENBQUMsR0FBRyxDQUFDO1FBQzlCLElBQUlDLFdBQVcsR0FBR0YsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUN6QjdELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDOEQsV0FBVyxDQUFDO01BQzFCOztNQUVEOztNQUVDLE1BQU1DLFVBQVUsR0FBRyxDQUFDLENBQUM7O01BRXJCO01BQ0EsSUFBSXpJLEdBQUcsQ0FBQ3dGLElBQUksQ0FBQzhDLElBQUksRUFBRUcsVUFBVSxDQUFDSCxJQUFJLEdBQUd0SSxHQUFHLENBQUN3RixJQUFJLENBQUM4QyxJQUFJO01BQ2xELElBQUl0SSxHQUFHLENBQUN3RixJQUFJLENBQUNrRCxPQUFPLEVBQUVELFVBQVUsQ0FBQ0MsT0FBTyxHQUFHMUksR0FBRyxDQUFDd0YsSUFBSSxDQUFDa0QsT0FBTztNQUMzRCxJQUFJMUksR0FBRyxDQUFDd0YsSUFBSSxDQUFDbUQsS0FBSyxFQUFFRixVQUFVLENBQUNFLEtBQUssR0FBRzNJLEdBQUcsQ0FBQ3dGLElBQUksQ0FBQ21ELEtBQUs7O01BRXJEO01BQ0EsSUFBSTNJLEdBQUcsQ0FBQ3dGLElBQUksQ0FBQ29ELFFBQVEsSUFBSTVJLEdBQUcsQ0FBQ3dGLElBQUksQ0FBQ29ELFFBQVEsS0FBSyxFQUFFLEVBQUU7UUFDakRILFVBQVUsQ0FBQ0csUUFBUSxHQUFHLE1BQU1DLGlCQUFNLENBQUNDLElBQUksQ0FBQzlJLEdBQUcsQ0FBQ3dGLElBQUksQ0FBQ29ELFFBQVEsRUFBRSxFQUFFLENBQUM7TUFDaEU7TUFFQSxNQUFNdkksZUFBTSxDQUFDMEksSUFBSSxDQUFDQyxpQkFBaUIsQ0FBQztRQUFFM0csR0FBRyxFQUFFckMsR0FBRyxDQUFDd0YsSUFBSSxDQUFDbkQ7TUFBSSxDQUFDLEVBQUVvRyxVQUFVLENBQUM7TUFFdEUsSUFBSU0sSUFBSSxHQUFHLE1BQU0xSSxlQUFNLENBQUMwSSxJQUFJLENBQUN4SCxPQUFPLENBQUM7UUFBRWMsR0FBRyxFQUFFckMsR0FBRyxDQUFDd0YsSUFBSSxDQUFDbkQ7TUFBSSxDQUFDLENBQUM7TUFFM0RwQyxHQUFHLENBQUNnRSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNuQlUsT0FBTyxFQUFFLHVEQUF1RDtRQUNoRW9CLElBQUksRUFBRTtVQUNKc0MsSUFBSSxFQUFFUyxJQUFJLENBQUNULElBQUk7VUFDZkksT0FBTyxFQUFFSyxJQUFJLENBQUNMLE9BQU87VUFDckJDLEtBQUssRUFBRUksSUFBSSxDQUFDSixLQUFLO1VBQ2pCdEcsR0FBRyxFQUFFMEcsSUFBSSxDQUFDMUc7UUFDWjtNQUNGLENBQUMsQ0FBQztJQUVKLENBQUMsQ0FBQyxPQUFPbUMsS0FBSyxFQUFFO01BQ2RDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRixLQUFLLENBQUM7TUFDbEJ2RSxHQUFHLENBQUNnRSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNVLElBQUksQ0FBQztRQUNuQkMsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ0o7RUFDRixDQUFDO0VBRURxRSxjQUFjLEVBQUUsTUFBQUEsQ0FBT2pKLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0lBQ25DLElBQUk7TUFDRixJQUFJd0QsVUFBVSxHQUFHLE1BQU1wRCxlQUFNLENBQUNhLFNBQVMsQ0FBQ1gsSUFBSSxDQUFDO1FBQUNDLEtBQUssRUFBRTtNQUFDLENBQUMsQ0FBQztNQUN4RCxJQUFJMEksVUFBVSxHQUFJLE1BQU03SSxlQUFNLENBQUM4QixRQUFRLENBQUM1QixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7TUFFaEROLEdBQUcsQ0FBQ2dFLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ25CVCxVQUFVLEVBQUNBLFVBQVU7UUFDckJ5RixVQUFVLEVBQUVBO01BQ2QsQ0FBQyxDQUFDO0lBRUosQ0FBQyxDQUFDLE9BQU8xRSxLQUFLLEVBQUU7TUFDZEMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEtBQUssQ0FBQztNQUNqQnZFLEdBQUcsQ0FBQ2dFLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ1UsSUFBSSxDQUFDO1FBQ25CQyxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7SUFDTDtFQUVELENBQUM7RUFDRHVFLGVBQWUsRUFBRSxNQUFBQSxDQUFNbkosR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDbEMsSUFBSTtNQUNGLElBQUlDLFFBQVEsR0FBR0YsR0FBRyxDQUFDRyxLQUFLLENBQUNELFFBQVE7TUFDakMsSUFBSXFGLGNBQWMsR0FBR3ZGLEdBQUcsQ0FBQ3dGLElBQUksQ0FBQ0QsY0FBYztNQUU1QyxJQUFJNkQsb0JBQW9CLEdBQUdwSixHQUFHLENBQUN3RixJQUFJLENBQUM0RCxvQkFBb0I7TUFDeEQsSUFBSUMsV0FBVyxHQUFHckosR0FBRyxDQUFDd0YsSUFBSSxDQUFDNkQsV0FBVztNQUN0QyxJQUFJQyxpQkFBaUIsR0FBR3RKLEdBQUcsQ0FBQ3dGLElBQUksQ0FBQzhELGlCQUFpQjtNQUNsRCxJQUFJQyxTQUFTLEdBQUd2SixHQUFHLENBQUN3RixJQUFJLENBQUMrRCxTQUFTO01BQ2xDLElBQUlDLFNBQVMsR0FBR3hKLEdBQUcsQ0FBQ3dGLElBQUksQ0FBQ2dFLFNBQVM7TUFFbEMsSUFBSUMsTUFBTSxHQUFHLENBQ1g7UUFBRWpKLEtBQUssRUFBQztNQUFFLENBQUMsQ0FDWjtNQUVELElBQUlrSixZQUFZLEdBQUcsRUFBRTtNQUNyQixJQUFJQyxVQUFVLEdBQUcsRUFBRTtNQUNuQjs7TUFFQSxJQUFHUCxvQkFBb0IsQ0FBQzNHLE1BQU0sR0FBRyxDQUFDLEVBQUM7UUFDakMyRyxvQkFBb0IsQ0FBQy9GLE9BQU8sQ0FBRWxDLFNBQVMsSUFBSztVQUMxQ3VJLFlBQVksQ0FBQ3BHLElBQUksQ0FBQ25DLFNBQVMsQ0FBQztRQUM5QixDQUFDLENBQUM7UUFDRjtRQUNBO1FBQ0E7TUFDRjtNQUVBLElBQUlFLGdCQUFnQixHQUFJLE1BQU1oQixlQUFNLENBQUNpQixRQUFRLENBQUNDLE9BQU8sQ0FBQztRQUNwREMsYUFBYSxFQUFFLENBQUM7UUFDaEJDLGNBQWMsRUFBQztVQUFDQyxJQUFJLEVBQUV4QjtRQUFRLENBQUM7UUFDL0J5QixZQUFZLEVBQUM7VUFBQ0MsSUFBSSxFQUFFMUI7UUFBUTtNQUM5QixDQUFDLENBQUM7TUFFRixJQUFHbUosV0FBVyxJQUFJLENBQUMsRUFBQztRQUNuQixJQUFJaEksZ0JBQWdCLENBQUM2QixZQUFZLElBQUksQ0FBQyxFQUFDO1VBQ3JDN0IsZ0JBQWdCLENBQUMrQixRQUFRLENBQUNDLE9BQU8sQ0FBQ1AsSUFBSSxJQUFJO1lBQ3hDNkcsVUFBVSxDQUFDckcsSUFBSSxDQUFDUixJQUFJLENBQUNULEdBQUcsQ0FBQztVQUMxQixDQUFDLENBQUM7UUFDTCxDQUFDLE1BQUk7VUFDSGhCLGdCQUFnQixDQUFDb0MsVUFBVSxDQUFDSixPQUFPLENBQUNQLElBQUksSUFBSTtZQUMxQzRHLFlBQVksQ0FBQ3BHLElBQUksQ0FBQ1IsSUFBSSxDQUFDVCxHQUFHLENBQUM7VUFDNUIsQ0FBQyxDQUFDO1FBQ0w7TUFDRDtNQUVBLElBQUdpSCxpQkFBaUIsRUFBQztRQUNuQixJQUFJTSxLQUFLLEdBQUcsTUFBTXZKLGVBQU0sQ0FBQzhCLFFBQVEsQ0FBQ3BCLFFBQVEsQ0FBQztVQUFDc0IsR0FBRyxFQUFFaUgsaUJBQWlCLENBQUNqSDtRQUFHLENBQUMsQ0FBQztRQUN4RSxJQUFHdUgsS0FBSyxFQUFDO1VBQ1BELFVBQVUsQ0FBQ3JHLElBQUksQ0FBQ3NHLEtBQUssQ0FBQ3hILE9BQU8sQ0FBQztRQUNoQztNQUNGO01BRUEsSUFBR3NILFlBQVksQ0FBQ2pILE1BQU0sR0FBRyxDQUFDLEVBQUM7UUFDekJnSCxNQUFNLENBQUNuRyxJQUFJLENBQUM7VUFDVm5DLFNBQVMsRUFBRTtZQUFDMEksR0FBRyxFQUFFSDtVQUFZO1FBQy9CLENBQUMsQ0FBQztNQUNKO01BRUEsSUFBR0MsVUFBVSxDQUFDbEgsTUFBTSxHQUFHLENBQUMsRUFBQztRQUN2QmdILE1BQU0sQ0FBQ25HLElBQUksQ0FBQztVQUNWakIsR0FBRyxFQUFFO1lBQUN3SCxHQUFHLEVBQUVGO1VBQVU7UUFDdkIsQ0FBQyxDQUFDO01BQ0o7TUFFQSxJQUFHSixTQUFTLEdBQUcsQ0FBQyxJQUFJQyxTQUFTLEdBQUcsQ0FBQyxFQUFDO1FBQ2hDQyxNQUFNLENBQUNuRyxJQUFJLENBQUM7VUFDVjhELFNBQVMsRUFBRTtZQUFDeEYsSUFBSSxFQUFDMkgsU0FBUztZQUFFN0gsSUFBSSxFQUFFOEg7VUFBUztRQUM3QyxDQUFDLENBQUM7TUFDSjtNQUVBLElBQUk5RixZQUFZLEdBQUcsTUFBTXJELGVBQU0sQ0FBQ1MsT0FBTyxDQUFDUCxJQUFJLENBQUM7UUFBQ3VKLElBQUksRUFBRUw7TUFBTSxDQUFDLENBQUMsQ0FBQ3pILElBQUksQ0FBQztRQUFFLFdBQVcsRUFBRTtNQUFDLENBQUMsQ0FBQztNQUdwRixJQUFJMkQsUUFBUSxHQUFHLEVBQUU7TUFDZixLQUFLLE1BQU03RSxPQUFPLElBQUk0QyxZQUFZLEVBQUU7UUFDaEMsSUFBSXhCLFVBQVUsR0FBRyxNQUFNN0IsZUFBTSxDQUFDOEIsUUFBUSxDQUFDNUIsSUFBSSxDQUFDO1VBQUM2QixPQUFPLEVBQUV0QixPQUFPLENBQUN1QjtRQUFHLENBQUMsQ0FBQztRQUNuRSxJQUFJQyxPQUFPLEdBQUcsTUFBTWpDLGVBQU0sQ0FBQ2tDLE1BQU0sQ0FBQ2hDLElBQUksQ0FBQztVQUFDNkIsT0FBTyxFQUFFdEIsT0FBTyxDQUFDdUI7UUFBRyxDQUFDLENBQUM7UUFDOUQsSUFBSUcsVUFBVSxHQUFHRixPQUFPLENBQUNHLE1BQU0sR0FBRyxDQUFDLEdBQUdDLElBQUksQ0FBQ0MsSUFBSSxDQUFDTCxPQUFPLENBQUNNLE1BQU0sQ0FBQyxDQUFDQyxHQUFHLEVBQUNDLElBQUksS0FBS0QsR0FBRyxHQUFHQyxJQUFJLENBQUNDLFFBQVEsRUFBQyxDQUFDLENBQUMsR0FBQ1QsT0FBTyxDQUFDRyxNQUFNLENBQUMsR0FBRSxDQUFDO1FBQ3RILElBQUlPLFlBQVksR0FBR1YsT0FBTyxDQUFDRyxNQUFNO1FBQ2pDLElBQUlRLGNBQWMsR0FBSSxJQUFJO1FBQzFCLElBQUc1QixnQkFBZ0IsRUFBQztVQUNsQixJQUFHQSxnQkFBZ0IsQ0FBQzZCLFlBQVksSUFBSSxDQUFDLEVBQUM7WUFBQztZQUNyQyxJQUFJQyxVQUFVLEdBQUcsRUFBRTtZQUNuQjlCLGdCQUFnQixDQUFDK0IsUUFBUSxDQUFDQyxPQUFPLENBQUNQLElBQUksSUFBSTtjQUN4Q0ssVUFBVSxDQUFDRyxJQUFJLENBQUNSLElBQUksQ0FBQ1QsR0FBRyxDQUFDO1lBQzNCLENBQUMsQ0FBQztZQUNGLElBQUdjLFVBQVUsQ0FBQ0ksUUFBUSxDQUFDekMsT0FBTyxDQUFDdUIsR0FBRyxHQUFDLEVBQUUsQ0FBQyxFQUFDO2NBQ3JDWSxjQUFjLEdBQUc1QixnQkFBZ0I7WUFDbkM7VUFDRixDQUFDLE1BQUk7WUFBQztZQUNKLElBQUltQyxZQUFZLEdBQUcsRUFBRTtZQUNyQm5DLGdCQUFnQixDQUFDb0MsVUFBVSxDQUFDSixPQUFPLENBQUNQLElBQUksSUFBSTtjQUMxQ1UsWUFBWSxDQUFDRixJQUFJLENBQUNSLElBQUksQ0FBQ1QsR0FBRyxDQUFDO1lBQzdCLENBQUMsQ0FBQztZQUNGLElBQUdtQixZQUFZLENBQUNELFFBQVEsQ0FBQ3pDLE9BQU8sQ0FBQ0ssU0FBUyxHQUFDLEVBQUUsQ0FBQyxFQUFDO2NBQzdDOEIsY0FBYyxHQUFHNUIsZ0JBQWdCO1lBQ25DO1VBQ0Y7UUFDRjtRQUNBc0UsUUFBUSxDQUFDckMsSUFBSSxDQUFDM0Msa0JBQVEsQ0FBQ0csT0FBTyxDQUFDRSxZQUFZLENBQUNGLE9BQU8sRUFBQ29CLFVBQVUsRUFBRU0sVUFBVSxFQUFFUSxZQUFZLEVBQUVDLGNBQWMsQ0FBQyxDQUFDO01BQzlHO01BQ0FoRCxHQUFHLENBQUNnRSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNuQmQsUUFBUSxFQUFFdUM7TUFDWixDQUFDLENBQUM7SUFFTixDQUFDLENBQUMsT0FBT25CLEtBQUssRUFBRTtNQUNkQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsS0FBSyxDQUFDO01BQ2pCdkUsR0FBRyxDQUFDZ0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDVSxJQUFJLENBQUM7UUFDbkJDLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUNMO0VBQ0Q7QUFFSCxDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resourses","_bcryptjs","e","__esModule","default","_default","exports","list","req","res","TIME_NOW","query","Sliders","models","Slider","find","state","map","slider","resourse","slider_list","productPromo","Product","findById","product_list","Categories","Categorie","categorie","categorie_list","CampaignDiscount","Discount","findOne","type_campaign","start_date_num","$lte","end_date_num","$gte","BestProducts","condition","$ne","sort","ObjectBestProducts","VARIEDADES","Variedad","product","_id","REVIEWS","Review","AVG_REVIEW","length","Math","ceil","reduce","sum","item","cantidad","COUNT_REVIEW","DISCOUNT_EXITS","type_segment","products_a","products","forEach","push","includes","categories_a","categories","OursProducts","ObjectOursProducts","DonationProducts","ObjectDonationProducts","FlashSale","ProductList","ObjecT","status","json","sliders","best_products","our_products","donation_products","campaign_products","error","console","log","send","message","show_landing_product","SLUG","params","slug","DISCOUNT_ID","populate","RelatedProducts","ObjectRelatedProducts","SALE_FLASH","related_products","search_product","body","title","RegExp","Products","profile_client","user_id","Orders","Sale","user","sale_orders","order","detail_orders","SaleDetail","sale","path","sale_address","SaleAddress","collection_detail_orders","detail_order","reviewS","sale_detail","imagen","process","env","URL_BACKEND","portada","sku","price_bs","price_usd","type_discount","discount","variedad","code_cupon","code_discount","price_unit","subtotal","total","review","sale_details","ADDRESS_CLIENT","AddressClient","address_client","update_client","files","img_path","avatar","name","split","avatar_name","updateData","surname","email","password","bcrypt","hash","User","findByIdAndUpdate","config_initial","variedades","filter_products","categories_salecteds","is_discount","variedad_selected","price_min","price_max","filter","categories_s","products_s","VARIE","$in","$and"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["HomeController.js"],"sourcesContent":["import models from \"../models\";\nimport resourse from \"../resourses\";\nimport bcrypt from \"bcryptjs\"\n\n\n\nexport default {\n\n  list: async(req, res) => {\n    try {\n        var TIME_NOW = req.query.TIME_NOW\n\n        let Sliders = await models.Slider.find({state:1}); \n        Sliders = Sliders.map((slider) => {\n              return resourse.Slider.slider_list(slider);\n            })\n\n        let productPromo = await models.Product.findById('67c0ebd90204b3909cea1e67');\n        if (productPromo) {\n          productPromo = resourse.Product.product_list(productPromo);\n        }\n            \n        \n\n        let Categories = await models.Categorie.find({state:1}); \n        Categories = Categories.map((categorie) => {\n          return resourse.Categorie.categorie_list(categorie);\n        })\n\n        let CampaignDiscount =  await models.Discount.findOne({\n          type_campaign: 1,\n          start_date_num:{$lte: TIME_NOW},\n          end_date_num:{$gte: TIME_NOW},\n        })\n\n        // console.log(CampaignDiscount);\n\n        let BestProducts = await models.Product.find({ state:2, condition: {$ne: 3}}).sort({ \"createdAt\": -1});\n        var ObjectBestProducts = [];\n        for (const Product of BestProducts){\n          let VARIEDADES = await models.Variedad.find({product: Product._id});\n          let REVIEWS = await models.Review.find({product: Product._id});\n          let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length): 0;\n          let COUNT_REVIEW = REVIEWS.length;\n          let DISCOUNT_EXITS =  null;\n          if(CampaignDiscount){\n            if(CampaignDiscount.type_segment == 1){//por producto\n              let products_a = [];\n              CampaignDiscount.products.forEach(item => {\n                products_a.push(item._id);\n              })\n              if(products_a.includes(Product._id+\"\")){\n                DISCOUNT_EXITS = CampaignDiscount;\n              }\n            }else{// por categoria}\n              let categories_a = [];\n              CampaignDiscount.categories.forEach(item => {\n                categories_a.push(item._id);\n              })\n              if(categories_a.includes(Product.categorie+\"\")){\n                DISCOUNT_EXITS = CampaignDiscount;\n              }\n            }\n          }\n          ObjectBestProducts.push(resourse.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n        }\n\n        let OursProducts = await models.Product.find({ state:2, condition: {$ne: 3}}).sort({ \"createdAt\": 1});\n\n        var ObjectOursProducts = [];\n        for (const Product of OursProducts) {\n            let VARIEDADES = await models.Variedad.find({product: Product._id});\n            let REVIEWS = await models.Review.find({product: Product._id});\n            let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length): 0;\n            let COUNT_REVIEW = REVIEWS.length;\n            let DISCOUNT_EXITS =  null;\n            if(CampaignDiscount){\n              if(CampaignDiscount.type_segment == 1){//por producto\n                let products_a = [];\n                CampaignDiscount.products.forEach(item => {\n                  products_a.push(item._id);\n                })\n                if(products_a.includes(Product._id+\"\")){\n                  DISCOUNT_EXITS = CampaignDiscount;\n                }\n              }else{// por categoria}\n                let categories_a = [];\n                CampaignDiscount.categories.forEach(item => {\n                  categories_a.push(item._id);\n                })\n                if(categories_a.includes(Product.categorie+\"\")){\n                  DISCOUNT_EXITS = CampaignDiscount;\n                }\n              }\n            }\n            ObjectOursProducts.push(resourse.Product.product_list(Product,VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n        }\n\n        // OursProducts = OursProducts.map(async (product) => {\n        //   let VARIEDADES = await models.Variedad.find({product: product._id});\n        //   return resourse.Product.product_list(product,VARIEDADES);\n        // })\n\n        let DonationProducts = await models.Product.find({ state:2, condition:3}).sort({ \"createdAt\": 1});\n        var ObjectDonationProducts = [];\n        for (const Product of DonationProducts) {\n            let VARIEDADES = await models.Variedad.find({product: Product._id});\n            ObjectDonationProducts.push(resourse.Product.product_list(Product,VARIEDADES));\n        }\n\n        // DonationProducts = DonationProducts.map((product) => {\n        //   return resourse.Product.product_list(product);\n        // })\n\n        let FlashSale =  await models.Discount.findOne({\n          type_campaign: 2,\n          start_date_num:{$lte: TIME_NOW},\n          end_date_num:{$gte: TIME_NOW},\n        });\n\n        let ProductList = [];\n        if(FlashSale){\n          for (const product of FlashSale.products) {\n            var ObjecT = await models.Product.findById({_id:product._id});\n            let VARIEDADES = await models.Variedad.find({product: product._id});\n            ProductList.push(resourse.Product.product_list(ObjecT,VARIEDADES));\n          }\n        }\n          //console.log(FlashSale);\n          // console.log(TIME_NOW);\n        \n        res.status(200).json({\n          sliders: Sliders,\n          categories: Categories,\n          productPromo: [productPromo], // Envía como un arreglo\n          best_products:ObjectBestProducts,\n          our_products: ObjectOursProducts,\n          donation_products:ObjectDonationProducts,\n          FlashSale:FlashSale,\n          campaign_products:ProductList,\n        });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  show_landing_product: async(req, res) =>{\n    try {\n      let SLUG = req.params.slug;\n      let DISCOUNT_ID = req.query._id;\n\n      // console.log(\"_id= \"+DISCOUNT_ID);\n\n      let Product = await models.Product.findOne({slug: SLUG, state: 2});\n\n      let VARIEDADES =  await models.Variedad.find({product: Product._id});\n\n      let REVIEWS = await models.Review.find({product: Product._id}).populate(\"user\");\n      let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length): 0;\n      let COUNT_REVIEW = REVIEWS.length;\n\n      // console.log(\"Las estrellas: \"+AVG_REVIEW);\n\n      let RelatedProducts = await models.Product.find({categorie: Product.categorie, state: 2 });\n\n      var ObjectRelatedProducts = [];\n        for (const Product of RelatedProducts) {\n            let VARIEDADES = await models.Variedad.find({product: Product._id});\n            ObjectRelatedProducts.push(resourse.Product.product_list(Product,VARIEDADES));\n        }\n        let SALE_FLASH = null;\n        if(DISCOUNT_ID){\n          SALE_FLASH = await models.Discount.findById({_id: DISCOUNT_ID})\n        }\n\n      res.status(200).json({\n        product: resourse.Product.product_list(Product, VARIEDADES),\n        related_products: ObjectRelatedProducts,\n        SALE_FLASH: SALE_FLASH,\n        REVIEWS: REVIEWS,\n        AVG_REVIEW: AVG_REVIEW,\n        COUNT_REVIEW: COUNT_REVIEW,\n        message: \"Super! El producto agregó satisfactoriamente\",\n        })\n\n      \n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n\n  search_product: async(req, res) =>{\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n\n      let search_product = req.body.search_product;\n      let OursProducts = await models.Product.find({ state:2, title: new RegExp(search_product, \"i\")}).sort({ \"createdAt\": 1});\n\n      let CampaignDiscount =  await models.Discount.findOne({\n        type_campaign: 1,\n        start_date_num:{$lte: TIME_NOW},\n        end_date_num:{$gte: TIME_NOW},\n      });\n\n      var Products = [];\n        for (const Product of OursProducts) {\n            let VARIEDADES = await models.Variedad.find({product: Product._id});\n            let REVIEWS = await models.Review.find({product: Product._id});\n            let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length): 0;\n            let COUNT_REVIEW = REVIEWS.length;\n            let DISCOUNT_EXITS =  null;\n            if(CampaignDiscount){\n              if(CampaignDiscount.type_segment == 1){//por producto\n                let products_a = [];\n                CampaignDiscount.products.forEach(item => {\n                  products_a.push(item._id);\n                })\n                if(products_a.includes(Product._id+\"\")){\n                  DISCOUNT_EXITS = CampaignDiscount;\n                }\n              }else{// por categoria}\n                let categories_a = [];\n                CampaignDiscount.categories.forEach(item => {\n                  categories_a.push(item._id);\n                })\n                if(categories_a.includes(Product.categorie+\"\")){\n                  DISCOUNT_EXITS = CampaignDiscount;\n                }\n              }\n            }\n            Products.push(resourse.Product.product_list(Product,VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n        }\n        res.status(200).json({\n          products: Products,\n        });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\",\n      });\n    }\n  },\n\n  profile_client: async(req, res) =>{\n    try {\n      let user_id = req.body.user_id;\n\n      let Orders =  await models.Sale.find({user: user_id});\n\n      let sale_orders = [];\n\n      for (const order of Orders) {\n        let detail_orders = await models.SaleDetail.find({sale: order._id}).populate({\n          path: \"product\",\n          populate: {\n             path: \"categorie\"\n          },\n        }).populate(\"variedad\");\n        let sale_address = await models.SaleAddress.find({sale: order._id});\n        let collection_detail_orders = [];\n        for (const detail_order of detail_orders) {\n          let reviewS = await models.Review.findOne({sale_detail: detail_order._id});\n          collection_detail_orders.push({\n              _id:detail_order._id,\n              product:{\n                _id: detail_order.product._id,\n                title: detail_order.product.title,\n                imagen:process.env.URL_BACKEND+\"/api/products/uploads/product/\"+detail_order.product.portada, \n                state: detail_order.product.state,\n                slug: detail_order.product.slug,\n                sku: detail_order.product.sku,\n                categorie: detail_order.product.categorie,\n                price_bs: detail_order.product.price_bs,\n                price_usd: detail_order.product.price_usd,\n                condition: detail_order.product.condition,\n              },\n              type_discount: detail_order.type_discount,\n              discount: detail_order.discount,\n              cantidad: detail_order.cantidad,\n              variedad: detail_order.variedad,\n              code_cupon: detail_order.code_cupon,\n              code_discount: detail_order.code_discount,\n              price_unit: detail_order.price_unit,\n              subtotal: detail_order.subtotal,\n              total: detail_order.total,\n              review: reviewS,\n          })\n        }\n        sale_orders.push({\n          sale: order,\n          sale_details:collection_detail_orders,\n          sale_address: sale_address,\n        })\n      }\n      let ADDRESS_CLIENT  = await models.AddressClient.find({user:user_id}).sort({'createdAt':-1});\n      res.status(200).json({\n        sale_orders: sale_orders,\n        address_client: ADDRESS_CLIENT\n      })\n\n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\",\n      });\n      \n    }\n  },\n   update_client: async (req, res) => {\n     try {\n       if (req.files) {\n         var img_path = req.files.avatar.path;\n         var name = img_path.split('/');\n         var avatar_name = name[2];\n         console.log(avatar_name)\n       }\n\n      //  console.log(req.body);\n  \n       const updateData = {};\n  \n       // Verifica cada campo y solo actualiza si tiene valor\n       if (req.body.name) updateData.name = req.body.name;\n       if (req.body.surname) updateData.surname = req.body.surname;\n       if (req.body.email) updateData.email = req.body.email;\n  \n       // Solo actualiza el password si se proporciona uno nuevo\n       if (req.body.password && req.body.password !== \"\") {\n         updateData.password = await bcrypt.hash(req.body.password, 10);\n       }\n  \n       await models.User.findByIdAndUpdate({ _id: req.body._id }, updateData);\n  \n       let User = await models.User.findOne({ _id: req.body._id });\n  \n       res.status(200).json({\n         message: \"Super! Su información se actualizó satisfactoriamente\",\n         user: {\n           name: User.name,\n           surname: User.surname,\n           email: User.email,\n           _id: User._id,\n         }\n       })\n  \n     } catch (error) {\n       console.log(error);\n       res.status(500).send({\n         message: \"OCURRIÓ UN PROBLEMA\"\n       });\n     }\n   },\n\n   config_initial: async (req, res) => {\n    try {\n      let categories = await models.Categorie.find({state: 1});\n      let variedades =  await models.Variedad.find({});\n\n      res.status(200).json({\n        categories:categories,\n        variedades: variedades,\n      });\n      \n    } catch (error) {\n      console.log(error);\n       res.status(500).send({\n         message: \"OCURRIÓ UN PROBLEMA\"\n       });\n    }\n\n   },\n   filter_products: async(req,res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let search_product = req.body.search_product;\n\n      let categories_salecteds = req.body.categories_salecteds;\n      let is_discount = req.body.is_discount;\n      let variedad_selected = req.body.variedad_selected;\n      let price_min = req.body.price_min;\n      let price_max = req.body.price_max;\n\n      let filter = [\n        { state:2 },\n      ];\n\n      var categories_s = [];\n      var products_s = [];\n      //{ state:2, title: new RegExp(search_product, \"i\")}\n\n      if(categories_salecteds.length > 0){\n        categories_salecteds.forEach((categorie) => {\n          categories_s.push(categorie);\n        })\n        // filter.push({\n        //   categorie:{ $in: categories_salecteds},\n        // })\n      }\n\n      let CampaignDiscount =  await models.Discount.findOne({\n        type_campaign: 1,\n        start_date_num:{$lte: TIME_NOW},\n        end_date_num:{$gte: TIME_NOW},\n      });\n\n      if(is_discount == 2){\n       if( CampaignDiscount.type_segment == 1){\n         CampaignDiscount.products.forEach(item => {\n           products_s.push(item._id);\n          })\n       }else{\n         CampaignDiscount.categories.forEach(item => {\n           categories_s.push(item._id);\n          })\n       }\n      }\n\n      if(variedad_selected){\n        let VARIE = await models.Variedad.findById({_id: variedad_selected._id});\n        if(VARIE){\n          products_s.push(VARIE.product);\n        }\n      }\n\n      if(categories_s.length > 0){\n        filter.push({\n          categorie: {$in: categories_s}\n        });\n      }\n\n      if(products_s.length > 0){\n        filter.push({\n          _id: {$in: products_s}\n        });\n      }\n\n      if(price_min > 0 && price_max > 0){\n        filter.push({\n          price_usd: {$gte:price_min, $lte: price_max},\n        });\n      }\n      \n      let OursProducts = await models.Product.find({$and: filter}).sort({ \"createdAt\": 1});\n\n\n      var Products = [];\n        for (const Product of OursProducts) {\n            let VARIEDADES = await models.Variedad.find({product: Product._id});\n            let REVIEWS = await models.Review.find({product: Product._id});\n            let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length): 0;\n            let COUNT_REVIEW = REVIEWS.length;\n            let DISCOUNT_EXITS =  null;\n            if(CampaignDiscount){\n              if(CampaignDiscount.type_segment == 1){//por producto\n                let products_a = [];\n                CampaignDiscount.products.forEach(item => {\n                  products_a.push(item._id);\n                })\n                if(products_a.includes(Product._id+\"\")){\n                  DISCOUNT_EXITS = CampaignDiscount;\n                }\n              }else{// por categoria}\n                let categories_a = [];\n                CampaignDiscount.categories.forEach(item => {\n                  categories_a.push(item._id);\n                })\n                if(categories_a.includes(Product.categorie+\"\")){\n                  DISCOUNT_EXITS = CampaignDiscount;\n                }\n              }\n            }\n            Products.push(resourse.Product.product_list(Product,VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n        }\n        res.status(200).json({\n          products: Products,\n        });\n      \n    } catch (error) {\n      console.log(error);\n       res.status(500).send({\n         message: \"OCURRIÓ UN PROBLEMA\"\n       });\n    }\n   },\n\n}"],"mappings":"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","ignoreList":[]}},"mtime":1741488664066},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CartSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  // 1:Porcentaje | 2:Moneda\n  discount: {\n    type: Number,\n    default: 0\n  },\n  cantidad: {\n    type: Number,\n    required: true\n  },\n  variedad: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'variedad',\n    required: false\n  },\n  code_cupon: {\n    type: String,\n    required: false\n  },\n  code_discount: {\n    type: String,\n    required: false\n  },\n  price_unit: {\n    type: Number,\n    required: true\n  },\n  subtotal: {\n    type: Number,\n    required: true\n  },\n  total: {\n    type: Number,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Cart = _mongoose.default.model(\"cart\", CartSchema);\nvar _default = exports.default = Cart;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDYXJ0U2NoZW1hIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwicHJvZHVjdCIsInR5cGVfZGlzY291bnQiLCJOdW1iZXIiLCJkaXNjb3VudCIsImNhbnRpZGFkIiwidmFyaWVkYWQiLCJjb2RlX2N1cG9uIiwiU3RyaW5nIiwiY29kZV9kaXNjb3VudCIsInByaWNlX3VuaXQiLCJzdWJ0b3RhbCIsInRvdGFsIiwidGltZXN0YW1wcyIsIkNhcnQiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIkNhcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBDYXJ0U2NoZW1hID0gIG5ldyBTY2hlbWEoe1xuICB1c2VyOiB7dHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6ICd1c2VyJywgcmVxdWlyZWQ6IHRydWV9LFxuICBwcm9kdWN0OiB7dHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6ICdwcm9kdWN0JywgcmVxdWlyZWQ6IHRydWV9LFxuICB0eXBlX2Rpc2NvdW50OiB7dHlwZTogTnVtYmVyLCByZXF1aXJlZDogZmFsc2UsIGRlZmF1bHQ6IDF9LCAvLyAxOlBvcmNlbnRhamUgfCAyOk1vbmVkYVxuICBkaXNjb3VudDoge3R5cGU6IE51bWJlciwgZGVmYXVsdDogMH0sXG4gIGNhbnRpZGFkOiB7dHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZX0sXG4gIHZhcmllZGFkOiB7dHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6ICd2YXJpZWRhZCcsIHJlcXVpcmVkOmZhbHNlIH0sXG4gIGNvZGVfY3Vwb246IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBmYWxzZX0sXG4gIGNvZGVfZGlzY291bnQ6IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBmYWxzZX0sXG4gIHByaWNlX3VuaXQ6IHt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlfSxcbiAgc3VidG90YWw6IHt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlfSxcbiAgdG90YWw6IHt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlfSxcbn0se1xuICB0aW1lc3RhbXBzOiB0cnVlLFxufSlcblxuY29uc3QgQ2FydCA9IG1vbmdvb3NlLm1vZGVsKFwiY2FydFwiLCBDYXJ0U2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IENhcnQ7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLENBQUEsU0FBQUcsQ0FBQSxHQUFBUCxDQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQWIsQ0FBQSxFQUFBYyxDQUFBLFVBQUFHLENBQUEsS0FBQUEsQ0FBQSxDQUFBVixHQUFBLElBQUFVLENBQUEsQ0FBQUMsR0FBQSxJQUFBUCxNQUFBLENBQUFDLGNBQUEsQ0FBQUosQ0FBQSxFQUFBTSxDQUFBLEVBQUFHLENBQUEsSUFBQVQsQ0FBQSxDQUFBTSxDQUFBLElBQUFkLENBQUEsQ0FBQWMsQ0FBQSxZQUFBTixDQUFBLENBQUFILE9BQUEsR0FBQUwsQ0FBQSxFQUFBRyxDQUFBLElBQUFBLENBQUEsQ0FBQWUsR0FBQSxDQUFBbEIsQ0FBQSxFQUFBUSxDQUFBLEdBQUFBLENBQUE7QUFFekMsTUFBTVcsVUFBVSxHQUFJLElBQUlDLGdCQUFNLENBQUM7RUFDN0JDLElBQUksRUFBRTtJQUFDQyxJQUFJLEVBQUVGLGdCQUFNLENBQUNHLFFBQVE7SUFBRUMsR0FBRyxFQUFFLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUksQ0FBQztFQUMxREMsT0FBTyxFQUFFO0lBQUNKLElBQUksRUFBRUYsZ0JBQU0sQ0FBQ0csUUFBUTtJQUFFQyxHQUFHLEVBQUUsU0FBUztJQUFFQyxRQUFRLEVBQUU7RUFBSSxDQUFDO0VBQ2hFRSxhQUFhLEVBQUU7SUFBQ0wsSUFBSSxFQUFFTSxNQUFNO0lBQUVILFFBQVEsRUFBRSxLQUFLO0lBQUVwQixPQUFPLEVBQUU7RUFBQyxDQUFDO0VBQUU7RUFDNUR3QixRQUFRLEVBQUU7SUFBQ1AsSUFBSSxFQUFFTSxNQUFNO0lBQUV2QixPQUFPLEVBQUU7RUFBQyxDQUFDO0VBQ3BDeUIsUUFBUSxFQUFFO0lBQUNSLElBQUksRUFBRU0sTUFBTTtJQUFFSCxRQUFRLEVBQUU7RUFBSSxDQUFDO0VBQ3hDTSxRQUFRLEVBQUU7SUFBQ1QsSUFBSSxFQUFFRixnQkFBTSxDQUFDRyxRQUFRO0lBQUVDLEdBQUcsRUFBRSxVQUFVO0lBQUVDLFFBQVEsRUFBQztFQUFNLENBQUM7RUFDbkVPLFVBQVUsRUFBRTtJQUFDVixJQUFJLEVBQUVXLE1BQU07SUFBRVIsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUMzQ1MsYUFBYSxFQUFFO0lBQUNaLElBQUksRUFBRVcsTUFBTTtJQUFFUixRQUFRLEVBQUU7RUFBSyxDQUFDO0VBQzlDVSxVQUFVLEVBQUU7SUFBQ2IsSUFBSSxFQUFFTSxNQUFNO0lBQUVILFFBQVEsRUFBRTtFQUFJLENBQUM7RUFDMUNXLFFBQVEsRUFBRTtJQUFDZCxJQUFJLEVBQUVNLE1BQU07SUFBRUgsUUFBUSxFQUFFO0VBQUksQ0FBQztFQUN4Q1ksS0FBSyxFQUFFO0lBQUNmLElBQUksRUFBRU0sTUFBTTtJQUFFSCxRQUFRLEVBQUU7RUFBSTtBQUN0QyxDQUFDLEVBQUM7RUFDQWEsVUFBVSxFQUFFO0FBQ2QsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsSUFBSSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsTUFBTSxFQUFFdEIsVUFBVSxDQUFDO0FBQUMsSUFBQXVCLFFBQUEsR0FBQUMsT0FBQSxDQUFBdEMsT0FBQSxHQUNqQ2tDLElBQUkiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CartSchema","Schema","user","type","ObjectId","ref","required","product","type_discount","Number","discount","cantidad","variedad","code_cupon","String","code_discount","price_unit","subtotal","total","timestamps","Cart","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Cart.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst CartSchema =  new Schema({\n  user: {type: Schema.ObjectId, ref: 'user', required: true},\n  product: {type: Schema.ObjectId, ref: 'product', required: true},\n  type_discount: {type: Number, required: false, default: 1}, // 1:Porcentaje | 2:Moneda\n  discount: {type: Number, default: 0},\n  cantidad: {type: Number, required: true},\n  variedad: {type: Schema.ObjectId, ref: 'variedad', required:false },\n  code_cupon: {type: String, required: false},\n  code_discount: {type: String, required: false},\n  price_unit: {type: Number, required: true},\n  subtotal: {type: Number, required: true},\n  total: {type: Number, required: true},\n},{\n  timestamps: true,\n})\n\nconst Cart = mongoose.model(\"cart\", CartSchema);\nexport default Cart;\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,UAAU,GAAI,IAAIC,gBAAM,CAAC;EAC7BC,IAAI,EAAE;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAE,MAAM;IAAEC,QAAQ,EAAE;EAAI,CAAC;EAC1DC,OAAO,EAAE;IAACJ,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAE,SAAS;IAAEC,QAAQ,EAAE;EAAI,CAAC;EAChEE,aAAa,EAAE;IAACL,IAAI,EAAEM,MAAM;IAAEH,QAAQ,EAAE,KAAK;IAAEpB,OAAO,EAAE;EAAC,CAAC;EAAE;EAC5DwB,QAAQ,EAAE;IAACP,IAAI,EAAEM,MAAM;IAAEvB,OAAO,EAAE;EAAC,CAAC;EACpCyB,QAAQ,EAAE;IAACR,IAAI,EAAEM,MAAM;IAAEH,QAAQ,EAAE;EAAI,CAAC;EACxCM,QAAQ,EAAE;IAACT,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAE,UAAU;IAAEC,QAAQ,EAAC;EAAM,CAAC;EACnEO,UAAU,EAAE;IAACV,IAAI,EAAEW,MAAM;IAAER,QAAQ,EAAE;EAAK,CAAC;EAC3CS,aAAa,EAAE;IAACZ,IAAI,EAAEW,MAAM;IAAER,QAAQ,EAAE;EAAK,CAAC;EAC9CU,UAAU,EAAE;IAACb,IAAI,EAAEM,MAAM;IAAEH,QAAQ,EAAE;EAAI,CAAC;EAC1CW,QAAQ,EAAE;IAACd,IAAI,EAAEM,MAAM;IAAEH,QAAQ,EAAE;EAAI,CAAC;EACxCY,KAAK,EAAE;IAACf,IAAI,EAAEM,MAAM;IAAEH,QAAQ,EAAE;EAAI;AACtC,CAAC,EAAC;EACAa,UAAU,EAAE;AACd,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAAEtB,UAAU,CAAC;AAAC,IAAAuB,QAAA,GAAAC,OAAA,CAAAtC,OAAA,GACjCkC,IAAI","ignoreList":[]}},"mtime":1739221177438},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CartSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  // 1:Porcentaje | 2:Moneda\n  discount: {\n    type: Number,\n    default: 0\n  },\n  cantidad: {\n    type: Number,\n    required: true\n  },\n  variedad: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'variedad',\n    required: false\n  },\n  code_cupon: {\n    type: String,\n    required: false\n  },\n  code_discount: {\n    type: String,\n    required: false\n  },\n  price_unit: {\n    type: Number,\n    required: true\n  },\n  subtotal: {\n    type: Number,\n    required: true\n  },\n  total: {\n    type: Number,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Cart = _mongoose.default.model(\"cart\", CartSchema);\nvar _default = exports.default = Cart;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDYXJ0U2NoZW1hIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwicHJvZHVjdCIsInR5cGVfZGlzY291bnQiLCJOdW1iZXIiLCJkaXNjb3VudCIsImNhbnRpZGFkIiwidmFyaWVkYWQiLCJjb2RlX2N1cG9uIiwiU3RyaW5nIiwiY29kZV9kaXNjb3VudCIsInByaWNlX3VuaXQiLCJzdWJ0b3RhbCIsInRvdGFsIiwidGltZXN0YW1wcyIsIkNhcnQiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIkNhcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBDYXJ0U2NoZW1hID0gIG5ldyBTY2hlbWEoe1xuICB1c2VyOiB7dHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6ICd1c2VyJywgcmVxdWlyZWQ6IHRydWV9LFxuICBwcm9kdWN0OiB7dHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6ICdwcm9kdWN0JywgcmVxdWlyZWQ6IHRydWV9LFxuICB0eXBlX2Rpc2NvdW50OiB7dHlwZTogTnVtYmVyLCByZXF1aXJlZDogZmFsc2UsIGRlZmF1bHQ6IDF9LCAvLyAxOlBvcmNlbnRhamUgfCAyOk1vbmVkYVxuICBkaXNjb3VudDoge3R5cGU6IE51bWJlciwgZGVmYXVsdDogMH0sXG4gIGNhbnRpZGFkOiB7dHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZX0sXG4gIHZhcmllZGFkOiB7dHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6ICd2YXJpZWRhZCcsIHJlcXVpcmVkOmZhbHNlIH0sXG4gIGNvZGVfY3Vwb246IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBmYWxzZX0sXG4gIGNvZGVfZGlzY291bnQ6IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBmYWxzZX0sXG4gIHByaWNlX3VuaXQ6IHt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlfSxcbiAgc3VidG90YWw6IHt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlfSxcbiAgdG90YWw6IHt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlfSxcbn0se1xuICB0aW1lc3RhbXBzOiB0cnVlLFxufSlcblxuY29uc3QgQ2FydCA9IG1vbmdvb3NlLm1vZGVsKFwiY2FydFwiLCBDYXJ0U2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IENhcnQ7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CartSchema","Schema","user","type","ObjectId","ref","required","product","type_discount","Number","discount","cantidad","variedad","code_cupon","String","code_discount","price_unit","subtotal","total","timestamps","Cart","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Cart.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst CartSchema =  new Schema({\n  user: {type: Schema.ObjectId, ref: 'user', required: true},\n  product: {type: Schema.ObjectId, ref: 'product', required: true},\n  type_discount: {type: Number, required: false, default: 1}, // 1:Porcentaje | 2:Moneda\n  discount: {type: Number, default: 0},\n  cantidad: {type: Number, required: true},\n  variedad: {type: Schema.ObjectId, ref: 'variedad', required:false },\n  code_cupon: {type: String, required: false},\n  code_discount: {type: String, required: false},\n  price_unit: {type: Number, required: true},\n  subtotal: {type: Number, required: true},\n  total: {type: Number, required: true},\n},{\n  timestamps: true,\n})\n\nconst Cart = mongoose.model(\"cart\", CartSchema);\nexport default Cart;\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,UAAU,GAAI,IAAIC,gBAAM,CAAC;EAC7BC,IAAI,EAAE;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAE,MAAM;IAAEC,QAAQ,EAAE;EAAI,CAAC;EAC1DC,OAAO,EAAE;IAACJ,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAE,SAAS;IAAEC,QAAQ,EAAE;EAAI,CAAC;EAChEE,aAAa,EAAE;IAACL,IAAI,EAAEM,MAAM;IAAEH,QAAQ,EAAE,KAAK;IAAEpB,OAAO,EAAE;EAAC,CAAC;EAAE;EAC5DwB,QAAQ,EAAE;IAACP,IAAI,EAAEM,MAAM;IAAEvB,OAAO,EAAE;EAAC,CAAC;EACpCyB,QAAQ,EAAE;IAACR,IAAI,EAAEM,MAAM;IAAEH,QAAQ,EAAE;EAAI,CAAC;EACxCM,QAAQ,EAAE;IAACT,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAE,UAAU;IAAEC,QAAQ,EAAC;EAAM,CAAC;EACnEO,UAAU,EAAE;IAACV,IAAI,EAAEW,MAAM;IAAER,QAAQ,EAAE;EAAK,CAAC;EAC3CS,aAAa,EAAE;IAACZ,IAAI,EAAEW,MAAM;IAAER,QAAQ,EAAE;EAAK,CAAC;EAC9CU,UAAU,EAAE;IAACb,IAAI,EAAEM,MAAM;IAAEH,QAAQ,EAAE;EAAI,CAAC;EAC1CW,QAAQ,EAAE;IAACd,IAAI,EAAEM,MAAM;IAAEH,QAAQ,EAAE;EAAI,CAAC;EACxCY,KAAK,EAAE;IAACf,IAAI,EAAEM,MAAM;IAAEH,QAAQ,EAAE;EAAI;AACtC,CAAC,EAAC;EACAa,UAAU,EAAE;AACd,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAAEtB,UAAU,CAAC;AAAC,IAAAuB,QAAA,GAAAC,OAAA,CAAAtC,OAAA,GACjCkC,IAAI","ignoreList":[]}},"mtime":1739221177438},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  cart_list: cart => {\n    return {\n      _id: cart._id,\n      user: cart.user,\n      product: {\n        _id: cart.product._id,\n        title: cart.product.title,\n        imagen: process.env.URL_BACKEND + \"/api/products/uploads/product/\" + cart.product.portada,\n        state: cart.product.state,\n        slug: cart.product.slug,\n        sku: cart.product.sku,\n        categorie: cart.product.categorie,\n        price_bs: cart.product.price_bs,\n        price_usd: cart.product.price_usd,\n        condition: cart.product.condition,\n        seller_id: cart.product.seller_id\n      },\n      type_discount: cart.type_discount,\n      discount: cart.discount,\n      cantidad: cart.cantidad,\n      variedad: cart.variedad,\n      code_cupon: cart.code_cupon,\n      code_discount: cart.code_discount,\n      price_unit: cart.price_unit,\n      subtotal: cart.subtotal,\n      total: cart.total\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXJ0X2xpc3QiLCJjYXJ0IiwiX2lkIiwidXNlciIsInByb2R1Y3QiLCJ0aXRsZSIsImltYWdlbiIsInByb2Nlc3MiLCJlbnYiLCJVUkxfQkFDS0VORCIsInBvcnRhZGEiLCJzdGF0ZSIsInNsdWciLCJza3UiLCJjYXRlZ29yaWUiLCJwcmljZV9icyIsInByaWNlX3VzZCIsImNvbmRpdGlvbiIsInNlbGxlcl9pZCIsInR5cGVfZGlzY291bnQiLCJkaXNjb3VudCIsImNhbnRpZGFkIiwidmFyaWVkYWQiLCJjb2RlX2N1cG9uIiwiY29kZV9kaXNjb3VudCIsInByaWNlX3VuaXQiLCJzdWJ0b3RhbCIsInRvdGFsIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3Jlc291cnNlcy8iLCJzb3VyY2VzIjpbIkNhcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHR7XG4gIGNhcnRfbGlzdDogKGNhcnQpID0+IHtcbiAgICByZXR1cm57XG4gICAgICBfaWQ6Y2FydC5faWQsXG4gICAgICB1c2VyOiBjYXJ0LnVzZXIsXG4gICAgICBwcm9kdWN0OntcbiAgICAgICAgX2lkOiBjYXJ0LnByb2R1Y3QuX2lkLFxuICAgICAgICB0aXRsZTogY2FydC5wcm9kdWN0LnRpdGxlLFxuICAgICAgICBpbWFnZW46cHJvY2Vzcy5lbnYuVVJMX0JBQ0tFTkQrXCIvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC9cIitjYXJ0LnByb2R1Y3QucG9ydGFkYSwgXG4gICAgICAgIHN0YXRlOiBjYXJ0LnByb2R1Y3Quc3RhdGUsXG4gICAgICAgIHNsdWc6IGNhcnQucHJvZHVjdC5zbHVnLFxuICAgICAgICBza3U6IGNhcnQucHJvZHVjdC5za3UsXG4gICAgICAgIGNhdGVnb3JpZTogY2FydC5wcm9kdWN0LmNhdGVnb3JpZSxcbiAgICAgICAgcHJpY2VfYnM6IGNhcnQucHJvZHVjdC5wcmljZV9icyxcbiAgICAgICAgcHJpY2VfdXNkOiBjYXJ0LnByb2R1Y3QucHJpY2VfdXNkLFxuICAgICAgICBjb25kaXRpb246IGNhcnQucHJvZHVjdC5jb25kaXRpb24sXG4gICAgICAgIHNlbGxlcl9pZDogY2FydC5wcm9kdWN0LnNlbGxlcl9pZCxcbiAgICAgIH0sXG4gICAgICB0eXBlX2Rpc2NvdW50OiBjYXJ0LnR5cGVfZGlzY291bnQsXG4gICAgICBkaXNjb3VudDogY2FydC5kaXNjb3VudCxcbiAgICAgIGNhbnRpZGFkOiBjYXJ0LmNhbnRpZGFkLFxuICAgICAgdmFyaWVkYWQ6IGNhcnQudmFyaWVkYWQsXG4gICAgICBjb2RlX2N1cG9uOiBjYXJ0LmNvZGVfY3Vwb24sXG4gICAgICBjb2RlX2Rpc2NvdW50OiBjYXJ0LmNvZGVfZGlzY291bnQsXG4gICAgICBwcmljZV91bml0OiBjYXJ0LnByaWNlX3VuaXQsXG4gICAgICBzdWJ0b3RhbDogY2FydC5zdWJ0b3RhbCxcbiAgICAgIHRvdGFsOiBjYXJ0LnRvdGFsLFxuICAgICAgXG4gICAgfVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztpQ0FBYztFQUNaQSxTQUFTLEVBQUdDLElBQUksSUFBSztJQUNuQixPQUFNO01BQ0pDLEdBQUcsRUFBQ0QsSUFBSSxDQUFDQyxHQUFHO01BQ1pDLElBQUksRUFBRUYsSUFBSSxDQUFDRSxJQUFJO01BQ2ZDLE9BQU8sRUFBQztRQUNORixHQUFHLEVBQUVELElBQUksQ0FBQ0csT0FBTyxDQUFDRixHQUFHO1FBQ3JCRyxLQUFLLEVBQUVKLElBQUksQ0FBQ0csT0FBTyxDQUFDQyxLQUFLO1FBQ3pCQyxNQUFNLEVBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxXQUFXLEdBQUMsZ0NBQWdDLEdBQUNSLElBQUksQ0FBQ0csT0FBTyxDQUFDTSxPQUFPO1FBQ3BGQyxLQUFLLEVBQUVWLElBQUksQ0FBQ0csT0FBTyxDQUFDTyxLQUFLO1FBQ3pCQyxJQUFJLEVBQUVYLElBQUksQ0FBQ0csT0FBTyxDQUFDUSxJQUFJO1FBQ3ZCQyxHQUFHLEVBQUVaLElBQUksQ0FBQ0csT0FBTyxDQUFDUyxHQUFHO1FBQ3JCQyxTQUFTLEVBQUViLElBQUksQ0FBQ0csT0FBTyxDQUFDVSxTQUFTO1FBQ2pDQyxRQUFRLEVBQUVkLElBQUksQ0FBQ0csT0FBTyxDQUFDVyxRQUFRO1FBQy9CQyxTQUFTLEVBQUVmLElBQUksQ0FBQ0csT0FBTyxDQUFDWSxTQUFTO1FBQ2pDQyxTQUFTLEVBQUVoQixJQUFJLENBQUNHLE9BQU8sQ0FBQ2EsU0FBUztRQUNqQ0MsU0FBUyxFQUFFakIsSUFBSSxDQUFDRyxPQUFPLENBQUNjO01BQzFCLENBQUM7TUFDREMsYUFBYSxFQUFFbEIsSUFBSSxDQUFDa0IsYUFBYTtNQUNqQ0MsUUFBUSxFQUFFbkIsSUFBSSxDQUFDbUIsUUFBUTtNQUN2QkMsUUFBUSxFQUFFcEIsSUFBSSxDQUFDb0IsUUFBUTtNQUN2QkMsUUFBUSxFQUFFckIsSUFBSSxDQUFDcUIsUUFBUTtNQUN2QkMsVUFBVSxFQUFFdEIsSUFBSSxDQUFDc0IsVUFBVTtNQUMzQkMsYUFBYSxFQUFFdkIsSUFBSSxDQUFDdUIsYUFBYTtNQUNqQ0MsVUFBVSxFQUFFeEIsSUFBSSxDQUFDd0IsVUFBVTtNQUMzQkMsUUFBUSxFQUFFekIsSUFBSSxDQUFDeUIsUUFBUTtNQUN2QkMsS0FBSyxFQUFFMUIsSUFBSSxDQUFDMEI7SUFFZCxDQUFDO0VBQ0g7QUFDRixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["cart_list","cart","_id","user","product","title","imagen","process","env","URL_BACKEND","portada","state","slug","sku","categorie","price_bs","price_usd","condition","seller_id","type_discount","discount","cantidad","variedad","code_cupon","code_discount","price_unit","subtotal","total"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["Cart.js"],"sourcesContent":["export default{\n  cart_list: (cart) => {\n    return{\n      _id:cart._id,\n      user: cart.user,\n      product:{\n        _id: cart.product._id,\n        title: cart.product.title,\n        imagen:process.env.URL_BACKEND+\"/api/products/uploads/product/\"+cart.product.portada, \n        state: cart.product.state,\n        slug: cart.product.slug,\n        sku: cart.product.sku,\n        categorie: cart.product.categorie,\n        price_bs: cart.product.price_bs,\n        price_usd: cart.product.price_usd,\n        condition: cart.product.condition,\n        seller_id: cart.product.seller_id,\n      },\n      type_discount: cart.type_discount,\n      discount: cart.discount,\n      cantidad: cart.cantidad,\n      variedad: cart.variedad,\n      code_cupon: cart.code_cupon,\n      code_discount: cart.code_discount,\n      price_unit: cart.price_unit,\n      subtotal: cart.subtotal,\n      total: cart.total,\n      \n    }\n  }\n}\n"],"mappings":";;;;;;iCAAc;EACZA,SAAS,EAAGC,IAAI,IAAK;IACnB,OAAM;MACJC,GAAG,EAACD,IAAI,CAACC,GAAG;MACZC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAC;QACNF,GAAG,EAAED,IAAI,CAACG,OAAO,CAACF,GAAG;QACrBG,KAAK,EAAEJ,IAAI,CAACG,OAAO,CAACC,KAAK;QACzBC,MAAM,EAACC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,gCAAgC,GAACR,IAAI,CAACG,OAAO,CAACM,OAAO;QACpFC,KAAK,EAAEV,IAAI,CAACG,OAAO,CAACO,KAAK;QACzBC,IAAI,EAAEX,IAAI,CAACG,OAAO,CAACQ,IAAI;QACvBC,GAAG,EAAEZ,IAAI,CAACG,OAAO,CAACS,GAAG;QACrBC,SAAS,EAAEb,IAAI,CAACG,OAAO,CAACU,SAAS;QACjCC,QAAQ,EAAEd,IAAI,CAACG,OAAO,CAACW,QAAQ;QAC/BC,SAAS,EAAEf,IAAI,CAACG,OAAO,CAACY,SAAS;QACjCC,SAAS,EAAEhB,IAAI,CAACG,OAAO,CAACa,SAAS;QACjCC,SAAS,EAAEjB,IAAI,CAACG,OAAO,CAACc;MAC1B,CAAC;MACDC,aAAa,EAAElB,IAAI,CAACkB,aAAa;MACjCC,QAAQ,EAAEnB,IAAI,CAACmB,QAAQ;MACvBC,QAAQ,EAAEpB,IAAI,CAACoB,QAAQ;MACvBC,QAAQ,EAAErB,IAAI,CAACqB,QAAQ;MACvBC,UAAU,EAAEtB,IAAI,CAACsB,UAAU;MAC3BC,aAAa,EAAEvB,IAAI,CAACuB,aAAa;MACjCC,UAAU,EAAExB,IAAI,CAACwB,UAAU;MAC3BC,QAAQ,EAAEzB,IAAI,CAACyB,QAAQ;MACvBC,KAAK,EAAE1B,IAAI,CAAC0B;IAEd,CAAC;EACH;AACF,CAAC","ignoreList":[]}},"mtime":1750288399156},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  cart_list: cart => {\n    return {\n      _id: cart._id,\n      user: cart.user,\n      product: {\n        _id: cart.product._id,\n        title: cart.product.title,\n        imagen: process.env.URL_BACKEND + \"/api/products/uploads/product/\" + cart.product.portada,\n        state: cart.product.state,\n        slug: cart.product.slug,\n        sku: cart.product.sku,\n        categorie: cart.product.categorie,\n        price_bs: cart.product.price_bs,\n        price_usd: cart.product.price_usd,\n        condition: cart.product.condition,\n        seller_id: cart.product.seller_id\n      },\n      type_discount: cart.type_discount,\n      discount: cart.discount,\n      cantidad: cart.cantidad,\n      variedad: cart.variedad,\n      code_cupon: cart.code_cupon,\n      code_discount: cart.code_discount,\n      price_unit: cart.price_unit,\n      subtotal: cart.subtotal,\n      total: cart.total\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXJ0X2xpc3QiLCJjYXJ0IiwiX2lkIiwidXNlciIsInByb2R1Y3QiLCJ0aXRsZSIsImltYWdlbiIsInByb2Nlc3MiLCJlbnYiLCJVUkxfQkFDS0VORCIsInBvcnRhZGEiLCJzdGF0ZSIsInNsdWciLCJza3UiLCJjYXRlZ29yaWUiLCJwcmljZV9icyIsInByaWNlX3VzZCIsImNvbmRpdGlvbiIsInNlbGxlcl9pZCIsInR5cGVfZGlzY291bnQiLCJkaXNjb3VudCIsImNhbnRpZGFkIiwidmFyaWVkYWQiLCJjb2RlX2N1cG9uIiwiY29kZV9kaXNjb3VudCIsInByaWNlX3VuaXQiLCJzdWJ0b3RhbCIsInRvdGFsIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3Jlc291cnNlcy8iLCJzb3VyY2VzIjpbIkNhcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHR7XG4gIGNhcnRfbGlzdDogKGNhcnQpID0+IHtcbiAgICByZXR1cm57XG4gICAgICBfaWQ6Y2FydC5faWQsXG4gICAgICB1c2VyOiBjYXJ0LnVzZXIsXG4gICAgICBwcm9kdWN0OntcbiAgICAgICAgX2lkOiBjYXJ0LnByb2R1Y3QuX2lkLFxuICAgICAgICB0aXRsZTogY2FydC5wcm9kdWN0LnRpdGxlLFxuICAgICAgICBpbWFnZW46cHJvY2Vzcy5lbnYuVVJMX0JBQ0tFTkQrXCIvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC9cIitjYXJ0LnByb2R1Y3QucG9ydGFkYSwgXG4gICAgICAgIHN0YXRlOiBjYXJ0LnByb2R1Y3Quc3RhdGUsXG4gICAgICAgIHNsdWc6IGNhcnQucHJvZHVjdC5zbHVnLFxuICAgICAgICBza3U6IGNhcnQucHJvZHVjdC5za3UsXG4gICAgICAgIGNhdGVnb3JpZTogY2FydC5wcm9kdWN0LmNhdGVnb3JpZSxcbiAgICAgICAgcHJpY2VfYnM6IGNhcnQucHJvZHVjdC5wcmljZV9icyxcbiAgICAgICAgcHJpY2VfdXNkOiBjYXJ0LnByb2R1Y3QucHJpY2VfdXNkLFxuICAgICAgICBjb25kaXRpb246IGNhcnQucHJvZHVjdC5jb25kaXRpb24sXG4gICAgICAgIHNlbGxlcl9pZDogY2FydC5wcm9kdWN0LnNlbGxlcl9pZCxcbiAgICAgIH0sXG4gICAgICB0eXBlX2Rpc2NvdW50OiBjYXJ0LnR5cGVfZGlzY291bnQsXG4gICAgICBkaXNjb3VudDogY2FydC5kaXNjb3VudCxcbiAgICAgIGNhbnRpZGFkOiBjYXJ0LmNhbnRpZGFkLFxuICAgICAgdmFyaWVkYWQ6IGNhcnQudmFyaWVkYWQsXG4gICAgICBjb2RlX2N1cG9uOiBjYXJ0LmNvZGVfY3Vwb24sXG4gICAgICBjb2RlX2Rpc2NvdW50OiBjYXJ0LmNvZGVfZGlzY291bnQsXG4gICAgICBwcmljZV91bml0OiBjYXJ0LnByaWNlX3VuaXQsXG4gICAgICBzdWJ0b3RhbDogY2FydC5zdWJ0b3RhbCxcbiAgICAgIHRvdGFsOiBjYXJ0LnRvdGFsLFxuICAgICAgXG4gICAgfVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztpQ0FBYztFQUNaQSxTQUFTLEVBQUdDLElBQUksSUFBSztJQUNuQixPQUFNO01BQ0pDLEdBQUcsRUFBQ0QsSUFBSSxDQUFDQyxHQUFHO01BQ1pDLElBQUksRUFBRUYsSUFBSSxDQUFDRSxJQUFJO01BQ2ZDLE9BQU8sRUFBQztRQUNORixHQUFHLEVBQUVELElBQUksQ0FBQ0csT0FBTyxDQUFDRixHQUFHO1FBQ3JCRyxLQUFLLEVBQUVKLElBQUksQ0FBQ0csT0FBTyxDQUFDQyxLQUFLO1FBQ3pCQyxNQUFNLEVBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxXQUFXLEdBQUMsZ0NBQWdDLEdBQUNSLElBQUksQ0FBQ0csT0FBTyxDQUFDTSxPQUFPO1FBQ3BGQyxLQUFLLEVBQUVWLElBQUksQ0FBQ0csT0FBTyxDQUFDTyxLQUFLO1FBQ3pCQyxJQUFJLEVBQUVYLElBQUksQ0FBQ0csT0FBTyxDQUFDUSxJQUFJO1FBQ3ZCQyxHQUFHLEVBQUVaLElBQUksQ0FBQ0csT0FBTyxDQUFDUyxHQUFHO1FBQ3JCQyxTQUFTLEVBQUViLElBQUksQ0FBQ0csT0FBTyxDQUFDVSxTQUFTO1FBQ2pDQyxRQUFRLEVBQUVkLElBQUksQ0FBQ0csT0FBTyxDQUFDVyxRQUFRO1FBQy9CQyxTQUFTLEVBQUVmLElBQUksQ0FBQ0csT0FBTyxDQUFDWSxTQUFTO1FBQ2pDQyxTQUFTLEVBQUVoQixJQUFJLENBQUNHLE9BQU8sQ0FBQ2EsU0FBUztRQUNqQ0MsU0FBUyxFQUFFakIsSUFBSSxDQUFDRyxPQUFPLENBQUNjO01BQzFCLENBQUM7TUFDREMsYUFBYSxFQUFFbEIsSUFBSSxDQUFDa0IsYUFBYTtNQUNqQ0MsUUFBUSxFQUFFbkIsSUFBSSxDQUFDbUIsUUFBUTtNQUN2QkMsUUFBUSxFQUFFcEIsSUFBSSxDQUFDb0IsUUFBUTtNQUN2QkMsUUFBUSxFQUFFckIsSUFBSSxDQUFDcUIsUUFBUTtNQUN2QkMsVUFBVSxFQUFFdEIsSUFBSSxDQUFDc0IsVUFBVTtNQUMzQkMsYUFBYSxFQUFFdkIsSUFBSSxDQUFDdUIsYUFBYTtNQUNqQ0MsVUFBVSxFQUFFeEIsSUFBSSxDQUFDd0IsVUFBVTtNQUMzQkMsUUFBUSxFQUFFekIsSUFBSSxDQUFDeUIsUUFBUTtNQUN2QkMsS0FBSyxFQUFFMUIsSUFBSSxDQUFDMEI7SUFFZCxDQUFDO0VBQ0g7QUFDRixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["cart_list","cart","_id","user","product","title","imagen","process","env","URL_BACKEND","portada","state","slug","sku","categorie","price_bs","price_usd","condition","seller_id","type_discount","discount","cantidad","variedad","code_cupon","code_discount","price_unit","subtotal","total"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["Cart.js"],"sourcesContent":["export default{\n  cart_list: (cart) => {\n    return{\n      _id:cart._id,\n      user: cart.user,\n      product:{\n        _id: cart.product._id,\n        title: cart.product.title,\n        imagen:process.env.URL_BACKEND+\"/api/products/uploads/product/\"+cart.product.portada, \n        state: cart.product.state,\n        slug: cart.product.slug,\n        sku: cart.product.sku,\n        categorie: cart.product.categorie,\n        price_bs: cart.product.price_bs,\n        price_usd: cart.product.price_usd,\n        condition: cart.product.condition,\n        seller_id: cart.product.seller_id,\n      },\n      type_discount: cart.type_discount,\n      discount: cart.discount,\n      cantidad: cart.cantidad,\n      variedad: cart.variedad,\n      code_cupon: cart.code_cupon,\n      code_discount: cart.code_discount,\n      price_unit: cart.price_unit,\n      subtotal: cart.subtotal,\n      total: cart.total,\n      \n    }\n  }\n}\n"],"mappings":";;;;;;iCAAc;EACZA,SAAS,EAAGC,IAAI,IAAK;IACnB,OAAM;MACJC,GAAG,EAACD,IAAI,CAACC,GAAG;MACZC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAC;QACNF,GAAG,EAAED,IAAI,CAACG,OAAO,CAACF,GAAG;QACrBG,KAAK,EAAEJ,IAAI,CAACG,OAAO,CAACC,KAAK;QACzBC,MAAM,EAACC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,gCAAgC,GAACR,IAAI,CAACG,OAAO,CAACM,OAAO;QACpFC,KAAK,EAAEV,IAAI,CAACG,OAAO,CAACO,KAAK;QACzBC,IAAI,EAAEX,IAAI,CAACG,OAAO,CAACQ,IAAI;QACvBC,GAAG,EAAEZ,IAAI,CAACG,OAAO,CAACS,GAAG;QACrBC,SAAS,EAAEb,IAAI,CAACG,OAAO,CAACU,SAAS;QACjCC,QAAQ,EAAEd,IAAI,CAACG,OAAO,CAACW,QAAQ;QAC/BC,SAAS,EAAEf,IAAI,CAACG,OAAO,CAACY,SAAS;QACjCC,SAAS,EAAEhB,IAAI,CAACG,OAAO,CAACa,SAAS;QACjCC,SAAS,EAAEjB,IAAI,CAACG,OAAO,CAACc;MAC1B,CAAC;MACDC,aAAa,EAAElB,IAAI,CAACkB,aAAa;MACjCC,QAAQ,EAAEnB,IAAI,CAACmB,QAAQ;MACvBC,QAAQ,EAAEpB,IAAI,CAACoB,QAAQ;MACvBC,QAAQ,EAAErB,IAAI,CAACqB,QAAQ;MACvBC,UAAU,EAAEtB,IAAI,CAACsB,UAAU;MAC3BC,aAAa,EAAEvB,IAAI,CAACuB,aAAa;MACjCC,UAAU,EAAExB,IAAI,CAACwB,UAAU;MAC3BC,QAAQ,EAAEzB,IAAI,CAACyB,QAAQ;MACvBC,KAAK,EAAE1B,IAAI,CAAC0B;IAEd,CAAC;EACH;AACF,CAAC","ignoreList":[]}},"mtime":1750288399156},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CartController = _interopRequireDefault(require(\"../controllers/CartController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.get(\"/list\", _auth.default.verifyEcommerce, _CartController.default.list);\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _CartController.default.register);\nrouter.put(\"/update\", _auth.default.verifyEcommerce, _CartController.default.update);\nrouter.delete(\"/delete/:id\", _auth.default.verifyEcommerce, _CartController.default.delete);\nrouter.post(\"/aplicar_cupon\", _auth.default.verifyEcommerce, _CartController.default.applyCupon);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXJ0Q29udHJvbGxlciIsIl9hdXRoIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsImdldCIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJjYXJ0Q29udHJvbGxlciIsImxpc3QiLCJwb3N0IiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJkZWxldGUiLCJhcHBseUN1cG9uIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbIkNhcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcbmltcG9ydCBjYXJ0Q29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9DYXJ0Q29udHJvbGxlcidcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXG5cblxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIiwgYXV0aC52ZXJpZnlFY29tbWVyY2UgLGNhcnRDb250cm9sbGVyLmxpc3QpO1xucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgYXV0aC52ZXJpZnlFY29tbWVyY2UsIGNhcnRDb250cm9sbGVyLnJlZ2lzdGVyKTtcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsIGF1dGgudmVyaWZ5RWNvbW1lcmNlLCBjYXJ0Q29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLmRlbGV0ZShcIi9kZWxldGUvOmlkXCIsIGF1dGgudmVyaWZ5RWNvbW1lcmNlLCBjYXJ0Q29udHJvbGxlci5kZWxldGUpO1xucm91dGVyLnBvc3QoXCIvYXBsaWNhcl9jdXBvblwiLCBhdXRoLnZlcmlmeUVjb21tZXJjZSwgY2FydENvbnRyb2xsZXIuYXBwbHlDdXBvbik7XG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUksQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUd0QyxNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBRXhCRCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxPQUFPLEVBQUVDLGFBQUksQ0FBQ0MsZUFBZSxFQUFFQyx1QkFBYyxDQUFDQyxJQUFJLENBQUM7QUFDOUROLE1BQU0sQ0FBQ08sSUFBSSxDQUFDLFdBQVcsRUFBRUosYUFBSSxDQUFDQyxlQUFlLEVBQUVDLHVCQUFjLENBQUNHLFFBQVEsQ0FBQztBQUN2RVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsU0FBUyxFQUFFTixhQUFJLENBQUNDLGVBQWUsRUFBRUMsdUJBQWMsQ0FBQ0ssTUFBTSxDQUFDO0FBQ2xFVixNQUFNLENBQUNXLE1BQU0sQ0FBQyxhQUFhLEVBQUVSLGFBQUksQ0FBQ0MsZUFBZSxFQUFFQyx1QkFBYyxDQUFDTSxNQUFNLENBQUM7QUFDekVYLE1BQU0sQ0FBQ08sSUFBSSxDQUFDLGdCQUFnQixFQUFFSixhQUFJLENBQUNDLGVBQWUsRUFBRUMsdUJBQWMsQ0FBQ08sVUFBVSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFmLE9BQUEsR0FHaEVDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CartController","_auth","e","__esModule","default","router","routerx","get","auth","verifyEcommerce","cartController","list","post","register","put","update","delete","applyCupon","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Cart.js"],"sourcesContent":["import routerx from 'express-promise-router'\nimport cartController from '../controllers/CartController'\nimport auth from '../middlewares/auth'\n\n\nconst router = routerx();\n\nrouter.get(\"/list\", auth.verifyEcommerce ,cartController.list);\nrouter.post(\"/register\", auth.verifyEcommerce, cartController.register);\nrouter.put(\"/update\", auth.verifyEcommerce, cartController.update);\nrouter.delete(\"/delete/:id\", auth.verifyEcommerce, cartController.delete);\nrouter.post(\"/aplicar_cupon\", auth.verifyEcommerce, cartController.applyCupon);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAGtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,GAAG,CAAC,OAAO,EAAEC,aAAI,CAACC,eAAe,EAAEC,uBAAc,CAACC,IAAI,CAAC;AAC9DN,MAAM,CAACO,IAAI,CAAC,WAAW,EAAEJ,aAAI,CAACC,eAAe,EAAEC,uBAAc,CAACG,QAAQ,CAAC;AACvER,MAAM,CAACS,GAAG,CAAC,SAAS,EAAEN,aAAI,CAACC,eAAe,EAAEC,uBAAc,CAACK,MAAM,CAAC;AAClEV,MAAM,CAACW,MAAM,CAAC,aAAa,EAAER,aAAI,CAACC,eAAe,EAAEC,uBAAc,CAACM,MAAM,CAAC;AACzEX,MAAM,CAACO,IAAI,CAAC,gBAAgB,EAAEJ,aAAI,CAACC,eAAe,EAAEC,uBAAc,CAACO,UAAU,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAf,OAAA,GAGhEC,MAAM","ignoreList":[]}},"mtime":1739498244399},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/CartController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  list: async (req, res) => {\n    try {\n      let user_id = req.query.user_id;\n      let CARTS = await _models.default.Cart.find({\n        user: user_id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categorie\"\n        }\n      });\n      CARTS = CARTS.map(cart => {\n        return _resourses.default.Cart.cart_list(cart);\n      });\n      res.status(200).json({\n        carts: CARTS\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      });\n    }\n  },\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      //1ro: validar si el producto existe en carrito de compras \n      if (data.variedad) {\n        let valid_cart = await _models.default.Cart.findOne({\n          user: data.user,\n          variedad: data.variedad,\n          product: data.product\n        });\n        if (valid_cart) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL PRODUCTO CON LA VARIEDAD SELECCIONADA YA EXISTE EN EL CARRITO DE COMPRA\"\n          });\n          return;\n        }\n      } else {\n        let valid_cart = await _models.default.Cart.findOne({\n          user: data.user,\n          product: data.product\n        });\n        if (valid_cart) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL PRODUCTO YA EXISTE EN EL CARRITO DE COMPRA\"\n          });\n          return;\n        }\n      }\n      // 2do: validar si el stock esta disponible\n      if (data.variedad) {\n        let valid_variedad = await _models.default.Variedad.findOne({\n          _id: data.variedad\n        });\n        if (valid_variedad.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"Upss! La cantidad solicitada no esta disponible en stock, Por favor ingrese una cantidad menor o igual a \" + valid_variedad.stock\n          });\n          return;\n        }\n      } else {\n        let valid_product = await _models.default.Product.findOne({\n          _id: data.product\n        });\n        if (valid_product.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"Upss! La cantidad solicitada no esta disponible en stock, Por favor ingrese una cantidad menor o igual a \" + valid_product.stock\n          });\n          return;\n        }\n      }\n      let CART = await _models.default.Cart.create(data);\n      let NEW_CART = await _models.default.Cart.findById({\n        _id: CART._id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categorie\"\n        }\n      });\n      res.status(200).json({\n        cart: _resourses.default.Cart.cart_list(NEW_CART),\n        message_text: \"El carrito de compra se registró satisfactoriamente\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      // 2do: validar si el stock esta disponible\n      if (data.variedad) {\n        let valid_variedad = await _models.default.Variedad.findOne({\n          _id: data.variedad\n        });\n        if (valid_variedad.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_tex: \"Upss! La cantidad solicitada no esta disponible en stock, Por favor ingrese una cantidad menor o igual a \" + valid_variedad.stock\n          });\n          return;\n        }\n      } else {\n        let valid_product = await _models.default.Product.findOne({\n          _id: data.product\n        });\n        if (valid_product.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"Upss! La cantidad solicitada no esta disponible en stock, Por favor ingrese una cantidad menor o igual a \" + valid_product.stock\n          });\n          return;\n        }\n      }\n      let CART = await _models.default.Cart.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let NEW_CART = await _models.default.Cart.findById({\n        _id: CART._id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categorie\"\n        }\n      });\n      res.status(200).json({\n        cart: _resourses.default.Cart.cart_list(NEW_CART),\n        message_text: \"El carrito de compra se actualizó satisfactoriamente\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.params.id;\n      let CART = await _models.default.Cart.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message_text: \"El carrito de compra se eliminó satisfactoriamente\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      });\n    }\n  },\n  applyCupon: async (req, res) => {\n    try {\n      let data = req.body;\n      //1ra Validacion es con la existencia del cupon\n      let CUPON = await _models.default.Cupone.findOne({\n        code: data.code\n      });\n      if (!CUPON) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"Upss! El cupon ingresado no existe, por favor ingrese otro nuevamente\"\n        });\n        return;\n      }\n\n      //2da validacion tiene que ver con el uso de cupon -- Espera\n\n      // Parte operativa\n\n      let carts = await _models.default.Cart.find({\n        user: data.user_id\n      }).populate(\"product\");\n      let products = [];\n      let categories = [];\n      CUPON.products.forEach(product => {\n        products.push(product._id);\n      });\n\n      // Se presenta bajo el formato[8282020009, 7337733934] y no [(_id: 8282020009), (_id:7337733934)]\n\n      CUPON.categories.forEach(categorie => {\n        categories.push(categorie._id);\n      });\n      for (const cart of carts) {\n        if (products.length > 0) {\n          if (products.includes(cart.product._id + \"\")) {\n            let subtotal = 0;\n            let total = 0;\n            if (CUPON.type_discount == 1) {\n              //porcentaje\n              subtotal = cart.price_unit - cart.price_unit * (CUPON.discount * 0.01);\n            } else {\n              //porcentaje\n              subtotal = cart.price_unit - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await _models.default.Cart.findByIdAndUpdate({\n              _id: cart._id\n            }, {\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code\n            });\n          }\n        }\n        if (categories.length > 0) {\n          if (categories.includes(cart.product.categorie + \"\")) {\n            let subtotal = 0;\n            let total = 0;\n            if (CUPON.type_discount == 1) {\n              //porcentaje\n              subtotal = cart.price_unit - cart.price_unit * (CUPON.discount * 0.01);\n            } else {\n              //porcentaje\n              subtotal = cart.price_unit - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await _models.default.Cart.findByIdAndUpdate({\n              _id: cart._id\n            }, {\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code\n            });\n          }\n        }\n      }\n      res.status(200).json({\n        message: 200,\n        message_text: \"Super! El cupon fue aplicado exitosamente\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3Vyc2VzIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwibGlzdCIsInJlcSIsInJlcyIsInVzZXJfaWQiLCJxdWVyeSIsIkNBUlRTIiwibW9kZWxzIiwiQ2FydCIsImZpbmQiLCJ1c2VyIiwicG9wdWxhdGUiLCJwYXRoIiwibWFwIiwiY2FydCIsInJlc291cnNlIiwiY2FydF9saXN0Iiwic3RhdHVzIiwianNvbiIsImNhcnRzIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwic2VuZCIsIm1lc3NhZ2UiLCJyZWdpc3RlciIsImRhdGEiLCJib2R5IiwidmFyaWVkYWQiLCJ2YWxpZF9jYXJ0IiwiZmluZE9uZSIsInByb2R1Y3QiLCJtZXNzYWdlX3RleHQiLCJ2YWxpZF92YXJpZWRhZCIsIlZhcmllZGFkIiwiX2lkIiwic3RvY2siLCJjYW50aWRhZCIsInZhbGlkX3Byb2R1Y3QiLCJQcm9kdWN0IiwiQ0FSVCIsImNyZWF0ZSIsIk5FV19DQVJUIiwiZmluZEJ5SWQiLCJ1cGRhdGUiLCJtZXNzYWdlX3RleCIsImZpbmRCeUlkQW5kVXBkYXRlIiwiZGVsZXRlIiwicGFyYW1zIiwiaWQiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImFwcGx5Q3Vwb24iLCJDVVBPTiIsIkN1cG9uZSIsImNvZGUiLCJwcm9kdWN0cyIsImNhdGVnb3JpZXMiLCJmb3JFYWNoIiwicHVzaCIsImNhdGVnb3JpZSIsImxlbmd0aCIsImluY2x1ZGVzIiwic3VidG90YWwiLCJ0b3RhbCIsInR5cGVfZGlzY291bnQiLCJwcmljZV91bml0IiwiZGlzY291bnQiLCJjb2RlX2N1cG9uIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiQ2FydENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcbmltcG9ydCByZXNvdXJzZSBmcm9tIFwiLi4vcmVzb3Vyc2VzXCJcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGxpc3Q6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBsZXQgdXNlcl9pZCA9IHJlcS5xdWVyeS51c2VyX2lkO1xuICAgICAgICBsZXQgQ0FSVFMgPSBhd2FpdCBtb2RlbHMuQ2FydC5maW5kKHtcbiAgICAgICAgICB1c2VyOiB1c2VyX2lkLFxuICAgICAgICB9KS5wb3B1bGF0ZShcInZhcmllZGFkXCIpLnBvcHVsYXRlKHtcbiAgICAgICAgICBwYXRoOiBcInByb2R1Y3RcIixcbiAgICAgICAgICBwb3B1bGF0ZToge1xuICAgICAgICAgICAgIHBhdGg6IFwiY2F0ZWdvcmllXCJcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBDQVJUUyA9IENBUlRTLm1hcCgoY2FydCkgPT4ge1xuICAgICAgICAgIHJldHVybiByZXNvdXJzZS5DYXJ0LmNhcnRfbGlzdChjYXJ0KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgIGNhcnRzOiBDQVJUUyxcbiAgICAgICAgfSlcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gRVJST1JcIlxuICAgICAgfSlcbiAgICB9XG4gIH0sXG4gIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcbiAgICAgICAgLy8xcm86IHZhbGlkYXIgc2kgZWwgcHJvZHVjdG8gZXhpc3RlIGVuIGNhcnJpdG8gZGUgY29tcHJhcyBcbiAgICAgICAgaWYoZGF0YS52YXJpZWRhZCl7XG4gICAgICAgICAgbGV0IHZhbGlkX2NhcnQgPSBhd2FpdCBtb2RlbHMuQ2FydC5maW5kT25lKHtcbiAgICAgICAgICAgIHVzZXI6IGRhdGEudXNlcixcbiAgICAgICAgICAgIHZhcmllZGFkOiBkYXRhLnZhcmllZGFkLFxuICAgICAgICAgICAgcHJvZHVjdDogZGF0YS5wcm9kdWN0LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmICh2YWxpZF9jYXJ0KXtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxuICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgUFJPRFVDVE8gQ09OIExBIFZBUklFREFEIFNFTEVDQ0lPTkFEQSBZQSBFWElTVEUgRU4gRUwgQ0FSUklUTyBERSBDT01QUkFcIlxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGxldCB2YWxpZF9jYXJ0ID0gYXdhaXQgbW9kZWxzLkNhcnQuZmluZE9uZSh7XG4gICAgICAgICAgICB1c2VyOiBkYXRhLnVzZXIsXG4gICAgICAgICAgICBwcm9kdWN0OiBkYXRhLnByb2R1Y3QsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodmFsaWRfY2FydCl7XG4gICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxuICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIFBST0RVQ1RPIFlBIEVYSVNURSBFTiBFTCBDQVJSSVRPIERFIENPTVBSQVwiXG4gICAgICAgICAgfSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIDJkbzogdmFsaWRhciBzaSBlbCBzdG9jayBlc3RhIGRpc3BvbmlibGVcbiAgICAgICAgaWYoZGF0YS52YXJpZWRhZCl7XG4gICAgICAgICAgbGV0IHZhbGlkX3ZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRPbmUoe1xuICAgICAgICAgICAgX2lkOiBkYXRhLnZhcmllZGFkLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmKHZhbGlkX3ZhcmllZGFkLnN0b2NrIDwgZGF0YS5jYW50aWRhZCl7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgIG1lc3NhZ2U6IDQwMyxcbiAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIlVwc3MhIExhIGNhbnRpZGFkIHNvbGljaXRhZGEgbm8gZXN0YSBkaXNwb25pYmxlIGVuIHN0b2NrLCBQb3IgZmF2b3IgaW5ncmVzZSB1bmEgY2FudGlkYWQgbWVub3IgbyBpZ3VhbCBhIFwiKyB2YWxpZF92YXJpZWRhZC5zdG9ja1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGxldCB2YWxpZF9wcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZE9uZSh7XG4gICAgICAgICAgICBfaWQ6IGRhdGEucHJvZHVjdCxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmKHZhbGlkX3Byb2R1Y3Quc3RvY2sgPCBkYXRhLmNhbnRpZGFkKXtcbiAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiA0MDMsXG4gICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiVXBzcyEgTGEgY2FudGlkYWQgc29saWNpdGFkYSBubyBlc3RhIGRpc3BvbmlibGUgZW4gc3RvY2ssIFBvciBmYXZvciBpbmdyZXNlIHVuYSBjYW50aWRhZCBtZW5vciBvIGlndWFsIGEgXCIrIHZhbGlkX3Byb2R1Y3Quc3RvY2tcbiAgICAgICAgICB9KVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgICBsZXQgQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmNyZWF0ZShkYXRhKTtcblxuICAgICAgICBsZXQgICBORVdfQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkKHtfaWQ6Q0FSVC5faWR9KS5wb3B1bGF0ZShcInZhcmllZGFkXCIpLnBvcHVsYXRlKHtcbiAgICAgICAgICBwYXRoOiBcInByb2R1Y3RcIixcbiAgICAgICAgICBwb3B1bGF0ZToge1xuICAgICAgICAgICAgIHBhdGg6IFwiY2F0ZWdvcmllXCJcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgY2FydDogcmVzb3Vyc2UuQ2FydC5jYXJ0X2xpc3QoTkVXX0NBUlQpLFxuICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFbCBjYXJyaXRvIGRlIGNvbXByYSBzZSByZWdpc3Ryw7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBFUlJPUlwiXG4gICAgICB9KVxuICAgIH1cbiAgfSxcbiAgdXBkYXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XG4gICAgICAvLyAyZG86IHZhbGlkYXIgc2kgZWwgc3RvY2sgZXN0YSBkaXNwb25pYmxlXG4gICAgICAgIGlmKGRhdGEudmFyaWVkYWQpe1xuICAgICAgICAgIGxldCB2YWxpZF92YXJpZWRhZCA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kT25lKHtcbiAgICAgICAgICAgIF9pZDogZGF0YS52YXJpZWRhZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZih2YWxpZF92YXJpZWRhZC5zdG9jayA8IGRhdGEuY2FudGlkYWQpe1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICBtZXNzYWdlOiA0MDMsXG4gICAgICAgICAgICAgIG1lc3NhZ2VfdGV4OiBcIlVwc3MhIExhIGNhbnRpZGFkIHNvbGljaXRhZGEgbm8gZXN0YSBkaXNwb25pYmxlIGVuIHN0b2NrLCBQb3IgZmF2b3IgaW5ncmVzZSB1bmEgY2FudGlkYWQgbWVub3IgbyBpZ3VhbCBhIFwiKyB2YWxpZF92YXJpZWRhZC5zdG9ja1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGxldCB2YWxpZF9wcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZE9uZSh7XG4gICAgICAgICAgICBfaWQ6IGRhdGEucHJvZHVjdCxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmKHZhbGlkX3Byb2R1Y3Quc3RvY2sgPCBkYXRhLmNhbnRpZGFkKXtcbiAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiA0MDMsXG4gICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiVXBzcyEgTGEgY2FudGlkYWQgc29saWNpdGFkYSBubyBlc3RhIGRpc3BvbmlibGUgZW4gc3RvY2ssIFBvciBmYXZvciBpbmdyZXNlIHVuYSBjYW50aWRhZCBtZW5vciBvIGlndWFsIGEgXCIrIHZhbGlkX3Byb2R1Y3Quc3RvY2tcbiAgICAgICAgICB9KVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgICBsZXQgQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6ZGF0YS5faWR9LGRhdGEpO1xuXG4gICAgICAgIGxldCAgIE5FV19DQVJUID0gYXdhaXQgbW9kZWxzLkNhcnQuZmluZEJ5SWQoe19pZDpDQVJULl9pZH0pLnBvcHVsYXRlKFwidmFyaWVkYWRcIikucG9wdWxhdGUoe1xuICAgICAgICAgIHBhdGg6IFwicHJvZHVjdFwiLFxuICAgICAgICAgIHBvcHVsYXRlOiB7XG4gICAgICAgICAgICAgcGF0aDogXCJjYXRlZ29yaWVcIlxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICBjYXJ0OiByZXNvdXJzZS5DYXJ0LmNhcnRfbGlzdChORVdfQ0FSVCksXG4gICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVsIGNhcnJpdG8gZGUgY29tcHJhIHNlIGFjdHVhbGl6w7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgIH0pXG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIEVSUk9SXCJcbiAgICAgIH0pXG4gICAgfVxuICB9LFxuICBkZWxldGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IF9pZCA9IHJlcS5wYXJhbXMuaWQ7XG4gICAgICBsZXQgQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6X2lkfSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVsIGNhcnJpdG8gZGUgY29tcHJhIHNlIGVsaW1pbsOzIHNhdGlzZmFjdG9yaWFtZW50ZVwiXG4gICAgICB9KVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gRVJST1JcIlxuICAgICAgfSlcbiAgICB9XG4gIH0sXG4gIGFwcGx5Q3Vwb246IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcbiAgICAgIC8vMXJhIFZhbGlkYWNpb24gZXMgY29uIGxhIGV4aXN0ZW5jaWEgZGVsIGN1cG9uXG4gICAgICBsZXQgQ1VQT04gPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRPbmUoe1xuICAgICAgICBjb2RlOiBkYXRhLmNvZGUsXG4gICAgICB9KVxuICAgICAgaWYoIUNVUE9OKXtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgIG1lc3NhZ2U6IDQwMyxcbiAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiVXBzcyEgRWwgY3Vwb24gaW5ncmVzYWRvIG5vIGV4aXN0ZSwgcG9yIGZhdm9yIGluZ3Jlc2Ugb3RybyBudWV2YW1lbnRlXCJcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLzJkYSB2YWxpZGFjaW9uIHRpZW5lIHF1ZSB2ZXIgY29uIGVsIHVzbyBkZSBjdXBvbiAtLSBFc3BlcmFcblxuICAgICAgLy8gUGFydGUgb3BlcmF0aXZhXG5cbiAgICAgIGxldCBjYXJ0cyA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmQoe3VzZXI6IGRhdGEudXNlcl9pZH0pLnBvcHVsYXRlKFwicHJvZHVjdFwiKVxuXG5cbiAgICAgIGxldCBwcm9kdWN0cyA9IFtdO1xuICAgICAgbGV0IGNhdGVnb3JpZXMgPSBbXTtcblxuICAgICAgQ1VQT04ucHJvZHVjdHMuZm9yRWFjaChwcm9kdWN0ID0+IHtcbiAgICAgICAgcHJvZHVjdHMucHVzaChwcm9kdWN0Ll9pZCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gU2UgcHJlc2VudGEgYmFqbyBlbCBmb3JtYXRvWzgyODIwMjAwMDksIDczMzc3MzM5MzRdIHkgbm8gWyhfaWQ6IDgyODIwMjAwMDkpLCAoX2lkOjczMzc3MzM5MzQpXVxuXG4gICAgICBDVVBPTi5jYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcmllID0+IHtcbiAgICAgICAgY2F0ZWdvcmllcy5wdXNoKGNhdGVnb3JpZS5faWQpO1xuICAgICAgfSk7XG5cbiAgICAgIGZvciAoY29uc3QgY2FydCBvZiBjYXJ0cykge1xuICAgICAgICBpZihwcm9kdWN0cy5sZW5ndGggPiAwKXtcbiAgICAgICAgICBpZihwcm9kdWN0cy5pbmNsdWRlcyhjYXJ0LnByb2R1Y3QuX2lkK1wiXCIpKXtcbiAgICAgICAgICAgIGxldCBzdWJ0b3RhbCA9IDA7XG4gICAgICAgICAgICBsZXQgdG90YWwgPSAwO1xuICAgICAgICAgICAgaWYoQ1VQT04udHlwZV9kaXNjb3VudCA9PSAxKXsvL3BvcmNlbnRhamVcbiAgICAgICAgICAgICAgc3VidG90YWwgPSBjYXJ0LnByaWNlX3VuaXQgLSBjYXJ0LnByaWNlX3VuaXQgKihDVVBPTi5kaXNjb3VudCowLjAxKTtcbiAgICAgICAgICAgIH1lbHNley8vcG9yY2VudGFqZVxuICAgICAgICAgICAgICBzdWJ0b3RhbCA9IGNhcnQucHJpY2VfdW5pdCAtIENVUE9OLmRpc2NvdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG90YWwgPSBzdWJ0b3RhbCAqIGNhcnQuY2FudGlkYWQ7XG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuQ2FydC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiBjYXJ0Ll9pZH0se1xuICAgICAgICAgICAgICBzdWJ0b3RhbDogc3VidG90YWwsXG4gICAgICAgICAgICAgIHRvdGFsOiB0b3RhbCxcbiAgICAgICAgICAgICAgdHlwZV9kaXNjb3VudDogQ1VQT04udHlwZV9kaXNjb3VudCxcbiAgICAgICAgICAgICAgZGlzY291bnQ6IENVUE9OLmRpc2NvdW50LFxuICAgICAgICAgICAgICBjb2RlX2N1cG9uOiBDVVBPTi5jb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgfVxuICAgICAgICAgaWYoY2F0ZWdvcmllcy5sZW5ndGggPiAwKXtcbiAgICAgICAgICBpZihjYXRlZ29yaWVzLmluY2x1ZGVzKGNhcnQucHJvZHVjdC5jYXRlZ29yaWUrXCJcIikpe1xuICAgICAgICAgICAgbGV0IHN1YnRvdGFsID0gMDtcbiAgICAgICAgICAgIGxldCB0b3RhbCA9IDA7XG4gICAgICAgICAgICBpZihDVVBPTi50eXBlX2Rpc2NvdW50ID09IDEpey8vcG9yY2VudGFqZVxuICAgICAgICAgICAgICBzdWJ0b3RhbCA9IGNhcnQucHJpY2VfdW5pdCAtIGNhcnQucHJpY2VfdW5pdCAqKENVUE9OLmRpc2NvdW50KjAuMDEpO1xuICAgICAgICAgICAgfWVsc2V7Ly9wb3JjZW50YWplXG4gICAgICAgICAgICAgIHN1YnRvdGFsID0gY2FydC5wcmljZV91bml0IC0gQ1VQT04uZGlzY291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b3RhbCA9IHN1YnRvdGFsICogY2FydC5jYW50aWRhZDtcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IGNhcnQuX2lkfSx7XG4gICAgICAgICAgICAgIHN1YnRvdGFsOiBzdWJ0b3RhbCxcbiAgICAgICAgICAgICAgdG90YWw6IHRvdGFsLFxuICAgICAgICAgICAgICB0eXBlX2Rpc2NvdW50OiBDVVBPTi50eXBlX2Rpc2NvdW50LFxuICAgICAgICAgICAgICBkaXNjb3VudDogQ1VQT04uZGlzY291bnQsXG4gICAgICAgICAgICAgIGNvZGVfY3Vwb246IENVUE9OLmNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiAyMDAsXG4gICAgICAgIG1lc3NhZ2VfdGV4dDogXCJTdXBlciEgRWwgY3Vwb24gZnVlIGFwbGljYWRvIGV4aXRvc2FtZW50ZVwiXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAg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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resourses","e","__esModule","default","_default","exports","list","req","res","user_id","query","CARTS","models","Cart","find","user","populate","path","map","cart","resourse","cart_list","status","json","carts","error","console","log","send","message","register","data","body","variedad","valid_cart","findOne","product","message_text","valid_variedad","Variedad","_id","stock","cantidad","valid_product","Product","CART","create","NEW_CART","findById","update","message_tex","findByIdAndUpdate","delete","params","id","findByIdAndDelete","applyCupon","CUPON","Cupone","code","products","categories","forEach","push","categorie","length","includes","subtotal","total","type_discount","price_unit","discount","code_cupon"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["CartController.js"],"sourcesContent":["\nimport models from \"../models\";\nimport resourse from \"../resourses\"\n\n\nexport default {\n  list: async(req,res) => {\n    try {\n        let user_id = req.query.user_id;\n        let CARTS = await models.Cart.find({\n          user: user_id,\n        }).populate(\"variedad\").populate({\n          path: \"product\",\n          populate: {\n             path: \"categorie\"\n          },\n        });\n\n        CARTS = CARTS.map((cart) => {\n          return resourse.Cart.cart_list(cart);\n        });\n\n        res.status(200).json({\n          carts: CARTS,\n        })\n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      })\n    }\n  },\n  register: async(req,res) => {\n    try {\n        let data = req.body;\n        //1ro: validar si el producto existe en carrito de compras \n        if(data.variedad){\n          let valid_cart = await models.Cart.findOne({\n            user: data.user,\n            variedad: data.variedad,\n            product: data.product,\n          });\n          if (valid_cart){\n            res.status(200).json({\n              message: 403,\n              message_text: \"EL PRODUCTO CON LA VARIEDAD SELECCIONADA YA EXISTE EN EL CARRITO DE COMPRA\"\n            })\n            return;\n          }\n        }else{\n          let valid_cart = await models.Cart.findOne({\n            user: data.user,\n            product: data.product,\n        });\n        if (valid_cart){\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL PRODUCTO YA EXISTE EN EL CARRITO DE COMPRA\"\n          })\n          return;\n        }\n      }\n      // 2do: validar si el stock esta disponible\n        if(data.variedad){\n          let valid_variedad = await models.Variedad.findOne({\n            _id: data.variedad,\n          });\n          if(valid_variedad.stock < data.cantidad){\n            res.status(200).json({\n              message: 403,\n              message_text: \"Upss! La cantidad solicitada no esta disponible en stock, Por favor ingrese una cantidad menor o igual a \"+ valid_variedad.stock\n            })\n            return;\n          }\n        }else{\n          let valid_product = await models.Product.findOne({\n            _id: data.product,\n        });\n        if(valid_product.stock < data.cantidad){\n          res.status(200).json({\n            message: 403,\n            message_text: \"Upss! La cantidad solicitada no esta disponible en stock, Por favor ingrese una cantidad menor o igual a \"+ valid_product.stock\n          })\n          return;\n        }\n      }\n        let CART = await models.Cart.create(data);\n\n        let   NEW_CART = await models.Cart.findById({_id:CART._id}).populate(\"variedad\").populate({\n          path: \"product\",\n          populate: {\n             path: \"categorie\"\n          },\n        });\n\n        res.status(200).json({\n          cart: resourse.Cart.cart_list(NEW_CART),\n          message_text: \"El carrito de compra se registró satisfactoriamente\",\n        })\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      })\n    }\n  },\n  update: async(req,res) => {\n    try {\n      let data = req.body;\n      // 2do: validar si el stock esta disponible\n        if(data.variedad){\n          let valid_variedad = await models.Variedad.findOne({\n            _id: data.variedad,\n          });\n          if(valid_variedad.stock < data.cantidad){\n            res.status(200).json({\n              message: 403,\n              message_tex: \"Upss! La cantidad solicitada no esta disponible en stock, Por favor ingrese una cantidad menor o igual a \"+ valid_variedad.stock\n            })\n            return;\n          }\n        }else{\n          let valid_product = await models.Product.findOne({\n            _id: data.product,\n        });\n        if(valid_product.stock < data.cantidad){\n          res.status(200).json({\n            message: 403,\n            message_text: \"Upss! La cantidad solicitada no esta disponible en stock, Por favor ingrese una cantidad menor o igual a \"+ valid_product.stock\n          })\n          return;\n        }\n      }\n        let CART = await models.Cart.findByIdAndUpdate({_id:data._id},data);\n\n        let   NEW_CART = await models.Cart.findById({_id:CART._id}).populate(\"variedad\").populate({\n          path: \"product\",\n          populate: {\n             path: \"categorie\"\n          },\n        });\n\n        res.status(200).json({\n          cart: resourse.Cart.cart_list(NEW_CART),\n          message_text: \"El carrito de compra se actualizó satisfactoriamente\",\n        })\n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      })\n    }\n  },\n  delete: async(req,res) => {\n    try {\n      let _id = req.params.id;\n      let CART = await models.Cart.findByIdAndDelete({_id:_id});\n\n      res.status(200).json({\n        message_text: \"El carrito de compra se eliminó satisfactoriamente\"\n      })\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      })\n    }\n  },\n  applyCupon: async(req,res) => {\n    try {\n      let data = req.body;\n      //1ra Validacion es con la existencia del cupon\n      let CUPON = await models.Cupone.findOne({\n        code: data.code,\n      })\n      if(!CUPON){\n        res.status(200).json({\n          message: 403,\n          message_text: \"Upss! El cupon ingresado no existe, por favor ingrese otro nuevamente\"\n        })\n        return;\n      }\n\n      //2da validacion tiene que ver con el uso de cupon -- Espera\n\n      // Parte operativa\n\n      let carts = await models.Cart.find({user: data.user_id}).populate(\"product\")\n\n\n      let products = [];\n      let categories = [];\n\n      CUPON.products.forEach(product => {\n        products.push(product._id);\n      });\n\n      // Se presenta bajo el formato[8282020009, 7337733934] y no [(_id: 8282020009), (_id:7337733934)]\n\n      CUPON.categories.forEach(categorie => {\n        categories.push(categorie._id);\n      });\n\n      for (const cart of carts) {\n        if(products.length > 0){\n          if(products.includes(cart.product._id+\"\")){\n            let subtotal = 0;\n            let total = 0;\n            if(CUPON.type_discount == 1){//porcentaje\n              subtotal = cart.price_unit - cart.price_unit *(CUPON.discount*0.01);\n            }else{//porcentaje\n              subtotal = cart.price_unit - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await models.Cart.findByIdAndUpdate({_id: cart._id},{\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code,\n            });\n          }\n         }\n         if(categories.length > 0){\n          if(categories.includes(cart.product.categorie+\"\")){\n            let subtotal = 0;\n            let total = 0;\n            if(CUPON.type_discount == 1){//porcentaje\n              subtotal = cart.price_unit - cart.price_unit *(CUPON.discount*0.01);\n            }else{//porcentaje\n              subtotal = cart.price_unit - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await models.Cart.findByIdAndUpdate({_id: cart._id},{\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code,\n            });\n          }\n\n        }\n      }\n      res.status(200).json({\n        message: 200,\n        message_text: \"Super! El cupon fue aplicado exitosamente\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      })\n    }\n  },\n}\n"],"mappings":"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","ignoreList":[]}},"mtime":1750212303639},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CartController = _interopRequireDefault(require(\"../controllers/CartController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.get(\"/list\", _auth.default.verifyEcommerce, _CartController.default.list);\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _CartController.default.register);\nrouter.put(\"/update\", _auth.default.verifyEcommerce, _CartController.default.update);\nrouter.delete(\"/delete/:id\", _auth.default.verifyEcommerce, _CartController.default.delete);\nrouter.post(\"/aplicar_cupon\", _auth.default.verifyEcommerce, _CartController.default.applyCupon);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXJ0Q29udHJvbGxlciIsIl9hdXRoIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsImdldCIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJjYXJ0Q29udHJvbGxlciIsImxpc3QiLCJwb3N0IiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJkZWxldGUiLCJhcHBseUN1cG9uIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbIkNhcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcbmltcG9ydCBjYXJ0Q29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9DYXJ0Q29udHJvbGxlcidcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXG5cblxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIiwgYXV0aC52ZXJpZnlFY29tbWVyY2UgLGNhcnRDb250cm9sbGVyLmxpc3QpO1xucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgYXV0aC52ZXJpZnlFY29tbWVyY2UsIGNhcnRDb250cm9sbGVyLnJlZ2lzdGVyKTtcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsIGF1dGgudmVyaWZ5RWNvbW1lcmNlLCBjYXJ0Q29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLmRlbGV0ZShcIi9kZWxldGUvOmlkXCIsIGF1dGgudmVyaWZ5RWNvbW1lcmNlLCBjYXJ0Q29udHJvbGxlci5kZWxldGUpO1xucm91dGVyLnBvc3QoXCIvYXBsaWNhcl9jdXBvblwiLCBhdXRoLnZlcmlmeUVjb21tZXJjZSwgY2FydENvbnRyb2xsZXIuYXBwbHlDdXBvbik7XG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUksQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUd0QyxNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBRXhCRCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxPQUFPLEVBQUVDLGFBQUksQ0FBQ0MsZUFBZSxFQUFFQyx1QkFBYyxDQUFDQyxJQUFJLENBQUM7QUFDOUROLE1BQU0sQ0FBQ08sSUFBSSxDQUFDLFdBQVcsRUFBRUosYUFBSSxDQUFDQyxlQUFlLEVBQUVDLHVCQUFjLENBQUNHLFFBQVEsQ0FBQztBQUN2RVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsU0FBUyxFQUFFTixhQUFJLENBQUNDLGVBQWUsRUFBRUMsdUJBQWMsQ0FBQ0ssTUFBTSxDQUFDO0FBQ2xFVixNQUFNLENBQUNXLE1BQU0sQ0FBQyxhQUFhLEVBQUVSLGFBQUksQ0FBQ0MsZUFBZSxFQUFFQyx1QkFBYyxDQUFDTSxNQUFNLENBQUM7QUFDekVYLE1BQU0sQ0FBQ08sSUFBSSxDQUFDLGdCQUFnQixFQUFFSixhQUFJLENBQUNDLGVBQWUsRUFBRUMsdUJBQWMsQ0FBQ08sVUFBVSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFmLE9BQUEsR0FHaEVDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CartController","_auth","e","__esModule","default","router","routerx","get","auth","verifyEcommerce","cartController","list","post","register","put","update","delete","applyCupon","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Cart.js"],"sourcesContent":["import routerx from 'express-promise-router'\nimport cartController from '../controllers/CartController'\nimport auth from '../middlewares/auth'\n\n\nconst router = routerx();\n\nrouter.get(\"/list\", auth.verifyEcommerce ,cartController.list);\nrouter.post(\"/register\", auth.verifyEcommerce, cartController.register);\nrouter.put(\"/update\", auth.verifyEcommerce, cartController.update);\nrouter.delete(\"/delete/:id\", auth.verifyEcommerce, cartController.delete);\nrouter.post(\"/aplicar_cupon\", auth.verifyEcommerce, cartController.applyCupon);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAGtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,GAAG,CAAC,OAAO,EAAEC,aAAI,CAACC,eAAe,EAAEC,uBAAc,CAACC,IAAI,CAAC;AAC9DN,MAAM,CAACO,IAAI,CAAC,WAAW,EAAEJ,aAAI,CAACC,eAAe,EAAEC,uBAAc,CAACG,QAAQ,CAAC;AACvER,MAAM,CAACS,GAAG,CAAC,SAAS,EAAEN,aAAI,CAACC,eAAe,EAAEC,uBAAc,CAACK,MAAM,CAAC;AAClEV,MAAM,CAACW,MAAM,CAAC,aAAa,EAAER,aAAI,CAACC,eAAe,EAAEC,uBAAc,CAACM,MAAM,CAAC;AACzEX,MAAM,CAACO,IAAI,CAAC,gBAAgB,EAAEJ,aAAI,CAACC,eAAe,EAAEC,uBAAc,CAACO,UAAU,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAf,OAAA,GAGhEC,MAAM","ignoreList":[]}},"mtime":1739498244399},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/CartController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  list: async (req, res) => {\n    try {\n      let user_id = req.query.user_id;\n      let CARTS = await _models.default.Cart.find({\n        user: user_id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categorie\"\n        }\n      });\n      CARTS = CARTS.map(cart => {\n        return _resourses.default.Cart.cart_list(cart);\n      });\n      res.status(200).json({\n        carts: CARTS\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      });\n    }\n  },\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      //1ro: validar si el producto existe en carrito de compras \n      if (data.variedad) {\n        let valid_cart = await _models.default.Cart.findOne({\n          user: data.user,\n          variedad: data.variedad,\n          product: data.product\n        });\n        if (valid_cart) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL PRODUCTO CON LA VARIEDAD SELECCIONADA YA EXISTE EN EL CARRITO DE COMPRA\"\n          });\n          return;\n        }\n      } else {\n        let valid_cart = await _models.default.Cart.findOne({\n          user: data.user,\n          product: data.product\n        });\n        if (valid_cart) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL PRODUCTO YA EXISTE EN EL CARRITO DE COMPRA\"\n          });\n          return;\n        }\n      }\n      // 2do: validar si el stock esta disponible\n      if (data.variedad) {\n        let valid_variedad = await _models.default.Variedad.findOne({\n          _id: data.variedad\n        });\n        if (valid_variedad.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"Upss! La cantidad solicitada no esta disponible en stock, Por favor ingrese una cantidad menor o igual a \" + valid_variedad.stock\n          });\n          return;\n        }\n      } else {\n        let valid_product = await _models.default.Product.findOne({\n          _id: data.product\n        });\n        if (valid_product.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"Upss! La cantidad solicitada no esta disponible en stock, Por favor ingrese una cantidad menor o igual a \" + valid_product.stock\n          });\n          return;\n        }\n      }\n      let CART = await _models.default.Cart.create(data);\n      let NEW_CART = await _models.default.Cart.findById({\n        _id: CART._id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categorie\"\n        }\n      });\n      res.status(200).json({\n        cart: _resourses.default.Cart.cart_list(NEW_CART),\n        message_text: \"El carrito de compra se registró satisfactoriamente\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      // 2do: validar si el stock esta disponible\n      if (data.variedad) {\n        let valid_variedad = await _models.default.Variedad.findOne({\n          _id: data.variedad\n        });\n        if (valid_variedad.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_tex: \"Upss! La cantidad solicitada no esta disponible en stock, Por favor ingrese una cantidad menor o igual a \" + valid_variedad.stock\n          });\n          return;\n        }\n      } else {\n        let valid_product = await _models.default.Product.findOne({\n          _id: data.product\n        });\n        if (valid_product.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"Upss! La cantidad solicitada no esta disponible en stock, Por favor ingrese una cantidad menor o igual a \" + valid_product.stock\n          });\n          return;\n        }\n      }\n      let CART = await _models.default.Cart.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let NEW_CART = await _models.default.Cart.findById({\n        _id: CART._id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categorie\"\n        }\n      });\n      res.status(200).json({\n        cart: _resourses.default.Cart.cart_list(NEW_CART),\n        message_text: \"El carrito de compra se actualizó satisfactoriamente\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.params.id;\n      let CART = await _models.default.Cart.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message_text: \"El carrito de compra se eliminó satisfactoriamente\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      });\n    }\n  },\n  applyCupon: async (req, res) => {\n    try {\n      let data = req.body;\n      //1ra Validacion es con la existencia del cupon\n      let CUPON = await _models.default.Cupone.findOne({\n        code: data.code\n      });\n      if (!CUPON) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"Upss! El cupon ingresado no existe, por favor ingrese otro nuevamente\"\n        });\n        return;\n      }\n\n      //2da validacion tiene que ver con el uso de cupon -- Espera\n\n      // Parte operativa\n\n      let carts = await _models.default.Cart.find({\n        user: data.user_id\n      }).populate(\"product\");\n      let products = [];\n      let categories = [];\n      CUPON.products.forEach(product => {\n        products.push(product._id);\n      });\n\n      // Se presenta bajo el formato[8282020009, 7337733934] y no [(_id: 8282020009), (_id:7337733934)]\n\n      CUPON.categories.forEach(categorie => {\n        categories.push(categorie._id);\n      });\n      for (const cart of carts) {\n        if (products.length > 0) {\n          if (products.includes(cart.product._id + \"\")) {\n            let subtotal = 0;\n            let total = 0;\n            if (CUPON.type_discount == 1) {\n              //porcentaje\n              subtotal = cart.price_unit - cart.price_unit * (CUPON.discount * 0.01);\n            } else {\n              //porcentaje\n              subtotal = cart.price_unit - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await _models.default.Cart.findByIdAndUpdate({\n              _id: cart._id\n            }, {\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code\n            });\n          }\n        }\n        if (categories.length > 0) {\n          if (categories.includes(cart.product.categorie + \"\")) {\n            let subtotal = 0;\n            let total = 0;\n            if (CUPON.type_discount == 1) {\n              //porcentaje\n              subtotal = cart.price_unit - cart.price_unit * (CUPON.discount * 0.01);\n            } else {\n              //porcentaje\n              subtotal = cart.price_unit - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await _models.default.Cart.findByIdAndUpdate({\n              _id: cart._id\n            }, {\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code\n            });\n          }\n        }\n      }\n      res.status(200).json({\n        message: 200,\n        message_text: \"Super! El cupon fue aplicado exitosamente\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3Vyc2VzIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwibGlzdCIsInJlcSIsInJlcyIsInVzZXJfaWQiLCJxdWVyeSIsIkNBUlRTIiwibW9kZWxzIiwiQ2FydCIsImZpbmQiLCJ1c2VyIiwicG9wdWxhdGUiLCJwYXRoIiwibWFwIiwiY2FydCIsInJlc291cnNlIiwiY2FydF9saXN0Iiwic3RhdHVzIiwianNvbiIsImNhcnRzIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwic2VuZCIsIm1lc3NhZ2UiLCJyZWdpc3RlciIsImRhdGEiLCJib2R5IiwidmFyaWVkYWQiLCJ2YWxpZF9jYXJ0IiwiZmluZE9uZSIsInByb2R1Y3QiLCJtZXNzYWdlX3RleHQiLCJ2YWxpZF92YXJpZWRhZCIsIlZhcmllZGFkIiwiX2lkIiwic3RvY2siLCJjYW50aWRhZCIsInZhbGlkX3Byb2R1Y3QiLCJQcm9kdWN0IiwiQ0FSVCIsImNyZWF0ZSIsIk5FV19DQVJUIiwiZmluZEJ5SWQiLCJ1cGRhdGUiLCJtZXNzYWdlX3RleCIsImZpbmRCeUlkQW5kVXBkYXRlIiwiZGVsZXRlIiwicGFyYW1zIiwiaWQiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImFwcGx5Q3Vwb24iLCJDVVBPTiIsIkN1cG9uZSIsImNvZGUiLCJwcm9kdWN0cyIsImNhdGVnb3JpZXMiLCJmb3JFYWNoIiwicHVzaCIsImNhdGVnb3JpZSIsImxlbmd0aCIsImluY2x1ZGVzIiwic3VidG90YWwiLCJ0b3RhbCIsInR5cGVfZGlzY291bnQiLCJwcmljZV91bml0IiwiZGlzY291bnQiLCJjb2RlX2N1cG9uIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiQ2FydENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcbmltcG9ydCByZXNvdXJzZSBmcm9tIFwiLi4vcmVzb3Vyc2VzXCJcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGxpc3Q6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBsZXQgdXNlcl9pZCA9IHJlcS5xdWVyeS51c2VyX2lkO1xuICAgICAgICBsZXQgQ0FSVFMgPSBhd2FpdCBtb2RlbHMuQ2FydC5maW5kKHtcbiAgICAgICAgICB1c2VyOiB1c2VyX2lkLFxuICAgICAgICB9KS5wb3B1bGF0ZShcInZhcmllZGFkXCIpLnBvcHVsYXRlKHtcbiAgICAgICAgICBwYXRoOiBcInByb2R1Y3RcIixcbiAgICAgICAgICBwb3B1bGF0ZToge1xuICAgICAgICAgICAgIHBhdGg6IFwiY2F0ZWdvcmllXCJcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBDQVJUUyA9IENBUlRTLm1hcCgoY2FydCkgPT4ge1xuICAgICAgICAgIHJldHVybiByZXNvdXJzZS5DYXJ0LmNhcnRfbGlzdChjYXJ0KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgIGNhcnRzOiBDQVJUUyxcbiAgICAgICAgfSlcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gRVJST1JcIlxuICAgICAgfSlcbiAgICB9XG4gIH0sXG4gIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcbiAgICAgICAgLy8xcm86IHZhbGlkYXIgc2kgZWwgcHJvZHVjdG8gZXhpc3RlIGVuIGNhcnJpdG8gZGUgY29tcHJhcyBcbiAgICAgICAgaWYoZGF0YS52YXJpZWRhZCl7XG4gICAgICAgICAgbGV0IHZhbGlkX2NhcnQgPSBhd2FpdCBtb2RlbHMuQ2FydC5maW5kT25lKHtcbiAgICAgICAgICAgIHVzZXI6IGRhdGEudXNlcixcbiAgICAgICAgICAgIHZhcmllZGFkOiBkYXRhLnZhcmllZGFkLFxuICAgICAgICAgICAgcHJvZHVjdDogZGF0YS5wcm9kdWN0LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmICh2YWxpZF9jYXJ0KXtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxuICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgUFJPRFVDVE8gQ09OIExBIFZBUklFREFEIFNFTEVDQ0lPTkFEQSBZQSBFWElTVEUgRU4gRUwgQ0FSUklUTyBERSBDT01QUkFcIlxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGxldCB2YWxpZF9jYXJ0ID0gYXdhaXQgbW9kZWxzLkNhcnQuZmluZE9uZSh7XG4gICAgICAgICAgICB1c2VyOiBkYXRhLnVzZXIsXG4gICAgICAgICAgICBwcm9kdWN0OiBkYXRhLnByb2R1Y3QsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodmFsaWRfY2FydCl7XG4gICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxuICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIFBST0RVQ1RPIFlBIEVYSVNURSBFTiBFTCBDQVJSSVRPIERFIENPTVBSQVwiXG4gICAgICAgICAgfSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIDJkbzogdmFsaWRhciBzaSBlbCBzdG9jayBlc3RhIGRpc3BvbmlibGVcbiAgICAgICAgaWYoZGF0YS52YXJpZWRhZCl7XG4gICAgICAgICAgbGV0IHZhbGlkX3ZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRPbmUoe1xuICAgICAgICAgICAgX2lkOiBkYXRhLnZhcmllZGFkLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmKHZhbGlkX3ZhcmllZGFkLnN0b2NrIDwgZGF0YS5jYW50aWRhZCl7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgIG1lc3NhZ2U6IDQwMyxcbiAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIlVwc3MhIExhIGNhbnRpZGFkIHNvbGljaXRhZGEgbm8gZXN0YSBkaXNwb25pYmxlIGVuIHN0b2NrLCBQb3IgZmF2b3IgaW5ncmVzZSB1bmEgY2FudGlkYWQgbWVub3IgbyBpZ3VhbCBhIFwiKyB2YWxpZF92YXJpZWRhZC5zdG9ja1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGxldCB2YWxpZF9wcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZE9uZSh7XG4gICAgICAgICAgICBfaWQ6IGRhdGEucHJvZHVjdCxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmKHZhbGlkX3Byb2R1Y3Quc3RvY2sgPCBkYXRhLmNhbnRpZGFkKXtcbiAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiA0MDMsXG4gICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiVXBzcyEgTGEgY2FudGlkYWQgc29saWNpdGFkYSBubyBlc3RhIGRpc3BvbmlibGUgZW4gc3RvY2ssIFBvciBmYXZvciBpbmdyZXNlIHVuYSBjYW50aWRhZCBtZW5vciBvIGlndWFsIGEgXCIrIHZhbGlkX3Byb2R1Y3Quc3RvY2tcbiAgICAgICAgICB9KVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgICBsZXQgQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmNyZWF0ZShkYXRhKTtcblxuICAgICAgICBsZXQgICBORVdfQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkKHtfaWQ6Q0FSVC5faWR9KS5wb3B1bGF0ZShcInZhcmllZGFkXCIpLnBvcHVsYXRlKHtcbiAgICAgICAgICBwYXRoOiBcInByb2R1Y3RcIixcbiAgICAgICAgICBwb3B1bGF0ZToge1xuICAgICAgICAgICAgIHBhdGg6IFwiY2F0ZWdvcmllXCJcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgY2FydDogcmVzb3Vyc2UuQ2FydC5jYXJ0X2xpc3QoTkVXX0NBUlQpLFxuICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFbCBjYXJyaXRvIGRlIGNvbXByYSBzZSByZWdpc3Ryw7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBFUlJPUlwiXG4gICAgICB9KVxuICAgIH1cbiAgfSxcbiAgdXBkYXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XG4gICAgICAvLyAyZG86IHZhbGlkYXIgc2kgZWwgc3RvY2sgZXN0YSBkaXNwb25pYmxlXG4gICAgICAgIGlmKGRhdGEudmFyaWVkYWQpe1xuICAgICAgICAgIGxldCB2YWxpZF92YXJpZWRhZCA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kT25lKHtcbiAgICAgICAgICAgIF9pZDogZGF0YS52YXJpZWRhZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZih2YWxpZF92YXJpZWRhZC5zdG9jayA8IGRhdGEuY2FudGlkYWQpe1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICBtZXNzYWdlOiA0MDMsXG4gICAgICAgICAgICAgIG1lc3NhZ2VfdGV4OiBcIlVwc3MhIExhIGNhbnRpZGFkIHNvbGljaXRhZGEgbm8gZXN0YSBkaXNwb25pYmxlIGVuIHN0b2NrLCBQb3IgZmF2b3IgaW5ncmVzZSB1bmEgY2FudGlkYWQgbWVub3IgbyBpZ3VhbCBhIFwiKyB2YWxpZF92YXJpZWRhZC5zdG9ja1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGxldCB2YWxpZF9wcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZE9uZSh7XG4gICAgICAgICAgICBfaWQ6IGRhdGEucHJvZHVjdCxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmKHZhbGlkX3Byb2R1Y3Quc3RvY2sgPCBkYXRhLmNhbnRpZGFkKXtcbiAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiA0MDMsXG4gICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiVXBzcyEgTGEgY2FudGlkYWQgc29saWNpdGFkYSBubyBlc3RhIGRpc3BvbmlibGUgZW4gc3RvY2ssIFBvciBmYXZvciBpbmdyZXNlIHVuYSBjYW50aWRhZCBtZW5vciBvIGlndWFsIGEgXCIrIHZhbGlkX3Byb2R1Y3Quc3RvY2tcbiAgICAgICAgICB9KVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgICBsZXQgQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6ZGF0YS5faWR9LGRhdGEpO1xuXG4gICAgICAgIGxldCAgIE5FV19DQVJUID0gYXdhaXQgbW9kZWxzLkNhcnQuZmluZEJ5SWQoe19pZDpDQVJULl9pZH0pLnBvcHVsYXRlKFwidmFyaWVkYWRcIikucG9wdWxhdGUoe1xuICAgICAgICAgIHBhdGg6IFwicHJvZHVjdFwiLFxuICAgICAgICAgIHBvcHVsYXRlOiB7XG4gICAgICAgICAgICAgcGF0aDogXCJjYXRlZ29yaWVcIlxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICBjYXJ0OiByZXNvdXJzZS5DYXJ0LmNhcnRfbGlzdChORVdfQ0FSVCksXG4gICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVsIGNhcnJpdG8gZGUgY29tcHJhIHNlIGFjdHVhbGl6w7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgIH0pXG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIEVSUk9SXCJcbiAgICAgIH0pXG4gICAgfVxuICB9LFxuICBkZWxldGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IF9pZCA9IHJlcS5wYXJhbXMuaWQ7XG4gICAgICBsZXQgQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6X2lkfSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVsIGNhcnJpdG8gZGUgY29tcHJhIHNlIGVsaW1pbsOzIHNhdGlzZmFjdG9yaWFtZW50ZVwiXG4gICAgICB9KVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gRVJST1JcIlxuICAgICAgfSlcbiAgICB9XG4gIH0sXG4gIGFwcGx5Q3Vwb246IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcbiAgICAgIC8vMXJhIFZhbGlkYWNpb24gZXMgY29uIGxhIGV4aXN0ZW5jaWEgZGVsIGN1cG9uXG4gICAgICBsZXQgQ1VQT04gPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRPbmUoe1xuICAgICAgICBjb2RlOiBkYXRhLmNvZGUsXG4gICAgICB9KVxuICAgICAgaWYoIUNVUE9OKXtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgIG1lc3NhZ2U6IDQwMyxcbiAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiVXBzcyEgRWwgY3Vwb24gaW5ncmVzYWRvIG5vIGV4aXN0ZSwgcG9yIGZhdm9yIGluZ3Jlc2Ugb3RybyBudWV2YW1lbnRlXCJcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLzJkYSB2YWxpZGFjaW9uIHRpZW5lIHF1ZSB2ZXIgY29uIGVsIHVzbyBkZSBjdXBvbiAtLSBFc3BlcmFcblxuICAgICAgLy8gUGFydGUgb3BlcmF0aXZhXG5cbiAgICAgIGxldCBjYXJ0cyA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmQoe3VzZXI6IGRhdGEudXNlcl9pZH0pLnBvcHVsYXRlKFwicHJvZHVjdFwiKVxuXG5cbiAgICAgIGxldCBwcm9kdWN0cyA9IFtdO1xuICAgICAgbGV0IGNhdGVnb3JpZXMgPSBbXTtcblxuICAgICAgQ1VQT04ucHJvZHVjdHMuZm9yRWFjaChwcm9kdWN0ID0+IHtcbiAgICAgICAgcHJvZHVjdHMucHVzaChwcm9kdWN0Ll9pZCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gU2UgcHJlc2VudGEgYmFqbyBlbCBmb3JtYXRvWzgyODIwMjAwMDksIDczMzc3MzM5MzRdIHkgbm8gWyhfaWQ6IDgyODIwMjAwMDkpLCAoX2lkOjczMzc3MzM5MzQpXVxuXG4gICAgICBDVVBPTi5jYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcmllID0+IHtcbiAgICAgICAgY2F0ZWdvcmllcy5wdXNoKGNhdGVnb3JpZS5faWQpO1xuICAgICAgfSk7XG5cbiAgICAgIGZvciAoY29uc3QgY2FydCBvZiBjYXJ0cykge1xuICAgICAgICBpZihwcm9kdWN0cy5sZW5ndGggPiAwKXtcbiAgICAgICAgICBpZihwcm9kdWN0cy5pbmNsdWRlcyhjYXJ0LnByb2R1Y3QuX2lkK1wiXCIpKXtcbiAgICAgICAgICAgIGxldCBzdWJ0b3RhbCA9IDA7XG4gICAgICAgICAgICBsZXQgdG90YWwgPSAwO1xuICAgICAgICAgICAgaWYoQ1VQT04udHlwZV9kaXNjb3VudCA9PSAxKXsvL3BvcmNlbnRhamVcbiAgICAgICAgICAgICAgc3VidG90YWwgPSBjYXJ0LnByaWNlX3VuaXQgLSBjYXJ0LnByaWNlX3VuaXQgKihDVVBPTi5kaXNjb3VudCowLjAxKTtcbiAgICAgICAgICAgIH1lbHNley8vcG9yY2VudGFqZVxuICAgICAgICAgICAgICBzdWJ0b3RhbCA9IGNhcnQucHJpY2VfdW5pdCAtIENVUE9OLmRpc2NvdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG90YWwgPSBzdWJ0b3RhbCAqIGNhcnQuY2FudGlkYWQ7XG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuQ2FydC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiBjYXJ0Ll9pZH0se1xuICAgICAgICAgICAgICBzdWJ0b3RhbDogc3VidG90YWwsXG4gICAgICAgICAgICAgIHRvdGFsOiB0b3RhbCxcbiAgICAgICAgICAgICAgdHlwZV9kaXNjb3VudDogQ1VQT04udHlwZV9kaXNjb3VudCxcbiAgICAgICAgICAgICAgZGlzY291bnQ6IENVUE9OLmRpc2NvdW50LFxuICAgICAgICAgICAgICBjb2RlX2N1cG9uOiBDVVBPTi5jb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgfVxuICAgICAgICAgaWYoY2F0ZWdvcmllcy5sZW5ndGggPiAwKXtcbiAgICAgICAgICBpZihjYXRlZ29yaWVzLmluY2x1ZGVzKGNhcnQucHJvZHVjdC5jYXRlZ29yaWUrXCJcIikpe1xuICAgICAgICAgICAgbGV0IHN1YnRvdGFsID0gMDtcbiAgICAgICAgICAgIGxldCB0b3RhbCA9IDA7XG4gICAgICAgICAgICBpZihDVVBPTi50eXBlX2Rpc2NvdW50ID09IDEpey8vcG9yY2VudGFqZVxuICAgICAgICAgICAgICBzdWJ0b3RhbCA9IGNhcnQucHJpY2VfdW5pdCAtIGNhcnQucHJpY2VfdW5pdCAqKENVUE9OLmRpc2NvdW50KjAuMDEpO1xuICAgICAgICAgICAgfWVsc2V7Ly9wb3JjZW50YWplXG4gICAgICAgICAgICAgIHN1YnRvdGFsID0gY2FydC5wcmljZV91bml0IC0gQ1VQT04uZGlzY291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b3RhbCA9IHN1YnRvdGFsICogY2FydC5jYW50aWRhZDtcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IGNhcnQuX2lkfSx7XG4gICAgICAgICAgICAgIHN1YnRvdGFsOiBzdWJ0b3RhbCxcbiAgICAgICAgICAgICAgdG90YWw6IHRvdGFsLFxuICAgICAgICAgICAgICB0eXBlX2Rpc2NvdW50OiBDVVBPTi50eXBlX2Rpc2NvdW50LFxuICAgICAgICAgICAgICBkaXNjb3VudDogQ1VQT04uZGlzY291bnQsXG4gICAgICAgICAgICAgIGNvZGVfY3Vwb246IENVUE9OLmNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiAyMDAsXG4gICAgICAgIG1lc3NhZ2VfdGV4dDogXCJTdXBlciEgRWwgY3Vwb24gZnVlIGFwbGljYWRvIGV4aXRvc2FtZW50ZVwiXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAg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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resourses","e","__esModule","default","_default","exports","list","req","res","user_id","query","CARTS","models","Cart","find","user","populate","path","map","cart","resourse","cart_list","status","json","carts","error","console","log","send","message","register","data","body","variedad","valid_cart","findOne","product","message_text","valid_variedad","Variedad","_id","stock","cantidad","valid_product","Product","CART","create","NEW_CART","findById","update","message_tex","findByIdAndUpdate","delete","params","id","findByIdAndDelete","applyCupon","CUPON","Cupone","code","products","categories","forEach","push","categorie","length","includes","subtotal","total","type_discount","price_unit","discount","code_cupon"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["CartController.js"],"sourcesContent":["\nimport models from \"../models\";\nimport resourse from \"../resourses\"\n\n\nexport default {\n  list: async(req,res) => {\n    try {\n        let user_id = req.query.user_id;\n        let CARTS = await models.Cart.find({\n          user: user_id,\n        }).populate(\"variedad\").populate({\n          path: \"product\",\n          populate: {\n             path: \"categorie\"\n          },\n        });\n\n        CARTS = CARTS.map((cart) => {\n          return resourse.Cart.cart_list(cart);\n        });\n\n        res.status(200).json({\n          carts: CARTS,\n        })\n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      })\n    }\n  },\n  register: async(req,res) => {\n    try {\n        let data = req.body;\n        //1ro: validar si el producto existe en carrito de compras \n        if(data.variedad){\n          let valid_cart = await models.Cart.findOne({\n            user: data.user,\n            variedad: data.variedad,\n            product: data.product,\n          });\n          if (valid_cart){\n            res.status(200).json({\n              message: 403,\n              message_text: \"EL PRODUCTO CON LA VARIEDAD SELECCIONADA YA EXISTE EN EL CARRITO DE COMPRA\"\n            })\n            return;\n          }\n        }else{\n          let valid_cart = await models.Cart.findOne({\n            user: data.user,\n            product: data.product,\n        });\n        if (valid_cart){\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL PRODUCTO YA EXISTE EN EL CARRITO DE COMPRA\"\n          })\n          return;\n        }\n      }\n      // 2do: validar si el stock esta disponible\n        if(data.variedad){\n          let valid_variedad = await models.Variedad.findOne({\n            _id: data.variedad,\n          });\n          if(valid_variedad.stock < data.cantidad){\n            res.status(200).json({\n              message: 403,\n              message_text: \"Upss! La cantidad solicitada no esta disponible en stock, Por favor ingrese una cantidad menor o igual a \"+ valid_variedad.stock\n            })\n            return;\n          }\n        }else{\n          let valid_product = await models.Product.findOne({\n            _id: data.product,\n        });\n        if(valid_product.stock < data.cantidad){\n          res.status(200).json({\n            message: 403,\n            message_text: \"Upss! La cantidad solicitada no esta disponible en stock, Por favor ingrese una cantidad menor o igual a \"+ valid_product.stock\n          })\n          return;\n        }\n      }\n        let CART = await models.Cart.create(data);\n\n        let   NEW_CART = await models.Cart.findById({_id:CART._id}).populate(\"variedad\").populate({\n          path: \"product\",\n          populate: {\n             path: \"categorie\"\n          },\n        });\n\n        res.status(200).json({\n          cart: resourse.Cart.cart_list(NEW_CART),\n          message_text: \"El carrito de compra se registró satisfactoriamente\",\n        })\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      })\n    }\n  },\n  update: async(req,res) => {\n    try {\n      let data = req.body;\n      // 2do: validar si el stock esta disponible\n        if(data.variedad){\n          let valid_variedad = await models.Variedad.findOne({\n            _id: data.variedad,\n          });\n          if(valid_variedad.stock < data.cantidad){\n            res.status(200).json({\n              message: 403,\n              message_tex: \"Upss! La cantidad solicitada no esta disponible en stock, Por favor ingrese una cantidad menor o igual a \"+ valid_variedad.stock\n            })\n            return;\n          }\n        }else{\n          let valid_product = await models.Product.findOne({\n            _id: data.product,\n        });\n        if(valid_product.stock < data.cantidad){\n          res.status(200).json({\n            message: 403,\n            message_text: \"Upss! La cantidad solicitada no esta disponible en stock, Por favor ingrese una cantidad menor o igual a \"+ valid_product.stock\n          })\n          return;\n        }\n      }\n        let CART = await models.Cart.findByIdAndUpdate({_id:data._id},data);\n\n        let   NEW_CART = await models.Cart.findById({_id:CART._id}).populate(\"variedad\").populate({\n          path: \"product\",\n          populate: {\n             path: \"categorie\"\n          },\n        });\n\n        res.status(200).json({\n          cart: resourse.Cart.cart_list(NEW_CART),\n          message_text: \"El carrito de compra se actualizó satisfactoriamente\",\n        })\n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      })\n    }\n  },\n  delete: async(req,res) => {\n    try {\n      let _id = req.params.id;\n      let CART = await models.Cart.findByIdAndDelete({_id:_id});\n\n      res.status(200).json({\n        message_text: \"El carrito de compra se eliminó satisfactoriamente\"\n      })\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      })\n    }\n  },\n  applyCupon: async(req,res) => {\n    try {\n      let data = req.body;\n      //1ra Validacion es con la existencia del cupon\n      let CUPON = await models.Cupone.findOne({\n        code: data.code,\n      })\n      if(!CUPON){\n        res.status(200).json({\n          message: 403,\n          message_text: \"Upss! El cupon ingresado no existe, por favor ingrese otro nuevamente\"\n        })\n        return;\n      }\n\n      //2da validacion tiene que ver con el uso de cupon -- Espera\n\n      // Parte operativa\n\n      let carts = await models.Cart.find({user: data.user_id}).populate(\"product\")\n\n\n      let products = [];\n      let categories = [];\n\n      CUPON.products.forEach(product => {\n        products.push(product._id);\n      });\n\n      // Se presenta bajo el formato[8282020009, 7337733934] y no [(_id: 8282020009), (_id:7337733934)]\n\n      CUPON.categories.forEach(categorie => {\n        categories.push(categorie._id);\n      });\n\n      for (const cart of carts) {\n        if(products.length > 0){\n          if(products.includes(cart.product._id+\"\")){\n            let subtotal = 0;\n            let total = 0;\n            if(CUPON.type_discount == 1){//porcentaje\n              subtotal = cart.price_unit - cart.price_unit *(CUPON.discount*0.01);\n            }else{//porcentaje\n              subtotal = cart.price_unit - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await models.Cart.findByIdAndUpdate({_id: cart._id},{\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code,\n            });\n          }\n         }\n         if(categories.length > 0){\n          if(categories.includes(cart.product.categorie+\"\")){\n            let subtotal = 0;\n            let total = 0;\n            if(CUPON.type_discount == 1){//porcentaje\n              subtotal = cart.price_unit - cart.price_unit *(CUPON.discount*0.01);\n            }else{//porcentaje\n              subtotal = cart.price_unit - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await models.Cart.findByIdAndUpdate({_id: cart._id},{\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code,\n            });\n          }\n\n        }\n      }\n      res.status(200).json({\n        message: 200,\n        message_text: \"Super! El cupon fue aplicado exitosamente\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      })\n    }\n  },\n}\n"],"mappings":"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","ignoreList":[]}},"mtime":1750212303639},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/AddressClient.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst AddressClientSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  name: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  surname: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  country: {\n    type: String,\n    required: true,\n    maxlength: 250,\n    default: \"Venezuela\"\n  },\n  region: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  city: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  township: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  address: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  reference: {\n    type: String,\n    required: false,\n    maxlength: 250\n  },\n  phone: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  email: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  note: {\n    type: String,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst AddressClient = _mongoose.default.model(\"address_client\", AddressClientSchema);\nvar _default = exports.default = AddressClient;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJBZGRyZXNzQ2xpZW50U2NoZW1hIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwibmFtZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInN1cm5hbWUiLCJjb3VudHJ5IiwicmVnaW9uIiwiY2l0eSIsInRvd25zaGlwIiwiYWRkcmVzcyIsInJlZmVyZW5jZSIsInBob25lIiwiZW1haWwiLCJub3RlIiwidGltZXN0YW1wcyIsIkFkZHJlc3NDbGllbnQiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIkFkZHJlc3NDbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBBZGRyZXNzQ2xpZW50U2NoZW1hID0gIG5ldyBTY2hlbWEoe1xuICB1c2VyOiB7dHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6J3VzZXInLCByZXF1aXJlZDogdHJ1ZX0sXG4gIG5hbWU6e3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6dHJ1ZSwgbWF4bGVuZ3RoOiAyNTB9LFxuICBzdXJuYW1lOnt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOnRydWUsIG1heGxlbmd0aDogMjUwfSxcbiAgY291bnRyeTp7dHlwZTogU3RyaW5nLCByZXF1aXJlZDp0cnVlLCBtYXhsZW5ndGg6IDI1MCwgZGVmYXVsdDpcIlZlbmV6dWVsYVwifSxcbiAgcmVnaW9uOnt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOnRydWUsIG1heGxlbmd0aDogMjUwfSxcbiAgY2l0eTp7dHlwZTogU3RyaW5nLCByZXF1aXJlZDp0cnVlLCBtYXhsZW5ndGg6IDI1MH0sXG4gIHRvd25zaGlwOnt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOnRydWUsIG1heGxlbmd0aDogMjUwfSxcbiAgYWRkcmVzczp7dHlwZTogU3RyaW5nLCByZXF1aXJlZDp0cnVlLCBtYXhsZW5ndGg6IDI1MH0sXG4gIHJlZmVyZW5jZTp7dHlwZTogU3RyaW5nLCByZXF1aXJlZDpmYWxzZSwgbWF4bGVuZ3RoOiAyNTB9LFxuICBwaG9uZTp7dHlwZTogU3RyaW5nLCByZXF1aXJlZDp0cnVlLCBtYXhsZW5ndGg6IDI1MH0sXG4gIGVtYWlsOnt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOnRydWUsIG1heGxlbmd0aDogMjUwfSxcbiAgbm90ZTp7dHlwZTogU3RyaW5nLCByZXF1aXJlZDpmYWxzZX0sXG5cbn0se1xuICB0aW1lc3RhbXBzOiB0cnVlLFxufSlcblxuY29uc3QgQWRkcmVzc0NsaWVudCA9IG1vbmdvb3NlLm1vZGVsKFwiYWRkcmVzc19jbGllbnRcIiwgQWRkcmVzc0NsaWVudFNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBBZGRyZXNzQ2xpZW50OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUssT0FBQSxFQUFBTCxDQUFBLFFBQUFHLENBQUEsR0FBQUosd0JBQUEsQ0FBQUcsQ0FBQSxPQUFBQyxDQUFBLElBQUFBLENBQUEsQ0FBQUcsR0FBQSxDQUFBTixDQUFBLFVBQUFHLENBQUEsQ0FBQUksR0FBQSxDQUFBUCxDQUFBLE9BQUFRLENBQUEsS0FBQUMsU0FBQSxVQUFBQyxDQUFBLEdBQUFDLE1BQUEsQ0FBQUMsY0FBQSxJQUFBRCxNQUFBLENBQUFFLHdCQUFBLFdBQUFDLENBQUEsSUFBQWQsQ0FBQSxvQkFBQWMsQ0FBQSxPQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWhCLENBQUEsRUFBQWMsQ0FBQSxTQUFBRyxDQUFBLEdBQUFQLENBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBYixDQUFBLEVBQUFjLENBQUEsVUFBQUcsQ0FBQSxLQUFBQSxDQUFBLENBQUFWLEdBQUEsSUFBQVUsQ0FBQSxDQUFBQyxHQUFBLElBQUFQLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSixDQUFBLEVBQUFNLENBQUEsRUFBQUcsQ0FBQSxJQUFBVCxDQUFBLENBQUFNLENBQUEsSUFBQWQsQ0FBQSxDQUFBYyxDQUFBLFlBQUFOLENBQUEsQ0FBQUgsT0FBQSxHQUFBTCxDQUFBLEVBQUFHLENBQUEsSUFBQUEsQ0FBQSxDQUFBZSxHQUFBLENBQUFsQixDQUFBLEVBQUFRLENBQUEsR0FBQUEsQ0FBQTtBQUV6QyxNQUFNVyxtQkFBbUIsR0FBSSxJQUFJQyxnQkFBTSxDQUFDO0VBQ3RDQyxJQUFJLEVBQUU7SUFBQ0MsSUFBSSxFQUFFRixnQkFBTSxDQUFDRyxRQUFRO0lBQUVDLEdBQUcsRUFBQyxNQUFNO0lBQUVDLFFBQVEsRUFBRTtFQUFJLENBQUM7RUFDekRDLElBQUksRUFBQztJQUFDSixJQUFJLEVBQUVLLE1BQU07SUFBRUYsUUFBUSxFQUFDLElBQUk7SUFBRUcsU0FBUyxFQUFFO0VBQUcsQ0FBQztFQUNsREMsT0FBTyxFQUFDO0lBQUNQLElBQUksRUFBRUssTUFBTTtJQUFFRixRQUFRLEVBQUMsSUFBSTtJQUFFRyxTQUFTLEVBQUU7RUFBRyxDQUFDO0VBQ3JERSxPQUFPLEVBQUM7SUFBQ1IsSUFBSSxFQUFFSyxNQUFNO0lBQUVGLFFBQVEsRUFBQyxJQUFJO0lBQUVHLFNBQVMsRUFBRSxHQUFHO0lBQUV2QixPQUFPLEVBQUM7RUFBVyxDQUFDO0VBQzFFMEIsTUFBTSxFQUFDO0lBQUNULElBQUksRUFBRUssTUFBTTtJQUFFRixRQUFRLEVBQUMsSUFBSTtJQUFFRyxTQUFTLEVBQUU7RUFBRyxDQUFDO0VBQ3BESSxJQUFJLEVBQUM7SUFBQ1YsSUFBSSxFQUFFSyxNQUFNO0lBQUVGLFFBQVEsRUFBQyxJQUFJO0lBQUVHLFNBQVMsRUFBRTtFQUFHLENBQUM7RUFDbERLLFFBQVEsRUFBQztJQUFDWCxJQUFJLEVBQUVLLE1BQU07SUFBRUYsUUFBUSxFQUFDLElBQUk7SUFBRUcsU0FBUyxFQUFFO0VBQUcsQ0FBQztFQUN0RE0sT0FBTyxFQUFDO0lBQUNaLElBQUksRUFBRUssTUFBTTtJQUFFRixRQUFRLEVBQUMsSUFBSTtJQUFFRyxTQUFTLEVBQUU7RUFBRyxDQUFDO0VBQ3JETyxTQUFTLEVBQUM7SUFBQ2IsSUFBSSxFQUFFSyxNQUFNO0lBQUVGLFFBQVEsRUFBQyxLQUFLO0lBQUVHLFNBQVMsRUFBRTtFQUFHLENBQUM7RUFDeERRLEtBQUssRUFBQztJQUFDZCxJQUFJLEVBQUVLLE1BQU07SUFBRUYsUUFBUSxFQUFDLElBQUk7SUFBRUcsU0FBUyxFQUFFO0VBQUcsQ0FBQztFQUNuRFMsS0FBSyxFQUFDO0lBQUNmLElBQUksRUFBRUssTUFBTTtJQUFFRixRQUFRLEVBQUMsSUFBSTtJQUFFRyxTQUFTLEVBQUU7RUFBRyxDQUFDO0VBQ25EVSxJQUFJLEVBQUM7SUFBQ2hCLElBQUksRUFBRUssTUFBTTtJQUFFRixRQUFRLEVBQUM7RUFBSztBQUVwQyxDQUFDLEVBQUM7RUFDQWMsVUFBVSxFQUFFO0FBQ2QsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsYUFBYSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsZ0JBQWdCLEVBQUV2QixtQkFBbUIsQ0FBQztBQUFDLElBQUF3QixRQUFBLEdBQUFDLE9BQUEsQ0FBQXZDLE9BQUEsR0FDN0RtQyxhQUFhIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","AddressClientSchema","Schema","user","type","ObjectId","ref","required","name","String","maxlength","surname","country","region","city","township","address","reference","phone","email","note","timestamps","AddressClient","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["AddressClient.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst AddressClientSchema =  new Schema({\n  user: {type: Schema.ObjectId, ref:'user', required: true},\n  name:{type: String, required:true, maxlength: 250},\n  surname:{type: String, required:true, maxlength: 250},\n  country:{type: String, required:true, maxlength: 250, default:\"Venezuela\"},\n  region:{type: String, required:true, maxlength: 250},\n  city:{type: String, required:true, maxlength: 250},\n  township:{type: String, required:true, maxlength: 250},\n  address:{type: String, required:true, maxlength: 250},\n  reference:{type: String, required:false, maxlength: 250},\n  phone:{type: String, required:true, maxlength: 250},\n  email:{type: String, required:true, maxlength: 250},\n  note:{type: String, required:false},\n\n},{\n  timestamps: true,\n})\n\nconst AddressClient = mongoose.model(\"address_client\", AddressClientSchema);\nexport default AddressClient;"],"mappings":"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","ignoreList":[]}},"mtime":1739716754596},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/AddressClient.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst AddressClientSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  name: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  surname: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  country: {\n    type: String,\n    required: true,\n    maxlength: 250,\n    default: \"Venezuela\"\n  },\n  region: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  city: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  township: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  address: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  reference: {\n    type: String,\n    required: false,\n    maxlength: 250\n  },\n  phone: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  email: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  note: {\n    type: String,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst AddressClient = _mongoose.default.model(\"address_client\", AddressClientSchema);\nvar _default = exports.default = AddressClient;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJBZGRyZXNzQ2xpZW50U2NoZW1hIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwibmFtZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInN1cm5hbWUiLCJjb3VudHJ5IiwicmVnaW9uIiwiY2l0eSIsInRvd25zaGlwIiwiYWRkcmVzcyIsInJlZmVyZW5jZSIsInBob25lIiwiZW1haWwiLCJub3RlIiwidGltZXN0YW1wcyIsIkFkZHJlc3NDbGllbnQiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIkFkZHJlc3NDbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBBZGRyZXNzQ2xpZW50U2NoZW1hID0gIG5ldyBTY2hlbWEoe1xuICB1c2VyOiB7dHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6J3VzZXInLCByZXF1aXJlZDogdHJ1ZX0sXG4gIG5hbWU6e3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6dHJ1ZSwgbWF4bGVuZ3RoOiAyNTB9LFxuICBzdXJuYW1lOnt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOnRydWUsIG1heGxlbmd0aDogMjUwfSxcbiAgY291bnRyeTp7dHlwZTogU3RyaW5nLCByZXF1aXJlZDp0cnVlLCBtYXhsZW5ndGg6IDI1MCwgZGVmYXVsdDpcIlZlbmV6dWVsYVwifSxcbiAgcmVnaW9uOnt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOnRydWUsIG1heGxlbmd0aDogMjUwfSxcbiAgY2l0eTp7dHlwZTogU3RyaW5nLCByZXF1aXJlZDp0cnVlLCBtYXhsZW5ndGg6IDI1MH0sXG4gIHRvd25zaGlwOnt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOnRydWUsIG1heGxlbmd0aDogMjUwfSxcbiAgYWRkcmVzczp7dHlwZTogU3RyaW5nLCByZXF1aXJlZDp0cnVlLCBtYXhsZW5ndGg6IDI1MH0sXG4gIHJlZmVyZW5jZTp7dHlwZTogU3RyaW5nLCByZXF1aXJlZDpmYWxzZSwgbWF4bGVuZ3RoOiAyNTB9LFxuICBwaG9uZTp7dHlwZTogU3RyaW5nLCByZXF1aXJlZDp0cnVlLCBtYXhsZW5ndGg6IDI1MH0sXG4gIGVtYWlsOnt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOnRydWUsIG1heGxlbmd0aDogMjUwfSxcbiAgbm90ZTp7dHlwZTogU3RyaW5nLCByZXF1aXJlZDpmYWxzZX0sXG5cbn0se1xuICB0aW1lc3RhbXBzOiB0cnVlLFxufSlcblxuY29uc3QgQWRkcmVzc0NsaWVudCA9IG1vbmdvb3NlLm1vZGVsKFwiYWRkcmVzc19jbGllbnRcIiwgQWRkcmVzc0NsaWVudFNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBBZGRyZXNzQ2xpZW50OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUssT0FBQSxFQUFBTCxDQUFBLFFBQUFHLENBQUEsR0FBQUosd0JBQUEsQ0FBQUcsQ0FBQSxPQUFBQyxDQUFBLElBQUFBLENBQUEsQ0FBQUcsR0FBQSxDQUFBTixDQUFBLFVBQUFHLENBQUEsQ0FBQUksR0FBQSxDQUFBUCxDQUFBLE9BQUFRLENBQUEsS0FBQUMsU0FBQSxVQUFBQyxDQUFBLEdBQUFDLE1BQUEsQ0FBQUMsY0FBQSxJQUFBRCxNQUFBLENBQUFFLHdCQUFBLFdBQUFDLENBQUEsSUFBQWQsQ0FBQSxvQkFBQWMsQ0FBQSxPQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWhCLENBQUEsRUFBQWMsQ0FBQSxTQUFBRyxDQUFBLEdBQUFQLENBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBYixDQUFBLEVBQUFjLENBQUEsVUFBQUcsQ0FBQSxLQUFBQSxDQUFBLENBQUFWLEdBQUEsSUFBQVUsQ0FBQSxDQUFBQyxHQUFBLElBQUFQLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSixDQUFBLEVBQUFNLENBQUEsRUFBQUcsQ0FBQSxJQUFBVCxDQUFBLENBQUFNLENBQUEsSUFBQWQsQ0FBQSxDQUFBYyxDQUFBLFlBQUFOLENBQUEsQ0FBQUgsT0FBQSxHQUFBTCxDQUFBLEVBQUFHLENBQUEsSUFBQUEsQ0FBQSxDQUFBZSxHQUFBLENBQUFsQixDQUFBLEVBQUFRLENBQUEsR0FBQUEsQ0FBQTtBQUV6QyxNQUFNVyxtQkFBbUIsR0FBSSxJQUFJQyxnQkFBTSxDQUFDO0VBQ3RDQyxJQUFJLEVBQUU7SUFBQ0MsSUFBSSxFQUFFRixnQkFBTSxDQUFDRyxRQUFRO0lBQUVDLEdBQUcsRUFBQyxNQUFNO0lBQUVDLFFBQVEsRUFBRTtFQUFJLENBQUM7RUFDekRDLElBQUksRUFBQztJQUFDSixJQUFJLEVBQUVLLE1BQU07SUFBRUYsUUFBUSxFQUFDLElBQUk7SUFBRUcsU0FBUyxFQUFFO0VBQUcsQ0FBQztFQUNsREMsT0FBTyxFQUFDO0lBQUNQLElBQUksRUFBRUssTUFBTTtJQUFFRixRQUFRLEVBQUMsSUFBSTtJQUFFRyxTQUFTLEVBQUU7RUFBRyxDQUFDO0VBQ3JERSxPQUFPLEVBQUM7SUFBQ1IsSUFBSSxFQUFFSyxNQUFNO0lBQUVGLFFBQVEsRUFBQyxJQUFJO0lBQUVHLFNBQVMsRUFBRSxHQUFHO0lBQUV2QixPQUFPLEVBQUM7RUFBVyxDQUFDO0VBQzFFMEIsTUFBTSxFQUFDO0lBQUNULElBQUksRUFBRUssTUFBTTtJQUFFRixRQUFRLEVBQUMsSUFBSTtJQUFFRyxTQUFTLEVBQUU7RUFBRyxDQUFDO0VBQ3BESSxJQUFJLEVBQUM7SUFBQ1YsSUFBSSxFQUFFSyxNQUFNO0lBQUVGLFFBQVEsRUFBQyxJQUFJO0lBQUVHLFNBQVMsRUFBRTtFQUFHLENBQUM7RUFDbERLLFFBQVEsRUFBQztJQUFDWCxJQUFJLEVBQUVLLE1BQU07SUFBRUYsUUFBUSxFQUFDLElBQUk7SUFBRUcsU0FBUyxFQUFFO0VBQUcsQ0FBQztFQUN0RE0sT0FBTyxFQUFDO0lBQUNaLElBQUksRUFBRUssTUFBTTtJQUFFRixRQUFRLEVBQUMsSUFBSTtJQUFFRyxTQUFTLEVBQUU7RUFBRyxDQUFDO0VBQ3JETyxTQUFTLEVBQUM7SUFBQ2IsSUFBSSxFQUFFSyxNQUFNO0lBQUVGLFFBQVEsRUFBQyxLQUFLO0lBQUVHLFNBQVMsRUFBRTtFQUFHLENBQUM7RUFDeERRLEtBQUssRUFBQztJQUFDZCxJQUFJLEVBQUVLLE1BQU07SUFBRUYsUUFBUSxFQUFDLElBQUk7SUFBRUcsU0FBUyxFQUFFO0VBQUcsQ0FBQztFQUNuRFMsS0FBSyxFQUFDO0lBQUNmLElBQUksRUFBRUssTUFBTTtJQUFFRixRQUFRLEVBQUMsSUFBSTtJQUFFRyxTQUFTLEVBQUU7RUFBRyxDQUFDO0VBQ25EVSxJQUFJLEVBQUM7SUFBQ2hCLElBQUksRUFBRUssTUFBTTtJQUFFRixRQUFRLEVBQUM7RUFBSztBQUVwQyxDQUFDLEVBQUM7RUFDQWMsVUFBVSxFQUFFO0FBQ2QsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsYUFBYSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsZ0JBQWdCLEVBQUV2QixtQkFBbUIsQ0FBQztBQUFDLElBQUF3QixRQUFBLEdBQUFDLE9BQUEsQ0FBQXZDLE9BQUEsR0FDN0RtQyxhQUFhIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","AddressClientSchema","Schema","user","type","ObjectId","ref","required","name","String","maxlength","surname","country","region","city","township","address","reference","phone","email","note","timestamps","AddressClient","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["AddressClient.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst AddressClientSchema =  new Schema({\n  user: {type: Schema.ObjectId, ref:'user', required: true},\n  name:{type: String, required:true, maxlength: 250},\n  surname:{type: String, required:true, maxlength: 250},\n  country:{type: String, required:true, maxlength: 250, default:\"Venezuela\"},\n  region:{type: String, required:true, maxlength: 250},\n  city:{type: String, required:true, maxlength: 250},\n  township:{type: String, required:true, maxlength: 250},\n  address:{type: String, required:true, maxlength: 250},\n  reference:{type: String, required:false, maxlength: 250},\n  phone:{type: String, required:true, maxlength: 250},\n  email:{type: String, required:true, maxlength: 250},\n  note:{type: String, required:false},\n\n},{\n  timestamps: true,\n})\n\nconst AddressClient = mongoose.model(\"address_client\", AddressClientSchema);\nexport default AddressClient;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,mBAAmB,GAAI,IAAIC,gBAAM,CAAC;EACtCC,IAAI,EAAE;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAC,MAAM;IAAEC,QAAQ,EAAE;EAAI,CAAC;EACzDC,IAAI,EAAC;IAACJ,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC,IAAI;IAAEG,SAAS,EAAE;EAAG,CAAC;EAClDC,OAAO,EAAC;IAACP,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC,IAAI;IAAEG,SAAS,EAAE;EAAG,CAAC;EACrDE,OAAO,EAAC;IAACR,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC,IAAI;IAAEG,SAAS,EAAE,GAAG;IAAEvB,OAAO,EAAC;EAAW,CAAC;EAC1E0B,MAAM,EAAC;IAACT,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC,IAAI;IAAEG,SAAS,EAAE;EAAG,CAAC;EACpDI,IAAI,EAAC;IAACV,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC,IAAI;IAAEG,SAAS,EAAE;EAAG,CAAC;EAClDK,QAAQ,EAAC;IAACX,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC,IAAI;IAAEG,SAAS,EAAE;EAAG,CAAC;EACtDM,OAAO,EAAC;IAACZ,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC,IAAI;IAAEG,SAAS,EAAE;EAAG,CAAC;EACrDO,SAAS,EAAC;IAACb,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC,KAAK;IAAEG,SAAS,EAAE;EAAG,CAAC;EACxDQ,KAAK,EAAC;IAACd,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC,IAAI;IAAEG,SAAS,EAAE;EAAG,CAAC;EACnDS,KAAK,EAAC;IAACf,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC,IAAI;IAAEG,SAAS,EAAE;EAAG,CAAC;EACnDU,IAAI,EAAC;IAAChB,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC;EAAK;AAEpC,CAAC,EAAC;EACAc,UAAU,EAAE;AACd,CAAC,CAAC;AAEF,MAAMC,aAAa,GAAGC,iBAAQ,CAACC,KAAK,CAAC,gBAAgB,EAAEvB,mBAAmB,CAAC;AAAC,IAAAwB,QAAA,GAAAC,OAAA,CAAAvC,OAAA,GAC7DmC,aAAa","ignoreList":[]}},"mtime":1739716754596},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/AddressClient.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _AddressClientController = _interopRequireDefault(require(\"../controllers/AddressClientController\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyEcommerce], _AddressClientController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyEcommerce], _AddressClientController.default.update);\nrouter.get(\"/list\", _auth.default.verifyEcommerce, _AddressClientController.default.list);\nrouter.delete(\"/delete/:id\", _auth.default.verifyEcommerce, _AddressClientController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hdXRoIiwiX0FkZHJlc3NDbGllbnRDb250cm9sbGVyIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5RWNvbW1lcmNlIiwiYWRkcmVzc0NsaWVudENvbnRyb2xsZXIiLCJyZWdpc3RlciIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJkZWxldGUiLCJyZW1vdmUiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2Uvcm91dGVyLyIsInNvdXJjZXMiOlsiQWRkcmVzc0NsaWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiXG5pbXBvcnQgYXV0aCBmcm9tIFwiLi4vbWlkZGxld2FyZXMvYXV0aFwiXG5pbXBvcnQgYWRkcmVzc0NsaWVudENvbnRyb2xsZXIgZnJvbSBcIi4uL2NvbnRyb2xsZXJzL0FkZHJlc3NDbGllbnRDb250cm9sbGVyXCI7XG5cbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcblxuLy8gcHJvY2Vzcy5lbnYuVVJMX0JBQ0tFTkQvYXBpL3VzZXJzL3JlZ2lzdGVyXG5cbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsIFthdXRoLnZlcmlmeUVjb21tZXJjZV0sIGFkZHJlc3NDbGllbnRDb250cm9sbGVyLnJlZ2lzdGVyKTtcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsW2F1dGgudmVyaWZ5RWNvbW1lcmNlXSxhZGRyZXNzQ2xpZW50Q29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLmdldChcIi9saXN0XCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsYWRkcmVzc0NsaWVudENvbnRyb2xsZXIubGlzdCk7XG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZS86aWRcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxhZGRyZXNzQ2xpZW50Q29udHJvbGxlci5yZW1vdmUpO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSx3QkFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQTZFLFNBQUFELHVCQUFBSSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBRTdFLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7O0FBRXhCOztBQUVBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQ0MsYUFBSSxDQUFDQyxlQUFlLENBQUMsRUFBRUMsZ0NBQXVCLENBQUNDLFFBQVEsQ0FBQztBQUNsRk4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDLENBQUNKLGFBQUksQ0FBQ0MsZUFBZSxDQUFDLEVBQUNDLGdDQUF1QixDQUFDRyxNQUFNLENBQUM7QUFDM0VSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxlQUFlLEVBQUNDLGdDQUF1QixDQUFDSyxJQUFJLENBQUM7QUFDckVWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLGFBQWEsRUFBQ1IsYUFBSSxDQUFDQyxlQUFlLEVBQUNDLGdDQUF1QixDQUFDTyxNQUFNLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWYsT0FBQSxHQUdsRUMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_auth","_AddressClientController","e","__esModule","default","router","routerx","post","auth","verifyEcommerce","addressClientController","register","put","update","get","list","delete","remove","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["AddressClient.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport auth from \"../middlewares/auth\"\nimport addressClientController from \"../controllers/AddressClientController\";\n\nconst router = routerx();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [auth.verifyEcommerce], addressClientController.register);\nrouter.put(\"/update\",[auth.verifyEcommerce],addressClientController.update);\nrouter.get(\"/list\",auth.verifyEcommerce,addressClientController.list);\nrouter.delete(\"/delete/:id\",auth.verifyEcommerce,addressClientController.remove);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,wBAAA,GAAAH,sBAAA,CAAAC,OAAA;AAA6E,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAE7E,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,eAAe,CAAC,EAAEC,gCAAuB,CAACC,QAAQ,CAAC;AAClFN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAC,CAACJ,aAAI,CAACC,eAAe,CAAC,EAACC,gCAAuB,CAACG,MAAM,CAAC;AAC3ER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACK,IAAI,CAAC;AACrEV,MAAM,CAACW,MAAM,CAAC,aAAa,EAACR,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACO,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAf,OAAA,GAGlEC,MAAM","ignoreList":[]}},"mtime":1741488722023},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/AddressClientController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      const address_client = await _models.default.AddressClient.create(req.body);\n      res.status(200).json({\n        message: \"Super! La dirección se registró satisfactoriamente\",\n        address_client: address_client\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA, en el register de AdressClientController\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      await _models.default.AddressClient.findByIdAndUpdate({\n        _id: req.body._id\n      }, data);\n      let AddressClient = await _models.default.AddressClient.findById({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"Super! La dirección del cliente se actualizó satisfactoriamente\",\n        address_client: AddressClient\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA, en el update de AdressClientController\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      let ADDRESS_CLIENT = await _models.default.AddressClient.find({\n        user: req.query.user_id\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        address_client: ADDRESS_CLIENT\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA, en el list de AdressClientController\"\n      });\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.AddressClient.findByIdAndDelete({\n        _id: req.params._id\n      });\n      res.status(200).json({\n        message: \"Super! La dirección del cliente se eliminó satisfactoriamente\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA, en el delete de AdressClientController\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImFkZHJlc3NfY2xpZW50IiwibW9kZWxzIiwiQWRkcmVzc0NsaWVudCIsImNyZWF0ZSIsImJvZHkiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInNlbmQiLCJ1cGRhdGUiLCJkYXRhIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJfaWQiLCJmaW5kQnlJZCIsImxpc3QiLCJBRERSRVNTX0NMSUVOVCIsImZpbmQiLCJ1c2VyIiwicXVlcnkiLCJ1c2VyX2lkIiwic29ydCIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIiwicGFyYW1zIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiQWRkcmVzc0NsaWVudENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5cblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gIHJlZ2lzdGVyOiBhc3luYyAocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG5cbiAgICAgIGNvbnN0IGFkZHJlc3NfY2xpZW50ID0gYXdhaXQgbW9kZWxzLkFkZHJlc3NDbGllbnQuY3JlYXRlKHJlcS5ib2R5KTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogXCJTdXBlciEgTGEgZGlyZWNjacOzbiBzZSByZWdpc3Ryw7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgICAgICAgIGFkZHJlc3NfY2xpZW50OiBhZGRyZXNzX2NsaWVudFxuICAgICAgICAgICAgfSk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BLCBlbiBlbCByZWdpc3RlciBkZSBBZHJlc3NDbGllbnRDb250cm9sbGVyXCJcbiAgICAgIH0pO1xuXG4gICAgfVxuICB9LFxuXG4gIHVwZGF0ZTogYXN5bmMgKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcbiAgICAgIGF3YWl0IG1vZGVscy5BZGRyZXNzQ2xpZW50LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0sIGRhdGEpO1xuXG4gICAgICBsZXQgQWRkcmVzc0NsaWVudCA9IGF3YWl0IG1vZGVscy5BZGRyZXNzQ2xpZW50LmZpbmRCeUlkKHtfaWQ6IHJlcS5ib2R5Ll9pZH0pO1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiBcIlN1cGVyISBMYSBkaXJlY2Npw7NuIGRlbCBjbGllbnRlIHNlIGFjdHVhbGl6w7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgIGFkZHJlc3NfY2xpZW50OiBBZGRyZXNzQ2xpZW50LFxuICAgICAgfSlcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUEsIGVuIGVsIHVwZGF0ZSBkZSBBZHJlc3NDbGllbnRDb250cm9sbGVyXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICBsaXN0OiBhc3luYyAocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgQUREUkVTU19DTElFTlQgID0gYXdhaXQgbW9kZWxzLkFkZHJlc3NDbGllbnQuZmluZCh7dXNlcjpyZXEucXVlcnkudXNlcl9pZH0pLnNvcnQoeydjcmVhdGVkQXQnOi0xfSk7XG4gIFxuICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIGFkZHJlc3NfY2xpZW50OiBBRERSRVNTX0NMSUVOVFxuICAgICAgICAgIH0pO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQSwgZW4gZWwgbGlzdCBkZSBBZHJlc3NDbGllbnRDb250cm9sbGVyXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICByZW1vdmU6IGFzeW5jIChyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICBhd2FpdCBtb2RlbHMuQWRkcmVzc0NsaWVudC5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiByZXEucGFyYW1zLl9pZH0pO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICBtZXNzYWdlOiAgXCJTdXBlciEgTGEgZGlyZWNjacOzbiBkZWwgY2xpZW50ZSBzZSBlbGltaW7DsyBzYXRpc2ZhY3RvcmlhbWVudGVcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQSwgZW4gZWwgZGVsZXRlIGRlIEFkcmVzc0NsaWVudENvbnRyb2xsZXJcIlxuICAgICAgfSk7XG4gICAgfVxuICB9LFxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBK0Is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","map":{"version":3,"names":["_models","_interopRequireDefault","require","e","__esModule","default","_default","exports","register","req","res","address_client","models","AddressClient","create","body","status","json","message","error","console","log","send","update","data","findByIdAndUpdate","_id","findById","list","ADDRESS_CLIENT","find","user","query","user_id","sort","remove","findByIdAndDelete","params"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["AddressClientController.js"],"sourcesContent":["import models from \"../models\";\n\n\nexport default {\n\n  register: async (req,res) => {\n    try {\n\n      const address_client = await models.AddressClient.create(req.body);\n            res.status(200).json({\n              message: \"Super! La dirección se registró satisfactoriamente\",\n              address_client: address_client\n            });\n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA, en el register de AdressClientController\"\n      });\n\n    }\n  },\n\n  update: async (req,res) => {\n    try {\n      let data = req.body;\n      await models.AddressClient.findByIdAndUpdate({_id: req.body._id}, data);\n\n      let AddressClient = await models.AddressClient.findById({_id: req.body._id});\n      res.status(200).json({\n        message: \"Super! La dirección del cliente se actualizó satisfactoriamente\",\n        address_client: AddressClient,\n      })\n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA, en el update de AdressClientController\"\n      });\n    }\n  },\n\n  list: async (req,res) => {\n    try {\n            let ADDRESS_CLIENT  = await models.AddressClient.find({user:req.query.user_id}).sort({'createdAt':-1});\n  \n          res.status(200).json({\n            address_client: ADDRESS_CLIENT\n          });\n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA, en el list de AdressClientController\"\n      });\n    }\n  },\n\n  remove: async (req,res) => {\n    try {\n       await models.AddressClient.findByIdAndDelete({_id: req.params._id});\n            res.status(200).json({\n              message:  \"Super! La dirección del cliente se eliminó satisfactoriamente\",\n            });\n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA, en el delete de AdressClientController\"\n      });\n    }\n  },\n}\n"],"mappings":"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","ignoreList":[]}},"mtime":1739810406712},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/AddressClient.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _AddressClientController = _interopRequireDefault(require(\"../controllers/AddressClientController\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyEcommerce], _AddressClientController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyEcommerce], _AddressClientController.default.update);\nrouter.get(\"/list\", _auth.default.verifyEcommerce, _AddressClientController.default.list);\nrouter.delete(\"/delete/:id\", _auth.default.verifyEcommerce, _AddressClientController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hdXRoIiwiX0FkZHJlc3NDbGllbnRDb250cm9sbGVyIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5RWNvbW1lcmNlIiwiYWRkcmVzc0NsaWVudENvbnRyb2xsZXIiLCJyZWdpc3RlciIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJkZWxldGUiLCJyZW1vdmUiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2Uvcm91dGVyLyIsInNvdXJjZXMiOlsiQWRkcmVzc0NsaWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiXG5pbXBvcnQgYXV0aCBmcm9tIFwiLi4vbWlkZGxld2FyZXMvYXV0aFwiXG5pbXBvcnQgYWRkcmVzc0NsaWVudENvbnRyb2xsZXIgZnJvbSBcIi4uL2NvbnRyb2xsZXJzL0FkZHJlc3NDbGllbnRDb250cm9sbGVyXCI7XG5cbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcblxuLy8gcHJvY2Vzcy5lbnYuVVJMX0JBQ0tFTkQvYXBpL3VzZXJzL3JlZ2lzdGVyXG5cbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsIFthdXRoLnZlcmlmeUVjb21tZXJjZV0sIGFkZHJlc3NDbGllbnRDb250cm9sbGVyLnJlZ2lzdGVyKTtcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsW2F1dGgudmVyaWZ5RWNvbW1lcmNlXSxhZGRyZXNzQ2xpZW50Q29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLmdldChcIi9saXN0XCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsYWRkcmVzc0NsaWVudENvbnRyb2xsZXIubGlzdCk7XG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZS86aWRcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxhZGRyZXNzQ2xpZW50Q29udHJvbGxlci5yZW1vdmUpO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSx3QkFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQTZFLFNBQUFELHVCQUFBSSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBRTdFLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7O0FBRXhCOztBQUVBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQ0MsYUFBSSxDQUFDQyxlQUFlLENBQUMsRUFBRUMsZ0NBQXVCLENBQUNDLFFBQVEsQ0FBQztBQUNsRk4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDLENBQUNKLGFBQUksQ0FBQ0MsZUFBZSxDQUFDLEVBQUNDLGdDQUF1QixDQUFDRyxNQUFNLENBQUM7QUFDM0VSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxlQUFlLEVBQUNDLGdDQUF1QixDQUFDSyxJQUFJLENBQUM7QUFDckVWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLGFBQWEsRUFBQ1IsYUFBSSxDQUFDQyxlQUFlLEVBQUNDLGdDQUF1QixDQUFDTyxNQUFNLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWYsT0FBQSxHQUdsRUMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_auth","_AddressClientController","e","__esModule","default","router","routerx","post","auth","verifyEcommerce","addressClientController","register","put","update","get","list","delete","remove","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["AddressClient.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport auth from \"../middlewares/auth\"\nimport addressClientController from \"../controllers/AddressClientController\";\n\nconst router = routerx();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [auth.verifyEcommerce], addressClientController.register);\nrouter.put(\"/update\",[auth.verifyEcommerce],addressClientController.update);\nrouter.get(\"/list\",auth.verifyEcommerce,addressClientController.list);\nrouter.delete(\"/delete/:id\",auth.verifyEcommerce,addressClientController.remove);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,wBAAA,GAAAH,sBAAA,CAAAC,OAAA;AAA6E,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAE7E,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,eAAe,CAAC,EAAEC,gCAAuB,CAACC,QAAQ,CAAC;AAClFN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAC,CAACJ,aAAI,CAACC,eAAe,CAAC,EAACC,gCAAuB,CAACG,MAAM,CAAC;AAC3ER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACK,IAAI,CAAC;AACrEV,MAAM,CAACW,MAAM,CAAC,aAAa,EAACR,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACO,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAf,OAAA,GAGlEC,MAAM","ignoreList":[]}},"mtime":1741488722023},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/AddressClientController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      const address_client = await _models.default.AddressClient.create(req.body);\n      res.status(200).json({\n        message: \"Super! La dirección se registró satisfactoriamente\",\n        address_client: address_client\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA, en el register de AdressClientController\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      await _models.default.AddressClient.findByIdAndUpdate({\n        _id: req.body._id\n      }, data);\n      let AddressClient = await _models.default.AddressClient.findById({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"Super! La dirección del cliente se actualizó satisfactoriamente\",\n        address_client: AddressClient\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA, en el update de AdressClientController\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      let ADDRESS_CLIENT = await _models.default.AddressClient.find({\n        user: req.query.user_id\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        address_client: ADDRESS_CLIENT\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA, en el list de AdressClientController\"\n      });\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.AddressClient.findByIdAndDelete({\n        _id: req.params._id\n      });\n      res.status(200).json({\n        message: \"Super! La dirección del cliente se eliminó satisfactoriamente\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA, en el delete de AdressClientController\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImFkZHJlc3NfY2xpZW50IiwibW9kZWxzIiwiQWRkcmVzc0NsaWVudCIsImNyZWF0ZSIsImJvZHkiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInNlbmQiLCJ1cGRhdGUiLCJkYXRhIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJfaWQiLCJmaW5kQnlJZCIsImxpc3QiLCJBRERSRVNTX0NMSUVOVCIsImZpbmQiLCJ1c2VyIiwicXVlcnkiLCJ1c2VyX2lkIiwic29ydCIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIiwicGFyYW1zIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiQWRkcmVzc0NsaWVudENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5cblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gIHJlZ2lzdGVyOiBhc3luYyAocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG5cbiAgICAgIGNvbnN0IGFkZHJlc3NfY2xpZW50ID0gYXdhaXQgbW9kZWxzLkFkZHJlc3NDbGllbnQuY3JlYXRlKHJlcS5ib2R5KTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogXCJTdXBlciEgTGEgZGlyZWNjacOzbiBzZSByZWdpc3Ryw7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgICAgICAgIGFkZHJlc3NfY2xpZW50OiBhZGRyZXNzX2NsaWVudFxuICAgICAgICAgICAgfSk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BLCBlbiBlbCByZWdpc3RlciBkZSBBZHJlc3NDbGllbnRDb250cm9sbGVyXCJcbiAgICAgIH0pO1xuXG4gICAgfVxuICB9LFxuXG4gIHVwZGF0ZTogYXN5bmMgKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcbiAgICAgIGF3YWl0IG1vZGVscy5BZGRyZXNzQ2xpZW50LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0sIGRhdGEpO1xuXG4gICAgICBsZXQgQWRkcmVzc0NsaWVudCA9IGF3YWl0IG1vZGVscy5BZGRyZXNzQ2xpZW50LmZpbmRCeUlkKHtfaWQ6IHJlcS5ib2R5Ll9pZH0pO1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiBcIlN1cGVyISBMYSBkaXJlY2Npw7NuIGRlbCBjbGllbnRlIHNlIGFjdHVhbGl6w7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgIGFkZHJlc3NfY2xpZW50OiBBZGRyZXNzQ2xpZW50LFxuICAgICAgfSlcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUEsIGVuIGVsIHVwZGF0ZSBkZSBBZHJlc3NDbGllbnRDb250cm9sbGVyXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICBsaXN0OiBhc3luYyAocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgQUREUkVTU19DTElFTlQgID0gYXdhaXQgbW9kZWxzLkFkZHJlc3NDbGllbnQuZmluZCh7dXNlcjpyZXEucXVlcnkudXNlcl9pZH0pLnNvcnQoeydjcmVhdGVkQXQnOi0xfSk7XG4gIFxuICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIGFkZHJlc3NfY2xpZW50OiBBRERSRVNTX0NMSUVOVFxuICAgICAgICAgIH0pO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQSwgZW4gZWwgbGlzdCBkZSBBZHJlc3NDbGllbnRDb250cm9sbGVyXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICByZW1vdmU6IGFzeW5jIChyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICBhd2FpdCBtb2RlbHMuQWRkcmVzc0NsaWVudC5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiByZXEucGFyYW1zLl9pZH0pO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICBtZXNzYWdlOiAgXCJTdXBlciEgTGEgZGlyZWNjacOzbiBkZWwgY2xpZW50ZSBzZSBlbGltaW7DsyBzYXRpc2ZhY3RvcmlhbWVudGVcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQSwgZW4gZWwgZGVsZXRlIGRlIEFkcmVzc0NsaWVudENvbnRyb2xsZXJcIlxuICAgICAgfSk7XG4gICAgfVxuICB9LFxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBK0IsU0FBQUQsdUJBQUFFLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUdoQjtFQUViRyxRQUFRLEVBQUUsTUFBQUEsQ0FBT0MsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDM0IsSUFBSTtNQUVGLE1BQU1DLGNBQWMsR0FBRyxNQUFNQyxlQUFNLENBQUNDLGFBQWEsQ0FBQ0MsTUFBTSxDQUFDTCxHQUFHLENBQUNNLElBQUksQ0FBQztNQUM1REwsR0FBRyxDQUFDTSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNuQkMsT0FBTyxFQUFFLG9EQUFvRDtRQUM3RFAsY0FBYyxFQUFFQTtNQUNsQixDQUFDLENBQUM7SUFFVixDQUFDLENBQUMsT0FBT1EsS0FBSyxFQUFFO01BQ2RDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRixLQUFLLENBQUM7TUFDbEJULEdBQUcsQ0FBQ00sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDTSxJQUFJLENBQUM7UUFDbkJKLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUVKO0VBQ0YsQ0FBQztFQUVESyxNQUFNLEVBQUUsTUFBQUEsQ0FBT2QsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDekIsSUFBSTtNQUNGLElBQUljLElBQUksR0FBR2YsR0FBRyxDQUFDTSxJQUFJO01BQ25CLE1BQU1ILGVBQU0sQ0FBQ0MsYUFBYSxDQUFDWSxpQkFBaUIsQ0FBQztRQUFDQyxHQUFHLEVBQUVqQixHQUFHLENBQUNNLElBQUksQ0FBQ1c7TUFBRyxDQUFDLEVBQUVGLElBQUksQ0FBQztNQUV2RSxJQUFJWCxhQUFhLEdBQUcsTUFBTUQsZUFBTSxDQUFDQyxhQUFhLENBQUNjLFFBQVEsQ0FBQztRQUFDRCxHQUFHLEVBQUVqQixHQUFHLENBQUNNLElBQUksQ0FBQ1c7TUFBRyxDQUFDLENBQUM7TUFDNUVoQixHQUFHLENBQUNNLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ25CQyxPQUFPLEVBQUUsaUVBQWlFO1FBQzFFUCxjQUFjLEVBQUVFO01BQ2xCLENBQUMsQ0FBQztJQUVKLENBQUMsQ0FBQyxPQUFPTSxLQUFLLEVBQUU7TUFDZEMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEtBQUssQ0FBQztNQUNsQlQsR0FBRyxDQUFDTSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNNLElBQUksQ0FBQztRQUNuQkosT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ0o7RUFDRixDQUFDO0VBRURVLElBQUksRUFBRSxNQUFBQSxDQUFPbkIsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDdkIsSUFBSTtNQUNJLElBQUltQixjQUFjLEdBQUksTUFBTWpCLGVBQU0sQ0FBQ0MsYUFBYSxDQUFDaUIsSUFBSSxDQUFDO1FBQUNDLElBQUksRUFBQ3RCLEdBQUcsQ0FBQ3VCLEtBQUssQ0FBQ0M7TUFBTyxDQUFDLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQUMsV0FBVyxFQUFDLENBQUM7TUFBQyxDQUFDLENBQUM7TUFFeEd4QixHQUFHLENBQUNNLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ25CTixjQUFjLEVBQUVrQjtNQUNsQixDQUFDLENBQUM7SUFFUixDQUFDLENBQUMsT0FBT1YsS0FBSyxFQUFFO01BQ2RDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRixLQUFLLENBQUM7TUFDbEJULEdBQUcsQ0FBQ00sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDTSxJQUFJLENBQUM7UUFDbkJKLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUNKO0VBQ0YsQ0FBQztFQUVEaUIsTUFBTSxFQUFFLE1BQUFBLENBQU8xQixHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUN6QixJQUFJO01BQ0QsTUFBTUUsZUFBTSxDQUFDQyxhQUFhLENBQUN1QixpQkFBaUIsQ0FBQztRQUFDVixHQUFHLEVBQUVqQixHQUFHLENBQUM0QixNQUFNLENBQUNYO01BQUcsQ0FBQyxDQUFDO01BQzlEaEIsR0FBRyxDQUFDTSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNuQkMsT0FBTyxFQUFHO01BQ1osQ0FBQyxDQUFDO0lBRVYsQ0FBQyxDQUFDLE9BQU9DLEtBQUssRUFBRTtNQUNkQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsS0FBSyxDQUFDO01BQ2xCVCxHQUFHLENBQUNNLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ00sSUFBSSxDQUFDO1FBQ25CSixPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7SUFDSjtFQUNGO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_models","_interopRequireDefault","require","e","__esModule","default","_default","exports","register","req","res","address_client","models","AddressClient","create","body","status","json","message","error","console","log","send","update","data","findByIdAndUpdate","_id","findById","list","ADDRESS_CLIENT","find","user","query","user_id","sort","remove","findByIdAndDelete","params"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["AddressClientController.js"],"sourcesContent":["import models from \"../models\";\n\n\nexport default {\n\n  register: async (req,res) => {\n    try {\n\n      const address_client = await models.AddressClient.create(req.body);\n            res.status(200).json({\n              message: \"Super! La dirección se registró satisfactoriamente\",\n              address_client: address_client\n            });\n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA, en el register de AdressClientController\"\n      });\n\n    }\n  },\n\n  update: async (req,res) => {\n    try {\n      let data = req.body;\n      await models.AddressClient.findByIdAndUpdate({_id: req.body._id}, data);\n\n      let AddressClient = await models.AddressClient.findById({_id: req.body._id});\n      res.status(200).json({\n        message: \"Super! La dirección del cliente se actualizó satisfactoriamente\",\n        address_client: AddressClient,\n      })\n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA, en el update de AdressClientController\"\n      });\n    }\n  },\n\n  list: async (req,res) => {\n    try {\n            let ADDRESS_CLIENT  = await models.AddressClient.find({user:req.query.user_id}).sort({'createdAt':-1});\n  \n          res.status(200).json({\n            address_client: ADDRESS_CLIENT\n          });\n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA, en el list de AdressClientController\"\n      });\n    }\n  },\n\n  remove: async (req,res) => {\n    try {\n       await models.AddressClient.findByIdAndDelete({_id: req.params._id});\n            res.status(200).json({\n              message:  \"Super! La dirección del cliente se eliminó satisfactoriamente\",\n            });\n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA, en el delete de AdressClientController\"\n      });\n    }\n  },\n}\n"],"mappings":"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","ignoreList":[]}},"mtime":1739810406712},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/Sale.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SaleSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  currency_payment: {\n    type: String,\n    default: 'USD'\n  },\n  method_payment: {\n    type: String,\n    maxlength: 50,\n    required: true\n  },\n  n_transaction: {\n    type: String,\n    maxlength: 200,\n    required: true\n  },\n  name_bank: {\n    type: String,\n    maxlength: 200\n  },\n  number_phone: {\n    type: String,\n    maxlength: 12\n  },\n  id_card_number: {\n    type: String,\n    maxlength: 8\n  },\n  total: {\n    type: Number,\n    required: true\n  },\n  // \n  currency_total: {\n    type: String,\n    maxlength: 50,\n    default: 'USD'\n  },\n  price_dolar: {\n    type: Number,\n    default: 0\n  }\n}, {\n  timestamps: true\n});\nconst Sale = _mongoose.default.model(\"sale\", SaleSchema);\nvar _default = exports.default = Sale;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTYWxlU2NoZW1hIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwiY3VycmVuY3lfcGF5bWVudCIsIlN0cmluZyIsIm1ldGhvZF9wYXltZW50IiwibWF4bGVuZ3RoIiwibl90cmFuc2FjdGlvbiIsIm5hbWVfYmFuayIsIm51bWJlcl9waG9uZSIsImlkX2NhcmRfbnVtYmVyIiwidG90YWwiLCJOdW1iZXIiLCJjdXJyZW5jeV90b3RhbCIsInByaWNlX2RvbGFyIiwidGltZXN0YW1wcyIsIlNhbGUiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIlNhbGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBTYWxlU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gICAgdXNlcjp7dHlwZTogU2NoZW1hLk9iamVjdElkLHJlZjondXNlcicscmVxdWlyZWQ6dHJ1ZX0sXG4gICAgY3VycmVuY3lfcGF5bWVudDp7dHlwZTogU3RyaW5nLGRlZmF1bHQ6ICdVU0QnfSxcbiAgICBtZXRob2RfcGF5bWVudDp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiA1MCxyZXF1aXJlZDp0cnVlfSxcbiAgICBuX3RyYW5zYWN0aW9uOiB7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyMDAscmVxdWlyZWQ6dHJ1ZX0sXG4gICAgbmFtZV9iYW5rOiB7dHlwZTpTdHJpbmcsIG1heGxlbmd0aDoyMDB9LFxuICAgIG51bWJlcl9waG9uZToge3R5cGU6U3RyaW5nLCBtYXhsZW5ndGg6IDEyfSxcbiAgICBpZF9jYXJkX251bWJlcjoge3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOiA4fSxcbiAgICB0b3RhbDp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sXG4gICAgLy8gXG4gICAgY3VycmVuY3lfdG90YWw6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDogNTAsIGRlZmF1bHQ6ICdVU0QnfSxcbiAgICBwcmljZV9kb2xhcjp7dHlwZTpOdW1iZXIsZGVmYXVsdDogMH0sXG59LHtcbiAgICB0aW1lc3RhbXBzOiB0cnVlLFxufSk7XG5cbmNvbnN0IFNhbGUgPSBtb25nb29zZS5tb2RlbChcInNhbGVcIixTYWxlU2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgU2FsZTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SaleSchema","Schema","user","type","ObjectId","ref","required","currency_payment","String","method_payment","maxlength","n_transaction","name_bank","number_phone","id_card_number","total","Number","currency_total","price_dolar","timestamps","Sale","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Sale.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst SaleSchema = new Schema({\n    user:{type: Schema.ObjectId,ref:'user',required:true},\n    currency_payment:{type: String,default: 'USD'},\n    method_payment:{type:String,maxlength: 50,required:true},\n    n_transaction: {type:String,maxlength: 200,required:true},\n    name_bank: {type:String, maxlength:200},\n    number_phone: {type:String, maxlength: 12},\n    id_card_number: {type: String, maxlength: 8},\n    total:{type:Number,required:true},\n    // \n    currency_total: {type: String, maxlength: 50, default: 'USD'},\n    price_dolar:{type:Number,default: 0},\n},{\n    timestamps: true,\n});\n\nconst Sale = mongoose.model(\"sale\",SaleSchema);\n\nexport default Sale;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,IAAI,EAAC;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACrDC,gBAAgB,EAAC;IAACJ,IAAI,EAAEK,MAAM;IAACtB,OAAO,EAAE;EAAK,CAAC;EAC9CuB,cAAc,EAAC;IAACN,IAAI,EAACK,MAAM;IAACE,SAAS,EAAE,EAAE;IAACJ,QAAQ,EAAC;EAAI,CAAC;EACxDK,aAAa,EAAE;IAACR,IAAI,EAACK,MAAM;IAACE,SAAS,EAAE,GAAG;IAACJ,QAAQ,EAAC;EAAI,CAAC;EACzDM,SAAS,EAAE;IAACT,IAAI,EAACK,MAAM;IAAEE,SAAS,EAAC;EAAG,CAAC;EACvCG,YAAY,EAAE;IAACV,IAAI,EAACK,MAAM;IAAEE,SAAS,EAAE;EAAE,CAAC;EAC1CI,cAAc,EAAE;IAACX,IAAI,EAAEK,MAAM;IAAEE,SAAS,EAAE;EAAC,CAAC;EAC5CK,KAAK,EAAC;IAACZ,IAAI,EAACa,MAAM;IAACV,QAAQ,EAAC;EAAI,CAAC;EACjC;EACAW,cAAc,EAAE;IAACd,IAAI,EAAEK,MAAM;IAAEE,SAAS,EAAE,EAAE;IAAExB,OAAO,EAAE;EAAK,CAAC;EAC7DgC,WAAW,EAAC;IAACf,IAAI,EAACa,MAAM;IAAC9B,OAAO,EAAE;EAAC;AACvC,CAAC,EAAC;EACEiC,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAACtB,UAAU,CAAC;AAAC,IAAAuB,QAAA,GAAAC,OAAA,CAAAtC,OAAA,GAEhCkC,IAAI","ignoreList":[]}},"mtime":1745879530683},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/SaleAddress.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SaleAddressSchema = new _mongoose.Schema({\n  sale: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale',\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  country: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  address: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  reference: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  city: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  region: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  township: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  phone: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  note: {\n    type: String,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst SaleAddress = _mongoose.default.model(\"sale_address\", SaleAddressSchema);\nvar _default = exports.default = SaleAddress;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTYWxlQWRkcmVzc1NjaGVtYSIsIlNjaGVtYSIsInNhbGUiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsIm5hbWUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJzdXJuYW1lIiwiY291bnRyeSIsImFkZHJlc3MiLCJyZWZlcmVuY2UiLCJjaXR5IiwicmVnaW9uIiwidG93bnNoaXAiLCJwaG9uZSIsImVtYWlsIiwibm90ZSIsInRpbWVzdGFtcHMiLCJTYWxlQWRkcmVzcyIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvbW9kZWxzLyIsInNvdXJjZXMiOlsiU2FsZUFkZHJlc3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBTYWxlQWRkcmVzc1NjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICAgIHNhbGU6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjogJ3NhbGUnLHJlcXVpcmVkOnRydWV9LFxuICAgIG5hbWU6e3R5cGU6U3RyaW5nLG1heGxlbmd0aCA6IDI1MCxyZXF1aXJlZDp0cnVlfSxcbiAgICBzdXJuYW1lOnt0eXBlOlN0cmluZyxtYXhsZW5ndGggOiAyNTAscmVxdWlyZWQ6dHJ1ZX0sXG4gICAgY291bnRyeTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxuICAgIGFkZHJlc3M6e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDp0cnVlfSxcbiAgICByZWZlcmVuY2U6e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDpmYWxzZX0sXG4gICAgY2l0eTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxuICAgIHJlZ2lvbjp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxuICAgIHRvd25zaGlwOnt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOnRydWUsIG1heGxlbmd0aDogMjUwfSxcbiAgICBwaG9uZTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxuICAgIGVtYWlsOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXG4gICAgbm90ZTp7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOmZhbHNlfSxcbiAgICBcbn0se1xuICAgIHRpbWVzdGFtcHM6IHRydWVcbn0pO1xuXG5jb25zdCBTYWxlQWRkcmVzcyA9IG1vbmdvb3NlLm1vZGVsKFwic2FsZV9hZGRyZXNzXCIsU2FsZUFkZHJlc3NTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgU2FsZUFkZHJlc3M7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SaleAddressSchema","Schema","sale","type","ObjectId","ref","required","name","String","maxlength","surname","country","address","reference","city","region","township","phone","email","note","timestamps","SaleAddress","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["SaleAddress.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst SaleAddressSchema = new Schema({\n    sale:{type:Schema.ObjectId,ref: 'sale',required:true},\n    name:{type:String,maxlength : 250,required:true},\n    surname:{type:String,maxlength : 250,required:true},\n    country:{type:String,maxlength: 250, required:true},\n    address:{type:String,maxlength: 250, required:true},\n    reference:{type:String,maxlength: 250, required:false},\n    city:{type:String,maxlength: 250, required:true},\n    region:{type:String,maxlength: 250, required:true},\n    township:{type: String, required:true, maxlength: 250},\n    phone:{type:String,maxlength: 250, required:true},\n    email:{type:String,maxlength: 250, required:true},\n    note:{type:String, required:false},\n    \n},{\n    timestamps: true\n});\n\nconst SaleAddress = mongoose.model(\"sale_address\",SaleAddressSchema);\nexport default SaleAddress;"],"mappings":"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","ignoreList":[]}},"mtime":1740009796993},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/SaleDetail.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SaleDetailSchema = new _mongoose.Schema({\n  sale: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale',\n    required: true\n  },\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es por porcentaje y 2 es por moneda\n  discount: {\n    type: Number,\n    default: 0\n  },\n  //50%\n  cantidad: {\n    type: Number,\n    required: true\n  },\n  //2\n  variedad: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'variedad',\n    required: false\n  },\n  code_cupon: {\n    type: String,\n    required: false\n  },\n  code_discount: {\n    type: String,\n    required: false\n  },\n  price_unit: {\n    type: Number,\n    required: true\n  },\n  //60\n  subtotal: {\n    type: Number,\n    required: true\n  },\n  //30\n  total: {\n    type: Number,\n    required: true\n  } //60\n}, {\n  timestamps: true\n});\nconst SaleDetail = _mongoose.default.model(\"sale_detail\", SaleDetailSchema);\nvar _default = exports.default = SaleDetail;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTYWxlRGV0YWlsU2NoZW1hIiwiU2NoZW1hIiwic2FsZSIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwicHJvZHVjdCIsInR5cGVfZGlzY291bnQiLCJOdW1iZXIiLCJkaXNjb3VudCIsImNhbnRpZGFkIiwidmFyaWVkYWQiLCJjb2RlX2N1cG9uIiwiU3RyaW5nIiwiY29kZV9kaXNjb3VudCIsInByaWNlX3VuaXQiLCJzdWJ0b3RhbCIsInRvdGFsIiwidGltZXN0YW1wcyIsIlNhbGVEZXRhaWwiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIlNhbGVEZXRhaWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBTYWxlRGV0YWlsU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gICAgc2FsZToge3R5cGU6IFNjaGVtYS5PYmplY3RJZCxyZWY6ICdzYWxlJyxyZXF1aXJlZDp0cnVlfSxcbiAgICBwcm9kdWN0OiB7dHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6ICdwcm9kdWN0JyxyZXF1aXJlZDp0cnVlfSxcbiAgICB0eXBlX2Rpc2NvdW50OiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6ZmFsc2UsZGVmYXVsdDogMX0sLy8xIGVzIHBvciBwb3JjZW50YWplIHkgMiBlcyBwb3IgbW9uZWRhXG4gICAgZGlzY291bnQ6e3R5cGU6TnVtYmVyLGRlZmF1bHQ6IDB9LC8vNTAlXG4gICAgY2FudGlkYWQ6IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzJcbiAgICB2YXJpZWRhZDoge3R5cGU6U2NoZW1hLk9iamVjdElkLCByZWY6ICd2YXJpZWRhZCcsIHJlcXVpcmVkOiBmYWxzZX0sXG4gICAgY29kZV9jdXBvbjoge3R5cGU6U3RyaW5nLHJlcXVpcmVkOmZhbHNlfSxcbiAgICBjb2RlX2Rpc2NvdW50OiB7dHlwZTpTdHJpbmcscmVxdWlyZWQ6ZmFsc2V9LFxuICAgIHByaWNlX3VuaXQ6IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzYwXG4gICAgc3VidG90YWw6IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzMwXG4gICAgdG90YWw6IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzYwXG59LHtcbiAgICB0aW1lc3RhbXBzOnRydWUsXG59KTtcblxuY29uc3QgU2FsZURldGFpbCA9IG1vbmdvb3NlLm1vZGVsKFwic2FsZV9kZXRhaWxcIixTYWxlRGV0YWlsU2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgU2FsZURldGFpbDsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SaleDetailSchema","Schema","sale","type","ObjectId","ref","required","product","type_discount","Number","discount","cantidad","variedad","code_cupon","String","code_discount","price_unit","subtotal","total","timestamps","SaleDetail","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["SaleDetail.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst SaleDetailSchema = new Schema({\n    sale: {type: Schema.ObjectId,ref: 'sale',required:true},\n    product: {type: Schema.ObjectId, ref: 'product',required:true},\n    type_discount: {type:Number,required:false,default: 1},//1 es por porcentaje y 2 es por moneda\n    discount:{type:Number,default: 0},//50%\n    cantidad: {type:Number,required:true},//2\n    variedad: {type:Schema.ObjectId, ref: 'variedad', required: false},\n    code_cupon: {type:String,required:false},\n    code_discount: {type:String,required:false},\n    price_unit: {type:Number,required:true},//60\n    subtotal: {type:Number,required:true},//30\n    total: {type:Number,required:true},//60\n},{\n    timestamps:true,\n});\n\nconst SaleDetail = mongoose.model(\"sale_detail\",SaleDetailSchema);\n\nexport default SaleDetail;"],"mappings":"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","ignoreList":[]}},"mtime":1740021891406},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/Review.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst ReviewSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  sale_detail: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale_detail',\n    required: true\n  },\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  cantidad: {\n    type: Number,\n    maxlength: 2,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Review = _mongoose.default.model(\"review\", ReviewSchema);\nvar _default = exports.default = Review;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJSZXZpZXdTY2hlbWEiLCJTY2hlbWEiLCJwcm9kdWN0IiwidHlwZSIsIk9iamVjdElkIiwicmVmIiwicmVxdWlyZWQiLCJzYWxlX2RldGFpbCIsInVzZXIiLCJjYW50aWRhZCIsIk51bWJlciIsIm1heGxlbmd0aCIsImRlc2NyaXB0aW9uIiwiU3RyaW5nIiwidGltZXN0YW1wcyIsIlJldmlldyIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvbW9kZWxzLyIsInNvdXJjZXMiOlsiUmV2aWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgUmV2aWV3U2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gICAgcHJvZHVjdDp7dHlwZTpTY2hlbWEuT2JqZWN0SWQscmVmOidwcm9kdWN0JyxyZXF1aXJlZDp0cnVlfSxcbiAgICBzYWxlX2RldGFpbDp7dHlwZTpTY2hlbWEuT2JqZWN0SWQscmVmOidzYWxlX2RldGFpbCcsIHJlcXVpcmVkOnRydWV9LFxuICAgIHVzZXI6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjondXNlcicsIHJlcXVpcmVkOnRydWV9LFxuICAgIGNhbnRpZGFkOnt0eXBlOk51bWJlcixtYXhsZW5ndGg6MixyZXF1aXJlZDp0cnVlfSxcbiAgICBkZXNjcmlwdGlvbjp7dHlwZTpTdHJpbmcscmVxdWlyZWQ6dHJ1ZX0sXG59LHtcbiAgICB0aW1lc3RhbXBzOiB0cnVlXG59KTtcblxuY29uc3QgUmV2aWV3ID0gbW9uZ29vc2UubW9kZWwoXCJyZXZpZXdcIixSZXZpZXdTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgUmV2aWV3OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUssT0FBQSxFQUFBTCxDQUFBLFFBQUFHLENBQUEsR0FBQUosd0JBQUEsQ0FBQUcsQ0FBQSxPQUFBQyxDQUFBLElBQUFBLENBQUEsQ0FBQUcsR0FBQSxDQUFBTixDQUFBLFVBQUFHLENBQUEsQ0FBQUksR0FBQSxDQUFBUCxDQUFBLE9BQUFRLENBQUEsS0FBQUMsU0FBQSxVQUFBQyxDQUFBLEdBQUFDLE1BQUEsQ0FBQUMsY0FBQSxJQUFBRCxNQUFBLENBQUFFLHdCQUFBLFdBQUFDLENBQUEsSUFBQWQsQ0FBQSxvQkFBQWMsQ0FBQSxPQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWhCLENBQUEsRUFBQWMsQ0FBQSxTQUFBRyxDQUFBLEdBQUFQLENBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBYixDQUFBLEVBQUFjLENBQUEsVUFBQUcsQ0FBQSxLQUFBQSxDQUFBLENBQUFWLEdBQUEsSUFBQVUsQ0FBQSxDQUFBQyxHQUFBLElBQUFQLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSixDQUFBLEVBQUFNLENBQUEsRUFBQUcsQ0FBQSxJQUFBVCxDQUFBLENBQUFNLENBQUEsSUFBQWQsQ0FBQSxDQUFBYyxDQUFBLFlBQUFOLENBQUEsQ0FBQUgsT0FBQSxHQUFBTCxDQUFBLEVBQUFHLENBQUEsSUFBQUEsQ0FBQSxDQUFBZSxHQUFBLENBQUFsQixDQUFBLEVBQUFRLENBQUEsR0FBQUEsQ0FBQTtBQUV6QyxNQUFNVyxZQUFZLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUM1QkMsT0FBTyxFQUFDO0lBQUNDLElBQUksRUFBQ0YsZ0JBQU0sQ0FBQ0csUUFBUTtJQUFDQyxHQUFHLEVBQUMsU0FBUztJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQzFEQyxXQUFXLEVBQUM7SUFBQ0osSUFBSSxFQUFDRixnQkFBTSxDQUFDRyxRQUFRO0lBQUNDLEdBQUcsRUFBQyxhQUFhO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbkVFLElBQUksRUFBQztJQUFDTCxJQUFJLEVBQUNGLGdCQUFNLENBQUNHLFFBQVE7SUFBQ0MsR0FBRyxFQUFDLE1BQU07SUFBRUMsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNyREcsUUFBUSxFQUFDO0lBQUNOLElBQUksRUFBQ08sTUFBTTtJQUFDQyxTQUFTLEVBQUMsQ0FBQztJQUFDTCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2hETSxXQUFXLEVBQUM7SUFBQ1QsSUFBSSxFQUFDVSxNQUFNO0lBQUNQLFFBQVEsRUFBQztFQUFJO0FBQzFDLENBQUMsRUFBQztFQUNFUSxVQUFVLEVBQUU7QUFDaEIsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsTUFBTSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsUUFBUSxFQUFDakIsWUFBWSxDQUFDO0FBQUMsSUFBQWtCLFFBQUEsR0FBQUMsT0FBQSxDQUFBakMsT0FBQSxHQUN0QzZCLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ReviewSchema","Schema","product","type","ObjectId","ref","required","sale_detail","user","cantidad","Number","maxlength","description","String","timestamps","Review","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Review.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst ReviewSchema = new Schema({\n    product:{type:Schema.ObjectId,ref:'product',required:true},\n    sale_detail:{type:Schema.ObjectId,ref:'sale_detail', required:true},\n    user:{type:Schema.ObjectId,ref:'user', required:true},\n    cantidad:{type:Number,maxlength:2,required:true},\n    description:{type:String,required:true},\n},{\n    timestamps: true\n});\n\nconst Review = mongoose.model(\"review\",ReviewSchema);\nexport default Review;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,OAAO,EAAC;IAACC,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,SAAS;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC1DC,WAAW,EAAC;IAACJ,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,aAAa;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACnEE,IAAI,EAAC;IAACL,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,MAAM;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACrDG,QAAQ,EAAC;IAACN,IAAI,EAACO,MAAM;IAACC,SAAS,EAAC,CAAC;IAACL,QAAQ,EAAC;EAAI,CAAC;EAChDM,WAAW,EAAC;IAACT,IAAI,EAACU,MAAM;IAACP,QAAQ,EAAC;EAAI;AAC1C,CAAC,EAAC;EACEQ,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,QAAQ,EAACjB,YAAY,CAAC;AAAC,IAAAkB,QAAA,GAAAC,OAAA,CAAAjC,OAAA,GACtC6B,MAAM","ignoreList":[]}},"mtime":1739978309690},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/Sale.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SaleSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  currency_payment: {\n    type: String,\n    default: 'USD'\n  },\n  method_payment: {\n    type: String,\n    maxlength: 50,\n    required: true\n  },\n  n_transaction: {\n    type: String,\n    maxlength: 200,\n    required: true\n  },\n  name_bank: {\n    type: String,\n    maxlength: 200\n  },\n  number_phone: {\n    type: String,\n    maxlength: 12\n  },\n  id_card_number: {\n    type: String,\n    maxlength: 8\n  },\n  total: {\n    type: Number,\n    required: true\n  },\n  // \n  currency_total: {\n    type: String,\n    maxlength: 50,\n    default: 'USD'\n  },\n  price_dolar: {\n    type: Number,\n    default: 0\n  }\n}, {\n  timestamps: true\n});\nconst Sale = _mongoose.default.model(\"sale\", SaleSchema);\nvar _default = exports.default = Sale;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTYWxlU2NoZW1hIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwiY3VycmVuY3lfcGF5bWVudCIsIlN0cmluZyIsIm1ldGhvZF9wYXltZW50IiwibWF4bGVuZ3RoIiwibl90cmFuc2FjdGlvbiIsIm5hbWVfYmFuayIsIm51bWJlcl9waG9uZSIsImlkX2NhcmRfbnVtYmVyIiwidG90YWwiLCJOdW1iZXIiLCJjdXJyZW5jeV90b3RhbCIsInByaWNlX2RvbGFyIiwidGltZXN0YW1wcyIsIlNhbGUiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIlNhbGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBTYWxlU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gICAgdXNlcjp7dHlwZTogU2NoZW1hLk9iamVjdElkLHJlZjondXNlcicscmVxdWlyZWQ6dHJ1ZX0sXG4gICAgY3VycmVuY3lfcGF5bWVudDp7dHlwZTogU3RyaW5nLGRlZmF1bHQ6ICdVU0QnfSxcbiAgICBtZXRob2RfcGF5bWVudDp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiA1MCxyZXF1aXJlZDp0cnVlfSxcbiAgICBuX3RyYW5zYWN0aW9uOiB7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyMDAscmVxdWlyZWQ6dHJ1ZX0sXG4gICAgbmFtZV9iYW5rOiB7dHlwZTpTdHJpbmcsIG1heGxlbmd0aDoyMDB9LFxuICAgIG51bWJlcl9waG9uZToge3R5cGU6U3RyaW5nLCBtYXhsZW5ndGg6IDEyfSxcbiAgICBpZF9jYXJkX251bWJlcjoge3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOiA4fSxcbiAgICB0b3RhbDp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sXG4gICAgLy8gXG4gICAgY3VycmVuY3lfdG90YWw6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDogNTAsIGRlZmF1bHQ6ICdVU0QnfSxcbiAgICBwcmljZV9kb2xhcjp7dHlwZTpOdW1iZXIsZGVmYXVsdDogMH0sXG59LHtcbiAgICB0aW1lc3RhbXBzOiB0cnVlLFxufSk7XG5cbmNvbnN0IFNhbGUgPSBtb25nb29zZS5tb2RlbChcInNhbGVcIixTYWxlU2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgU2FsZTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SaleSchema","Schema","user","type","ObjectId","ref","required","currency_payment","String","method_payment","maxlength","n_transaction","name_bank","number_phone","id_card_number","total","Number","currency_total","price_dolar","timestamps","Sale","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Sale.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst SaleSchema = new Schema({\n    user:{type: Schema.ObjectId,ref:'user',required:true},\n    currency_payment:{type: String,default: 'USD'},\n    method_payment:{type:String,maxlength: 50,required:true},\n    n_transaction: {type:String,maxlength: 200,required:true},\n    name_bank: {type:String, maxlength:200},\n    number_phone: {type:String, maxlength: 12},\n    id_card_number: {type: String, maxlength: 8},\n    total:{type:Number,required:true},\n    // \n    currency_total: {type: String, maxlength: 50, default: 'USD'},\n    price_dolar:{type:Number,default: 0},\n},{\n    timestamps: true,\n});\n\nconst Sale = mongoose.model(\"sale\",SaleSchema);\n\nexport default Sale;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,IAAI,EAAC;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACrDC,gBAAgB,EAAC;IAACJ,IAAI,EAAEK,MAAM;IAACtB,OAAO,EAAE;EAAK,CAAC;EAC9CuB,cAAc,EAAC;IAACN,IAAI,EAACK,MAAM;IAACE,SAAS,EAAE,EAAE;IAACJ,QAAQ,EAAC;EAAI,CAAC;EACxDK,aAAa,EAAE;IAACR,IAAI,EAACK,MAAM;IAACE,SAAS,EAAE,GAAG;IAACJ,QAAQ,EAAC;EAAI,CAAC;EACzDM,SAAS,EAAE;IAACT,IAAI,EAACK,MAAM;IAAEE,SAAS,EAAC;EAAG,CAAC;EACvCG,YAAY,EAAE;IAACV,IAAI,EAACK,MAAM;IAAEE,SAAS,EAAE;EAAE,CAAC;EAC1CI,cAAc,EAAE;IAACX,IAAI,EAAEK,MAAM;IAAEE,SAAS,EAAE;EAAC,CAAC;EAC5CK,KAAK,EAAC;IAACZ,IAAI,EAACa,MAAM;IAACV,QAAQ,EAAC;EAAI,CAAC;EACjC;EACAW,cAAc,EAAE;IAACd,IAAI,EAAEK,MAAM;IAAEE,SAAS,EAAE,EAAE;IAAExB,OAAO,EAAE;EAAK,CAAC;EAC7DgC,WAAW,EAAC;IAACf,IAAI,EAACa,MAAM;IAAC9B,OAAO,EAAE;EAAC;AACvC,CAAC,EAAC;EACEiC,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAACtB,UAAU,CAAC;AAAC,IAAAuB,QAAA,GAAAC,OAAA,CAAAtC,OAAA,GAEhCkC,IAAI","ignoreList":[]}},"mtime":1745879530683},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/SaleAddress.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SaleAddressSchema = new _mongoose.Schema({\n  sale: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale',\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  country: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  address: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  reference: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  city: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  region: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  township: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  phone: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  note: {\n    type: String,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst SaleAddress = _mongoose.default.model(\"sale_address\", SaleAddressSchema);\nvar _default = exports.default = SaleAddress;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTYWxlQWRkcmVzc1NjaGVtYSIsIlNjaGVtYSIsInNhbGUiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsIm5hbWUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJzdXJuYW1lIiwiY291bnRyeSIsImFkZHJlc3MiLCJyZWZlcmVuY2UiLCJjaXR5IiwicmVnaW9uIiwidG93bnNoaXAiLCJwaG9uZSIsImVtYWlsIiwibm90ZSIsInRpbWVzdGFtcHMiLCJTYWxlQWRkcmVzcyIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvbW9kZWxzLyIsInNvdXJjZXMiOlsiU2FsZUFkZHJlc3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBTYWxlQWRkcmVzc1NjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICAgIHNhbGU6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjogJ3NhbGUnLHJlcXVpcmVkOnRydWV9LFxuICAgIG5hbWU6e3R5cGU6U3RyaW5nLG1heGxlbmd0aCA6IDI1MCxyZXF1aXJlZDp0cnVlfSxcbiAgICBzdXJuYW1lOnt0eXBlOlN0cmluZyxtYXhsZW5ndGggOiAyNTAscmVxdWlyZWQ6dHJ1ZX0sXG4gICAgY291bnRyeTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxuICAgIGFkZHJlc3M6e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDp0cnVlfSxcbiAgICByZWZlcmVuY2U6e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDpmYWxzZX0sXG4gICAgY2l0eTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxuICAgIHJlZ2lvbjp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxuICAgIHRvd25zaGlwOnt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOnRydWUsIG1heGxlbmd0aDogMjUwfSxcbiAgICBwaG9uZTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxuICAgIGVtYWlsOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXG4gICAgbm90ZTp7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOmZhbHNlfSxcbiAgICBcbn0se1xuICAgIHRpbWVzdGFtcHM6IHRydWVcbn0pO1xuXG5jb25zdCBTYWxlQWRkcmVzcyA9IG1vbmdvb3NlLm1vZGVsKFwic2FsZV9hZGRyZXNzXCIsU2FsZUFkZHJlc3NTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgU2FsZUFkZHJlc3M7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FBQSxDQUFBSSxHQUFBLENBQUFQLENBQUEsT0FBQVEsQ0FBQSxLQUFBQyxTQUFBLFVBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsQ0FBQSxJQUFBZCxDQUFBLG9CQUFBYyxDQUFBLE9BQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBaEIsQ0FBQSxFQUFBYyxDQUFBLFNBQUFHLENBQUEsR0FBQVAsQ0FBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFiLENBQUEsRUFBQWMsQ0FBQSxVQUFBRyxDQUFBLEtBQUFBLENBQUEsQ0FBQVYsR0FBQSxJQUFBVSxDQUFBLENBQUFDLEdBQUEsSUFBQVAsTUFBQSxDQUFBQyxjQUFBLENBQUFKLENBQUEsRUFBQU0sQ0FBQSxFQUFBRyxDQUFBLElBQUFULENBQUEsQ0FBQU0sQ0FBQSxJQUFBZCxDQUFBLENBQUFjLENBQUEsWUFBQU4sQ0FBQSxDQUFBSCxPQUFBLEdBQUFMLENBQUEsRUFBQUcsQ0FBQSxJQUFBQSxDQUFBLENBQUFlLEdBQUEsQ0FBQWxCLENBQUEsRUFBQVEsQ0FBQSxHQUFBQSxDQUFBO0FBRXpDLE1BQU1XLGlCQUFpQixHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDakNDLElBQUksRUFBQztJQUFDQyxJQUFJLEVBQUNGLGdCQUFNLENBQUNHLFFBQVE7SUFBQ0MsR0FBRyxFQUFFLE1BQU07SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNyREMsSUFBSSxFQUFDO0lBQUNKLElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUcsR0FBRztJQUFDSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2hESSxPQUFPLEVBQUM7SUFBQ1AsSUFBSSxFQUFDSyxNQUFNO0lBQUNDLFNBQVMsRUFBRyxHQUFHO0lBQUNILFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbkRLLE9BQU8sRUFBQztJQUFDUixJQUFJLEVBQUNLLE1BQU07SUFBQ0MsU0FBUyxFQUFFLEdBQUc7SUFBRUgsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNuRE0sT0FBTyxFQUFDO0lBQUNULElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUUsR0FBRztJQUFFSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ25ETyxTQUFTLEVBQUM7SUFBQ1YsSUFBSSxFQUFDSyxNQUFNO0lBQUNDLFNBQVMsRUFBRSxHQUFHO0lBQUVILFFBQVEsRUFBQztFQUFLLENBQUM7RUFDdERRLElBQUksRUFBQztJQUFDWCxJQUFJLEVBQUNLLE1BQU07SUFBQ0MsU0FBUyxFQUFFLEdBQUc7SUFBRUgsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNoRFMsTUFBTSxFQUFDO0lBQUNaLElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUUsR0FBRztJQUFFSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2xEVSxRQUFRLEVBQUM7SUFBQ2IsSUFBSSxFQUFFSyxNQUFNO0lBQUVGLFFBQVEsRUFBQyxJQUFJO0lBQUVHLFNBQVMsRUFBRTtFQUFHLENBQUM7RUFDdERRLEtBQUssRUFBQztJQUFDZCxJQUFJLEVBQUNLLE1BQU07SUFBQ0MsU0FBUyxFQUFFLEdBQUc7SUFBRUgsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNqRFksS0FBSyxFQUFDO0lBQUNmLElBQUksRUFBQ0ssTUFBTTtJQUFDQyxTQUFTLEVBQUUsR0FBRztJQUFFSCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2pEYSxJQUFJLEVBQUM7SUFBQ2hCLElBQUksRUFBQ0ssTUFBTTtJQUFFRixRQUFRLEVBQUM7RUFBSztBQUVyQyxDQUFDLEVBQUM7RUFDRWMsVUFBVSxFQUFFO0FBQ2hCLENBQUMsQ0FBQztBQUVGLE1BQU1DLFdBQVcsR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLGNBQWMsRUFBQ3ZCLGlCQUFpQixDQUFDO0FBQUMsSUFBQXdCLFFBQUEsR0FBQUMsT0FBQSxDQUFBdkMsT0FBQSxHQUN0RG1DLFdBQVciLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SaleAddressSchema","Schema","sale","type","ObjectId","ref","required","name","String","maxlength","surname","country","address","reference","city","region","township","phone","email","note","timestamps","SaleAddress","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["SaleAddress.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst SaleAddressSchema = new Schema({\n    sale:{type:Schema.ObjectId,ref: 'sale',required:true},\n    name:{type:String,maxlength : 250,required:true},\n    surname:{type:String,maxlength : 250,required:true},\n    country:{type:String,maxlength: 250, required:true},\n    address:{type:String,maxlength: 250, required:true},\n    reference:{type:String,maxlength: 250, required:false},\n    city:{type:String,maxlength: 250, required:true},\n    region:{type:String,maxlength: 250, required:true},\n    township:{type: String, required:true, maxlength: 250},\n    phone:{type:String,maxlength: 250, required:true},\n    email:{type:String,maxlength: 250, required:true},\n    note:{type:String, required:false},\n    \n},{\n    timestamps: true\n});\n\nconst SaleAddress = mongoose.model(\"sale_address\",SaleAddressSchema);\nexport default SaleAddress;"],"mappings":"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","ignoreList":[]}},"mtime":1740009796993},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/SaleDetail.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SaleDetailSchema = new _mongoose.Schema({\n  sale: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale',\n    required: true\n  },\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es por porcentaje y 2 es por moneda\n  discount: {\n    type: Number,\n    default: 0\n  },\n  //50%\n  cantidad: {\n    type: Number,\n    required: true\n  },\n  //2\n  variedad: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'variedad',\n    required: false\n  },\n  code_cupon: {\n    type: String,\n    required: false\n  },\n  code_discount: {\n    type: String,\n    required: false\n  },\n  price_unit: {\n    type: Number,\n    required: true\n  },\n  //60\n  subtotal: {\n    type: Number,\n    required: true\n  },\n  //30\n  total: {\n    type: Number,\n    required: true\n  } //60\n}, {\n  timestamps: true\n});\nconst SaleDetail = _mongoose.default.model(\"sale_detail\", SaleDetailSchema);\nvar _default = exports.default = SaleDetail;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTYWxlRGV0YWlsU2NoZW1hIiwiU2NoZW1hIiwic2FsZSIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwicHJvZHVjdCIsInR5cGVfZGlzY291bnQiLCJOdW1iZXIiLCJkaXNjb3VudCIsImNhbnRpZGFkIiwidmFyaWVkYWQiLCJjb2RlX2N1cG9uIiwiU3RyaW5nIiwiY29kZV9kaXNjb3VudCIsInByaWNlX3VuaXQiLCJzdWJ0b3RhbCIsInRvdGFsIiwidGltZXN0YW1wcyIsIlNhbGVEZXRhaWwiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIlNhbGVEZXRhaWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBTYWxlRGV0YWlsU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gICAgc2FsZToge3R5cGU6IFNjaGVtYS5PYmplY3RJZCxyZWY6ICdzYWxlJyxyZXF1aXJlZDp0cnVlfSxcbiAgICBwcm9kdWN0OiB7dHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6ICdwcm9kdWN0JyxyZXF1aXJlZDp0cnVlfSxcbiAgICB0eXBlX2Rpc2NvdW50OiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6ZmFsc2UsZGVmYXVsdDogMX0sLy8xIGVzIHBvciBwb3JjZW50YWplIHkgMiBlcyBwb3IgbW9uZWRhXG4gICAgZGlzY291bnQ6e3R5cGU6TnVtYmVyLGRlZmF1bHQ6IDB9LC8vNTAlXG4gICAgY2FudGlkYWQ6IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzJcbiAgICB2YXJpZWRhZDoge3R5cGU6U2NoZW1hLk9iamVjdElkLCByZWY6ICd2YXJpZWRhZCcsIHJlcXVpcmVkOiBmYWxzZX0sXG4gICAgY29kZV9jdXBvbjoge3R5cGU6U3RyaW5nLHJlcXVpcmVkOmZhbHNlfSxcbiAgICBjb2RlX2Rpc2NvdW50OiB7dHlwZTpTdHJpbmcscmVxdWlyZWQ6ZmFsc2V9LFxuICAgIHByaWNlX3VuaXQ6IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzYwXG4gICAgc3VidG90YWw6IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzMwXG4gICAgdG90YWw6IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzYwXG59LHtcbiAgICB0aW1lc3RhbXBzOnRydWUsXG59KTtcblxuY29uc3QgU2FsZURldGFpbCA9IG1vbmdvb3NlLm1vZGVsKFwic2FsZV9kZXRhaWxcIixTYWxlRGV0YWlsU2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgU2FsZURldGFpbDsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SaleDetailSchema","Schema","sale","type","ObjectId","ref","required","product","type_discount","Number","discount","cantidad","variedad","code_cupon","String","code_discount","price_unit","subtotal","total","timestamps","SaleDetail","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["SaleDetail.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst SaleDetailSchema = new Schema({\n    sale: {type: Schema.ObjectId,ref: 'sale',required:true},\n    product: {type: Schema.ObjectId, ref: 'product',required:true},\n    type_discount: {type:Number,required:false,default: 1},//1 es por porcentaje y 2 es por moneda\n    discount:{type:Number,default: 0},//50%\n    cantidad: {type:Number,required:true},//2\n    variedad: {type:Schema.ObjectId, ref: 'variedad', required: false},\n    code_cupon: {type:String,required:false},\n    code_discount: {type:String,required:false},\n    price_unit: {type:Number,required:true},//60\n    subtotal: {type:Number,required:true},//30\n    total: {type:Number,required:true},//60\n},{\n    timestamps:true,\n});\n\nconst SaleDetail = mongoose.model(\"sale_detail\",SaleDetailSchema);\n\nexport default SaleDetail;"],"mappings":"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","ignoreList":[]}},"mtime":1740021891406},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Sale.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _SaleController = _interopRequireDefault(require(\"../controllers/SaleController\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyEcommerce], _SaleController.default.register);\n// router.get(\"/send_email/:id\", SaleController.send_email);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hdXRoIiwiX1NhbGVDb250cm9sbGVyIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5RWNvbW1lcmNlIiwiU2FsZUNvbnRyb2xsZXIiLCJyZWdpc3RlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJTYWxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gXCJleHByZXNzLXByb21pc2Utcm91dGVyXCJcbmltcG9ydCBhdXRoIGZyb20gXCIuLi9taWRkbGV3YXJlcy9hdXRoXCJcbmltcG9ydCBTYWxlQ29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvU2FsZUNvbnRyb2xsZXJcIjtcblxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG4vLyBwcm9jZXNzLmVudi5VUkxfQkFDS0VORC9hcGkvdXNlcnMvcmVnaXN0ZXJcblxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgW2F1dGgudmVyaWZ5RWNvbW1lcmNlXSwgU2FsZUNvbnRyb2xsZXIucmVnaXN0ZXIpO1xuLy8gcm91dGVyLmdldChcIi9zZW5kX2VtYWlsLzppZFwiLCBTYWxlQ29udHJvbGxlci5zZW5kX2VtYWlsKTtcblxuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxlQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBMkQsU0FBQUQsdUJBQUFJLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFFM0QsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQzs7QUFFeEI7O0FBRUFELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDQyxhQUFJLENBQUNDLGVBQWUsQ0FBQyxFQUFFQyx1QkFBYyxDQUFDQyxRQUFRLENBQUM7QUFDekU7QUFBQSxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQVQsT0FBQSxHQUllQyxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_auth","_SaleController","e","__esModule","default","router","routerx","post","auth","verifyEcommerce","SaleController","register","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Sale.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport auth from \"../middlewares/auth\"\nimport SaleController from \"../controllers/SaleController\";\n\nconst router = routerx();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [auth.verifyEcommerce], SaleController.register);\n// router.get(\"/send_email/:id\", SaleController.send_email);\n\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,eAAA,GAAAH,sBAAA,CAAAC,OAAA;AAA2D,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAE3D,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,eAAe,CAAC,EAAEC,uBAAc,CAACC,QAAQ,CAAC;AACzE;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAT,OAAA,GAIeC,MAAM","ignoreList":[]}},"mtime":1741488775049},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/SaleController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _handlebars = _interopRequireDefault(require(\"handlebars\"));\nvar _ejs = _interopRequireDefault(require(\"ejs\"));\nvar _nodemailer = _interopRequireDefault(require(\"nodemailer\"));\nvar _nodemailerSmtpTransport = _interopRequireDefault(require(\"nodemailer-smtp-transport\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nasync function send_email(sale_id) {\n  try {\n    var readHTMLFile = function (path, callback) {\n      _fs.default.readFile(path, {\n        encoding: 'utf-8'\n      }, function (err, html) {\n        if (err) {\n          throw err;\n          callback(err);\n        } else {\n          callback(null, html);\n        }\n      });\n    };\n    let Order = await _models.default.Sale.findById({\n      _id: sale_id\n    }).populate(\"user\");\n    let OrderDetail = await _models.default.SaleDetail.find({\n      sale: Order._id\n    }).populate(\"product\").populate(\"variedad\");\n    let AddressSale = await _models.default.SaleAddress.findOne({\n      sale: Order._id\n    });\n    var transporter = _nodemailer.default.createTransport((0, _nodemailerSmtpTransport.default)({\n      service: 'gmail',\n      host: 'smtp.gmail.com',\n      auth: {\n        user: 'adel.enlinea@gmail.com',\n        pass: 'pwnnaljiypxkjtnm'\n      }\n    }));\n    readHTMLFile(process.cwd() + '/mails/email_sale.html', (err, html) => {\n      OrderDetail.map(detail => {\n        detail.product.imgs = process.env.URL_BACKEND + \"/api/products/uploads/product/\" + detail.product.portada;\n        return detail;\n      });\n      let rest_html = _ejs.default.render(html, {\n        order: Order,\n        address_sale: AddressSale,\n        order_detail: OrderDetail\n      });\n      var template = _handlebars.default.compile(rest_html);\n      var htmlToSend = template({\n        op: true\n      });\n      var mailOptions = {\n        from: 'adel.enlinea@gmail.com',\n        to: Order.user.email,\n        subject: 'Finalizada tu compra ' + Order._id,\n        html: htmlToSend\n      };\n      transporter.sendMail(mailOptions, function (error, info) {\n        if (!error) {\n          console.log('Email sent: ' + info.response);\n        } else {\n          console.log(error);\n        }\n      });\n    });\n\n    // res.status(200).json({\n    //   message: \"Super! Se envio un correo a su direccion de email, con la informacion de su compra\"\n    // });\n  } catch (error) {\n    // console.log(error);\n    //   res.status(500).send({\n    //     message: \"OCURRIÓ UN PROBLEMA\",\n    //   });\n  }\n}\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let sale_data = req.body.sale;\n      let sale_address_data = req.body.sale_address;\n      let SALE = await _models.default.Sale.create(sale_data);\n      sale_address_data.sale = SALE._id;\n      let SALE_ADDRESS = await _models.default.SaleAddress.create(sale_address_data);\n      let CARTS = await _models.default.Cart.find({\n        user: SALE.user\n      });\n      for (let CART of CARTS) {\n        CART = CART.toObject();\n        CART.sale = SALE._id;\n\n        //START DESCUENTO DE INVENTARIO\n\n        if (CART.variedad) {\n          //Si es multiple inventario\n          let VARIEDAD = await _models.default.Variedad.findById({\n            _id: CART.variedad\n          });\n          let new_stock = VARIEDAD.stock - CART.cantidad;\n          await _models.default.Variedad.findByIdAndUpdate({\n            _id: CART.variedad\n          }, {\n            stock: new_stock\n          });\n        } else {\n          //Si es unitario inventario\n          let PRODUCT = await _models.default.Product.findById({\n            _id: CART.product\n          });\n          let new_stock = PRODUCT.stock - CART.cantidad;\n          await _models.default.Product.findByIdAndUpdate({\n            _id: CART.product\n          }, {\n            stock: new_stock\n          });\n        }\n        //END DESCUENTO DE INVENTARIO\n\n        //console.log(CART);\n\n        await _models.default.SaleDetail.create(CART);\n        await _models.default.Cart.findByIdAndDelete({\n          _id: CART._id\n        });\n      }\n      await send_email(SALE._id);\n      res.status(200).json({\n        message: \" Super! La orden fue registrada satisfactoriamente\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZnMiLCJfaGFuZGxlYmFycyIsIl9lanMiLCJfbm9kZW1haWxlciIsIl9ub2RlbWFpbGVyU210cFRyYW5zcG9ydCIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInNlbmRfZW1haWwiLCJzYWxlX2lkIiwicmVhZEhUTUxGaWxlIiwicGF0aCIsImNhbGxiYWNrIiwiZnMiLCJyZWFkRmlsZSIsImVuY29kaW5nIiwiZXJyIiwiaHRtbCIsIk9yZGVyIiwibW9kZWxzIiwiU2FsZSIsImZpbmRCeUlkIiwiX2lkIiwicG9wdWxhdGUiLCJPcmRlckRldGFpbCIsIlNhbGVEZXRhaWwiLCJmaW5kIiwic2FsZSIsIkFkZHJlc3NTYWxlIiwiU2FsZUFkZHJlc3MiLCJmaW5kT25lIiwidHJhbnNwb3J0ZXIiLCJub2RlbWFpbGVyIiwiY3JlYXRlVHJhbnNwb3J0Iiwic210cFRyYW5zcG9ydCIsInNlcnZpY2UiLCJob3N0IiwiYXV0aCIsInVzZXIiLCJwYXNzIiwicHJvY2VzcyIsImN3ZCIsIm1hcCIsImRldGFpbCIsInByb2R1Y3QiLCJpbWdzIiwiZW52IiwiVVJMX0JBQ0tFTkQiLCJwb3J0YWRhIiwicmVzdF9odG1sIiwiZWpzIiwicmVuZGVyIiwib3JkZXIiLCJhZGRyZXNzX3NhbGUiLCJvcmRlcl9kZXRhaWwiLCJ0ZW1wbGF0ZSIsImhhbmRsZWJhcnMiLCJjb21waWxlIiwiaHRtbFRvU2VuZCIsIm9wIiwibWFpbE9wdGlvbnMiLCJmcm9tIiwidG8iLCJlbWFpbCIsInN1YmplY3QiLCJzZW5kTWFpbCIsImVycm9yIiwiaW5mbyIsImNvbnNvbGUiLCJsb2ciLCJyZXNwb25zZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwic2FsZV9kYXRhIiwiYm9keSIsInNhbGVfYWRkcmVzc19kYXRhIiwic2FsZV9hZGRyZXNzIiwiU0FMRSIsImNyZWF0ZSIsIlNBTEVfQUREUkVTUyIsIkNBUlRTIiwiQ2FydCIsIkNBUlQiLCJ0b09iamVjdCIsInZhcmllZGFkIiwiVkFSSUVEQUQiLCJWYXJpZWRhZCIsIm5ld19zdG9jayIsInN0b2NrIiwiY2FudGlkYWQiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIlBST0RVQ1QiLCJQcm9kdWN0IiwiZmluZEJ5SWRBbmREZWxldGUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInNlbmQiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJTYWxlQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiO1xuXG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IGhhbmRsZWJhcnMgZnJvbSAnaGFuZGxlYmFycyc7XG5pbXBvcnQgZWpzIGZyb20gJ2Vqcyc7XG5pbXBvcnQgbm9kZW1haWxlciBmcm9tICdub2RlbWFpbGVyJztcbmltcG9ydCBzbXRwVHJhbnNwb3J0IGZyb20gJ25vZGVtYWlsZXItc210cC10cmFuc3BvcnQnO1xuXG5hc3luYyBmdW5jdGlvbiBzZW5kX2VtYWlsKHNhbGVfaWQpIHtcbiAgdHJ5IHtcbiAgICB2YXIgcmVhZEhUTUxGaWxlID0gZnVuY3Rpb24ocGF0aCwgY2FsbGJhY2spIHtcbiAgICAgIGZzLnJlYWRGaWxlKHBhdGgsIHtlbmNvZGluZzogJ3V0Zi04J30sIGZ1bmN0aW9uIChlcnIsIGh0bWwpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIGh0bWwpO1xuICAgICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBsZXQgT3JkZXIgPSBhd2FpdCBtb2RlbHMuU2FsZS5maW5kQnlJZCh7X2lkOiBzYWxlX2lkfSkucG9wdWxhdGUoXCJ1c2VyXCIpO1xuICAgIGxldCBPcmRlckRldGFpbCA9IGF3YWl0IG1vZGVscy5TYWxlRGV0YWlsLmZpbmQoe3NhbGU6ICBPcmRlci5faWR9KS5wb3B1bGF0ZShcInByb2R1Y3RcIikucG9wdWxhdGUoXCJ2YXJpZWRhZFwiKTtcbiAgICBsZXQgQWRkcmVzc1NhbGUgPSBhd2FpdCBtb2RlbHMuU2FsZUFkZHJlc3MuZmluZE9uZSh7IHNhbGU6IE9yZGVyLl9pZH0pO1xuXG4gICAgdmFyIHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoc210cFRyYW5zcG9ydCh7XG4gICAgICBzZXJ2aWNlOiAnZ21haWwnLFxuICAgICAgaG9zdDogJ3NtdHAuZ21haWwuY29tJyxcbiAgICAgIGF1dGg6IHtcbiAgICAgIHVzZXI6ICdhZGVsLmVubGluZWFAZ21haWwuY29tJyxcbiAgICAgIHBhc3M6ICdwd25uYWxqaXlweGtqdG5tJ1xuICAgICAgfVxuICAgIH0pKTtcblxuICAgIHJlYWRIVE1MRmlsZShwcm9jZXNzLmN3ZCgpICsgJy9tYWlscy9lbWFpbF9zYWxlLmh0bWwnLCAoZXJyLCBodG1sKT0+e1xuXG4gICAgICBPcmRlckRldGFpbC5tYXAoKGRldGFpbCkgPT4ge1xuICAgICAgICBkZXRhaWwucHJvZHVjdC5pbWdzID0gcHJvY2Vzcy5lbnYuVVJMX0JBQ0tFTkQrXCIvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC9cIitkZXRhaWwucHJvZHVjdC5wb3J0YWRhO1xuICAgICAgICByZXR1cm4gZGV0YWlsO1xuICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgbGV0IHJlc3RfaHRtbCA9IGVqcy5yZW5kZXIoaHRtbCwge29yZGVyOiBPcmRlciwgYWRkcmVzc19zYWxlOiBBZGRyZXNzU2FsZSwgb3JkZXJfZGV0YWlsOiBPcmRlckRldGFpbH0pO1xuXG4gICAgICB2YXIgdGVtcGxhdGUgPSBoYW5kbGViYXJzLmNvbXBpbGUocmVzdF9odG1sKTtcbiAgICAgIHZhciBodG1sVG9TZW5kID0gdGVtcGxhdGUoe29wOnRydWV9KTtcblxuICAgICAgdmFyIG1haWxPcHRpb25zID0ge1xuICAgICAgICAgIGZyb206ICdhZGVsLmVubGluZWFAZ21haWwuY29tJyxcbiAgICAgICAgICB0bzogT3JkZXIudXNlci5lbWFpbCxcbiAgICAgICAgICBzdWJqZWN0OiAnRmluYWxpemFkYSB0dSBjb21wcmEgJyArIE9yZGVyLl9pZCxcbiAgICAgICAgICBodG1sOiBodG1sVG9TZW5kXG4gICAgICB9O1xuICAgIFxuICAgICAgdHJhbnNwb3J0ZXIuc2VuZE1haWwobWFpbE9wdGlvbnMsIGZ1bmN0aW9uKGVycm9yLCBpbmZvKXtcbiAgICAgICAgICBpZiAoIWVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFbWFpbCBzZW50OiAnICsgaW5mby5yZXNwb25zZSk7XG4gICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgIH0pO1xuICBcbiAgfSk7XG5cbiAgLy8gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAvLyAgIG1lc3NhZ2U6IFwiU3VwZXIhIFNlIGVudmlvIHVuIGNvcnJlbyBhIHN1IGRpcmVjY2lvbiBkZSBlbWFpbCwgY29uIGxhIGluZm9ybWFjaW9uIGRlIHN1IGNvbXByYVwiXG4gIC8vIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8gY29uc29sZS5sb2coZXJyb3IpO1xuICAgIC8vICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgIC8vICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCIsXG4gICAgLy8gICB9KTtcbiAgfVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgcmVnaXN0ZXI6IGFzeW5jIChyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBzYWxlX2RhdGEgPSByZXEuYm9keS5zYWxlO1xuICAgICAgbGV0IHNhbGVfYWRkcmVzc19kYXRhID0gcmVxLmJvZHkuc2FsZV9hZGRyZXNzO1xuXG4gICAgICBsZXQgU0FMRSA9IGF3YWl0IG1vZGVscy5TYWxlLmNyZWF0ZShzYWxlX2RhdGEpO1xuICAgICAgc2FsZV9hZGRyZXNzX2RhdGEuc2FsZSA9IFNBTEUuX2lkO1xuXG4gICAgICBsZXQgU0FMRV9BRERSRVNTID0gYXdhaXQgbW9kZWxzLlNhbGVBZGRyZXNzLmNyZWF0ZShzYWxlX2FkZHJlc3NfZGF0YSk7XG5cbiAgICAgIGxldCBDQVJUUyA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmQoe3VzZXI6U0FMRS51c2VyfSk7XG5cbiAgICAgIGZvciAobGV0IENBUlQgb2YgQ0FSVFMpIHtcbiAgICAgICAgQ0FSVCA9IENBUlQudG9PYmplY3QoKTtcbiAgICAgICAgQ0FSVC5zYWxlID0gU0FMRS5faWRcblxuICAgICAgICAvL1NUQVJUIERFU0NVRU5UTyBERSBJTlZFTlRBUklPXG5cbiAgICAgICAgaWYoQ0FSVC52YXJpZWRhZCl7Ly9TaSBlcyBtdWx0aXBsZSBpbnZlbnRhcmlvXG4gICAgICAgICAgbGV0IFZBUklFREFEID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkKHtfaWQ6Q0FSVC52YXJpZWRhZH0pO1xuICAgICAgICAgIGxldCBuZXdfc3RvY2sgPSBWQVJJRURBRC5zdG9jayAtIENBUlQuY2FudGlkYWQ7XG5cbiAgICAgICAgICBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogQ0FSVC52YXJpZWRhZCB9LHtcbiAgICAgICAgICAgIHN0b2NrOiAgbmV3X3N0b2NrLFxuICAgICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICB9ZWxzZXsvL1NpIGVzIHVuaXRhcmlvIGludmVudGFyaW9cbiAgICAgICAgICBsZXQgUFJPRFVDVCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkKHtfaWQ6IENBUlQucHJvZHVjdCB9KTtcblxuICAgICAgICAgIGxldCBuZXdfc3RvY2sgPSBQUk9EVUNULnN0b2NrIC0gQ0FSVC5jYW50aWRhZDtcblxuICAgICAgICAgIGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IENBUlQucHJvZHVjdCB9LHtcbiAgICAgICAgICAgIHN0b2NrOiAgbmV3X3N0b2NrLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vRU5EIERFU0NVRU5UTyBERSBJTlZFTlRBUklPXG5cbiAgICAgICAgLy9jb25zb2xlLmxvZyhDQVJUKTtcblxuICAgICAgICBhd2FpdCBtb2RlbHMuU2FsZURldGFpbC5jcmVhdGUoQ0FSVCk7XG4gICAgICAgIGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IENBUlQuX2lkfSk7XG4gICAgICB9XG5cbiAgICAgIGF3YWl0IHNlbmRfZW1haWwoU0FMRS5faWQpO1xuXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IFwiIFN1cGVyISBMYSBvcmRlbiBmdWUgcmVnaXN0cmFkYSBzYXRpc2ZhY3RvcmlhbWVudGVcIlxuICAgICAgfSlcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICB9KTtcbiAgICB9XG4gIH0sXG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQUFDLEdBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFdBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLElBQUEsR0FB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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_fs","_handlebars","_ejs","_nodemailer","_nodemailerSmtpTransport","e","__esModule","default","send_email","sale_id","readHTMLFile","path","callback","fs","readFile","encoding","err","html","Order","models","Sale","findById","_id","populate","OrderDetail","SaleDetail","find","sale","AddressSale","SaleAddress","findOne","transporter","nodemailer","createTransport","smtpTransport","service","host","auth","user","pass","process","cwd","map","detail","product","imgs","env","URL_BACKEND","portada","rest_html","ejs","render","order","address_sale","order_detail","template","handlebars","compile","htmlToSend","op","mailOptions","from","to","email","subject","sendMail","error","info","console","log","response","_default","exports","register","req","res","sale_data","body","sale_address_data","sale_address","SALE","create","SALE_ADDRESS","CARTS","Cart","CART","toObject","variedad","VARIEDAD","Variedad","new_stock","stock","cantidad","findByIdAndUpdate","PRODUCT","Product","findByIdAndDelete","status","json","message","send"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["SaleController.js"],"sourcesContent":["\nimport models from \"../models\";\n\nimport fs from 'fs';\nimport handlebars from 'handlebars';\nimport ejs from 'ejs';\nimport nodemailer from 'nodemailer';\nimport smtpTransport from 'nodemailer-smtp-transport';\n\nasync function send_email(sale_id) {\n  try {\n    var readHTMLFile = function(path, callback) {\n      fs.readFile(path, {encoding: 'utf-8'}, function (err, html) {\n          if (err) {\n              throw err;\n              callback(err);\n          }\n          else {\n              callback(null, html);\n          }\n      });\n    };\n\n    let Order = await models.Sale.findById({_id: sale_id}).populate(\"user\");\n    let OrderDetail = await models.SaleDetail.find({sale:  Order._id}).populate(\"product\").populate(\"variedad\");\n    let AddressSale = await models.SaleAddress.findOne({ sale: Order._id});\n\n    var transporter = nodemailer.createTransport(smtpTransport({\n      service: 'gmail',\n      host: 'smtp.gmail.com',\n      auth: {\n      user: 'adel.enlinea@gmail.com',\n      pass: 'pwnnaljiypxkjtnm'\n      }\n    }));\n\n    readHTMLFile(process.cwd() + '/mails/email_sale.html', (err, html)=>{\n\n      OrderDetail.map((detail) => {\n        detail.product.imgs = process.env.URL_BACKEND+\"/api/products/uploads/product/\"+detail.product.portada;\n        return detail;\n      });\n                                \n      let rest_html = ejs.render(html, {order: Order, address_sale: AddressSale, order_detail: OrderDetail});\n\n      var template = handlebars.compile(rest_html);\n      var htmlToSend = template({op:true});\n\n      var mailOptions = {\n          from: 'adel.enlinea@gmail.com',\n          to: Order.user.email,\n          subject: 'Finalizada tu compra ' + Order._id,\n          html: htmlToSend\n      };\n    \n      transporter.sendMail(mailOptions, function(error, info){\n          if (!error) {\n              console.log('Email sent: ' + info.response);\n          }else {\n            console.log(error);\n          }\n      });\n  \n  });\n\n  // res.status(200).json({\n  //   message: \"Super! Se envio un correo a su direccion de email, con la informacion de su compra\"\n  // });\n\n  } catch (error) {\n    // console.log(error);\n    //   res.status(500).send({\n    //     message: \"OCURRIÓ UN PROBLEMA\",\n    //   });\n  }\n}\n\n\nexport default {\n  register: async (req,res) => {\n    try {\n      let sale_data = req.body.sale;\n      let sale_address_data = req.body.sale_address;\n\n      let SALE = await models.Sale.create(sale_data);\n      sale_address_data.sale = SALE._id;\n\n      let SALE_ADDRESS = await models.SaleAddress.create(sale_address_data);\n\n      let CARTS = await models.Cart.find({user:SALE.user});\n\n      for (let CART of CARTS) {\n        CART = CART.toObject();\n        CART.sale = SALE._id\n\n        //START DESCUENTO DE INVENTARIO\n\n        if(CART.variedad){//Si es multiple inventario\n          let VARIEDAD = await models.Variedad.findById({_id:CART.variedad});\n          let new_stock = VARIEDAD.stock - CART.cantidad;\n\n          await models.Variedad.findByIdAndUpdate({_id: CART.variedad },{\n            stock:  new_stock,\n          })\n        \n        }else{//Si es unitario inventario\n          let PRODUCT = await models.Product.findById({_id: CART.product });\n\n          let new_stock = PRODUCT.stock - CART.cantidad;\n\n          await models.Product.findByIdAndUpdate({_id: CART.product },{\n            stock:  new_stock,\n          });\n        }\n        //END DESCUENTO DE INVENTARIO\n\n        //console.log(CART);\n\n        await models.SaleDetail.create(CART);\n        await models.Cart.findByIdAndDelete({_id: CART._id});\n      }\n\n      await send_email(SALE._id);\n\n      res.status(200).json({\n        message: \" Super! La orden fue registrada satisfactoriamente\"\n      })\n\n    } catch (error) {\n        console.log(error);\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n    }\n  },\n}\n"],"mappings":"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","ignoreList":[]}},"mtime":1746208852793},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/Review.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst ReviewSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  sale_detail: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale_detail',\n    required: true\n  },\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  cantidad: {\n    type: Number,\n    maxlength: 2,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Review = _mongoose.default.model(\"review\", ReviewSchema);\nvar _default = exports.default = Review;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJSZXZpZXdTY2hlbWEiLCJTY2hlbWEiLCJwcm9kdWN0IiwidHlwZSIsIk9iamVjdElkIiwicmVmIiwicmVxdWlyZWQiLCJzYWxlX2RldGFpbCIsInVzZXIiLCJjYW50aWRhZCIsIk51bWJlciIsIm1heGxlbmd0aCIsImRlc2NyaXB0aW9uIiwiU3RyaW5nIiwidGltZXN0YW1wcyIsIlJldmlldyIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvbW9kZWxzLyIsInNvdXJjZXMiOlsiUmV2aWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgUmV2aWV3U2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gICAgcHJvZHVjdDp7dHlwZTpTY2hlbWEuT2JqZWN0SWQscmVmOidwcm9kdWN0JyxyZXF1aXJlZDp0cnVlfSxcbiAgICBzYWxlX2RldGFpbDp7dHlwZTpTY2hlbWEuT2JqZWN0SWQscmVmOidzYWxlX2RldGFpbCcsIHJlcXVpcmVkOnRydWV9LFxuICAgIHVzZXI6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjondXNlcicsIHJlcXVpcmVkOnRydWV9LFxuICAgIGNhbnRpZGFkOnt0eXBlOk51bWJlcixtYXhsZW5ndGg6MixyZXF1aXJlZDp0cnVlfSxcbiAgICBkZXNjcmlwdGlvbjp7dHlwZTpTdHJpbmcscmVxdWlyZWQ6dHJ1ZX0sXG59LHtcbiAgICB0aW1lc3RhbXBzOiB0cnVlXG59KTtcblxuY29uc3QgUmV2aWV3ID0gbW9uZ29vc2UubW9kZWwoXCJyZXZpZXdcIixSZXZpZXdTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgUmV2aWV3OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUssT0FBQSxFQUFBTCxDQUFBLFFBQUFHLENBQUEsR0FBQUosd0JBQUEsQ0FBQUcsQ0FBQSxPQUFBQyxDQUFBLElBQUFBLENBQUEsQ0FBQUcsR0FBQSxDQUFBTixDQUFBLFVBQUFHLENBQUEsQ0FBQUksR0FBQSxDQUFBUCxDQUFBLE9BQUFRLENBQUEsS0FBQUMsU0FBQSxVQUFBQyxDQUFBLEdBQUFDLE1BQUEsQ0FBQUMsY0FBQSxJQUFBRCxNQUFBLENBQUFFLHdCQUFBLFdBQUFDLENBQUEsSUFBQWQsQ0FBQSxvQkFBQWMsQ0FBQSxPQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWhCLENBQUEsRUFBQWMsQ0FBQSxTQUFBRyxDQUFBLEdBQUFQLENBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBYixDQUFBLEVBQUFjLENBQUEsVUFBQUcsQ0FBQSxLQUFBQSxDQUFBLENBQUFWLEdBQUEsSUFBQVUsQ0FBQSxDQUFBQyxHQUFBLElBQUFQLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSixDQUFBLEVBQUFNLENBQUEsRUFBQUcsQ0FBQSxJQUFBVCxDQUFBLENBQUFNLENBQUEsSUFBQWQsQ0FBQSxDQUFBYyxDQUFBLFlBQUFOLENBQUEsQ0FBQUgsT0FBQSxHQUFBTCxDQUFBLEVBQUFHLENBQUEsSUFBQUEsQ0FBQSxDQUFBZSxHQUFBLENBQUFsQixDQUFBLEVBQUFRLENBQUEsR0FBQUEsQ0FBQTtBQUV6QyxNQUFNVyxZQUFZLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUM1QkMsT0FBTyxFQUFDO0lBQUNDLElBQUksRUFBQ0YsZ0JBQU0sQ0FBQ0csUUFBUTtJQUFDQyxHQUFHLEVBQUMsU0FBUztJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQzFEQyxXQUFXLEVBQUM7SUFBQ0osSUFBSSxFQUFDRixnQkFBTSxDQUFDRyxRQUFRO0lBQUNDLEdBQUcsRUFBQyxhQUFhO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbkVFLElBQUksRUFBQztJQUFDTCxJQUFJLEVBQUNGLGdCQUFNLENBQUNHLFFBQVE7SUFBQ0MsR0FBRyxFQUFDLE1BQU07SUFBRUMsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNyREcsUUFBUSxFQUFDO0lBQUNOLElBQUksRUFBQ08sTUFBTTtJQUFDQyxTQUFTLEVBQUMsQ0FBQztJQUFDTCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2hETSxXQUFXLEVBQUM7SUFBQ1QsSUFBSSxFQUFDVSxNQUFNO0lBQUNQLFFBQVEsRUFBQztFQUFJO0FBQzFDLENBQUMsRUFBQztFQUNFUSxVQUFVLEVBQUU7QUFDaEIsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsTUFBTSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsUUFBUSxFQUFDakIsWUFBWSxDQUFDO0FBQUMsSUFBQWtCLFFBQUEsR0FBQUMsT0FBQSxDQUFBakMsT0FBQSxHQUN0QzZCLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ReviewSchema","Schema","product","type","ObjectId","ref","required","sale_detail","user","cantidad","Number","maxlength","description","String","timestamps","Review","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Review.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst ReviewSchema = new Schema({\n    product:{type:Schema.ObjectId,ref:'product',required:true},\n    sale_detail:{type:Schema.ObjectId,ref:'sale_detail', required:true},\n    user:{type:Schema.ObjectId,ref:'user', required:true},\n    cantidad:{type:Number,maxlength:2,required:true},\n    description:{type:String,required:true},\n},{\n    timestamps: true\n});\n\nconst Review = mongoose.model(\"review\",ReviewSchema);\nexport default Review;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,OAAO,EAAC;IAACC,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,SAAS;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC1DC,WAAW,EAAC;IAACJ,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,aAAa;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACnEE,IAAI,EAAC;IAACL,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,MAAM;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACrDG,QAAQ,EAAC;IAACN,IAAI,EAACO,MAAM;IAACC,SAAS,EAAC,CAAC;IAACL,QAAQ,EAAC;EAAI,CAAC;EAChDM,WAAW,EAAC;IAACT,IAAI,EAACU,MAAM;IAACP,QAAQ,EAAC;EAAI;AAC1C,CAAC,EAAC;EACEQ,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,QAAQ,EAACjB,YAAY,CAAC;AAAC,IAAAkB,QAAA,GAAAC,OAAA,CAAAjC,OAAA,GACtC6B,MAAM","ignoreList":[]}},"mtime":1739978309690},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Sale.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _SaleController = _interopRequireDefault(require(\"../controllers/SaleController\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyEcommerce], _SaleController.default.register);\n// router.get(\"/send_email/:id\", SaleController.send_email);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hdXRoIiwiX1NhbGVDb250cm9sbGVyIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5RWNvbW1lcmNlIiwiU2FsZUNvbnRyb2xsZXIiLCJyZWdpc3RlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJTYWxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gXCJleHByZXNzLXByb21pc2Utcm91dGVyXCJcbmltcG9ydCBhdXRoIGZyb20gXCIuLi9taWRkbGV3YXJlcy9hdXRoXCJcbmltcG9ydCBTYWxlQ29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvU2FsZUNvbnRyb2xsZXJcIjtcblxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG4vLyBwcm9jZXNzLmVudi5VUkxfQkFDS0VORC9hcGkvdXNlcnMvcmVnaXN0ZXJcblxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgW2F1dGgudmVyaWZ5RWNvbW1lcmNlXSwgU2FsZUNvbnRyb2xsZXIucmVnaXN0ZXIpO1xuLy8gcm91dGVyLmdldChcIi9zZW5kX2VtYWlsLzppZFwiLCBTYWxlQ29udHJvbGxlci5zZW5kX2VtYWlsKTtcblxuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxlQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBMkQsU0FBQUQsdUJBQUFJLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFFM0QsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQzs7QUFFeEI7O0FBRUFELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDQyxhQUFJLENBQUNDLGVBQWUsQ0FBQyxFQUFFQyx1QkFBYyxDQUFDQyxRQUFRLENBQUM7QUFDekU7QUFBQSxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQVQsT0FBQSxHQUllQyxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_auth","_SaleController","e","__esModule","default","router","routerx","post","auth","verifyEcommerce","SaleController","register","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Sale.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport auth from \"../middlewares/auth\"\nimport SaleController from \"../controllers/SaleController\";\n\nconst router = routerx();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [auth.verifyEcommerce], SaleController.register);\n// router.get(\"/send_email/:id\", SaleController.send_email);\n\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,eAAA,GAAAH,sBAAA,CAAAC,OAAA;AAA2D,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAE3D,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,eAAe,CAAC,EAAEC,uBAAc,CAACC,QAAQ,CAAC;AACzE;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAT,OAAA,GAIeC,MAAM","ignoreList":[]}},"mtime":1741488775049},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/SaleController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _handlebars = _interopRequireDefault(require(\"handlebars\"));\nvar _ejs = _interopRequireDefault(require(\"ejs\"));\nvar _nodemailer = _interopRequireDefault(require(\"nodemailer\"));\nvar _nodemailerSmtpTransport = _interopRequireDefault(require(\"nodemailer-smtp-transport\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nasync function send_email(sale_id) {\n  try {\n    var readHTMLFile = function (path, callback) {\n      _fs.default.readFile(path, {\n        encoding: 'utf-8'\n      }, function (err, html) {\n        if (err) {\n          throw err;\n          callback(err);\n        } else {\n          callback(null, html);\n        }\n      });\n    };\n    let Order = await _models.default.Sale.findById({\n      _id: sale_id\n    }).populate(\"user\");\n    let OrderDetail = await _models.default.SaleDetail.find({\n      sale: Order._id\n    }).populate(\"product\").populate(\"variedad\");\n    let AddressSale = await _models.default.SaleAddress.findOne({\n      sale: Order._id\n    });\n    var transporter = _nodemailer.default.createTransport((0, _nodemailerSmtpTransport.default)({\n      service: 'gmail',\n      host: 'smtp.gmail.com',\n      auth: {\n        user: 'adel.enlinea@gmail.com',\n        pass: 'pwnnaljiypxkjtnm'\n      }\n    }));\n    readHTMLFile(process.cwd() + '/mails/email_sale.html', (err, html) => {\n      OrderDetail.map(detail => {\n        detail.product.imgs = process.env.URL_BACKEND + \"/api/products/uploads/product/\" + detail.product.portada;\n        return detail;\n      });\n      let rest_html = _ejs.default.render(html, {\n        order: Order,\n        address_sale: AddressSale,\n        order_detail: OrderDetail\n      });\n      var template = _handlebars.default.compile(rest_html);\n      var htmlToSend = template({\n        op: true\n      });\n      var mailOptions = {\n        from: 'adel.enlinea@gmail.com',\n        to: Order.user.email,\n        subject: 'Finalizada tu compra ' + Order._id,\n        html: htmlToSend\n      };\n      transporter.sendMail(mailOptions, function (error, info) {\n        if (!error) {\n          console.log('Email sent: ' + info.response);\n        } else {\n          console.log(error);\n        }\n      });\n    });\n\n    // res.status(200).json({\n    //   message: \"Super! Se envio un correo a su direccion de email, con la informacion de su compra\"\n    // });\n  } catch (error) {\n    // console.log(error);\n    //   res.status(500).send({\n    //     message: \"OCURRIÓ UN PROBLEMA\",\n    //   });\n  }\n}\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let sale_data = req.body.sale;\n      let sale_address_data = req.body.sale_address;\n      let SALE = await _models.default.Sale.create(sale_data);\n      sale_address_data.sale = SALE._id;\n      let SALE_ADDRESS = await _models.default.SaleAddress.create(sale_address_data);\n      let CARTS = await _models.default.Cart.find({\n        user: SALE.user\n      });\n      for (let CART of CARTS) {\n        CART = CART.toObject();\n        CART.sale = SALE._id;\n\n        //START DESCUENTO DE INVENTARIO\n\n        if (CART.variedad) {\n          //Si es multiple inventario\n          let VARIEDAD = await _models.default.Variedad.findById({\n            _id: CART.variedad\n          });\n          let new_stock = VARIEDAD.stock - CART.cantidad;\n          await _models.default.Variedad.findByIdAndUpdate({\n            _id: CART.variedad\n          }, {\n            stock: new_stock\n          });\n        } else {\n          //Si es unitario inventario\n          let PRODUCT = await _models.default.Product.findById({\n            _id: CART.product\n          });\n          let new_stock = PRODUCT.stock - CART.cantidad;\n          await _models.default.Product.findByIdAndUpdate({\n            _id: CART.product\n          }, {\n            stock: new_stock\n          });\n        }\n        //END DESCUENTO DE INVENTARIO\n\n        //console.log(CART);\n\n        await _models.default.SaleDetail.create(CART);\n        await _models.default.Cart.findByIdAndDelete({\n          _id: CART._id\n        });\n      }\n      await send_email(SALE._id);\n      res.status(200).json({\n        message: \" Super! La orden fue registrada satisfactoriamente\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZnMiLCJfaGFuZGxlYmFycyIsIl9lanMiLCJfbm9kZW1haWxlciIsIl9ub2RlbWFpbGVyU210cFRyYW5zcG9ydCIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInNlbmRfZW1haWwiLCJzYWxlX2lkIiwicmVhZEhUTUxGaWxlIiwicGF0aCIsImNhbGxiYWNrIiwiZnMiLCJyZWFkRmlsZSIsImVuY29kaW5nIiwiZXJyIiwiaHRtbCIsIk9yZGVyIiwibW9kZWxzIiwiU2FsZSIsImZpbmRCeUlkIiwiX2lkIiwicG9wdWxhdGUiLCJPcmRlckRldGFpbCIsIlNhbGVEZXRhaWwiLCJmaW5kIiwic2FsZSIsIkFkZHJlc3NTYWxlIiwiU2FsZUFkZHJlc3MiLCJmaW5kT25lIiwidHJhbnNwb3J0ZXIiLCJub2RlbWFpbGVyIiwiY3JlYXRlVHJhbnNwb3J0Iiwic210cFRyYW5zcG9ydCIsInNlcnZpY2UiLCJob3N0IiwiYXV0aCIsInVzZXIiLCJwYXNzIiwicHJvY2VzcyIsImN3ZCIsIm1hcCIsImRldGFpbCIsInByb2R1Y3QiLCJpbWdzIiwiZW52IiwiVVJMX0JBQ0tFTkQiLCJwb3J0YWRhIiwicmVzdF9odG1sIiwiZWpzIiwicmVuZGVyIiwib3JkZXIiLCJhZGRyZXNzX3NhbGUiLCJvcmRlcl9kZXRhaWwiLCJ0ZW1wbGF0ZSIsImhhbmRsZWJhcnMiLCJjb21waWxlIiwiaHRtbFRvU2VuZCIsIm9wIiwibWFpbE9wdGlvbnMiLCJmcm9tIiwidG8iLCJlbWFpbCIsInN1YmplY3QiLCJzZW5kTWFpbCIsImVycm9yIiwiaW5mbyIsImNvbnNvbGUiLCJsb2ciLCJyZXNwb25zZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwic2FsZV9kYXRhIiwiYm9keSIsInNhbGVfYWRkcmVzc19kYXRhIiwic2FsZV9hZGRyZXNzIiwiU0FMRSIsImNyZWF0ZSIsIlNBTEVfQUREUkVTUyIsIkNBUlRTIiwiQ2FydCIsIkNBUlQiLCJ0b09iamVjdCIsInZhcmllZGFkIiwiVkFSSUVEQUQiLCJWYXJpZWRhZCIsIm5ld19zdG9jayIsInN0b2NrIiwiY2FudGlkYWQiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIlBST0RVQ1QiLCJQcm9kdWN0IiwiZmluZEJ5SWRBbmREZWxldGUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInNlbmQiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJTYWxlQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiO1xuXG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IGhhbmRsZWJhcnMgZnJvbSAnaGFuZGxlYmFycyc7XG5pbXBvcnQgZWpzIGZyb20gJ2Vqcyc7XG5pbXBvcnQgbm9kZW1haWxlciBmcm9tICdub2RlbWFpbGVyJztcbmltcG9ydCBzbXRwVHJhbnNwb3J0IGZyb20gJ25vZGVtYWlsZXItc210cC10cmFuc3BvcnQnO1xuXG5hc3luYyBmdW5jdGlvbiBzZW5kX2VtYWlsKHNhbGVfaWQpIHtcbiAgdHJ5IHtcbiAgICB2YXIgcmVhZEhUTUxGaWxlID0gZnVuY3Rpb24ocGF0aCwgY2FsbGJhY2spIHtcbiAgICAgIGZzLnJlYWRGaWxlKHBhdGgsIHtlbmNvZGluZzogJ3V0Zi04J30sIGZ1bmN0aW9uIChlcnIsIGh0bWwpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIGh0bWwpO1xuICAgICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBsZXQgT3JkZXIgPSBhd2FpdCBtb2RlbHMuU2FsZS5maW5kQnlJZCh7X2lkOiBzYWxlX2lkfSkucG9wdWxhdGUoXCJ1c2VyXCIpO1xuICAgIGxldCBPcmRlckRldGFpbCA9IGF3YWl0IG1vZGVscy5TYWxlRGV0YWlsLmZpbmQoe3NhbGU6ICBPcmRlci5faWR9KS5wb3B1bGF0ZShcInByb2R1Y3RcIikucG9wdWxhdGUoXCJ2YXJpZWRhZFwiKTtcbiAgICBsZXQgQWRkcmVzc1NhbGUgPSBhd2FpdCBtb2RlbHMuU2FsZUFkZHJlc3MuZmluZE9uZSh7IHNhbGU6IE9yZGVyLl9pZH0pO1xuXG4gICAgdmFyIHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoc210cFRyYW5zcG9ydCh7XG4gICAgICBzZXJ2aWNlOiAnZ21haWwnLFxuICAgICAgaG9zdDogJ3NtdHAuZ21haWwuY29tJyxcbiAgICAgIGF1dGg6IHtcbiAgICAgIHVzZXI6ICdhZGVsLmVubGluZWFAZ21haWwuY29tJyxcbiAgICAgIHBhc3M6ICdwd25uYWxqaXlweGtqdG5tJ1xuICAgICAgfVxuICAgIH0pKTtcblxuICAgIHJlYWRIVE1MRmlsZShwcm9jZXNzLmN3ZCgpICsgJy9tYWlscy9lbWFpbF9zYWxlLmh0bWwnLCAoZXJyLCBodG1sKT0+e1xuXG4gICAgICBPcmRlckRldGFpbC5tYXAoKGRldGFpbCkgPT4ge1xuICAgICAgICBkZXRhaWwucHJvZHVjdC5pbWdzID0gcHJvY2Vzcy5lbnYuVVJMX0JBQ0tFTkQrXCIvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC9cIitkZXRhaWwucHJvZHVjdC5wb3J0YWRhO1xuICAgICAgICByZXR1cm4gZGV0YWlsO1xuICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgbGV0IHJlc3RfaHRtbCA9IGVqcy5yZW5kZXIoaHRtbCwge29yZGVyOiBPcmRlciwgYWRkcmVzc19zYWxlOiBBZGRyZXNzU2FsZSwgb3JkZXJfZGV0YWlsOiBPcmRlckRldGFpbH0pO1xuXG4gICAgICB2YXIgdGVtcGxhdGUgPSBoYW5kbGViYXJzLmNvbXBpbGUocmVzdF9odG1sKTtcbiAgICAgIHZhciBodG1sVG9TZW5kID0gdGVtcGxhdGUoe29wOnRydWV9KTtcblxuICAgICAgdmFyIG1haWxPcHRpb25zID0ge1xuICAgICAgICAgIGZyb206ICdhZGVsLmVubGluZWFAZ21haWwuY29tJyxcbiAgICAgICAgICB0bzogT3JkZXIudXNlci5lbWFpbCxcbiAgICAgICAgICBzdWJqZWN0OiAnRmluYWxpemFkYSB0dSBjb21wcmEgJyArIE9yZGVyLl9pZCxcbiAgICAgICAgICBodG1sOiBodG1sVG9TZW5kXG4gICAgICB9O1xuICAgIFxuICAgICAgdHJhbnNwb3J0ZXIuc2VuZE1haWwobWFpbE9wdGlvbnMsIGZ1bmN0aW9uKGVycm9yLCBpbmZvKXtcbiAgICAgICAgICBpZiAoIWVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFbWFpbCBzZW50OiAnICsgaW5mby5yZXNwb25zZSk7XG4gICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgIH0pO1xuICBcbiAgfSk7XG5cbiAgLy8gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAvLyAgIG1lc3NhZ2U6IFwiU3VwZXIhIFNlIGVudmlvIHVuIGNvcnJlbyBhIHN1IGRpcmVjY2lvbiBkZSBlbWFpbCwgY29uIGxhIGluZm9ybWFjaW9uIGRlIHN1IGNvbXByYVwiXG4gIC8vIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8gY29uc29sZS5sb2coZXJyb3IpO1xuICAgIC8vICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgIC8vICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCIsXG4gICAgLy8gICB9KTtcbiAgfVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgcmVnaXN0ZXI6IGFzeW5jIChyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBzYWxlX2RhdGEgPSByZXEuYm9keS5zYWxlO1xuICAgICAgbGV0IHNhbGVfYWRkcmVzc19kYXRhID0gcmVxLmJvZHkuc2FsZV9hZGRyZXNzO1xuXG4gICAgICBsZXQgU0FMRSA9IGF3YWl0IG1vZGVscy5TYWxlLmNyZWF0ZShzYWxlX2RhdGEpO1xuICAgICAgc2FsZV9hZGRyZXNzX2RhdGEuc2FsZSA9IFNBTEUuX2lkO1xuXG4gICAgICBsZXQgU0FMRV9BRERSRVNTID0gYXdhaXQgbW9kZWxzLlNhbGVBZGRyZXNzLmNyZWF0ZShzYWxlX2FkZHJlc3NfZGF0YSk7XG5cbiAgICAgIGxldCBDQVJUUyA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmQoe3VzZXI6U0FMRS51c2VyfSk7XG5cbiAgICAgIGZvciAobGV0IENBUlQgb2YgQ0FSVFMpIHtcbiAgICAgICAgQ0FSVCA9IENBUlQudG9PYmplY3QoKTtcbiAgICAgICAgQ0FSVC5zYWxlID0gU0FMRS5faWRcblxuICAgICAgICAvL1NUQVJUIERFU0NVRU5UTyBERSBJTlZFTlRBUklPXG5cbiAgICAgICAgaWYoQ0FSVC52YXJpZWRhZCl7Ly9TaSBlcyBtdWx0aXBsZSBpbnZlbnRhcmlvXG4gICAgICAgICAgbGV0IFZBUklFREFEID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkKHtfaWQ6Q0FSVC52YXJpZWRhZH0pO1xuICAgICAgICAgIGxldCBuZXdfc3RvY2sgPSBWQVJJRURBRC5zdG9jayAtIENBUlQuY2FudGlkYWQ7XG5cbiAgICAgICAgICBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogQ0FSVC52YXJpZWRhZCB9LHtcbiAgICAgICAgICAgIHN0b2NrOiAgbmV3X3N0b2NrLFxuICAgICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICB9ZWxzZXsvL1NpIGVzIHVuaXRhcmlvIGludmVudGFyaW9cbiAgICAgICAgICBsZXQgUFJPRFVDVCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkKHtfaWQ6IENBUlQucHJvZHVjdCB9KTtcblxuICAgICAgICAgIGxldCBuZXdfc3RvY2sgPSBQUk9EVUNULnN0b2NrIC0gQ0FSVC5jYW50aWRhZDtcblxuICAgICAgICAgIGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IENBUlQucHJvZHVjdCB9LHtcbiAgICAgICAgICAgIHN0b2NrOiAgbmV3X3N0b2NrLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vRU5EIERFU0NVRU5UTyBERSBJTlZFTlRBUklPXG5cbiAgICAgICAgLy9jb25zb2xlLmxvZyhDQVJUKTtcblxuICAgICAgICBhd2FpdCBtb2RlbHMuU2FsZURldGFpbC5jcmVhdGUoQ0FSVCk7XG4gICAgICAgIGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IENBUlQuX2lkfSk7XG4gICAgICB9XG5cbiAgICAgIGF3YWl0IHNlbmRfZW1haWwoU0FMRS5faWQpO1xuXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IFwiIFN1cGVyISBMYSBvcmRlbiBmdWUgcmVnaXN0cmFkYSBzYXRpc2ZhY3RvcmlhbWVudGVcIlxuICAgICAgfSlcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICB9KTtcbiAgICB9XG4gIH0sXG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQUFDLEdBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFdBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLElBQUEsR0FB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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_fs","_handlebars","_ejs","_nodemailer","_nodemailerSmtpTransport","e","__esModule","default","send_email","sale_id","readHTMLFile","path","callback","fs","readFile","encoding","err","html","Order","models","Sale","findById","_id","populate","OrderDetail","SaleDetail","find","sale","AddressSale","SaleAddress","findOne","transporter","nodemailer","createTransport","smtpTransport","service","host","auth","user","pass","process","cwd","map","detail","product","imgs","env","URL_BACKEND","portada","rest_html","ejs","render","order","address_sale","order_detail","template","handlebars","compile","htmlToSend","op","mailOptions","from","to","email","subject","sendMail","error","info","console","log","response","_default","exports","register","req","res","sale_data","body","sale_address_data","sale_address","SALE","create","SALE_ADDRESS","CARTS","Cart","CART","toObject","variedad","VARIEDAD","Variedad","new_stock","stock","cantidad","findByIdAndUpdate","PRODUCT","Product","findByIdAndDelete","status","json","message","send"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["SaleController.js"],"sourcesContent":["\nimport models from \"../models\";\n\nimport fs from 'fs';\nimport handlebars from 'handlebars';\nimport ejs from 'ejs';\nimport nodemailer from 'nodemailer';\nimport smtpTransport from 'nodemailer-smtp-transport';\n\nasync function send_email(sale_id) {\n  try {\n    var readHTMLFile = function(path, callback) {\n      fs.readFile(path, {encoding: 'utf-8'}, function (err, html) {\n          if (err) {\n              throw err;\n              callback(err);\n          }\n          else {\n              callback(null, html);\n          }\n      });\n    };\n\n    let Order = await models.Sale.findById({_id: sale_id}).populate(\"user\");\n    let OrderDetail = await models.SaleDetail.find({sale:  Order._id}).populate(\"product\").populate(\"variedad\");\n    let AddressSale = await models.SaleAddress.findOne({ sale: Order._id});\n\n    var transporter = nodemailer.createTransport(smtpTransport({\n      service: 'gmail',\n      host: 'smtp.gmail.com',\n      auth: {\n      user: 'adel.enlinea@gmail.com',\n      pass: 'pwnnaljiypxkjtnm'\n      }\n    }));\n\n    readHTMLFile(process.cwd() + '/mails/email_sale.html', (err, html)=>{\n\n      OrderDetail.map((detail) => {\n        detail.product.imgs = process.env.URL_BACKEND+\"/api/products/uploads/product/\"+detail.product.portada;\n        return detail;\n      });\n                                \n      let rest_html = ejs.render(html, {order: Order, address_sale: AddressSale, order_detail: OrderDetail});\n\n      var template = handlebars.compile(rest_html);\n      var htmlToSend = template({op:true});\n\n      var mailOptions = {\n          from: 'adel.enlinea@gmail.com',\n          to: Order.user.email,\n          subject: 'Finalizada tu compra ' + Order._id,\n          html: htmlToSend\n      };\n    \n      transporter.sendMail(mailOptions, function(error, info){\n          if (!error) {\n              console.log('Email sent: ' + info.response);\n          }else {\n            console.log(error);\n          }\n      });\n  \n  });\n\n  // res.status(200).json({\n  //   message: \"Super! Se envio un correo a su direccion de email, con la informacion de su compra\"\n  // });\n\n  } catch (error) {\n    // console.log(error);\n    //   res.status(500).send({\n    //     message: \"OCURRIÓ UN PROBLEMA\",\n    //   });\n  }\n}\n\n\nexport default {\n  register: async (req,res) => {\n    try {\n      let sale_data = req.body.sale;\n      let sale_address_data = req.body.sale_address;\n\n      let SALE = await models.Sale.create(sale_data);\n      sale_address_data.sale = SALE._id;\n\n      let SALE_ADDRESS = await models.SaleAddress.create(sale_address_data);\n\n      let CARTS = await models.Cart.find({user:SALE.user});\n\n      for (let CART of CARTS) {\n        CART = CART.toObject();\n        CART.sale = SALE._id\n\n        //START DESCUENTO DE INVENTARIO\n\n        if(CART.variedad){//Si es multiple inventario\n          let VARIEDAD = await models.Variedad.findById({_id:CART.variedad});\n          let new_stock = VARIEDAD.stock - CART.cantidad;\n\n          await models.Variedad.findByIdAndUpdate({_id: CART.variedad },{\n            stock:  new_stock,\n          })\n        \n        }else{//Si es unitario inventario\n          let PRODUCT = await models.Product.findById({_id: CART.product });\n\n          let new_stock = PRODUCT.stock - CART.cantidad;\n\n          await models.Product.findByIdAndUpdate({_id: CART.product },{\n            stock:  new_stock,\n          });\n        }\n        //END DESCUENTO DE INVENTARIO\n\n        //console.log(CART);\n\n        await models.SaleDetail.create(CART);\n        await models.Cart.findByIdAndDelete({_id: CART._id});\n      }\n\n      await send_email(SALE._id);\n\n      res.status(200).json({\n        message: \" Super! La orden fue registrada satisfactoriamente\"\n      })\n\n    } catch (error) {\n        console.log(error);\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n    }\n  },\n}\n"],"mappings":"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","ignoreList":[]}},"mtime":1746208852793},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Review.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _ReviewClientController = _interopRequireDefault(require(\"../controllers/ReviewClientController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _ReviewClientController.default.register);\nrouter.put(\"/update\", _auth.default.verifyEcommerce, _ReviewClientController.default.update);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9SZXZpZXdDbGllbnRDb250cm9sbGVyIiwiX2F1dGgiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJSZXZpZXdDbGllbnRDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2Uvcm91dGVyLyIsInNvdXJjZXMiOlsiUmV2aWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXG5pbXBvcnQgUmV2aWV3Q2xpZW50Q29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9SZXZpZXdDbGllbnRDb250cm9sbGVyJ1xuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcblxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLFJldmlld0NsaWVudENvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxSZXZpZXdDbGllbnRDb250cm9sbGVyLnVwZGF0ZSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLHVCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBc0MsU0FBQUQsdUJBQUFJLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFFdEMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUV4QkQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDQyxhQUFJLENBQUNDLGVBQWUsRUFBQ0MsK0JBQXNCLENBQUNDLFFBQVEsQ0FBQztBQUM3RU4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDSixhQUFJLENBQUNDLGVBQWUsRUFBQ0MsK0JBQXNCLENBQUNHLE1BQU0sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBWCxPQUFBLEdBRzFEQyxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_ReviewClientController","_auth","e","__esModule","default","router","routerx","post","auth","verifyEcommerce","ReviewClientController","register","put","update","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Review.js"],"sourcesContent":["import routerx from 'express-promise-router'\nimport ReviewClientController from '../controllers/ReviewClientController'\nimport auth from '../middlewares/auth'\n\nconst router = routerx();\n\nrouter.post(\"/register\",auth.verifyEcommerce,ReviewClientController.register);\nrouter.put(\"/update\",auth.verifyEcommerce,ReviewClientController.update);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,uBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,eAAe,EAACC,+BAAsB,CAACC,QAAQ,CAAC;AAC7EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,eAAe,EAACC,+BAAsB,CAACG,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAX,OAAA,GAG1DC,MAAM","ignoreList":[]}},"mtime":1740275560524},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/ReviewClientController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      console.log(req.body);\n      let review = await _models.default.Review.create(req.body);\n      res.status(200).json({\n        message: \"Super! La reseña se registró satisfactoriamente\",\n        review: review\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      await _models.default.Review.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let reviewD = await _models.default.Review.findById({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"Super! La reseña se actualizó satisfactoriamente\",\n        review: reviewD\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImNvbnNvbGUiLCJsb2ciLCJib2R5IiwicmV2aWV3IiwibW9kZWxzIiwiUmV2aWV3IiwiY3JlYXRlIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJlcnJvciIsInNlbmQiLCJ1cGRhdGUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsInJldmlld0QiLCJmaW5kQnlJZCJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIlJldmlld0NsaWVudENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5cbmV4cG9ydCBkZWZhdWx0e1xuICByZWdpc3RlcjogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhyZXEuYm9keSk7XG5cbiAgICAgIGxldCByZXZpZXcgPSBhd2FpdCBtb2RlbHMuUmV2aWV3LmNyZWF0ZShyZXEuYm9keSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJTdXBlciEgTGEgcmVzZcOxYSBzZSByZWdpc3Ryw7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgIHJldmlldzogcmV2aWV3XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgIH0pO1xuICAgIH1cblxuICB9LFxuICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgbW9kZWxzLlJldmlldy5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiByZXEuYm9keS5faWR9LHJlcS5ib2R5KTtcblxuICAgICAgbGV0IHJldmlld0QgPSBhd2FpdCBtb2RlbHMuUmV2aWV3LmZpbmRCeUlkKHtfaWQ6IHJlcS5ib2R5Ll9pZH0pXG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJTdXBlciEgTGEgcmVzZcOxYSBzZSBhY3R1YWxpesOzIHNhdGlzZmFjdG9yaWFtZW50ZVwiLFxuICAgICAgICByZXZpZXc6IHJldmlld0RcbiAgICAgIH0pO1xuXG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQStCLFNBQUFELHVCQUFBRSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFakI7RUFDWkcsUUFBUSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0lBQzFCLElBQUk7TUFDRkMsT0FBTyxDQUFDQyxHQUFHLENBQUNILEdBQUcsQ0FBQ0ksSUFBSSxDQUFDO01BRXJCLElBQUlDLE1BQU0sR0FBRyxNQUFNQyxlQUFNLENBQUNDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDUixHQUFHLENBQUNJLElBQUksQ0FBQztNQUVqREgsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNuQkMsT0FBTyxFQUFFLGlEQUFpRDtRQUMxRE4sTUFBTSxFQUFFQTtNQUNWLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQyxPQUFPTyxLQUFLLEVBQUU7TUFDZFYsT0FBTyxDQUFDQyxHQUFHLENBQUNTLEtBQUssQ0FBQztNQUNoQlgsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNJLElBQUksQ0FBQztRQUNuQkYsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ047RUFFRixDQUFDO0VBQ0RHLE1BQU0sRUFBRSxNQUFBQSxDQUFNZCxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUN4QixJQUFJO01BQ0YsTUFBTUssZUFBTSxDQUFDQyxNQUFNLENBQUNRLGlCQUFpQixDQUFDO1FBQUNDLEdBQUcsRUFBRWhCLEdBQUcsQ0FBQ0ksSUFBSSxDQUFDWTtNQUFHLENBQUMsRUFBQ2hCLEdBQUcsQ0FBQ0ksSUFBSSxDQUFDO01BRW5FLElBQUlhLE9BQU8sR0FBRyxNQUFNWCxlQUFNLENBQUNDLE1BQU0sQ0FBQ1csUUFBUSxDQUFDO1FBQUNGLEdBQUcsRUFBRWhCLEdBQUcsQ0FBQ0ksSUFBSSxDQUFDWTtNQUFHLENBQUMsQ0FBQztNQUUvRGYsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNuQkMsT0FBTyxFQUFFLGtEQUFrRDtRQUMzRE4sTUFBTSxFQUFFWTtNQUNWLENBQUMsQ0FBQztJQUdKLENBQUMsQ0FBQyxPQUFPTCxLQUFLLEVBQUU7TUFDZFYsT0FBTyxDQUFDQyxHQUFHLENBQUNTLEtBQUssQ0FBQztNQUNoQlgsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNJLElBQUksQ0FBQztRQUNuQkYsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ047RUFDRjtBQUVGLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_models","_interopRequireDefault","require","e","__esModule","default","_default","exports","register","req","res","console","log","body","review","models","Review","create","status","json","message","error","send","update","findByIdAndUpdate","_id","reviewD","findById"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["ReviewClientController.js"],"sourcesContent":["import models from \"../models\";\n\nexport default{\n  register: async(req,res) => {\n    try {\n      console.log(req.body);\n\n      let review = await models.Review.create(req.body);\n\n      res.status(200).json({\n        message: \"Super! La reseña se registró satisfactoriamente\",\n        review: review\n      });\n    } catch (error) {\n      console.log(error);\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n    }\n\n  },\n  update: async(req,res) => {\n    try {\n      await models.Review.findByIdAndUpdate({_id: req.body._id},req.body);\n\n      let reviewD = await models.Review.findById({_id: req.body._id})\n\n      res.status(200).json({\n        message: \"Super! La reseña se actualizó satisfactoriamente\",\n        review: reviewD\n      });\n\n      \n    } catch (error) {\n      console.log(error);\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n    }\n  },\n\n}"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEjB;EACZG,QAAQ,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,KAAK;IAC1B,IAAI;MACFC,OAAO,CAACC,GAAG,CAACH,GAAG,CAACI,IAAI,CAAC;MAErB,IAAIC,MAAM,GAAG,MAAMC,eAAM,CAACC,MAAM,CAACC,MAAM,CAACR,GAAG,CAACI,IAAI,CAAC;MAEjDH,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE,iDAAiD;QAC1DN,MAAM,EAAEA;MACV,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOO,KAAK,EAAE;MACdV,OAAO,CAACC,GAAG,CAACS,KAAK,CAAC;MAChBX,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACI,IAAI,CAAC;QACnBF,OAAO,EAAE;MACX,CAAC,CAAC;IACN;EAEF,CAAC;EACDG,MAAM,EAAE,MAAAA,CAAMd,GAAG,EAACC,GAAG,KAAK;IACxB,IAAI;MACF,MAAMK,eAAM,CAACC,MAAM,CAACQ,iBAAiB,CAAC;QAACC,GAAG,EAAEhB,GAAG,CAACI,IAAI,CAACY;MAAG,CAAC,EAAChB,GAAG,CAACI,IAAI,CAAC;MAEnE,IAAIa,OAAO,GAAG,MAAMX,eAAM,CAACC,MAAM,CAACW,QAAQ,CAAC;QAACF,GAAG,EAAEhB,GAAG,CAACI,IAAI,CAACY;MAAG,CAAC,CAAC;MAE/Df,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE,kDAAkD;QAC3DN,MAAM,EAAEY;MACV,CAAC,CAAC;IAGJ,CAAC,CAAC,OAAOL,KAAK,EAAE;MACdV,OAAO,CAACC,GAAG,CAACS,KAAK,CAAC;MAChBX,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACI,IAAI,CAAC;QACnBF,OAAO,EAAE;MACX,CAAC,CAAC;IACN;EACF;AAEF,CAAC","ignoreList":[]}},"mtime":1740337641403},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Review.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _ReviewClientController = _interopRequireDefault(require(\"../controllers/ReviewClientController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _ReviewClientController.default.register);\nrouter.put(\"/update\", _auth.default.verifyEcommerce, _ReviewClientController.default.update);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9SZXZpZXdDbGllbnRDb250cm9sbGVyIiwiX2F1dGgiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJSZXZpZXdDbGllbnRDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2Uvcm91dGVyLyIsInNvdXJjZXMiOlsiUmV2aWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXG5pbXBvcnQgUmV2aWV3Q2xpZW50Q29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9SZXZpZXdDbGllbnRDb250cm9sbGVyJ1xuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcblxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLFJldmlld0NsaWVudENvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxSZXZpZXdDbGllbnRDb250cm9sbGVyLnVwZGF0ZSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLHVCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBc0MsU0FBQUQsdUJBQUFJLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFFdEMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUV4QkQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDQyxhQUFJLENBQUNDLGVBQWUsRUFBQ0MsK0JBQXNCLENBQUNDLFFBQVEsQ0FBQztBQUM3RU4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDSixhQUFJLENBQUNDLGVBQWUsRUFBQ0MsK0JBQXNCLENBQUNHLE1BQU0sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBWCxPQUFBLEdBRzFEQyxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_ReviewClientController","_auth","e","__esModule","default","router","routerx","post","auth","verifyEcommerce","ReviewClientController","register","put","update","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Review.js"],"sourcesContent":["import routerx from 'express-promise-router'\nimport ReviewClientController from '../controllers/ReviewClientController'\nimport auth from '../middlewares/auth'\n\nconst router = routerx();\n\nrouter.post(\"/register\",auth.verifyEcommerce,ReviewClientController.register);\nrouter.put(\"/update\",auth.verifyEcommerce,ReviewClientController.update);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,uBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,eAAe,EAACC,+BAAsB,CAACC,QAAQ,CAAC;AAC7EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,eAAe,EAACC,+BAAsB,CAACG,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAX,OAAA,GAG1DC,MAAM","ignoreList":[]}},"mtime":1740275560524},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/ReviewClientController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      console.log(req.body);\n      let review = await _models.default.Review.create(req.body);\n      res.status(200).json({\n        message: \"Super! La reseña se registró satisfactoriamente\",\n        review: review\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      await _models.default.Review.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let reviewD = await _models.default.Review.findById({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"Super! La reseña se actualizó satisfactoriamente\",\n        review: reviewD\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImNvbnNvbGUiLCJsb2ciLCJib2R5IiwicmV2aWV3IiwibW9kZWxzIiwiUmV2aWV3IiwiY3JlYXRlIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJlcnJvciIsInNlbmQiLCJ1cGRhdGUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsInJldmlld0QiLCJmaW5kQnlJZCJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIlJldmlld0NsaWVudENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5cbmV4cG9ydCBkZWZhdWx0e1xuICByZWdpc3RlcjogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhyZXEuYm9keSk7XG5cbiAgICAgIGxldCByZXZpZXcgPSBhd2FpdCBtb2RlbHMuUmV2aWV3LmNyZWF0ZShyZXEuYm9keSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJTdXBlciEgTGEgcmVzZcOxYSBzZSByZWdpc3Ryw7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgIHJldmlldzogcmV2aWV3XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgIH0pO1xuICAgIH1cblxuICB9LFxuICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgbW9kZWxzLlJldmlldy5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiByZXEuYm9keS5faWR9LHJlcS5ib2R5KTtcblxuICAgICAgbGV0IHJldmlld0QgPSBhd2FpdCBtb2RlbHMuUmV2aWV3LmZpbmRCeUlkKHtfaWQ6IHJlcS5ib2R5Ll9pZH0pXG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJTdXBlciEgTGEgcmVzZcOxYSBzZSBhY3R1YWxpesOzIHNhdGlzZmFjdG9yaWFtZW50ZVwiLFxuICAgICAgICByZXZpZXc6IHJldmlld0RcbiAgICAgIH0pO1xuXG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQStCLFNBQUFELHVCQUFBRSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFakI7RUFDWkcsUUFBUSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0lBQzFCLElBQUk7TUFDRkMsT0FBTyxDQUFDQyxHQUFHLENBQUNILEdBQUcsQ0FBQ0ksSUFBSSxDQUFDO01BRXJCLElBQUlDLE1BQU0sR0FBRyxNQUFNQyxlQUFNLENBQUNDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDUixHQUFHLENBQUNJLElBQUksQ0FBQztNQUVqREgsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNuQkMsT0FBTyxFQUFFLGlEQUFpRDtRQUMxRE4sTUFBTSxFQUFFQTtNQUNWLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQyxPQUFPTyxLQUFLLEVBQUU7TUFDZFYsT0FBTyxDQUFDQyxHQUFHLENBQUNTLEtBQUssQ0FBQztNQUNoQlgsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNJLElBQUksQ0FBQztRQUNuQkYsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ047RUFFRixDQUFDO0VBQ0RHLE1BQU0sRUFBRSxNQUFBQSxDQUFNZCxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUN4QixJQUFJO01BQ0YsTUFBTUssZUFBTSxDQUFDQyxNQUFNLENBQUNRLGlCQUFpQixDQUFDO1FBQUNDLEdBQUcsRUFBRWhCLEdBQUcsQ0FBQ0ksSUFBSSxDQUFDWTtNQUFHLENBQUMsRUFBQ2hCLEdBQUcsQ0FBQ0ksSUFBSSxDQUFDO01BRW5FLElBQUlhLE9BQU8sR0FBRyxNQUFNWCxlQUFNLENBQUNDLE1BQU0sQ0FBQ1csUUFBUSxDQUFDO1FBQUNGLEdBQUcsRUFBRWhCLEdBQUcsQ0FBQ0ksSUFBSSxDQUFDWTtNQUFHLENBQUMsQ0FBQztNQUUvRGYsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNuQkMsT0FBTyxFQUFFLGtEQUFrRDtRQUMzRE4sTUFBTSxFQUFFWTtNQUNWLENBQUMsQ0FBQztJQUdKLENBQUMsQ0FBQyxPQUFPTCxLQUFLLEVBQUU7TUFDZFYsT0FBTyxDQUFDQyxHQUFHLENBQUNTLEtBQUssQ0FBQztNQUNoQlgsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNJLElBQUksQ0FBQztRQUNuQkYsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ047RUFDRjtBQUVGLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_models","_interopRequireDefault","require","e","__esModule","default","_default","exports","register","req","res","console","log","body","review","models","Review","create","status","json","message","error","send","update","findByIdAndUpdate","_id","reviewD","findById"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["ReviewClientController.js"],"sourcesContent":["import models from \"../models\";\n\nexport default{\n  register: async(req,res) => {\n    try {\n      console.log(req.body);\n\n      let review = await models.Review.create(req.body);\n\n      res.status(200).json({\n        message: \"Super! La reseña se registró satisfactoriamente\",\n        review: review\n      });\n    } catch (error) {\n      console.log(error);\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n    }\n\n  },\n  update: async(req,res) => {\n    try {\n      await models.Review.findByIdAndUpdate({_id: req.body._id},req.body);\n\n      let reviewD = await models.Review.findById({_id: req.body._id})\n\n      res.status(200).json({\n        message: \"Super! La reseña se actualizó satisfactoriamente\",\n        review: reviewD\n      });\n\n      \n    } catch (error) {\n      console.log(error);\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n    }\n  },\n\n}"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEjB;EACZG,QAAQ,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,KAAK;IAC1B,IAAI;MACFC,OAAO,CAACC,GAAG,CAACH,GAAG,CAACI,IAAI,CAAC;MAErB,IAAIC,MAAM,GAAG,MAAMC,eAAM,CAACC,MAAM,CAACC,MAAM,CAACR,GAAG,CAACI,IAAI,CAAC;MAEjDH,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE,iDAAiD;QAC1DN,MAAM,EAAEA;MACV,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOO,KAAK,EAAE;MACdV,OAAO,CAACC,GAAG,CAACS,KAAK,CAAC;MAChBX,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACI,IAAI,CAAC;QACnBF,OAAO,EAAE;MACX,CAAC,CAAC;IACN;EAEF,CAAC;EACDG,MAAM,EAAE,MAAAA,CAAMd,GAAG,EAACC,GAAG,KAAK;IACxB,IAAI;MACF,MAAMK,eAAM,CAACC,MAAM,CAACQ,iBAAiB,CAAC;QAACC,GAAG,EAAEhB,GAAG,CAACI,IAAI,CAACY;MAAG,CAAC,EAAChB,GAAG,CAACI,IAAI,CAAC;MAEnE,IAAIa,OAAO,GAAG,MAAMX,eAAM,CAACC,MAAM,CAACW,QAAQ,CAAC;QAACF,GAAG,EAAEhB,GAAG,CAACI,IAAI,CAACY;MAAG,CAAC,CAAC;MAE/Df,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE,kDAAkD;QAC3DN,MAAM,EAAEY;MACV,CAAC,CAAC;IAGJ,CAAC,CAAC,OAAOL,KAAK,EAAE;MACdV,OAAO,CAACC,GAAG,CAACS,KAAK,CAAC;MAChBX,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACI,IAAI,CAAC;QACnBF,OAAO,EAAE;MACX,CAAC,CAAC;IACN;EACF;AAEF,CAAC","ignoreList":[]}},"mtime":1740337641403},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _router = _interopRequireDefault(require(\"./router\"));\nrequire(\"dotenv/config\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n//console.log(process.env)\n\n//CONEXION A LA BASE DE DATOS db_adcee\n\n//const dburl = \"mongodb://127.0.0.1:27017/db_adcee\";\n_mongoose.default.Promise = global.Promise;\nconst dburl = \"mongodb+srv://malavemjv:guayoyo@adccedb.z6dz1.mongodb.net/db_adcee\";\n_mongoose.default.connect(dburl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(() => console.log(\"CONECTADO A LA BD db_adcee en el puerto 27017\")).catch(err => console.log(err));\n\n//DECLARACION EXPRESS\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use(_express.default.json());\napp.use(_express.default.urlencoded({\n  extended: true\n}));\napp.use(_express.default.static(_path.default.join(__dirname, 'public')));\napp.use('/api/', _router.default);\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => {\n  console.log(\"EL SERVIDOR SE EJECUTA PERFECTAMENTE EN EL PUERTO 3000\");\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NvcnMiLCJfcGF0aCIsIl9tb25nb29zZSIsIl9yb3V0ZXIiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJtb25nb29zZSIsIlByb21pc2UiLCJnbG9iYWwiLCJkYnVybCIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyIiwiYXBwIiwiZXhwcmVzcyIsInVzZSIsImNvcnMiLCJqc29uIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwic3RhdGljIiwicGF0aCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJyb3V0ZXIiLCJzZXQiLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsImxpc3RlbiIsImdldCJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgY29ycyBmcm9tIFwiY29yc1wiO1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcbmltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcbmltcG9ydCByb3V0ZXIgZnJvbSBcIi4vcm91dGVyXCI7XG5pbXBvcnQgJ2RvdGVudi9jb25maWcnXG5cbi8vY29uc29sZS5sb2cocHJvY2Vzcy5lbnYpXG5cbi8vQ09ORVhJT04gQSBMQSBCQVNFIERFIERBVE9TIGRiX2FkY2VlXG5cbi8vY29uc3QgZGJ1cmwgPSBcIm1vbmdvZGI6Ly8xMjcuMC4wLjE6MjcwMTcvZGJfYWRjZWVcIjtcbm1vbmdvb3NlLlByb21pc2UgPSBnbG9iYWwuUHJvbWlzZTtcbmNvbnN0IGRidXJsID0gXCJtb25nb2RiK3NydjovL21hbGF2ZW1qdjpndWF5b3lvQGFkY2NlZGIuejZkejEubW9uZ29kYi5uZXQvZGJfYWRjZWVcIjtcblxuXG5cbm1vbmdvb3NlLmNvbm5lY3QoXG4gIGRidXJsLHtcbiAgICB1c2VOZXdVcmxQYXJzZXI6IHRydWUsXG4gICAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLFxuICB9KVxuICAudGhlbigoKSA9PiBjb25zb2xlLmxvZyhcIkNPTkVDVEFETyBBIExBIEJEIGRiX2FkY2VlIGVuIGVsIHB1ZXJ0byAyNzAxN1wiKSlcbiAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcblxuXG5cbi8vREVDTEFSQUNJT04gRVhQUkVTU1xuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuYXBwLnVzZShjb3JzKFxuKSk7XG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcbmFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xuYXBwLnVzZShleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oX19kaXJuYW1lLCAncHVibGljJykpKTtcbmFwcC51c2UoJy9hcGkvJywgcm91dGVyKTtcblxuYXBwLnNldCgncG9ydCcsIHByb2Nlc3MuZW52LlBPUlQgfHwgMzAwMCk7XG5hcHAubGlzdGVuKGFwcC5nZXQoJ3BvcnQnKSwgKCkgPT4geyBcbiAgY29uc29sZS5sb2coXCJFTCBTRVJWSURPUiBTRSBFSkVDVVRBIFBFUkZFQ1RBTUVOVEUgRU4gRUwgUFVFUlRPIDMwMDBcIik7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxTQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxPQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFDQUEsT0FBQTtBQUFzQixTQUFBRCx1QkFBQU0sQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUV0Qjs7QUFFQTs7QUFFQTtBQUNBRyxpQkFBUSxDQUFDQyxPQUFPLEdBQUdDLE1BQU0sQ0FBQ0QsT0FBTztBQUNqQyxNQUFNRSxLQUFLLEdBQUcsb0VBQW9FO0FBSWxGSCxpQkFBUSxDQUFDSSxPQUFPLENBQ2RELEtBQUssRUFBQztFQUNKRSxlQUFlLEVBQUUsSUFBSTtFQUNyQkMsa0JBQWtCLEVBQUU7QUFDdEIsQ0FBQyxDQUFDLENBQ0RDLElBQUksQ0FBQyxNQUFNQyxPQUFPLENBQUNDLEdBQUcsQ0FBQywrQ0FBK0MsQ0FBQyxDQUFDLENBQ3hFQyxLQUFLLENBQUNDLEdBQUcsSUFBSUgsT0FBTyxDQUFDQyxHQUFHLENBQUNFLEdBQUcsQ0FBQyxDQUFDOztBQUlqQztBQUNBLE1BQU1DLEdBQUcsR0FBRyxJQUFBQyxnQkFBTyxFQUFDLENBQUM7QUFDckJELEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLElBQUFDLGFBQUksRUFDWixDQUFDLENBQUM7QUFDRkgsR0FBRyxDQUFDRSxHQUFHLENBQUNELGdCQUFPLENBQUNHLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDdkJKLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDRCxnQkFBTyxDQUFDSSxVQUFVLENBQUM7RUFBRUMsUUFBUSxFQUFFO0FBQUssQ0FBQyxDQUFDLENBQUM7QUFDL0NOLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDRCxnQkFBTyxDQUFDTSxNQUFNLENBQUNDLGFBQUksQ0FBQ0MsSUFBSSxDQUFDQyxTQUFTLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQztBQUN2RFYsR0FBRyxDQUFDRSxHQUFHLENBQUMsT0FBTyxFQUFFUyxlQUFNLENBQUM7QUFFeEJYLEdBQUcsQ0FBQ1ksR0FBRyxDQUFDLE1BQU0sRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLElBQUksSUFBSSxJQUFJLENBQUM7QUFDekNmLEdBQUcsQ0FBQ2dCLE1BQU0sQ0FBQ2hCLEdBQUcsQ0FBQ2lCLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxNQUFNO0VBQ2hDckIsT0FBTyxDQUFDQyxHQUFHLENBQUMsd0RBQXdELENBQUM7QUFDdkUsQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_express","_interopRequireDefault","require","_cors","_path","_mongoose","_router","e","__esModule","default","mongoose","Promise","global","dburl","connect","useNewUrlParser","useUnifiedTopology","then","console","log","catch","err","app","express","use","cors","json","urlencoded","extended","static","path","join","__dirname","router","set","process","env","PORT","listen","get"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/","sources":["index.js"],"sourcesContent":["import express from \"express\";\nimport cors from \"cors\";\nimport path from \"path\";\nimport mongoose from \"mongoose\";\nimport router from \"./router\";\nimport 'dotenv/config'\n\n//console.log(process.env)\n\n//CONEXION A LA BASE DE DATOS db_adcee\n\n//const dburl = \"mongodb://127.0.0.1:27017/db_adcee\";\nmongoose.Promise = global.Promise;\nconst dburl = \"mongodb+srv://malavemjv:guayoyo@adccedb.z6dz1.mongodb.net/db_adcee\";\n\n\n\nmongoose.connect(\n  dburl,{\n    useNewUrlParser: true,\n    useUnifiedTopology: true,\n  })\n  .then(() => console.log(\"CONECTADO A LA BD db_adcee en el puerto 27017\"))\n  .catch(err => console.log(err));\n\n\n\n//DECLARACION EXPRESS\nconst app = express();\napp.use(cors(\n));\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\napp.use(express.static(path.join(__dirname, 'public')));\napp.use('/api/', router);\n\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => { \n  console.log(\"EL SERVIDOR SE EJECUTA PERFECTAMENTE EN EL PUERTO 3000\");\n});\n"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AACAA,OAAA;AAAsB,SAAAD,uBAAAM,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEtB;;AAEA;;AAEA;AACAG,iBAAQ,CAACC,OAAO,GAAGC,MAAM,CAACD,OAAO;AACjC,MAAME,KAAK,GAAG,oEAAoE;AAIlFH,iBAAQ,CAACI,OAAO,CACdD,KAAK,EAAC;EACJE,eAAe,EAAE,IAAI;EACrBC,kBAAkB,EAAE;AACtB,CAAC,CAAC,CACDC,IAAI,CAAC,MAAMC,OAAO,CAACC,GAAG,CAAC,+CAA+C,CAAC,CAAC,CACxEC,KAAK,CAACC,GAAG,IAAIH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CAAC;;AAIjC;AACA,MAAMC,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AACrBD,GAAG,CAACE,GAAG,CAAC,IAAAC,aAAI,EACZ,CAAC,CAAC;AACFH,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACG,IAAI,CAAC,CAAC,CAAC;AACvBJ,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACI,UAAU,CAAC;EAAEC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAAC;AAC/CN,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACM,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAE,QAAQ,CAAC,CAAC,CAAC;AACvDV,GAAG,CAACE,GAAG,CAAC,OAAO,EAAES,eAAM,CAAC;AAExBX,GAAG,CAACY,GAAG,CAAC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,IAAI,IAAI,IAAI,CAAC;AACzCf,GAAG,CAACgB,MAAM,CAAChB,GAAG,CAACiB,GAAG,CAAC,MAAM,CAAC,EAAE,MAAM;EAChCrB,OAAO,CAACC,GAAG,CAAC,wDAAwD,CAAC;AACvE,CAAC,CAAC","ignoreList":[]}},"mtime":1743106635605},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cupone = _interopRequireDefault(require(\"./Cupone\"));\nvar _Discount = _interopRequireDefault(require(\"./Discount\"));\nvar _Home = _interopRequireDefault(require(\"./Home\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nvar _AddressClient = _interopRequireDefault(require(\"./AddressClient\"));\nvar _Sale = _interopRequireDefault(require(\"./Sale\"));\nvar _Review = _interopRequireDefault(require(\"./Review\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.use('/users', _User.default);\nrouter.use('/categories', _Categorie.default);\nrouter.use('/products', _Product.default);\nrouter.use('/sliders', _Slider.default);\nrouter.use('/cupones', _Cupone.default);\nrouter.use('/discount', _Discount.default);\nrouter.use('/home', _Home.default);\nrouter.use('/cart', _Cart.default);\nrouter.use('/address_client', _AddressClient.default);\nrouter.use('/sale', _Sale.default);\nrouter.use('/review', _Review.default);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwiX0NhdGVnb3JpZSIsIl9Qcm9kdWN0IiwiX1NsaWRlciIsIl9DdXBvbmUiLCJfRGlzY291bnQiLCJfSG9tZSIsIl9DYXJ0IiwiX0FkZHJlc3NDbGllbnQiLCJfU2FsZSIsIl9SZXZpZXciLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwidXNlIiwiVXNlciIsIkNhdGVnb3JpZSIsIlByb2R1Y3QiLCJTbGlkZXIiLCJDdXBvbmUiLCJEaXNjb3VudCIsIkhvbWUiLCJDYXJ0IiwiQWRkcmVzc0NsaWVudCIsIlNhbGUiLCJSZXZpZXciLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2Uvcm91dGVyLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcbmltcG9ydCBVc2VyIGZyb20gJy4vVXNlcidcbmltcG9ydCBDYXRlZ29yaWUgZnJvbSAnLi9DYXRlZ29yaWUnXG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuL1Byb2R1Y3QnXG5pbXBvcnQgU2xpZGVyIGZyb20gJy4vU2xpZGVyJ1xuaW1wb3J0IEN1cG9uZSBmcm9tICcuL0N1cG9uZSdcbmltcG9ydCBEaXNjb3VudCBmcm9tICcuL0Rpc2NvdW50J1xuaW1wb3J0IEhvbWUgZnJvbSAnLi9Ib21lJ1xuaW1wb3J0IENhcnQgZnJvbSAnLi9DYXJ0J1xuaW1wb3J0IEFkZHJlc3NDbGllbnQgZnJvbSAnLi9BZGRyZXNzQ2xpZW50J1xuaW1wb3J0IFNhbGUgZnJvbSAnLi9TYWxlJ1xuaW1wb3J0IFJldmlldyBmcm9tICcuL1JldmlldydcblxuXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5yb3V0ZXIudXNlKCcvdXNlcnMnLCBVc2VyKTtcbnJvdXRlci51c2UoJy9jYXRlZ29yaWVzJywgQ2F0ZWdvcmllKTtcbnJvdXRlci51c2UoJy9wcm9kdWN0cycsIFByb2R1Y3QpO1xucm91dGVyLnVzZSgnL3NsaWRlcnMnLCBTbGlkZXIpO1xucm91dGVyLnVzZSgnL2N1cG9uZXMnLCBDdXBvbmUpO1xucm91dGVyLnVzZSgnL2Rpc2NvdW50JywgRGlzY291bnQpO1xucm91dGVyLnVzZSgnL2hvbWUnLCBIb21lKTtcbnJvdXRlci51c2UoJy9jYXJ0JywgQ2FydCk7XG5yb3V0ZXIudXNlKCcvYWRkcmVzc19jbGllbnQnLCBBZGRyZXNzQ2xpZW50KTtcbnJvdXRlci51c2UoJy9zYWxlJywgU2FsZSk7XG5yb3V0ZXIudXNlKCcvcmV2aWV3JywgUmV2aWV3KTtcblxuXG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFVBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFFBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLE9BQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLE9BQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFNLFNBQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFPLEtBQUEsR0FBQVIsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFRLEtBQUEsR0FBQVQsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFTLGNBQUEsR0FBQVYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFVLEtBQUEsR0FBQVgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFXLE9BQUEsR0FBQVosc0JBQUEsQ0FBQUMsT0FBQTtBQUE2QixTQUFBRCx1QkFBQWEsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUc3QixNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBQ3hCRCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxRQUFRLEVBQUVDLGFBQUksQ0FBQztBQUMxQkgsTUFBTSxDQUFDRSxHQUFHLENBQUMsYUFBYSxFQUFFRSxrQkFBUyxDQUFDO0FBQ3BDSixNQUFNLENBQUNFLEdBQUcsQ0FBQyxXQUFXLEVBQUVHLGdCQUFPLENBQUM7QUFDaENMLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLFVBQVUsRUFBRUksZUFBTSxDQUFDO0FBQzlCTixNQUFNLENBQUNFLEdBQUcsQ0FBQyxVQUFVLEVBQUVLLGVBQU0sQ0FBQztBQUM5QlAsTUFBTSxDQUFDRSxHQUFHLENBQUMsV0FBVyxFQUFFTSxpQkFBUSxDQUFDO0FBQ2pDUixNQUFNLENBQUNFLEdBQUcsQ0FBQyxPQUFPLEVBQUVPLGFBQUksQ0FBQztBQUN6QlQsTUFBTSxDQUFDRSxHQUFHLENBQUMsT0FBTyxFQUFFUSxhQUFJLENBQUM7QUFDekJWLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLGlCQUFpQixFQUFFUyxzQkFBYSxDQUFDO0FBQzVDWCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxPQUFPLEVBQUVVLGFBQUksQ0FBQztBQUN6QlosTUFBTSxDQUFDRSxHQUFHLENBQUMsU0FBUyxFQUFFVyxlQUFNLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWhCLE9BQUEsR0FLZkMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_User","_Categorie","_Product","_Slider","_Cupone","_Discount","_Home","_Cart","_AddressClient","_Sale","_Review","e","__esModule","default","router","routerx","use","User","Categorie","Product","Slider","Cupone","Discount","Home","Cart","AddressClient","Sale","Review","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["index.js"],"sourcesContent":["import routerx from 'express-promise-router'\nimport User from './User'\nimport Categorie from './Categorie'\nimport Product from './Product'\nimport Slider from './Slider'\nimport Cupone from './Cupone'\nimport Discount from './Discount'\nimport Home from './Home'\nimport Cart from './Cart'\nimport AddressClient from './AddressClient'\nimport Sale from './Sale'\nimport Review from './Review'\n\n\nconst router = routerx();\nrouter.use('/users', User);\nrouter.use('/categories', Categorie);\nrouter.use('/products', Product);\nrouter.use('/sliders', Slider);\nrouter.use('/cupones', Cupone);\nrouter.use('/discount', Discount);\nrouter.use('/home', Home);\nrouter.use('/cart', Cart);\nrouter.use('/address_client', AddressClient);\nrouter.use('/sale', Sale);\nrouter.use('/review', Review);\n\n\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,QAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,OAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,SAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,KAAA,GAAAR,sBAAA,CAAAC,OAAA;AACA,IAAAQ,KAAA,GAAAT,sBAAA,CAAAC,OAAA;AACA,IAAAS,cAAA,GAAAV,sBAAA,CAAAC,OAAA;AACA,IAAAU,KAAA,GAAAX,sBAAA,CAAAC,OAAA;AACA,IAAAW,OAAA,GAAAZ,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAa,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAG7B,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxBD,MAAM,CAACE,GAAG,CAAC,QAAQ,EAAEC,aAAI,CAAC;AAC1BH,MAAM,CAACE,GAAG,CAAC,aAAa,EAAEE,kBAAS,CAAC;AACpCJ,MAAM,CAACE,GAAG,CAAC,WAAW,EAAEG,gBAAO,CAAC;AAChCL,MAAM,CAACE,GAAG,CAAC,UAAU,EAAEI,eAAM,CAAC;AAC9BN,MAAM,CAACE,GAAG,CAAC,UAAU,EAAEK,eAAM,CAAC;AAC9BP,MAAM,CAACE,GAAG,CAAC,WAAW,EAAEM,iBAAQ,CAAC;AACjCR,MAAM,CAACE,GAAG,CAAC,OAAO,EAAEO,aAAI,CAAC;AACzBT,MAAM,CAACE,GAAG,CAAC,OAAO,EAAEQ,aAAI,CAAC;AACzBV,MAAM,CAACE,GAAG,CAAC,iBAAiB,EAAES,sBAAa,CAAC;AAC5CX,MAAM,CAACE,GAAG,CAAC,OAAO,EAAEU,aAAI,CAAC;AACzBZ,MAAM,CAACE,GAAG,CAAC,SAAS,EAAEW,eAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAKfC,MAAM","ignoreList":[]}},"mtime":1740275708662},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", _UserController.default.register);\nrouter.post(\"/register_seller\", _UserController.default.register_seller);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post(\"/register_admin\", _auth.default.verifyAdmin, _UserController.default.register_admin);\nrouter.post(\"/login\", _UserController.default.login);\nrouter.post(\"/login_admin\", _UserController.default.login_admin);\nrouter.post(\"/login_seller\", _UserController.default.login_seller);\nrouter.delete(\"/delete\", _UserController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyQ29udHJvbGxlciIsIl9hdXRoIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJVc2VyQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicmVnaXN0ZXJfc2VsbGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwibGlzdCIsInJlZ2lzdGVyX2FkbWluIiwibG9naW4iLCJsb2dpbl9hZG1pbiIsImxvZ2luX3NlbGxlciIsImRlbGV0ZSIsInJlbW92ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gXCJleHByZXNzLXByb21pc2Utcm91dGVyXCJcbmltcG9ydCBVc2VyQ29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXJcIlxuaW1wb3J0IGF1dGggZnJvbSBcIi4uL21pZGRsZXdhcmVzL2F1dGhcIlxuXG5cblxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG4vLyBwcm9jZXNzLmVudi5VUkxfQkFDS0VORC9hcGkvdXNlcnMvcmVnaXN0ZXJcblxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgVXNlckNvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJfc2VsbGVyXCIsIFVzZXJDb250cm9sbGVyLnJlZ2lzdGVyX3NlbGxlcik7XG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLCBVc2VyQ29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLmdldChcIi9saXN0XCIsYXV0aC52ZXJpZnlBZG1pbiwgVXNlckNvbnRyb2xsZXIubGlzdCk7XG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlcl9hZG1pblwiLGF1dGgudmVyaWZ5QWRtaW4sIFVzZXJDb250cm9sbGVyLnJlZ2lzdGVyX2FkbWluKTtcbnJvdXRlci5wb3N0KFwiL2xvZ2luXCIsIFVzZXJDb250cm9sbGVyLmxvZ2luKTtcbnJvdXRlci5wb3N0KFwiL2xvZ2luX2FkbWluXCIsIFVzZXJDb250cm9sbGVyLmxvZ2luX2FkbWluKTtcbnJvdXRlci5wb3N0KFwiL2xvZ2luX3NlbGxlclwiLCBVc2VyQ29udHJvbGxlci5sb2dpbl9zZWxsZXIpO1xucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIiwgVXNlckNvbnRyb2xsZXIucmVtb3ZlKTtcblxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsZUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBSXRDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7O0FBRXhCOztBQUVBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUVDLHVCQUFjLENBQUNDLFFBQVEsQ0FBQztBQUNqREosTUFBTSxDQUFDRSxJQUFJLENBQUMsa0JBQWtCLEVBQUVDLHVCQUFjLENBQUNFLGVBQWUsQ0FBQztBQUMvREwsTUFBTSxDQUFDTSxHQUFHLENBQUMsU0FBUyxFQUFFSCx1QkFBYyxDQUFDSSxNQUFNLENBQUM7QUFDNUNQLE1BQU0sQ0FBQ1EsR0FBRyxDQUFDLE9BQU8sRUFBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUVQLHVCQUFjLENBQUNRLElBQUksQ0FBQztBQUN6RFgsTUFBTSxDQUFDRSxJQUFJLENBQUMsaUJBQWlCLEVBQUNPLGFBQUksQ0FBQ0MsV0FBVyxFQUFFUCx1QkFBYyxDQUFDUyxjQUFjLENBQUM7QUFDOUVaLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFFBQVEsRUFBRUMsdUJBQWMsQ0FBQ1UsS0FBSyxDQUFDO0FBQzNDYixNQUFNLENBQUNFLElBQUksQ0FBQyxjQUFjLEVBQUVDLHVCQUFjLENBQUNXLFdBQVcsQ0FBQztBQUN2RGQsTUFBTSxDQUFDRSxJQUFJLENBQUMsZUFBZSxFQUFFQyx1QkFBYyxDQUFDWSxZQUFZLENBQUM7QUFDekRmLE1BQU0sQ0FBQ2dCLE1BQU0sQ0FBQyxTQUFTLEVBQUViLHVCQUFjLENBQUNjLE1BQU0sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBcEIsT0FBQSxHQUdqQ0MsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_UserController","_auth","e","__esModule","default","router","routerx","post","UserController","register","register_seller","put","update","get","auth","verifyAdmin","list","register_admin","login","login_admin","login_seller","delete","remove","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["User.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport UserController from \"../controllers/UserController\"\nimport auth from \"../middlewares/auth\"\n\n\n\nconst router = routerx();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", UserController.register);\nrouter.post(\"/register_seller\", UserController.register_seller);\nrouter.put(\"/update\", UserController.update);\nrouter.get(\"/list\",auth.verifyAdmin, UserController.list);\nrouter.post(\"/register_admin\",auth.verifyAdmin, UserController.register_admin);\nrouter.post(\"/login\", UserController.login);\nrouter.post(\"/login_admin\", UserController.login_admin);\nrouter.post(\"/login_seller\", UserController.login_seller);\nrouter.delete(\"/delete\", UserController.remove);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAItC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEC,uBAAc,CAACC,QAAQ,CAAC;AACjDJ,MAAM,CAACE,IAAI,CAAC,kBAAkB,EAAEC,uBAAc,CAACE,eAAe,CAAC;AAC/DL,MAAM,CAACM,GAAG,CAAC,SAAS,EAAEH,uBAAc,CAACI,MAAM,CAAC;AAC5CP,MAAM,CAACQ,GAAG,CAAC,OAAO,EAACC,aAAI,CAACC,WAAW,EAAEP,uBAAc,CAACQ,IAAI,CAAC;AACzDX,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAACO,aAAI,CAACC,WAAW,EAAEP,uBAAc,CAACS,cAAc,CAAC;AAC9EZ,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAEC,uBAAc,CAACU,KAAK,CAAC;AAC3Cb,MAAM,CAACE,IAAI,CAAC,cAAc,EAAEC,uBAAc,CAACW,WAAW,CAAC;AACvDd,MAAM,CAACE,IAAI,CAAC,eAAe,EAAEC,uBAAc,CAACY,YAAY,CAAC;AACzDf,MAAM,CAACgB,MAAM,CAAC,SAAS,EAAEb,uBAAc,CAACc,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAApB,OAAA,GAGjCC,MAAM","ignoreList":[]}},"mtime":1741488802907},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      const userC = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userC) {\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"cliente\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_seller: async (req, res) => {\n    try {\n      const userC = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userC) {\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"emprendedor\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_admin: async (req, res) => {\n    try {\n      const userV = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userV) {\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"admin\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      let user = await _models.default.User.create(req.body);\n      res.status(200).json({\n        user: _resourses.default.User.user_list(user)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        //SI ESTA REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              _id: user._id,\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: \"admin\"\n      });\n      if (user) {\n        //SI ESTA REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              _id: user._id,\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login_seller: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: \"emprendedor\"\n      });\n      if (user) {\n        //SI ESTA REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              _id: user._id,\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('/');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let UserT = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: _resourses.default.User.user_list(UserT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Users = await _models.default.User.find({\n        $or: [{\n          \"name\": new RegExp(search, \"i\")\n        }, {\n          \"surname\": new RegExp(search, \"i\")\n        }, {\n          \"email\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Users = Users.map(user => {\n        return _resourses.default.User.user_list(user);\n      });\n      res.status(200).json({\n        users: Users\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await _models.default.User.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmNyeXB0anMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9tb2RlbHMiLCJfdG9rZW4iLCJfcmVzb3Vyc2VzIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJ1c2VyQyIsIm1vZGVscyIsIlVzZXIiLCJmaW5kT25lIiwiZW1haWwiLCJib2R5Iiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJyb2wiLCJwYXNzd29yZCIsImJjcnlwdCIsImhhc2giLCJ1c2VyIiwiY3JlYXRlIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInJlZ2lzdGVyX3NlbGxlciIsInJlZ2lzdGVyX2FkbWluIiwidXNlclYiLCJyZXNvdXJzZXMiLCJ1c2VyX2xpc3QiLCJsb2dpbiIsInN0YXRlIiwiY29tcGFyZSIsInRva2VuVCIsInRva2VuIiwiZW5jb2RlIiwiX2lkIiwiVVNFUl9GUk9OVEVEIiwibmFtZSIsInN1cm5hbWUiLCJhdmF0YXIiLCJsb2dpbl9hZG1pbiIsImxvZ2luX3NlbGxlciIsInVwZGF0ZSIsImZpbGVzIiwiaW1nX3BhdGgiLCJwYXRoIiwic3BsaXQiLCJhdmF0YXJfbmFtZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiVXNlclQiLCJsaXN0Iiwic2VhcmNoIiwicXVlcnkiLCJVc2VycyIsImZpbmQiLCIkb3IiLCJSZWdFeHAiLCJzb3J0IiwibWFwIiwidXNlcnMiLCJyZW1vdmUiLCJmaW5kQnlJZEFuZERlbGV0ZSJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIlVzZXJDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBiY3J5cHQgZnJvbSBcImJjcnlwdGpzXCJcbmltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiO1xuaW1wb3J0IHRva2VuIGZyb20gXCIuLi9zZXJ2aWNlcy90b2tlblwiO1xuaW1wb3J0IHJlc291cnNlcyBmcm9tIFwiLi4vcmVzb3Vyc2VzXCI7XG5cblxuZXhwb3J0IGRlZmF1bHR7XG4gIFxuICByZWdpc3RlcjogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1c2VyQyA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe2VtYWlsOiByZXEuYm9keS5lbWFpbH0pO1xuICAgICAgaWYodXNlckMpe1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIFlBIEVYSVNURVwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmVxLmJvZHkucm9sID0gXCJjbGllbnRlXCJcbiAgICAgIHJlcS5ib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsMTApO1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih1c2VyKTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG4gIH0sXG5cbiAgcmVnaXN0ZXJfc2VsbGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXJDID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsfSk7XG4gICAgICBpZih1c2VyQyl7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gWUEgRVhJU1RFXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXEuYm9keS5yb2wgPSBcImVtcHJlbmRlZG9yXCJcbiAgICAgIHJlcS5ib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsMTApO1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih1c2VyKTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG4gIH0sXG4gIFxuICByZWdpc3Rlcl9hZG1pbjogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1c2VyViA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe2VtYWlsOiByZXEuYm9keS5lbWFpbH0pO1xuICAgICAgaWYodXNlclYpe1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIFlBIEVYSVNURVwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmVxLmJvZHkucm9sID0gXCJhZG1pblwiXG4gICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLDEwKTtcbiAgICAgIGxldCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgdXNlcjogcmVzb3Vyc2VzLlVzZXIudXNlcl9saXN0KHVzZXIpXG4gICAgICB9KTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG4gIH0sXG5cbiAgbG9naW46IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsLHN0YXRlOjF9KTtcbiAgICAgICAgaWYodXNlcil7XG4gICAgICAgICAgICAvL1NJIEVTVEEgUkVHSVNUUkFETyBFTiBFTCBTSVNURU1BXG4gICAgICAgICAgICBsZXQgY29tcGFyZSA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHJlcS5ib2R5LnBhc3N3b3JkLHVzZXIucGFzc3dvcmQpO1xuICAgICAgICAgICAgaWYoY29tcGFyZSl7XG4gICAgICAgICAgICAgICAgbGV0IHRva2VuVCA9IGF3YWl0IHRva2VuLmVuY29kZSh1c2VyLl9pZCx1c2VyLnJvbCx1c2VyLmVtYWlsKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IFVTRVJfRlJPTlRFRCA9IHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW46dG9rZW5ULFxuICAgICAgICAgICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWQ6IHVzZXIuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdmF0YXI6IHVzZXIuYXZhdGFyLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICAgICAgVVNFUl9GUk9OVEVEOlVTRVJfRlJPTlRFRCxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuICB9LFxuICBsb2dpbl9hZG1pbjogYXN5bmMocmVxLHJlcykgPT4ge1xuICB0cnkge1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe2VtYWlsOiByZXEuYm9keS5lbWFpbCxzdGF0ZToxLHJvbDpcImFkbWluXCJ9KTtcbiAgICAgIGlmKHVzZXIpe1xuICAgICAgICAgIC8vU0kgRVNUQSBSRUdJU1RSQURPIEVOIEVMIFNJU1RFTUFcbiAgICAgICAgICBsZXQgY29tcGFyZSA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHJlcS5ib2R5LnBhc3N3b3JkLHVzZXIucGFzc3dvcmQpO1xuICAgICAgICAgIGlmKGNvbXBhcmUpe1xuICAgICAgICAgICAgICBsZXQgdG9rZW5UID0gYXdhaXQgdG9rZW4uZW5jb2RlKHVzZXIuX2lkLHVzZXIucm9sLHVzZXIuZW1haWwpO1xuXG4gICAgICAgICAgICAgIGNvbnN0IFVTRVJfRlJPTlRFRCA9IHtcbiAgICAgICAgICAgICAgICAgIHRva2VuOnRva2VuVCxcbiAgICAgICAgICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICBfaWQ6IHVzZXIuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhcixcbiAgICAgICAgICAgICAgICAgICAgICByb2w6IHVzZXIucm9sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgICAgVVNFUl9GUk9OVEVEOlVTRVJfRlJPTlRFRCxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICB9XG4gIH0sXG4gIGxvZ2luX3NlbGxlcjogYXN5bmMocmVxLHJlcykgPT4ge1xuICB0cnkge1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe2VtYWlsOiByZXEuYm9keS5lbWFpbCxzdGF0ZToxLHJvbDpcImVtcHJlbmRlZG9yXCJ9KTtcbiAgICAgIGlmKHVzZXIpe1xuICAgICAgICAgIC8vU0kgRVNUQSBSRUdJU1RSQURPIEVOIEVMIFNJU1RFTUFcbiAgICAgICAgICBsZXQgY29tcGFyZSA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHJlcS5ib2R5LnBhc3N3b3JkLHVzZXIucGFzc3dvcmQpO1xuICAgICAgICAgIGlmKGNvbXBhcmUpe1xuICAgICAgICAgICAgICBsZXQgdG9rZW5UID0gYXdhaXQgdG9rZW4uZW5jb2RlKHVzZXIuX2lkLHVzZXIucm9sLHVzZXIuZW1haWwpO1xuXG4gICAgICAgICAgICAgIGNvbnN0IFVTRVJfRlJPTlRFRCA9IHtcbiAgICAgICAgICAgICAgICAgIHRva2VuOnRva2VuVCxcbiAgICAgICAgICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICBfaWQ6IHVzZXIuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhcixcbiAgICAgICAgICAgICAgICAgICAgICByb2w6IHVzZXIucm9sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgICAgVVNFUl9GUk9OVEVEOlVTRVJfRlJPTlRFRCxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICB9XG4gIH0sXG4gIHVwZGF0ZTogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgaWYocmVxLmZpbGVzKXtcbiAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5hdmF0YXIucGF0aDtcbiAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgIHZhciBhdmF0YXJfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgICBjb25zb2xlLmxvZyhhdmF0YXJfbmFtZSlcbiAgICAgICB9XG4gICAgICBcbiAgICAgIGlmKHJlcS5ib2R5LnBhc3N3b3JkKXtcbiAgICAgICAgcmVxLmJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChyZXEuYm9keS5wYXNzd29yZCwxMCk7XG4gICAgICB9XG4gICAgIGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0scmVxLmJvZHkpO1xuXG4gICAgIGxldCBVc2VyVCA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe19pZDogcmVxLmJvZHkuX2lkfSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIFNFIEhBIE1PRElGSUNBRE8gQ09SUkVDVEFNRU5URVwiLFxuICAgICAgICB1c2VyOiByZXNvdXJzZXMuVXNlci51c2VyX2xpc3QoVXNlclQpLFxuICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cblxuICB9LFxuICBsaXN0OiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoO1xuICAgICAgbGV0IFVzZXJzICA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmQoe1xuICAgICAgICAkb3I6W1xuICAgICAgICAgIHtcIm5hbWVcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgICAge1wic3VybmFtZVwiOiBuZXcgUmVnRXhwKHNlYXJjaCwgXCJpXCIpfSxcbiAgICAgICAgICB7XCJlbWFpbFwiOiBuZXcgUmVnRXhwKHNlYXJjaCwgXCJpXCIpfSxcbiAgICAgICAgXVxuICAgIH0pLnNvcnQoeydjcmVhdGVkQXQnOi0xfSk7XG5cbiAgICBVc2VycyA9IFVzZXJzLm1hcCgodXNlcikgPT4ge1xuICAgICAgcmV0dXJuIHJlc291cnNlcy5Vc2VyLnVzZXJfbGlzdCh1c2VyKTtcbiAgICB9KVxuXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgdXNlcnM6IFVzZXJzXG4gICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIFxuICAgIH1cbiAgfSxcbiAgcmVtb3ZlOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBVc2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZEJ5SWRBbmREZWxldGUoe19pZDogcmVxLnF1ZXJ5Ll9pZH0pO1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gU0UgRUxJTUlOTyBDT1JSRUNUQU1FTlRFXCIsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cbiAgfSxcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFVBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUFxQyxTQUFBRCx1QkFBQUssQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBR3ZCO0VBRVpHLFFBQVEsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUMxQixJQUFJO01BQ0YsTUFBTUMsS0FBSyxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPLENBQUM7UUFBQ0MsS0FBSyxFQUFFTixHQUFHLENBQUNPLElBQUks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","map":{"version":3,"names":["_bcryptjs","_interopRequireDefault","require","_models","_token","_resourses","e","__esModule","default","_default","exports","register","req","res","userC","models","User","findOne","email","body","status","send","message","rol","password","bcrypt","hash","user","create","json","error","console","log","register_seller","register_admin","userV","resourses","user_list","login","state","compare","tokenT","token","encode","_id","USER_FRONTED","name","surname","avatar","login_admin","login_seller","update","files","img_path","path","split","avatar_name","findByIdAndUpdate","UserT","list","search","query","Users","find","$or","RegExp","sort","map","users","remove","findByIdAndDelete"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["UserController.js"],"sourcesContent":["import bcrypt from \"bcryptjs\"\nimport models from \"../models\";\nimport token from \"../services/token\";\nimport resourses from \"../resourses\";\n\n\nexport default{\n  \n  register: async(req,res) => {\n    try {\n      const userC = await models.User.findOne({email: req.body.email});\n      if(userC){\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"cliente\"\n      req.body.password = await bcrypt.hash(req.body.password,10);\n      const user = await models.User.create(req.body);\n      res.status(200).json(user);\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n\n  register_seller: async(req,res) => {\n    try {\n      const userC = await models.User.findOne({email: req.body.email});\n      if(userC){\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"emprendedor\"\n      req.body.password = await bcrypt.hash(req.body.password,10);\n      const user = await models.User.create(req.body);\n      res.status(200).json(user);\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n  \n  register_admin: async(req,res) => {\n    try {\n      const userV = await models.User.findOne({email: req.body.email});\n      if(userV){\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"admin\"\n      req.body.password = await bcrypt.hash(req.body.password,10);\n      let user = await models.User.create(req.body);\n      res.status(200).json({\n        user: resourses.User.user_list(user)\n      });\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n\n  login: async(req,res) => {\n    try {\n        const user = await models.User.findOne({email: req.body.email,state:1});\n        if(user){\n            //SI ESTA REGISTRADO EN EL SISTEMA\n            let compare = await bcrypt.compare(req.body.password,user.password);\n            if(compare){\n                let tokenT = await token.encode(user._id,user.rol,user.email);\n\n                const USER_FRONTED = {\n                    token:tokenT,\n                    user: {\n                        _id: user._id,\n                        name: user.name,\n                        email: user.email,\n                        surname: user.surname,\n                        avatar: user.avatar,\n                    },\n                }\n\n                res.status(200).json({\n                    USER_FRONTED:USER_FRONTED,\n                })\n            }else{\n                res.status(500).send({\n                    message: \"EL USUARIO NO EXISTE\"\n                });\n            }\n        }else{\n            res.status(500).send({\n                message: \"EL USUARIO NO EXISTE\"\n            });\n        }\n    } catch (error) {\n        res.status(500).send({\n            message: \"OCURRIO UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n  login_admin: async(req,res) => {\n  try {\n      const user = await models.User.findOne({email: req.body.email,state:1,rol:\"admin\"});\n      if(user){\n          //SI ESTA REGISTRADO EN EL SISTEMA\n          let compare = await bcrypt.compare(req.body.password,user.password);\n          if(compare){\n              let tokenT = await token.encode(user._id,user.rol,user.email);\n\n              const USER_FRONTED = {\n                  token:tokenT,\n                  user: {\n                      _id: user._id,\n                      name: user.name,\n                      email: user.email,\n                      surname: user.surname,\n                      avatar: user.avatar,\n                      rol: user.rol\n                  },\n              }\n\n              res.status(200).json({\n                  USER_FRONTED:USER_FRONTED,\n              })\n          }else{\n              res.status(500).send({\n                  message: \"EL USUARIO NO EXISTE\"\n              });\n          }\n      }else{\n          res.status(500).send({\n              message: \"EL USUARIO NO EXISTE\"\n          });\n      }\n  } catch (error) {\n      res.status(500).send({\n          message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n  }\n  },\n  login_seller: async(req,res) => {\n  try {\n      const user = await models.User.findOne({email: req.body.email,state:1,rol:\"emprendedor\"});\n      if(user){\n          //SI ESTA REGISTRADO EN EL SISTEMA\n          let compare = await bcrypt.compare(req.body.password,user.password);\n          if(compare){\n              let tokenT = await token.encode(user._id,user.rol,user.email);\n\n              const USER_FRONTED = {\n                  token:tokenT,\n                  user: {\n                      _id: user._id,\n                      name: user.name,\n                      email: user.email,\n                      surname: user.surname,\n                      avatar: user.avatar,\n                      rol: user.rol\n                  },\n              }\n\n              res.status(200).json({\n                  USER_FRONTED:USER_FRONTED,\n              })\n          }else{\n              res.status(500).send({\n                  message: \"EL USUARIO NO EXISTE\"\n              });\n          }\n      }else{\n          res.status(500).send({\n              message: \"EL USUARIO NO EXISTE\"\n          });\n      }\n  } catch (error) {\n      res.status(500).send({\n          message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n  }\n  },\n  update: async(req,res) => {\n    try {\n       if(req.files){\n         var img_path = req.files.avatar.path;\n         var name = img_path.split('/');\n         var avatar_name = name[2];\n         console.log(avatar_name)\n       }\n      \n      if(req.body.password){\n        req.body.password = await bcrypt.hash(req.body.password,10);\n      }\n     await models.User.findByIdAndUpdate({_id: req.body._id},req.body);\n\n     let UserT = await models.User.findOne({_id: req.body._id});\n\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: resourses.User.user_list(UserT),\n      })\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n\n  },\n  list: async(req,res) => {\n    try {\n      var search = req.query.search;\n      let Users  = await models.User.find({\n        $or:[\n          {\"name\": new RegExp(search, \"i\")},\n          {\"surname\": new RegExp(search, \"i\")},\n          {\"email\": new RegExp(search, \"i\")},\n        ]\n    }).sort({'createdAt':-1});\n\n    Users = Users.map((user) => {\n      return resourses.User.user_list(user);\n    })\n\n    res.status(200).json({\n      users: Users\n    });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n      \n    }\n  },\n  remove: async(req, res) => {\n    try {\n      const User = await models.User.findByIdAndDelete({_id: req.query._id});\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\",\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n}"],"mappings":"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","ignoreList":[]}},"mtime":1743218605108},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Variedad = _interopRequireDefault(require(\"./Variedad\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cupone = _interopRequireDefault(require(\"./Cupone\"));\nvar _Discount = _interopRequireDefault(require(\"./Discount\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nvar _AddressClient = _interopRequireDefault(require(\"./AddressClient\"));\nvar _Sale = _interopRequireDefault(require(\"./Sale\"));\nvar _SaleAddress = _interopRequireDefault(require(\"./SaleAddress\"));\nvar _SaleDetail = _interopRequireDefault(require(\"./SaleDetail\"));\nvar _Review = _interopRequireDefault(require(\"./Review\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default,\n  Variedad: _Variedad.default,\n  Slider: _Slider.default,\n  Cupone: _Cupone.default,\n  Discount: _Discount.default,\n  Cart: _Cart.default,\n  AddressClient: _AddressClient.default,\n  Sale: _Sale.default,\n  SaleAddress: _SaleAddress.default,\n  SaleDetail: _SaleDetail.default,\n  Review: _Review.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQ2F0ZWdvcmllIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfVXNlciIsIl9Qcm9kdWN0IiwiX1ZhcmllZGFkIiwiX1NsaWRlciIsIl9DdXBvbmUiLCJfRGlzY291bnQiLCJfQ2FydCIsIl9BZGRyZXNzQ2xpZW50IiwiX1NhbGUiLCJfU2FsZUFkZHJlc3MiLCJfU2FsZURldGFpbCIsIl9SZXZpZXciLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJVc2VyIiwiQ2F0ZWdvcmllIiwiUHJvZHVjdCIsIlZhcmllZGFkIiwiU2xpZGVyIiwiQ3Vwb25lIiwiRGlzY291bnQiLCJDYXJ0IiwiQWRkcmVzc0NsaWVudCIsIlNhbGUiLCJTYWxlQWRkcmVzcyIsIlNhbGVEZXRhaWwiLCJSZXZpZXciXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvbW9kZWxzLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENhdGVnb3JpZSBmcm9tIFwiLi9DYXRlZ29yaWVcIjtcbmltcG9ydCBVc2VyIGZyb20gXCIuL1VzZXJcIjtcbmltcG9ydCBQcm9kdWN0IGZyb20gXCIuL1Byb2R1Y3RcIjtcbmltcG9ydCBWYXJpZWRhZCBmcm9tIFwiLi9WYXJpZWRhZFwiO1xuaW1wb3J0IFNsaWRlciBmcm9tIFwiLi9TbGlkZXJcIjtcbmltcG9ydCBDdXBvbmUgZnJvbSBcIi4vQ3Vwb25lXCI7XG5pbXBvcnQgRGlzY291bnQgZnJvbSBcIi4vRGlzY291bnRcIjtcbmltcG9ydCBDYXJ0IGZyb20gXCIuL0NhcnRcIjtcbmltcG9ydCBBZGRyZXNzQ2xpZW50IGZyb20gXCIuL0FkZHJlc3NDbGllbnRcIjtcbmltcG9ydCBTYWxlIGZyb20gXCIuL1NhbGVcIjtcbmltcG9ydCBTYWxlQWRkcmVzcyBmcm9tIFwiLi9TYWxlQWRkcmVzc1wiO1xuaW1wb3J0IFNhbGVEZXRhaWwgZnJvbSBcIi4vU2FsZURldGFpbFwiO1xuaW1wb3J0IFJldmlldyBmcm9tIFwiLi9SZXZpZXdcIjtcblxuZXhwb3J0IGRlZmF1bHR7XG4gIFVzZXIsXG4gIENhdGVnb3JpZSxcbiAgUHJvZHVjdCxcbiAgVmFyaWVkYWQsXG4gIFNsaWRlcixcbiAgQ3Vwb25lLFxuICBEaXNjb3VudCxcbiAgQ2FydCxcbiAgQWRkcmVzc0NsaWVudCxcbiAgU2FsZSxcbiAgU2FsZUFkZHJlc3MsXG4gIFNhbGVEZXRhaWwsXG4gIFJldmlldyxcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFVBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFFBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFNBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLE9BQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLE9BQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFNLFNBQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFPLEtBQUEsR0FBQVIsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFRLGNBQUEsR0FBQVQsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFTLEtBQUEsR0FBQVYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFVLFlBQUEsR0FBQVgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFXLFdBQUEsR0FBQVosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFZLE9BQUEsR0FBQWIsc0JBQUEsQ0FBQUMsT0FBQTtBQUE4QixTQUFBRCx1QkFBQWMsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRWhCO0VBQ1pHLElBQUksRUFBSkEsYUFBSTtFQUNKQyxTQUFTLEVBQVRBLGtCQUFTO0VBQ1RDLE9BQU8sRUFBUEEsZ0JBQU87RUFDUEMsUUFBUSxFQUFSQSxpQkFBUTtFQUNSQyxNQUFNLEVBQU5BLGVBQU07RUFDTkMsTUFBTSxFQUFOQSxlQUFNO0VBQ05DLFFBQVEsRUFBUkEsaUJBQVE7RUFDUkMsSUFBSSxFQUFKQSxhQUFJO0VBQ0pDLGFBQWEsRUFBYkEsc0JBQWE7RUFDYkMsSUFBSSxFQUFKQSxhQUFJO0VBQ0pDLFdBQVcsRUFBWEEsb0JBQVc7RUFDWEMsVUFBVSxFQUFWQSxtQkFBVTtFQUNWQyxNQUFNLEVBQU5BO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_Categorie","_interopRequireDefault","require","_User","_Product","_Variedad","_Slider","_Cupone","_Discount","_Cart","_AddressClient","_Sale","_SaleAddress","_SaleDetail","_Review","e","__esModule","default","_default","exports","User","Categorie","Product","Variedad","Slider","Cupone","Discount","Cart","AddressClient","Sale","SaleAddress","SaleDetail","Review"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["index.js"],"sourcesContent":["import Categorie from \"./Categorie\";\nimport User from \"./User\";\nimport Product from \"./Product\";\nimport Variedad from \"./Variedad\";\nimport Slider from \"./Slider\";\nimport Cupone from \"./Cupone\";\nimport Discount from \"./Discount\";\nimport Cart from \"./Cart\";\nimport AddressClient from \"./AddressClient\";\nimport Sale from \"./Sale\";\nimport SaleAddress from \"./SaleAddress\";\nimport SaleDetail from \"./SaleDetail\";\nimport Review from \"./Review\";\n\nexport default{\n  User,\n  Categorie,\n  Product,\n  Variedad,\n  Slider,\n  Cupone,\n  Discount,\n  Cart,\n  AddressClient,\n  Sale,\n  SaleAddress,\n  SaleDetail,\n  Review,\n}"],"mappings":";;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,OAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,SAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,KAAA,GAAAR,sBAAA,CAAAC,OAAA;AACA,IAAAQ,cAAA,GAAAT,sBAAA,CAAAC,OAAA;AACA,IAAAS,KAAA,GAAAV,sBAAA,CAAAC,OAAA;AACA,IAAAU,YAAA,GAAAX,sBAAA,CAAAC,OAAA;AACA,IAAAW,WAAA,GAAAZ,sBAAA,CAAAC,OAAA;AACA,IAAAY,OAAA,GAAAb,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAc,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEhB;EACZG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,QAAQ,EAARA,iBAAQ;EACRC,MAAM,EAANA,eAAM;EACNC,MAAM,EAANA,eAAM;EACNC,QAAQ,EAARA,iBAAQ;EACRC,IAAI,EAAJA,aAAI;EACJC,aAAa,EAAbA,sBAAa;EACbC,IAAI,EAAJA,aAAI;EACJC,WAAW,EAAXA,oBAAW;EACXC,UAAU,EAAVA,mBAAU;EACVC,MAAM,EAANA;AACF,CAAC","ignoreList":[]}},"mtime":1740011246301},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CategorieSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  } // 1 es activo y 2 es desactivo\n}, {\n  timestamps: true\n});\nconst Categorie = _mongoose.default.model(\"categorie\", CategorieSchema);\nvar _default = exports.default = Categorie;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDYXRlZ29yaWVTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsImltYWdlbiIsInN0YXRlIiwiTnVtYmVyIiwidGltZXN0YW1wcyIsIkNhdGVnb3JpZSIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvbW9kZWxzLyIsInNvdXJjZXMiOlsiQ2F0ZWdvcmllLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgQ2F0ZWdvcmllU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIHRpdGxlOnt0eXBlOlN0cmluZywgbWF4bGVuZ3RoOjI1MCxyZXF1aXJlZDp0cnVlfSxcbiAgaW1hZ2VuOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6MjUwLHJlcXVpcmVkOnRydWV9LFxuICBzdGF0ZTp7dHlwZTogTnVtYmVyLG1heGxlbmd0aDoyLGRlZmF1bHQ6MX0sLy8gMSBlcyBhY3Rpdm8geSAyIGVzIGRlc2FjdGl2b1xufSx7XG4gIHRpbWVzdGFtcHM6dHJ1ZVxufSk7XG5cbmNvbnN0IENhdGVnb3JpZSA9IG1vbmdvb3NlLm1vZGVsKFwiY2F0ZWdvcmllXCIsQ2F0ZWdvcmllU2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IENhdGVnb3JpZTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLENBQUEsU0FBQUcsQ0FBQSxHQUFBUCxDQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQWIsQ0FBQSxFQUFBYyxDQUFBLFVBQUFHLENBQUEsS0FBQUEsQ0FBQSxDQUFBVixHQUFBLElBQUFVLENBQUEsQ0FBQUMsR0FBQSxJQUFBUCxNQUFBLENBQUFDLGNBQUEsQ0FBQUosQ0FBQSxFQUFBTSxDQUFBLEVBQUFHLENBQUEsSUFBQVQsQ0FBQSxDQUFBTSxDQUFBLElBQUFkLENBQUEsQ0FBQWMsQ0FBQSxZQUFBTixDQUFBLENBQUFILE9BQUEsR0FBQUwsQ0FBQSxFQUFBRyxDQUFBLElBQUFBLENBQUEsQ0FBQWUsR0FBQSxDQUFBbEIsQ0FBQSxFQUFBUSxDQUFBLEdBQUFBLENBQUE7QUFFekMsTUFBTVcsZUFBZSxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDakNDLEtBQUssRUFBQztJQUFDQyxJQUFJLEVBQUNDLE1BQU07SUFBRUMsU0FBUyxFQUFDLEdBQUc7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNoREMsTUFBTSxFQUFDO0lBQUNKLElBQUksRUFBQ0MsTUFBTTtJQUFDQyxTQUFTLEVBQUMsR0FBRztJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2hERSxLQUFLLEVBQUM7SUFBQ0wsSUFBSSxFQUFFTSxNQUFNO0lBQUNKLFNBQVMsRUFBQyxDQUFDO0lBQUNuQixPQUFPLEVBQUM7RUFBQyxDQUFDLENBQUM7QUFDN0MsQ0FBQyxFQUFDO0VBQ0F3QixVQUFVLEVBQUM7QUFDYixDQUFDLENBQUM7QUFFRixNQUFNQyxTQUFTLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxXQUFXLEVBQUNiLGVBQWUsQ0FBQztBQUFDLElBQUFjLFFBQUEsR0FBQUMsT0FBQSxDQUFBN0IsT0FBQSxHQUMvQ3lCLFNBQVMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CategorieSchema","Schema","title","type","String","maxlength","required","imagen","state","Number","timestamps","Categorie","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Categorie.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst CategorieSchema = new Schema({\n  title:{type:String, maxlength:250,required:true},\n  imagen:{type:String,maxlength:250,required:true},\n  state:{type: Number,maxlength:2,default:1},// 1 es activo y 2 es desactivo\n},{\n  timestamps:true\n});\n\nconst Categorie = mongoose.model(\"categorie\",CategorieSchema);\nexport default Categorie;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,eAAe,GAAG,IAAIC,gBAAM,CAAC;EACjCC,KAAK,EAAC;IAACC,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChDC,MAAM,EAAC;IAACJ,IAAI,EAACC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChDE,KAAK,EAAC;IAACL,IAAI,EAAEM,MAAM;IAACJ,SAAS,EAAC,CAAC;IAACnB,OAAO,EAAC;EAAC,CAAC,CAAC;AAC7C,CAAC,EAAC;EACAwB,UAAU,EAAC;AACb,CAAC,CAAC;AAEF,MAAMC,SAAS,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAACb,eAAe,CAAC;AAAC,IAAAc,QAAA,GAAAC,OAAA,CAAA7B,OAAA,GAC/CyB,SAAS","ignoreList":[]}},"mtime":1737065419804},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst UserSchema = new _mongoose.Schema({\n  rol: {\n    type: String,\n    maxlength: 30,\n    require: true\n  },\n  // 1: admin | 2: cliente | 3: emprendedor\n  name: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    require: false\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    require: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    maxlength: 250,\n    require: true\n  },\n  avatar: {\n    type: String,\n    maxlength: 250,\n    require: false\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  // 1 es activo y 2 es desactivo\n  phone: {\n    type: String,\n    maxlength: 20,\n    require: false\n  },\n  birthday: {\n    type: String,\n    maxlength: 250,\n    require: false\n  }\n}, {\n  timestamps: true\n});\nconst User = _mongoose.default.model(\"user\", UserSchema);\nvar _default = exports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJVc2VyU2NoZW1hIiwiU2NoZW1hIiwicm9sIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsIm5hbWUiLCJzdXJuYW1lIiwiZW1haWwiLCJ1bmlxdWUiLCJwYXNzd29yZCIsImF2YXRhciIsInN0YXRlIiwiTnVtYmVyIiwicGhvbmUiLCJiaXJ0aGRheSIsInRpbWVzdGFtcHMiLCJVc2VyIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgVXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICByb2w6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDozMCwgcmVxdWlyZTp0cnVlfSwgLy8gMTogYWRtaW4gfCAyOiBjbGllbnRlIHwgMzogZW1wcmVuZGVkb3JcbiAgbmFtZToge3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZTp0cnVlfSxcbiAgc3VybmFtZToge3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZTpmYWxzZX0sXG4gIGVtYWlsOiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwLCByZXF1aXJlOnRydWUsIHVuaXF1ZTp0cnVlfSxcbiAgcGFzc3dvcmQ6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyNTAsIHJlcXVpcmU6dHJ1ZX0sXG4gIGF2YXRhcjoge3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOjI1MCwgcmVxdWlyZTpmYWxzZX0sXG4gIHN0YXRlOiB7dHlwZTogTnVtYmVyLCBkZWZhdWx0OjF9LC8vIDEgZXMgYWN0aXZvIHkgMiBlcyBkZXNhY3Rpdm9cbiAgcGhvbmU6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDoyMCwgcmVxdWlyZTpmYWxzZX0sXG4gIGJpcnRoZGF5OiB7dHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6MjUwLCByZXF1aXJlOmZhbHNlfSxcbn0se1xuICB0aW1lc3RhbXBzOnRydWVcbn0pO1xuXG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWwoXCJ1c2VyXCIsVXNlclNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBVc2VyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FBQSxDQUFBSSxH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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","UserSchema","Schema","rol","type","String","maxlength","name","surname","email","unique","password","avatar","state","Number","phone","birthday","timestamps","User","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["User.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst UserSchema = new Schema({\n  rol: {type: String, maxlength:30, require:true}, // 1: admin | 2: cliente | 3: emprendedor\n  name: {type: String, maxlength:250, require:true},\n  surname: {type: String, maxlength:250, require:false},\n  email: {type: String, maxlength:250, require:true, unique:true},\n  password: {type: String, maxlength:250, require:true},\n  avatar: {type: String, maxlength:250, require:false},\n  state: {type: Number, default:1},// 1 es activo y 2 es desactivo\n  phone: {type: String, maxlength:20, require:false},\n  birthday: {type: String, maxlength:250, require:false},\n},{\n  timestamps:true\n});\n\nconst User = mongoose.model(\"user\",UserSchema);\nexport default User"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,GAAG,EAAE;IAACC,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAE1B,OAAO,EAAC;EAAI,CAAC;EAAE;EACjD2B,IAAI,EAAE;IAACH,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAI,CAAC;EACjD4B,OAAO,EAAE;IAACJ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAK,CAAC;EACrD6B,KAAK,EAAE;IAACL,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC,IAAI;IAAE8B,MAAM,EAAC;EAAI,CAAC;EAC/DC,QAAQ,EAAE;IAACP,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAI,CAAC;EACrDgC,MAAM,EAAE;IAACR,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAK,CAAC;EACpDiC,KAAK,EAAE;IAACT,IAAI,EAAEU,MAAM;IAAE3B,OAAO,EAAC;EAAC,CAAC;EAAC;EACjC4B,KAAK,EAAE;IAACX,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,EAAE;IAAE1B,OAAO,EAAC;EAAK,CAAC;EAClDoC,QAAQ,EAAE;IAACZ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAAE1B,OAAO,EAAC;EAAK;AACvD,CAAC,EAAC;EACAqC,UAAU,EAAC;AACb,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAACnB,UAAU,CAAC;AAAC,IAAAoB,QAAA,GAAAC,OAAA,CAAAnC,OAAA,GAChC+B,IAAI","ignoreList":[]}},"mtime":1740885162758},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst ProductSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  slug: {\n    type: String,\n    required: true,\n    maxlength: 1000\n  },\n  sku: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  categorie: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'categorie',\n    required: true\n  },\n  price_bs: {\n    type: Number,\n    required: true\n  },\n  price_usd: {\n    type: Number,\n    required: true\n  },\n  portada: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  galerias: [{\n    type: Object,\n    required: false\n  }],\n  state: {\n    type: Number,\n    default: 1\n  },\n  //(1: Demo, 2:publico, 3: anulado)\n  stock: {\n    type: Number,\n    default: 0\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  resumen: {\n    type: String,\n    required: true\n  },\n  tags: {\n    type: String,\n    required: true\n  },\n  type_inventario: {\n    type: Number,\n    default: 1\n  },\n  // 1: unico, 2: multiple\n  condition: {\n    type: Number,\n    required: true\n  } // 1:nuevo, 2:usado, 3:donacion\n}, {\n  timestamps: true\n});\nconst Product = _mongoose.default.model('product', ProductSchema);\nvar _default = exports.default = Product;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJQcm9kdWN0U2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJtYXhsZW5ndGgiLCJzbHVnIiwic2t1IiwiY2F0ZWdvcmllIiwiT2JqZWN0SWQiLCJyZWYiLCJwcmljZV9icyIsIk51bWJlciIsInByaWNlX3VzZCIsInBvcnRhZGEiLCJnYWxlcmlhcyIsInN0YXRlIiwic3RvY2siLCJkZXNjcmlwdGlvbiIsInJlc3VtZW4iLCJ0YWdzIiwidHlwZV9pbnZlbnRhcmlvIiwiY29uZGl0aW9uIiwidGltZXN0YW1wcyIsIlByb2R1Y3QiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIlByb2R1Y3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9ICBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgUHJvZHVjdFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICB0aXRsZTp7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOnRydWUsIG1heGxlbmd0aDoyNTB9LFxuICBzbHVnOnt0eXBlOlN0cmluZywgcmVxdWlyZWQ6dHJ1ZSwgbWF4bGVuZ3RoOjEwMDB9LFxuICBza3U6IHt0eXBlOlN0cmluZywgcmVxdWlyZWQ6dHJ1ZSwgbWF4bGVuZ3RoOjI1MH0sXG4gIGNhdGVnb3JpZTp7dHlwZTpTY2hlbWEuT2JqZWN0SWQsIHJlZjonY2F0ZWdvcmllJywgcmVxdWlyZWQ6dHJ1ZX0sXG4gIHByaWNlX2JzOiB7dHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWV9LFxuICBwcmljZV91c2Q6IHt0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZX0sXG4gIHBvcnRhZGE6e3R5cGU6U3RyaW5nLCByZXF1aXJlZDp0cnVlLCBtYXhsZW5ndGg6MjUwfSxcbiAgZ2FsZXJpYXM6W3t0eXBlOk9iamVjdCwgcmVxdWlyZWQ6ZmFsc2V9XSxcbiAgc3RhdGU6e3R5cGU6TnVtYmVyLCBkZWZhdWx0OjF9LCAvLygxOiBEZW1vLCAyOnB1YmxpY28sIDM6IGFudWxhZG8pXG4gIHN0b2NrOiB7dHlwZTpOdW1iZXIsIGRlZmF1bHQ6MH0sXG4gIGRlc2NyaXB0aW9uOnt0eXBlOlN0cmluZywgcmVxdWlyZWQ6dHJ1ZX0sXG4gIHJlc3VtZW46e3R5cGU6U3RyaW5nLCByZXF1aXJlZDp0cnVlfSxcbiAgdGFnczp7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOnRydWV9LFxuICB0eXBlX2ludmVudGFyaW86e3R5cGU6TnVtYmVyLCBkZWZhdWx0OjF9LCAvLyAxOiB1bmljbywgMjogbXVsdGlwbGVcbiAgY29uZGl0aW9uOnt0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZX0gLy8gMTpudWV2bywgMjp1c2FkbywgMzpkb25hY2lvblxufSx7XG4gIHRpbWVzdGFtcHM6dHJ1ZSxcbn0pO1xuXG5jb25zdCBQcm9kdWN0ID0gbW9uZ29vc2UubW9kZWwoJ3Byb2R1Y3QnLFByb2R1Y3RTY2hlbWEpO1xuXG5leHBvcnQgZGVmYXVsdCBQcm9kdWN0OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQTBDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFE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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ProductSchema","Schema","title","type","String","required","maxlength","slug","sku","categorie","ObjectId","ref","price_bs","Number","price_usd","portada","galerias","state","stock","description","resumen","tags","type_inventario","condition","timestamps","Product","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Product.js"],"sourcesContent":["import mongoose,{Schema}  from \"mongoose\";\n\nconst ProductSchema = new Schema({\n  title:{type:String, required:true, maxlength:250},\n  slug:{type:String, required:true, maxlength:1000},\n  sku: {type:String, required:true, maxlength:250},\n  categorie:{type:Schema.ObjectId, ref:'categorie', required:true},\n  price_bs: {type:Number, required:true},\n  price_usd: {type:Number, required:true},\n  portada:{type:String, required:true, maxlength:250},\n  galerias:[{type:Object, required:false}],\n  state:{type:Number, default:1}, //(1: Demo, 2:publico, 3: anulado)\n  stock: {type:Number, default:0},\n  description:{type:String, required:true},\n  resumen:{type:String, required:true},\n  tags:{type:String, required:true},\n  type_inventario:{type:Number, default:1}, // 1: unico, 2: multiple\n  condition:{type:Number, required:true} // 1:nuevo, 2:usado, 3:donacion\n},{\n  timestamps:true,\n});\n\nconst Product = mongoose.model('product',ProductSchema);\n\nexport default Product;"],"mappings":"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","ignoreList":[]}},"mtime":1738061755295},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/Variedad.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst VariedadSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  valor: {\n    type: String,\n    required: true\n  },\n  stock: {\n    type: Number,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Variedad = _mongoose.default.model('variedad', VariedadSchema);\nvar _default = exports.default = Variedad;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJWYXJpZWRhZFNjaGVtYSIsIlNjaGVtYSIsInByb2R1Y3QiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsInZhbG9yIiwiU3RyaW5nIiwic3RvY2siLCJOdW1iZXIiLCJ0aW1lc3RhbXBzIiwiVmFyaWVkYWQiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIlZhcmllZGFkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSAgZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IFZhcmllZGFkU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIHByb2R1Y3Q6e3R5cGU6U2NoZW1hLk9iamVjdElkLCByZWY6J3Byb2R1Y3QnLCByZXF1aXJlZDp0cnVlfSxcbiAgdmFsb3I6e3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6dHJ1ZX0sXG4gIHN0b2NrOnt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOnRydWV9LFxufSx7XG4gIHRpbWVzdGFtcHM6dHJ1ZSxcbn0pO1xuXG5jb25zdCBWYXJpZWRhZCA9IG1vbmdvb3NlLm1vZGVsKCd2YXJpZWRhZCcsVmFyaWVkYWRTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgVmFyaWVkYWQiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLENBQUEsU0FBQUcsQ0FBQSxHQUFBUCxDQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQWIsQ0FBQSxFQUFBYyxDQUFBLFVBQUFHLENBQUEsS0FBQUEsQ0FBQSxDQUFBVixHQUFBLElBQUFVLENBQUEsQ0FBQUMsR0FBQSxJQUFBUCxNQUFBLENBQUFDLGNBQUEsQ0FBQUosQ0FBQSxFQUFBTSxDQUFBLEVBQUFHLENBQUEsSUFBQVQsQ0FBQSxDQUFBTSxDQUFBLElBQUFkLENBQUEsQ0FBQWMsQ0FBQSxZQUFBTixDQUFBLENBQUFILE9BQUEsR0FBQUwsQ0FBQSxFQUFBRyxDQUFBLElBQUFBLENBQUEsQ0FBQWUsR0FBQSxDQUFBbEIsQ0FBQSxFQUFBUSxDQUFBLEdBQUFBLENBQUE7QUFFMUMsTUFBTVcsY0FBYyxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDaENDLE9BQU8sRUFBQztJQUFDQyxJQUFJLEVBQUNGLGdCQUFNLENBQUNHLFFBQVE7SUFBRUMsR0FBRyxFQUFDLFNBQVM7SUFBRUMsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUM1REMsS0FBSyxFQUFDO0lBQUNKLElBQUksRUFBRUssTUFBTTtJQUFFRixRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ25DRyxLQUFLLEVBQUM7SUFBQ04sSUFBSSxFQUFFTyxNQUFNO0lBQUVKLFFBQVEsRUFBQztFQUFJO0FBQ3BDLENBQUMsRUFBQztFQUNBSyxVQUFVLEVBQUM7QUFDYixDQUFDLENBQUM7QUFFRixNQUFNQyxRQUFRLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxVQUFVLEVBQUNkLGNBQWMsQ0FBQztBQUFDLElBQUFlLFFBQUEsR0FBQUMsT0FBQSxDQUFBOUIsT0FBQSxHQUM1QzBCLFFBQVEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","VariedadSchema","Schema","product","type","ObjectId","ref","required","valor","String","stock","Number","timestamps","Variedad","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Variedad.js"],"sourcesContent":["import mongoose,{Schema}  from \"mongoose\";\n\nconst VariedadSchema = new Schema({\n  product:{type:Schema.ObjectId, ref:'product', required:true},\n  valor:{type: String, required:true},\n  stock:{type: Number, required:true},\n},{\n  timestamps:true,\n});\n\nconst Variedad = mongoose.model('variedad',VariedadSchema);\nexport default Variedad"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMW,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAChCC,OAAO,EAAC;IAACC,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAC,SAAS;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAC5DC,KAAK,EAAC;IAACJ,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC;EAAI,CAAC;EACnCG,KAAK,EAAC;IAACN,IAAI,EAAEO,MAAM;IAAEJ,QAAQ,EAAC;EAAI;AACpC,CAAC,EAAC;EACAK,UAAU,EAAC;AACb,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,UAAU,EAACd,cAAc,CAAC;AAAC,IAAAe,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GAC5C0B,QAAQ","ignoreList":[]}},"mtime":1737220657416},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SliderSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  link: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  } // 1 es activo y 2 es desactivo\n}, {\n  timestamps: true\n});\nconst Slider = _mongoose.default.model(\"slider\", SliderSchema);\nvar _default = exports.default = Slider;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTbGlkZXJTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsImxpbmsiLCJpbWFnZW4iLCJzdGF0ZSIsIk51bWJlciIsInRpbWVzdGFtcHMiLCJTbGlkZXIiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIlNsaWRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IFNsaWRlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICB0aXRsZTp7dHlwZTpTdHJpbmcsIG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZX0sXG4gIGxpbms6e3R5cGU6U3RyaW5nLCBtYXhsZW5ndGg6MjUwLHJlcXVpcmVkOnRydWV9LFxuICBpbWFnZW46e3R5cGU6U3RyaW5nLG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZX0sXG4gIHN0YXRlOnt0eXBlOiBOdW1iZXIsbWF4bGVuZ3RoOjIsZGVmYXVsdDoxfSwvLyAxIGVzIGFjdGl2byB5IDIgZXMgZGVzYWN0aXZvXG59LHtcbiAgdGltZXN0YW1wczp0cnVlXG59KTtcblxuY29uc3QgU2xpZGVyID0gbW9uZ29vc2UubW9kZWwoXCJzbGlkZXJcIixTbGlkZXJTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgU2xpZGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUssT0FBQSxFQUFBTCxDQUFBLFFBQUFHLENBQUEsR0FBQUosd0JBQUEsQ0FBQUcsQ0FBQSxPQUFBQyxDQUFBLElBQUFBLENBQUEsQ0FBQUcsR0FBQSxDQUFBTixDQUFBLFVBQUFHLENBQUEsQ0FBQUksR0FBQSxDQUFBUCxDQUFBLE9BQUFRLENBQUEsS0FBQUMsU0FBQSxVQUFBQyxDQUFBLEdBQUFDLE1BQUEsQ0FBQUMsY0FBQSxJQUFBRCxNQUFBLENBQUFFLHdCQUFBLFdBQUFDLENBQUEsSUFBQWQsQ0FBQSxvQkFBQWMsQ0FBQSxPQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWhCLENBQUEsRUFBQWMsQ0FBQSxTQUFBRyxDQUFBLEdBQUFQLENBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBYixDQUFBLEVBQUFjLENBQUEsVUFBQUcsQ0FBQSxLQUFBQSxDQUFBLENBQUFWLEdBQUEsSUFBQVUsQ0FBQSxDQUFBQyxHQUFBLElBQUFQLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSixDQUFBLEVBQUFNLENBQUEsRUFBQUcsQ0FBQSxJQUFBVCxDQUFBLENBQUFNLENBQUEsSUFBQWQsQ0FBQSxDQUFBYyxDQUFBLFlBQUFOLENBQUEsQ0FBQUgsT0FBQSxHQUFBTCxDQUFBLEVBQUFHLENBQUEsSUFBQUEsQ0FBQSxDQUFBZSxHQUFBLENBQUFsQixDQUFBLEVBQUFRLENBQUEsR0FBQUEsQ0FBQTtBQUV6QyxNQUFNVyxZQUFZLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUM5QkMsS0FBSyxFQUFDO0lBQUNDLElBQUksRUFBQ0MsTUFBTTtJQUFFQyxTQUFTLEVBQUMsR0FBRztJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2hEQyxJQUFJLEVBQUM7SUFBQ0osSUFBSSxFQUFDQyxNQUFNO0lBQUVDLFNBQVMsRUFBQyxHQUFHO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDL0NFLE1BQU0sRUFBQztJQUFDTCxJQUFJLEVBQUNDLE1BQU07SUFBQ0MsU0FBUyxFQUFDLEdBQUc7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNoREcsS0FBSyxFQUFDO0lBQUNOLElBQUksRUFBRU8sTUFBTTtJQUFDTCxTQUFTLEVBQUMsQ0FBQztJQUFDbkIsT0FBTyxFQUFDO0VBQUMsQ0FBQyxDQUFDO0FBQzdDLENBQUMsRUFBQztFQUNBeUIsVUFBVSxFQUFDO0FBQ2IsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsTUFBTSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsUUFBUSxFQUFDZCxZQUFZLENBQUM7QUFBQyxJQUFBZSxRQUFBLEdBQUFDLE9BQUEsQ0FBQTlCLE9BQUEsR0FDdEMwQixNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SliderSchema","Schema","title","type","String","maxlength","required","link","imagen","state","Number","timestamps","Slider","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Slider.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst SliderSchema = new Schema({\n  title:{type:String, maxlength:250,required:true},\n  link:{type:String, maxlength:250,required:true},\n  imagen:{type:String,maxlength:250,required:true},\n  state:{type: Number,maxlength:2,default:1},// 1 es activo y 2 es desactivo\n},{\n  timestamps:true\n});\n\nconst Slider = mongoose.model(\"slider\",SliderSchema);\nexport default Slider;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC9BC,KAAK,EAAC;IAACC,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChDC,IAAI,EAAC;IAACJ,IAAI,EAACC,MAAM;IAAEC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC/CE,MAAM,EAAC;IAACL,IAAI,EAACC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChDG,KAAK,EAAC;IAACN,IAAI,EAAEO,MAAM;IAACL,SAAS,EAAC,CAAC;IAACnB,OAAO,EAAC;EAAC,CAAC,CAAC;AAC7C,CAAC,EAAC;EACAyB,UAAU,EAAC;AACb,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,QAAQ,EAACd,YAAY,CAAC;AAAC,IAAAe,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GACtC0B,MAAM","ignoreList":[]}},"mtime":1737837447614},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/Cupone.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CuponeSchema = new _mongoose.Schema({\n  code: {\n    type: String,\n    maxlength: 50,\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  //por porcentaje 1  o por moneda 2\n  discount: {\n    type: Number,\n    required: true\n  },\n  //por moneda o por porcentaje\n  type_count: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  //ilimitado 1 o limitado 2\n  num_use: {\n    type: Number,\n    required: false\n  },\n  type_segment: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es cupon por producto y 2 seria por categoria\n  state: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1:activo\n  products: [{\n    type: Object\n  }],\n  //[{_id: asdasdas },{_id: dsdsds}]\n  categories: [{\n    type: Object\n  }]\n}, {\n  timestamps: true\n});\nconst Cupone = _mongoose.default.model(\"cupones\", CuponeSchema);\nvar _default = exports.default = Cupone;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDdXBvbmVTY2hlbWEiLCJTY2hlbWEiLCJjb2RlIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInJlcXVpcmVkIiwidHlwZV9kaXNjb3VudCIsIk51bWJlciIsImRpc2NvdW50IiwidHlwZV9jb3VudCIsIm51bV91c2UiLCJ0eXBlX3NlZ21lbnQiLCJzdGF0ZSIsInByb2R1Y3RzIiwiY2F0ZWdvcmllcyIsInRpbWVzdGFtcHMiLCJDdXBvbmUiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIkN1cG9uZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IEN1cG9uZVNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICAgIGNvZGU6e3R5cGU6U3RyaW5nLG1heGxlbmd0aDo1MCxyZXF1aXJlZDp0cnVlfSxcbiAgICB0eXBlX2Rpc2NvdW50Ont0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlLGRlZmF1bHQ6IDF9LC8vcG9yIHBvcmNlbnRhamUgMSAgbyBwb3IgbW9uZWRhIDJcbiAgICBkaXNjb3VudDp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sLy9wb3IgbW9uZWRhIG8gcG9yIHBvcmNlbnRhamVcbiAgICB0eXBlX2NvdW50Ont0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlLGRlZmF1bHQ6MX0sLy9pbGltaXRhZG8gMSBvIGxpbWl0YWRvIDJcbiAgICBudW1fdXNlOnt0eXBlOk51bWJlcixyZXF1aXJlZDpmYWxzZX0sXG4gICAgdHlwZV9zZWdtZW50OiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6ZmFsc2UsZGVmYXVsdDoxfSwvLzEgZXMgY3Vwb24gcG9yIHByb2R1Y3RvIHkgMiBzZXJpYSBwb3IgY2F0ZWdvcmlhXG4gICAgc3RhdGU6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOmZhbHNlLGRlZmF1bHQ6IDF9LC8vMTphY3Rpdm9cbiAgICBwcm9kdWN0czpbe3R5cGU6T2JqZWN0fV0sLy9be19pZDogYXNkYXNkYXMgfSx7X2lkOiBkc2RzZHN9XVxuICAgIGNhdGVnb3JpZXM6W3t0eXBlOk9iamVjdH1dXG59LHtcbiAgICB0aW1lc3RhbXBzOnRydWVcbn0pXG5cbmNvbnN0IEN1cG9uZSA9IG1vbmdvb3NlLm1vZGVsKFwiY3Vwb25lc1wiLEN1cG9uZVNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBDdXBvbmU7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEsUUFBQUcsQ0FBQSxH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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CuponeSchema","Schema","code","type","String","maxlength","required","type_discount","Number","discount","type_count","num_use","type_segment","state","products","categories","timestamps","Cupone","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Cupone.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst CuponeSchema = new Schema({\n    code:{type:String,maxlength:50,required:true},\n    type_discount:{type:Number,required:true,default: 1},//por porcentaje 1  o por moneda 2\n    discount:{type:Number,required:true},//por moneda o por porcentaje\n    type_count:{type:Number,required:true,default:1},//ilimitado 1 o limitado 2\n    num_use:{type:Number,required:false},\n    type_segment: {type:Number,required:false,default:1},//1 es cupon por producto y 2 seria por categoria\n    state:{type:Number,required:false,default: 1},//1:activo\n    products:[{type:Object}],//[{_id: asdasdas },{_id: dsdsds}]\n    categories:[{type:Object}]\n},{\n    timestamps:true\n})\n\nconst Cupone = mongoose.model(\"cupones\",CuponeSchema);\nexport default Cupone;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,IAAI,EAAC;IAACC,IAAI,EAACC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC7CC,aAAa,EAAC;IAACJ,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,IAAI;IAACpB,OAAO,EAAE;EAAC,CAAC;EAAC;EACrDuB,QAAQ,EAAC;IAACN,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAI,CAAC;EAAC;EACrCI,UAAU,EAAC;IAACP,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,IAAI;IAACpB,OAAO,EAAC;EAAC,CAAC;EAAC;EACjDyB,OAAO,EAAC;IAACR,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAK,CAAC;EACpCM,YAAY,EAAE;IAACT,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,KAAK;IAACpB,OAAO,EAAC;EAAC,CAAC;EAAC;EACrD2B,KAAK,EAAC;IAACV,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,KAAK;IAACpB,OAAO,EAAE;EAAC,CAAC;EAAC;EAC9C4B,QAAQ,EAAC,CAAC;IAACX,IAAI,EAACX;EAAM,CAAC,CAAC;EAAC;EACzBuB,UAAU,EAAC,CAAC;IAACZ,IAAI,EAACX;EAAM,CAAC;AAC7B,CAAC,EAAC;EACEwB,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,SAAS,EAACnB,YAAY,CAAC;AAAC,IAAAoB,QAAA,GAAAC,OAAA,CAAAnC,OAAA,GACvC+B,MAAM","ignoreList":[]}},"mtime":1738075721403},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/Discount.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst DiscountSchema = new _mongoose.Schema({\n  type_campaign: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1: Campaña de descuento | 2: Venta Flash\n  type_discount: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1: porcentaje || 2: moneda\n  discount: {\n    type: Number,\n    required: true\n  },\n  start_date: {\n    type: Date,\n    required: true\n  },\n  end_date: {\n    type: Date,\n    required: true\n  },\n  start_date_num: {\n    type: Number,\n    required: true\n  },\n  end_date_num: {\n    type: Number,\n    required: true\n  },\n  state: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1: Activo || 2: Desactivo\n  type_segment: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1: Por Productos || 2:Por Categorias\n  products: [{\n    type: Object,\n    required: false\n  }],\n  categories: [{\n    type: Object,\n    required: false\n  }]\n}, {\n  timestamps: true\n});\nconst Discount = _mongoose.default.model(\"discounts\", DiscountSchema);\nvar _default = exports.default = Discount;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJEaXNjb3VudFNjaGVtYSIsIlNjaGVtYSIsInR5cGVfY2FtcGFpZ24iLCJ0eXBlIiwiTnVtYmVyIiwicmVxdWlyZWQiLCJ0eXBlX2Rpc2NvdW50IiwiZGlzY291bnQiLCJzdGFydF9kYXRlIiwiRGF0ZSIsImVuZF9kYXRlIiwic3RhcnRfZGF0ZV9udW0iLCJlbmRfZGF0ZV9udW0iLCJzdGF0ZSIsInR5cGVfc2VnbWVudCIsInByb2R1Y3RzIiwiY2F0ZWdvcmllcyIsInRpbWVzdGFtcHMiLCJEaXNjb3VudCIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvbW9kZWxzLyIsInNvdXJjZXMiOlsiRGlzY291bnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgRGlzY291bnRTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgdHlwZV9jYW1wYWlnbjp7IHR5cGU6TnVtYmVyLCByZXF1aXJlZDp0cnVlLCBkZWZhdWx0OiAxIH0sIC8vIDE6IENhbXBhw7FhIGRlIGRlc2N1ZW50byB8IDI6IFZlbnRhIEZsYXNoXG4gIHR5cGVfZGlzY291bnQ6eyB0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZSwgZGVmYXVsdDogMSB9LCAvLyAxOiBwb3JjZW50YWplIHx8IDI6IG1vbmVkYVxuICBkaXNjb3VudDogeyB0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZSB9LFxuICBzdGFydF9kYXRlOiB7IHR5cGU6RGF0ZSwgcmVxdWlyZWQ6dHJ1ZSB9LFxuICBlbmRfZGF0ZTogeyB0eXBlOkRhdGUsIHJlcXVpcmVkOnRydWUgfSxcbiAgc3RhcnRfZGF0ZV9udW06IHsgdHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWUgfSxcbiAgZW5kX2RhdGVfbnVtOiB7IHR5cGU6TnVtYmVyLCByZXF1aXJlZDp0cnVlIH0sXG4gIHN0YXRlOiB7IHR5cGU6TnVtYmVyLCByZXF1aXJlZDp0cnVlLCBkZWZhdWx0OjEgfSwgLy8gMTogQWN0aXZvIHx8IDI6IERlc2FjdGl2b1xuICB0eXBlX3NlZ21lbnQ6IHsgdHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWUsIGRlZmF1bHQ6MSB9LCAvLyAxOiBQb3IgUHJvZHVjdG9zIHx8IDI6UG9yIENhdGVnb3JpYXNcbiAgcHJvZHVjdHM6IFt7dHlwZTogT2JqZWN0LCByZXF1aXJlZDogZmFsc2UgfV0sXG4gIGNhdGVnb3JpZXM6IFt7dHlwZTogT2JqZWN0LCByZXF1aXJlZDogZmFsc2UgfV0sXG5cbn0se1xuICB0aW1lc3RhbXBzOiB0cnVlLFxufSk7XG5cbmNvbnN0IERpc2NvdW50ID0gbW9uZ29vc2UubW9kZWwoXCJkaXNjb3VudHNcIiwgRGlzY291bnRTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgRGlzY291bnQ7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBMEMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEs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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","DiscountSchema","Schema","type_campaign","type","Number","required","type_discount","discount","start_date","Date","end_date","start_date_num","end_date_num","state","type_segment","products","categories","timestamps","Discount","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Discount.js"],"sourcesContent":["import mongoose, {Schema} from \"mongoose\";\n\nconst DiscountSchema = new Schema({\n  type_campaign:{ type:Number, required:true, default: 1 }, // 1: Campaña de descuento | 2: Venta Flash\n  type_discount:{ type:Number, required:true, default: 1 }, // 1: porcentaje || 2: moneda\n  discount: { type:Number, required:true },\n  start_date: { type:Date, required:true },\n  end_date: { type:Date, required:true },\n  start_date_num: { type:Number, required:true },\n  end_date_num: { type:Number, required:true },\n  state: { type:Number, required:true, default:1 }, // 1: Activo || 2: Desactivo\n  type_segment: { type:Number, required:true, default:1 }, // 1: Por Productos || 2:Por Categorias\n  products: [{type: Object, required: false }],\n  categories: [{type: Object, required: false }],\n\n},{\n  timestamps: true,\n});\n\nconst Discount = mongoose.model(\"discounts\", DiscountSchema);\nexport default Discount;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMW,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAChCC,aAAa,EAAC;IAAEC,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEnB,OAAO,EAAE;EAAE,CAAC;EAAE;EAC1DoB,aAAa,EAAC;IAAEH,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEnB,OAAO,EAAE;EAAE,CAAC;EAAE;EAC1DqB,QAAQ,EAAE;IAAEJ,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC;EAAK,CAAC;EACxCG,UAAU,EAAE;IAAEL,IAAI,EAACM,IAAI;IAAEJ,QAAQ,EAAC;EAAK,CAAC;EACxCK,QAAQ,EAAE;IAAEP,IAAI,EAACM,IAAI;IAAEJ,QAAQ,EAAC;EAAK,CAAC;EACtCM,cAAc,EAAE;IAAER,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC;EAAK,CAAC;EAC9CO,YAAY,EAAE;IAAET,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC;EAAK,CAAC;EAC5CQ,KAAK,EAAE;IAAEV,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEnB,OAAO,EAAC;EAAE,CAAC;EAAE;EAClD4B,YAAY,EAAE;IAAEX,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEnB,OAAO,EAAC;EAAE,CAAC;EAAE;EACzD6B,QAAQ,EAAE,CAAC;IAACZ,IAAI,EAAEX,MAAM;IAAEa,QAAQ,EAAE;EAAM,CAAC,CAAC;EAC5CW,UAAU,EAAE,CAAC;IAACb,IAAI,EAAEX,MAAM;IAAEa,QAAQ,EAAE;EAAM,CAAC;AAE/C,CAAC,EAAC;EACAY,UAAU,EAAE;AACd,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAAEpB,cAAc,CAAC;AAAC,IAAAqB,QAAA,GAAAC,OAAA,CAAApC,OAAA,GAC9CgC,QAAQ","ignoreList":[]}},"mtime":1738249050099},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CartSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  // 1:Porcentaje | 2:Moneda\n  discount: {\n    type: Number,\n    default: 0\n  },\n  cantidad: {\n    type: Number,\n    required: true\n  },\n  variedad: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'variedad',\n    required: false\n  },\n  code_cupon: {\n    type: String,\n    required: false\n  },\n  code_discount: {\n    type: String,\n    required: false\n  },\n  price_unit: {\n    type: Number,\n    required: true\n  },\n  subtotal: {\n    type: Number,\n    required: true\n  },\n  total: {\n    type: Number,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Cart = _mongoose.default.model(\"cart\", CartSchema);\nvar _default = exports.default = Cart;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDYXJ0U2NoZW1hIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwicHJvZHVjdCIsInR5cGVfZGlzY291bnQiLCJOdW1iZXIiLCJkaXNjb3VudCIsImNhbnRpZGFkIiwidmFyaWVkYWQiLCJjb2RlX2N1cG9uIiwiU3RyaW5nIiwiY29kZV9kaXNjb3VudCIsInByaWNlX3VuaXQiLCJzdWJ0b3RhbCIsInRvdGFsIiwidGltZXN0YW1wcyIsIkNhcnQiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIkNhcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBDYXJ0U2NoZW1hID0gIG5ldyBTY2hlbWEoe1xuICB1c2VyOiB7dHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6ICd1c2VyJywgcmVxdWlyZWQ6IHRydWV9LFxuICBwcm9kdWN0OiB7dHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6ICdwcm9kdWN0JywgcmVxdWlyZWQ6IHRydWV9LFxuICB0eXBlX2Rpc2NvdW50OiB7dHlwZTogTnVtYmVyLCByZXF1aXJlZDogZmFsc2UsIGRlZmF1bHQ6IDF9LCAvLyAxOlBvcmNlbnRhamUgfCAyOk1vbmVkYVxuICBkaXNjb3VudDoge3R5cGU6IE51bWJlciwgZGVmYXVsdDogMH0sXG4gIGNhbnRpZGFkOiB7dHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZX0sXG4gIHZhcmllZGFkOiB7dHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6ICd2YXJpZWRhZCcsIHJlcXVpcmVkOmZhbHNlIH0sXG4gIGNvZGVfY3Vwb246IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBmYWxzZX0sXG4gIGNvZGVfZGlzY291bnQ6IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiBmYWxzZX0sXG4gIHByaWNlX3VuaXQ6IHt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlfSxcbiAgc3VidG90YWw6IHt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlfSxcbiAgdG90YWw6IHt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlfSxcbn0se1xuICB0aW1lc3RhbXBzOiB0cnVlLFxufSlcblxuY29uc3QgQ2FydCA9IG1vbmdvb3NlLm1vZGVsKFwiY2FydFwiLCBDYXJ0U2NoZW1hKTtcbmV4cG9ydCBkZWZhdWx0IENhcnQ7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CartSchema","Schema","user","type","ObjectId","ref","required","product","type_discount","Number","discount","cantidad","variedad","code_cupon","String","code_discount","price_unit","subtotal","total","timestamps","Cart","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Cart.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst CartSchema =  new Schema({\n  user: {type: Schema.ObjectId, ref: 'user', required: true},\n  product: {type: Schema.ObjectId, ref: 'product', required: true},\n  type_discount: {type: Number, required: false, default: 1}, // 1:Porcentaje | 2:Moneda\n  discount: {type: Number, default: 0},\n  cantidad: {type: Number, required: true},\n  variedad: {type: Schema.ObjectId, ref: 'variedad', required:false },\n  code_cupon: {type: String, required: false},\n  code_discount: {type: String, required: false},\n  price_unit: {type: Number, required: true},\n  subtotal: {type: Number, required: true},\n  total: {type: Number, required: true},\n},{\n  timestamps: true,\n})\n\nconst Cart = mongoose.model(\"cart\", CartSchema);\nexport default Cart;\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,UAAU,GAAI,IAAIC,gBAAM,CAAC;EAC7BC,IAAI,EAAE;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAE,MAAM;IAAEC,QAAQ,EAAE;EAAI,CAAC;EAC1DC,OAAO,EAAE;IAACJ,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAE,SAAS;IAAEC,QAAQ,EAAE;EAAI,CAAC;EAChEE,aAAa,EAAE;IAACL,IAAI,EAAEM,MAAM;IAAEH,QAAQ,EAAE,KAAK;IAAEpB,OAAO,EAAE;EAAC,CAAC;EAAE;EAC5DwB,QAAQ,EAAE;IAACP,IAAI,EAAEM,MAAM;IAAEvB,OAAO,EAAE;EAAC,CAAC;EACpCyB,QAAQ,EAAE;IAACR,IAAI,EAAEM,MAAM;IAAEH,QAAQ,EAAE;EAAI,CAAC;EACxCM,QAAQ,EAAE;IAACT,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAE,UAAU;IAAEC,QAAQ,EAAC;EAAM,CAAC;EACnEO,UAAU,EAAE;IAACV,IAAI,EAAEW,MAAM;IAAER,QAAQ,EAAE;EAAK,CAAC;EAC3CS,aAAa,EAAE;IAACZ,IAAI,EAAEW,MAAM;IAAER,QAAQ,EAAE;EAAK,CAAC;EAC9CU,UAAU,EAAE;IAACb,IAAI,EAAEM,MAAM;IAAEH,QAAQ,EAAE;EAAI,CAAC;EAC1CW,QAAQ,EAAE;IAACd,IAAI,EAAEM,MAAM;IAAEH,QAAQ,EAAE;EAAI,CAAC;EACxCY,KAAK,EAAE;IAACf,IAAI,EAAEM,MAAM;IAAEH,QAAQ,EAAE;EAAI;AACtC,CAAC,EAAC;EACAa,UAAU,EAAE;AACd,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAAEtB,UAAU,CAAC;AAAC,IAAAuB,QAAA,GAAAC,OAAA,CAAAtC,OAAA,GACjCkC,IAAI","ignoreList":[]}},"mtime":1739221177438},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/AddressClient.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst AddressClientSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  name: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  surname: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  country: {\n    type: String,\n    required: true,\n    maxlength: 250,\n    default: \"Venezuela\"\n  },\n  region: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  city: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  township: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  address: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  reference: {\n    type: String,\n    required: false,\n    maxlength: 250\n  },\n  phone: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  email: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  note: {\n    type: String,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst AddressClient = _mongoose.default.model(\"address_client\", AddressClientSchema);\nvar _default = exports.default = AddressClient;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJBZGRyZXNzQ2xpZW50U2NoZW1hIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwibmFtZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInN1cm5hbWUiLCJjb3VudHJ5IiwicmVnaW9uIiwiY2l0eSIsInRvd25zaGlwIiwiYWRkcmVzcyIsInJlZmVyZW5jZSIsInBob25lIiwiZW1haWwiLCJub3RlIiwidGltZXN0YW1wcyIsIkFkZHJlc3NDbGllbnQiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIkFkZHJlc3NDbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBBZGRyZXNzQ2xpZW50U2NoZW1hID0gIG5ldyBTY2hlbWEoe1xuICB1c2VyOiB7dHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6J3VzZXInLCByZXF1aXJlZDogdHJ1ZX0sXG4gIG5hbWU6e3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6dHJ1ZSwgbWF4bGVuZ3RoOiAyNTB9LFxuICBzdXJuYW1lOnt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOnRydWUsIG1heGxlbmd0aDogMjUwfSxcbiAgY291bnRyeTp7dHlwZTogU3RyaW5nLCByZXF1aXJlZDp0cnVlLCBtYXhsZW5ndGg6IDI1MCwgZGVmYXVsdDpcIlZlbmV6dWVsYVwifSxcbiAgcmVnaW9uOnt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOnRydWUsIG1heGxlbmd0aDogMjUwfSxcbiAgY2l0eTp7dHlwZTogU3RyaW5nLCByZXF1aXJlZDp0cnVlLCBtYXhsZW5ndGg6IDI1MH0sXG4gIHRvd25zaGlwOnt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOnRydWUsIG1heGxlbmd0aDogMjUwfSxcbiAgYWRkcmVzczp7dHlwZTogU3RyaW5nLCByZXF1aXJlZDp0cnVlLCBtYXhsZW5ndGg6IDI1MH0sXG4gIHJlZmVyZW5jZTp7dHlwZTogU3RyaW5nLCByZXF1aXJlZDpmYWxzZSwgbWF4bGVuZ3RoOiAyNTB9LFxuICBwaG9uZTp7dHlwZTogU3RyaW5nLCByZXF1aXJlZDp0cnVlLCBtYXhsZW5ndGg6IDI1MH0sXG4gIGVtYWlsOnt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOnRydWUsIG1heGxlbmd0aDogMjUwfSxcbiAgbm90ZTp7dHlwZTogU3RyaW5nLCByZXF1aXJlZDpmYWxzZX0sXG5cbn0se1xuICB0aW1lc3RhbXBzOiB0cnVlLFxufSlcblxuY29uc3QgQWRkcmVzc0NsaWVudCA9IG1vbmdvb3NlLm1vZGVsKFwiYWRkcmVzc19jbGllbnRcIiwgQWRkcmVzc0NsaWVudFNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBBZGRyZXNzQ2xpZW50OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUssT0FBQSxFQUFBTCxDQUFBLFFBQUFHLENBQUEsR0FBQUosd0JBQUEsQ0FBQUcsQ0FBQSxPQUFBQyxDQUFBLElBQUFBLENBQUEsQ0FBQUcsR0FBQSxDQUFBTixDQUFBLFVBQUFHLENBQUEsQ0FBQUksR0FBQSxDQUFBUCxDQUFBLE9BQUFRLENBQUEsS0FBQUMsU0FBQSxVQUFBQyxDQUFBLEdBQUFDLE1BQUEsQ0FBQUMsY0FBQSxJQUFBRCxNQUFBLENBQUFFLHdCQUFBLFdBQUFDLENBQUEsSUFBQWQsQ0FBQSxvQkFBQWMsQ0FBQSxPQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWhCLENBQUEsRUFBQWMsQ0FBQSxTQUFBRyxDQUFBLEdBQUFQLENBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBYixDQUFBLEVBQUFjLENBQUEsVUFBQUcsQ0FBQSxLQUFBQSxDQUFBLENBQUFWLEdBQUEsSUFBQVUsQ0FBQSxDQUFBQyxHQUFBLElBQUFQLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSixDQUFBLEVBQUFNLENBQUEsRUFBQUcsQ0FBQSxJQUFBVCxDQUFBLENBQUFNLENBQUEsSUFBQWQsQ0FBQSxDQUFBYyxDQUFBLFlBQUFOLENBQUEsQ0FBQUgsT0FBQSxHQUFBTCxDQUFBLEVBQUFHLENBQUEsSUFBQUEsQ0FBQSxDQUFBZSxHQUFBLENBQUFsQixDQUFBLEVBQUFRLENBQUEsR0FBQUEsQ0FBQTtBQUV6QyxNQUFNVyxtQkFBbUIsR0FBSSxJQUFJQyxnQkFBTSxDQUFDO0VBQ3RDQyxJQUFJLEVBQUU7SUFBQ0MsSUFBSSxFQUFFRixnQkFBTSxDQUFDRyxRQUFRO0lBQUVDLEdBQUcsRUFBQyxNQUFNO0lBQUVDLFFBQVEsRUFBRTtFQUFJLENBQUM7RUFDekRDLElBQUksRUFBQztJQUFDSixJQUFJLEVBQUVLLE1BQU07SUFBRUYsUUFBUSxFQUFDLElBQUk7SUFBRUcsU0FBUyxFQUFFO0VBQUcsQ0FBQztFQUNsREMsT0FBTyxFQUFDO0lBQUNQLElBQUksRUFBRUssTUFBTTtJQUFFRixRQUFRLEVBQUMsSUFBSTtJQUFFRyxTQUFTLEVBQUU7RUFBRyxDQUFDO0VBQ3JERSxPQUFPLEVBQUM7SUFBQ1IsSUFBSSxFQUFFSyxNQUFNO0lBQUVGLFFBQVEsRUFBQyxJQUFJO0lBQUVHLFNBQVMsRUFBRSxHQUFHO0lBQUV2QixPQUFPLEVBQUM7RUFBVyxDQUFDO0VBQzFFMEIsTUFBTSxFQUFDO0lBQUNULElBQUksRUFBRUssTUFBTTtJQUFFRixRQUFRLEVBQUMsSUFBSTtJQUFFRyxTQUFTLEVBQUU7RUFBRyxDQUFDO0VBQ3BESSxJQUFJLEVBQUM7SUFBQ1YsSUFBSSxFQUFFSyxNQUFNO0lBQUVGLFFBQVEsRUFBQyxJQUFJO0lBQUVHLFNBQVMsRUFBRTtFQUFHLENBQUM7RUFDbERLLFFBQVEsRUFBQztJQUFDWCxJQUFJLEVBQUVLLE1BQU07SUFBRUYsUUFBUSxFQUFDLElBQUk7SUFBRUcsU0FBUyxFQUFFO0VBQUcsQ0FBQztFQUN0RE0sT0FBTyxFQUFDO0lBQUNaLElBQUksRUFBRUssTUFBTTtJQUFFRixRQUFRLEVBQUMsSUFBSTtJQUFFRyxTQUFTLEVBQUU7RUFBRyxDQUFDO0VBQ3JETyxTQUFTLEVBQUM7SUFBQ2IsSUFBSSxFQUFFSyxNQUFNO0lBQUVGLFFBQVEsRUFBQyxLQUFLO0lBQUVHLFNBQVMsRUFBRTtFQUFHLENBQUM7RUFDeERRLEtBQUssRUFBQztJQUFDZCxJQUFJLEVBQUVLLE1BQU07SUFBRUYsUUFBUSxFQUFDLElBQUk7SUFBRUcsU0FBUyxFQUFFO0VBQUcsQ0FBQztFQUNuRFMsS0FBSyxFQUFDO0lBQUNmLElBQUksRUFBRUssTUFBTTtJQUFFRixRQUFRLEVBQUMsSUFBSTtJQUFFRyxTQUFTLEVBQUU7RUFBRyxDQUFDO0VBQ25EVSxJQUFJLEVBQUM7SUFBQ2hCLElBQUksRUFBRUssTUFBTTtJQUFFRixRQUFRLEVBQUM7RUFBSztBQUVwQyxDQUFDLEVBQUM7RUFDQWMsVUFBVSxFQUFFO0FBQ2QsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsYUFBYSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsZ0JBQWdCLEVBQUV2QixtQkFBbUIsQ0FBQztBQUFDLElBQUF3QixRQUFBLEdBQUFDLE9BQUEsQ0FBQXZDLE9BQUEsR0FDN0RtQyxhQUFhIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","AddressClientSchema","Schema","user","type","ObjectId","ref","required","name","String","maxlength","surname","country","region","city","township","address","reference","phone","email","note","timestamps","AddressClient","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["AddressClient.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst AddressClientSchema =  new Schema({\n  user: {type: Schema.ObjectId, ref:'user', required: true},\n  name:{type: String, required:true, maxlength: 250},\n  surname:{type: String, required:true, maxlength: 250},\n  country:{type: String, required:true, maxlength: 250, default:\"Venezuela\"},\n  region:{type: String, required:true, maxlength: 250},\n  city:{type: String, required:true, maxlength: 250},\n  township:{type: String, required:true, maxlength: 250},\n  address:{type: String, required:true, maxlength: 250},\n  reference:{type: String, required:false, maxlength: 250},\n  phone:{type: String, required:true, maxlength: 250},\n  email:{type: String, required:true, maxlength: 250},\n  note:{type: String, required:false},\n\n},{\n  timestamps: true,\n})\n\nconst AddressClient = mongoose.model(\"address_client\", AddressClientSchema);\nexport default AddressClient;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,mBAAmB,GAAI,IAAIC,gBAAM,CAAC;EACtCC,IAAI,EAAE;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAAEC,GAAG,EAAC,MAAM;IAAEC,QAAQ,EAAE;EAAI,CAAC;EACzDC,IAAI,EAAC;IAACJ,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC,IAAI;IAAEG,SAAS,EAAE;EAAG,CAAC;EAClDC,OAAO,EAAC;IAACP,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC,IAAI;IAAEG,SAAS,EAAE;EAAG,CAAC;EACrDE,OAAO,EAAC;IAACR,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC,IAAI;IAAEG,SAAS,EAAE,GAAG;IAAEvB,OAAO,EAAC;EAAW,CAAC;EAC1E0B,MAAM,EAAC;IAACT,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC,IAAI;IAAEG,SAAS,EAAE;EAAG,CAAC;EACpDI,IAAI,EAAC;IAACV,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC,IAAI;IAAEG,SAAS,EAAE;EAAG,CAAC;EAClDK,QAAQ,EAAC;IAACX,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC,IAAI;IAAEG,SAAS,EAAE;EAAG,CAAC;EACtDM,OAAO,EAAC;IAACZ,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC,IAAI;IAAEG,SAAS,EAAE;EAAG,CAAC;EACrDO,SAAS,EAAC;IAACb,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC,KAAK;IAAEG,SAAS,EAAE;EAAG,CAAC;EACxDQ,KAAK,EAAC;IAACd,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC,IAAI;IAAEG,SAAS,EAAE;EAAG,CAAC;EACnDS,KAAK,EAAC;IAACf,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC,IAAI;IAAEG,SAAS,EAAE;EAAG,CAAC;EACnDU,IAAI,EAAC;IAAChB,IAAI,EAAEK,MAAM;IAAEF,QAAQ,EAAC;EAAK;AAEpC,CAAC,EAAC;EACAc,UAAU,EAAE;AACd,CAAC,CAAC;AAEF,MAAMC,aAAa,GAAGC,iBAAQ,CAACC,KAAK,CAAC,gBAAgB,EAAEvB,mBAAmB,CAAC;AAAC,IAAAwB,QAAA,GAAAC,OAAA,CAAAvC,OAAA,GAC7DmC,aAAa","ignoreList":[]}},"mtime":1739716754596},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/Sale.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SaleSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  currency_payment: {\n    type: String,\n    default: 'USD'\n  },\n  method_payment: {\n    type: String,\n    maxlength: 50,\n    required: true\n  },\n  n_transaction: {\n    type: String,\n    maxlength: 200,\n    required: true\n  },\n  total: {\n    type: Number,\n    required: true\n  },\n  // \n  currency_total: {\n    type: String,\n    maxlength: 50,\n    default: 'USD'\n  },\n  price_dolar: {\n    type: Number,\n    default: 0\n  }\n}, {\n  timestamps: true\n});\nconst Sale = _mongoose.default.model(\"sale\", SaleSchema);\nvar _default = exports.default = Sale;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTYWxlU2NoZW1hIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwiY3VycmVuY3lfcGF5bWVudCIsIlN0cmluZyIsIm1ldGhvZF9wYXltZW50IiwibWF4bGVuZ3RoIiwibl90cmFuc2FjdGlvbiIsInRvdGFsIiwiTnVtYmVyIiwiY3VycmVuY3lfdG90YWwiLCJwcmljZV9kb2xhciIsInRpbWVzdGFtcHMiLCJTYWxlIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJTYWxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgU2FsZVNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICAgIHVzZXI6e3R5cGU6IFNjaGVtYS5PYmplY3RJZCxyZWY6J3VzZXInLHJlcXVpcmVkOnRydWV9LFxuICAgIGN1cnJlbmN5X3BheW1lbnQ6e3R5cGU6IFN0cmluZyxkZWZhdWx0OiAnVVNEJ30sXG4gICAgbWV0aG9kX3BheW1lbnQ6e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogNTAscmVxdWlyZWQ6dHJ1ZX0sXG4gICAgbl90cmFuc2FjdGlvbjoge3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjAwLHJlcXVpcmVkOnRydWV9LFxuICAgIHRvdGFsOnt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSxcbiAgICAvLyBcbiAgICBjdXJyZW5jeV90b3RhbDoge3R5cGU6IFN0cmluZywgbWF4bGVuZ3RoOiA1MCwgZGVmYXVsdDogJ1VTRCd9LFxuICAgIHByaWNlX2RvbGFyOnt0eXBlOk51bWJlcixkZWZhdWx0OiAwfSxcbn0se1xuICAgIHRpbWVzdGFtcHM6IHRydWUsXG59KTtcblxuY29uc3QgU2FsZSA9IG1vbmdvb3NlLm1vZGVsKFwic2FsZVwiLFNhbGVTY2hlbWEpO1xuXG5leHBvcnQgZGVmYXVsdCBTYWxlOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUssT0FBQSxFQUFBTCxDQUFBLFFBQUFHLENBQUEsR0FBQUosd0JBQUEsQ0FBQUcsQ0FBQSxPQUFBQyxDQUFBLElBQUFBLENBQUEsQ0FBQUcsR0FBQSxDQUFBTixDQUFBLFVBQUFHLENBQUEsQ0FBQUksR0FBQSxDQUFBUCxDQUFBLE9BQUFRLENBQUEsS0FBQUMsU0FBQSxVQUFBQyxDQUFBLEdBQUFDLE1BQUEsQ0FBQUMsY0FBQSxJQUFBRCxNQUFBLENBQUFFLHdCQUFBLFdBQUFDLENBQUEsSUFBQWQsQ0FBQSxvQkFBQWMsQ0FBQSxPQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWhCLENBQUEsRUFBQWMsQ0FBQSxTQUFBRyxDQUFBLEdBQUFQLENBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBYixDQUFBLEVBQUFjLENBQUEsVUFBQUcsQ0FBQSxLQUFBQSxDQUFBLENBQUFWLEdBQUEsSUFBQVUsQ0FBQSxDQUFBQyxHQUFBLElBQUFQLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSixDQUFBLEVBQUFNLENBQUEsRUFBQUcsQ0FBQSxJQUFBVCxDQUFBLENBQUFNLENBQUEsSUFBQWQsQ0FBQSxDQUFBYyxDQUFBLFlBQUFOLENBQUEsQ0FBQUgsT0FBQSxHQUFBTCxDQUFBLEVBQUFHLENBQUEsSUFBQUEsQ0FBQSxDQUFBZSxHQUFBLENBQUFsQixDQUFBLEVBQUFRLENBQUEsR0FBQUEsQ0FBQTtBQUV6QyxNQUFNVyxVQUFVLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUMxQkMsSUFBSSxFQUFDO0lBQUNDLElBQUksRUFBRUYsZ0JBQU0sQ0FBQ0csUUFBUTtJQUFDQyxHQUFHLEVBQUMsTUFBTTtJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ3JEQyxnQkFBZ0IsRUFBQztJQUFDSixJQUFJLEVBQUVLLE1BQU07SUFBQ3RCLE9BQU8sRUFBRTtFQUFLLENBQUM7RUFDOUN1QixjQUFjLEVBQUM7SUFBQ04sSUFBSSxFQUFDSyxNQUFNO0lBQUNFLFNBQVMsRUFBRSxFQUFFO0lBQUNKLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDeERLLGFBQWEsRUFBRTtJQUFDUixJQUFJLEVBQUNLLE1BQU07SUFBQ0UsU0FBUyxFQUFFLEdBQUc7SUFBQ0osUUFBUSxFQUFDO0VBQUksQ0FBQztFQUN6RE0sS0FBSyxFQUFDO0lBQUNULElBQUksRUFBQ1UsTUFBTTtJQUFDUCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2pDO0VBQ0FRLGNBQWMsRUFBRTtJQUFDWCxJQUFJLEVBQUVLLE1BQU07SUFBRUUsU0FBUyxFQUFFLEVBQUU7SUFBRXhCLE9BQU8sRUFBRTtFQUFLLENBQUM7RUFDN0Q2QixXQUFXLEVBQUM7SUFBQ1osSUFBSSxFQUFDVSxNQUFNO0lBQUMzQixPQUFPLEVBQUU7RUFBQztBQUN2QyxDQUFDLEVBQUM7RUFDRThCLFVBQVUsRUFBRTtBQUNoQixDQUFDLENBQUM7QUFFRixNQUFNQyxJQUFJLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxNQUFNLEVBQUNuQixVQUFVLENBQUM7QUFBQyxJQUFBb0IsUUFBQSxHQUFBQyxPQUFBLENBQUFuQyxPQUFBLEdBRWhDK0IsSUFBSSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SaleSchema","Schema","user","type","ObjectId","ref","required","currency_payment","String","method_payment","maxlength","n_transaction","total","Number","currency_total","price_dolar","timestamps","Sale","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Sale.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst SaleSchema = new Schema({\n    user:{type: Schema.ObjectId,ref:'user',required:true},\n    currency_payment:{type: String,default: 'USD'},\n    method_payment:{type:String,maxlength: 50,required:true},\n    n_transaction: {type:String,maxlength: 200,required:true},\n    total:{type:Number,required:true},\n    // \n    currency_total: {type: String, maxlength: 50, default: 'USD'},\n    price_dolar:{type:Number,default: 0},\n},{\n    timestamps: true,\n});\n\nconst Sale = mongoose.model(\"sale\",SaleSchema);\n\nexport default Sale;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,IAAI,EAAC;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACrDC,gBAAgB,EAAC;IAACJ,IAAI,EAAEK,MAAM;IAACtB,OAAO,EAAE;EAAK,CAAC;EAC9CuB,cAAc,EAAC;IAACN,IAAI,EAACK,MAAM;IAACE,SAAS,EAAE,EAAE;IAACJ,QAAQ,EAAC;EAAI,CAAC;EACxDK,aAAa,EAAE;IAACR,IAAI,EAACK,MAAM;IAACE,SAAS,EAAE,GAAG;IAACJ,QAAQ,EAAC;EAAI,CAAC;EACzDM,KAAK,EAAC;IAACT,IAAI,EAACU,MAAM;IAACP,QAAQ,EAAC;EAAI,CAAC;EACjC;EACAQ,cAAc,EAAE;IAACX,IAAI,EAAEK,MAAM;IAAEE,SAAS,EAAE,EAAE;IAAExB,OAAO,EAAE;EAAK,CAAC;EAC7D6B,WAAW,EAAC;IAACZ,IAAI,EAACU,MAAM;IAAC3B,OAAO,EAAE;EAAC;AACvC,CAAC,EAAC;EACE8B,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAACnB,UAAU,CAAC;AAAC,IAAAoB,QAAA,GAAAC,OAAA,CAAAnC,OAAA,GAEhC+B,IAAI","ignoreList":[]}},"mtime":1740009359551},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/SaleAddress.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SaleAddressSchema = new _mongoose.Schema({\n  sale: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale',\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  country: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  address: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  reference: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  city: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  region: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  township: {\n    type: String,\n    required: true,\n    maxlength: 250\n  },\n  phone: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  note: {\n    type: String,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst SaleAddress = _mongoose.default.model(\"sale_address\", SaleAddressSchema);\nvar _default = exports.default = SaleAddress;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTYWxlQWRkcmVzc1NjaGVtYSIsIlNjaGVtYSIsInNhbGUiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsIm5hbWUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJzdXJuYW1lIiwiY291bnRyeSIsImFkZHJlc3MiLCJyZWZlcmVuY2UiLCJjaXR5IiwicmVnaW9uIiwidG93bnNoaXAiLCJwaG9uZSIsImVtYWlsIiwibm90ZSIsInRpbWVzdGFtcHMiLCJTYWxlQWRkcmVzcyIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvbW9kZWxzLyIsInNvdXJjZXMiOlsiU2FsZUFkZHJlc3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBTYWxlQWRkcmVzc1NjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICAgIHNhbGU6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjogJ3NhbGUnLHJlcXVpcmVkOnRydWV9LFxuICAgIG5hbWU6e3R5cGU6U3RyaW5nLG1heGxlbmd0aCA6IDI1MCxyZXF1aXJlZDp0cnVlfSxcbiAgICBzdXJuYW1lOnt0eXBlOlN0cmluZyxtYXhsZW5ndGggOiAyNTAscmVxdWlyZWQ6dHJ1ZX0sXG4gICAgY291bnRyeTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxuICAgIGFkZHJlc3M6e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDp0cnVlfSxcbiAgICByZWZlcmVuY2U6e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDpmYWxzZX0sXG4gICAgY2l0eTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxuICAgIHJlZ2lvbjp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxuICAgIHRvd25zaGlwOnt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOnRydWUsIG1heGxlbmd0aDogMjUwfSxcbiAgICBwaG9uZTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxuICAgIGVtYWlsOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXG4gICAgbm90ZTp7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOmZhbHNlfSxcbiAgICBcbn0se1xuICAgIHRpbWVzdGFtcHM6IHRydWVcbn0pO1xuXG5jb25zdCBTYWxlQWRkcmVzcyA9IG1vbmdvb3NlLm1vZGVsKFwic2FsZV9hZGRyZXNzXCIsU2FsZUFkZHJlc3NTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgU2FsZUFkZHJlc3M7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SaleAddressSchema","Schema","sale","type","ObjectId","ref","required","name","String","maxlength","surname","country","address","reference","city","region","township","phone","email","note","timestamps","SaleAddress","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["SaleAddress.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst SaleAddressSchema = new Schema({\n    sale:{type:Schema.ObjectId,ref: 'sale',required:true},\n    name:{type:String,maxlength : 250,required:true},\n    surname:{type:String,maxlength : 250,required:true},\n    country:{type:String,maxlength: 250, required:true},\n    address:{type:String,maxlength: 250, required:true},\n    reference:{type:String,maxlength: 250, required:false},\n    city:{type:String,maxlength: 250, required:true},\n    region:{type:String,maxlength: 250, required:true},\n    township:{type: String, required:true, maxlength: 250},\n    phone:{type:String,maxlength: 250, required:true},\n    email:{type:String,maxlength: 250, required:true},\n    note:{type:String, required:false},\n    \n},{\n    timestamps: true\n});\n\nconst SaleAddress = mongoose.model(\"sale_address\",SaleAddressSchema);\nexport default SaleAddress;"],"mappings":"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","ignoreList":[]}},"mtime":1740009796993},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/SaleDetail.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SaleDetailSchema = new _mongoose.Schema({\n  sale: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale',\n    required: true\n  },\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es por porcentaje y 2 es por moneda\n  discount: {\n    type: Number,\n    default: 0\n  },\n  //50%\n  cantidad: {\n    type: Number,\n    required: true\n  },\n  //2\n  variedad: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'variedad',\n    required: false\n  },\n  code_cupon: {\n    type: String,\n    required: false\n  },\n  code_discount: {\n    type: String,\n    required: false\n  },\n  price_unit: {\n    type: Number,\n    required: true\n  },\n  //60\n  subtotal: {\n    type: Number,\n    required: true\n  },\n  //30\n  total: {\n    type: Number,\n    required: true\n  } //60\n}, {\n  timestamps: true\n});\nconst SaleDetail = _mongoose.default.model(\"sale_detail\", SaleDetailSchema);\nvar _default = exports.default = SaleDetail;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTYWxlRGV0YWlsU2NoZW1hIiwiU2NoZW1hIiwic2FsZSIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwicHJvZHVjdCIsInR5cGVfZGlzY291bnQiLCJOdW1iZXIiLCJkaXNjb3VudCIsImNhbnRpZGFkIiwidmFyaWVkYWQiLCJjb2RlX2N1cG9uIiwiU3RyaW5nIiwiY29kZV9kaXNjb3VudCIsInByaWNlX3VuaXQiLCJzdWJ0b3RhbCIsInRvdGFsIiwidGltZXN0YW1wcyIsIlNhbGVEZXRhaWwiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIlNhbGVEZXRhaWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xuXG5jb25zdCBTYWxlRGV0YWlsU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gICAgc2FsZToge3R5cGU6IFNjaGVtYS5PYmplY3RJZCxyZWY6ICdzYWxlJyxyZXF1aXJlZDp0cnVlfSxcbiAgICBwcm9kdWN0OiB7dHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6ICdwcm9kdWN0JyxyZXF1aXJlZDp0cnVlfSxcbiAgICB0eXBlX2Rpc2NvdW50OiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6ZmFsc2UsZGVmYXVsdDogMX0sLy8xIGVzIHBvciBwb3JjZW50YWplIHkgMiBlcyBwb3IgbW9uZWRhXG4gICAgZGlzY291bnQ6e3R5cGU6TnVtYmVyLGRlZmF1bHQ6IDB9LC8vNTAlXG4gICAgY2FudGlkYWQ6IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzJcbiAgICB2YXJpZWRhZDoge3R5cGU6U2NoZW1hLk9iamVjdElkLCByZWY6ICd2YXJpZWRhZCcsIHJlcXVpcmVkOiBmYWxzZX0sXG4gICAgY29kZV9jdXBvbjoge3R5cGU6U3RyaW5nLHJlcXVpcmVkOmZhbHNlfSxcbiAgICBjb2RlX2Rpc2NvdW50OiB7dHlwZTpTdHJpbmcscmVxdWlyZWQ6ZmFsc2V9LFxuICAgIHByaWNlX3VuaXQ6IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzYwXG4gICAgc3VidG90YWw6IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzMwXG4gICAgdG90YWw6IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzYwXG59LHtcbiAgICB0aW1lc3RhbXBzOnRydWUsXG59KTtcblxuY29uc3QgU2FsZURldGFpbCA9IG1vbmdvb3NlLm1vZGVsKFwic2FsZV9kZXRhaWxcIixTYWxlRGV0YWlsU2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgU2FsZURldGFpbDsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SaleDetailSchema","Schema","sale","type","ObjectId","ref","required","product","type_discount","Number","discount","cantidad","variedad","code_cupon","String","code_discount","price_unit","subtotal","total","timestamps","SaleDetail","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["SaleDetail.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst SaleDetailSchema = new Schema({\n    sale: {type: Schema.ObjectId,ref: 'sale',required:true},\n    product: {type: Schema.ObjectId, ref: 'product',required:true},\n    type_discount: {type:Number,required:false,default: 1},//1 es por porcentaje y 2 es por moneda\n    discount:{type:Number,default: 0},//50%\n    cantidad: {type:Number,required:true},//2\n    variedad: {type:Schema.ObjectId, ref: 'variedad', required: false},\n    code_cupon: {type:String,required:false},\n    code_discount: {type:String,required:false},\n    price_unit: {type:Number,required:true},//60\n    subtotal: {type:Number,required:true},//30\n    total: {type:Number,required:true},//60\n},{\n    timestamps:true,\n});\n\nconst SaleDetail = mongoose.model(\"sale_detail\",SaleDetailSchema);\n\nexport default SaleDetail;"],"mappings":"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","ignoreList":[]}},"mtime":1740021891406},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/Review.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst ReviewSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  sale_detail: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale_detail',\n    required: true\n  },\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  cantidad: {\n    type: Number,\n    maxlength: 2,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Review = _mongoose.default.model(\"review\", ReviewSchema);\nvar _default = exports.default = Review;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJSZXZpZXdTY2hlbWEiLCJTY2hlbWEiLCJwcm9kdWN0IiwidHlwZSIsIk9iamVjdElkIiwicmVmIiwicmVxdWlyZWQiLCJzYWxlX2RldGFpbCIsInVzZXIiLCJjYW50aWRhZCIsIk51bWJlciIsIm1heGxlbmd0aCIsImRlc2NyaXB0aW9uIiwiU3RyaW5nIiwidGltZXN0YW1wcyIsIlJldmlldyIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvbW9kZWxzLyIsInNvdXJjZXMiOlsiUmV2aWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgUmV2aWV3U2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gICAgcHJvZHVjdDp7dHlwZTpTY2hlbWEuT2JqZWN0SWQscmVmOidwcm9kdWN0JyxyZXF1aXJlZDp0cnVlfSxcbiAgICBzYWxlX2RldGFpbDp7dHlwZTpTY2hlbWEuT2JqZWN0SWQscmVmOidzYWxlX2RldGFpbCcsIHJlcXVpcmVkOnRydWV9LFxuICAgIHVzZXI6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjondXNlcicsIHJlcXVpcmVkOnRydWV9LFxuICAgIGNhbnRpZGFkOnt0eXBlOk51bWJlcixtYXhsZW5ndGg6MixyZXF1aXJlZDp0cnVlfSxcbiAgICBkZXNjcmlwdGlvbjp7dHlwZTpTdHJpbmcscmVxdWlyZWQ6dHJ1ZX0sXG59LHtcbiAgICB0aW1lc3RhbXBzOiB0cnVlXG59KTtcblxuY29uc3QgUmV2aWV3ID0gbW9uZ29vc2UubW9kZWwoXCJyZXZpZXdcIixSZXZpZXdTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgUmV2aWV3OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUssT0FBQSxFQUFBTCxDQUFBLFFBQUFHLENBQUEsR0FBQUosd0JBQUEsQ0FBQUcsQ0FBQSxPQUFBQyxDQUFBLElBQUFBLENBQUEsQ0FBQUcsR0FBQSxDQUFBTixDQUFBLFVBQUFHLENBQUEsQ0FBQUksR0FBQSxDQUFBUCxDQUFBLE9BQUFRLENBQUEsS0FBQUMsU0FBQSxVQUFBQyxDQUFBLEdBQUFDLE1BQUEsQ0FBQUMsY0FBQSxJQUFBRCxNQUFBLENBQUFFLHdCQUFBLFdBQUFDLENBQUEsSUFBQWQsQ0FBQSxvQkFBQWMsQ0FBQSxPQUFBQyxjQUFBLENBQUFDLElBQUEsQ0FBQWhCLENBQUEsRUFBQWMsQ0FBQSxTQUFBRyxDQUFBLEdBQUFQLENBQUEsR0FBQUMsTUFBQSxDQUFBRSx3QkFBQSxDQUFBYixDQUFBLEVBQUFjLENBQUEsVUFBQUcsQ0FBQSxLQUFBQSxDQUFBLENBQUFWLEdBQUEsSUFBQVUsQ0FBQSxDQUFBQyxHQUFBLElBQUFQLE1BQUEsQ0FBQUMsY0FBQSxDQUFBSixDQUFBLEVBQUFNLENBQUEsRUFBQUcsQ0FBQSxJQUFBVCxDQUFBLENBQUFNLENBQUEsSUFBQWQsQ0FBQSxDQUFBYyxDQUFBLFlBQUFOLENBQUEsQ0FBQUgsT0FBQSxHQUFBTCxDQUFBLEVBQUFHLENBQUEsSUFBQUEsQ0FBQSxDQUFBZSxHQUFBLENBQUFsQixDQUFBLEVBQUFRLENBQUEsR0FBQUEsQ0FBQTtBQUV6QyxNQUFNVyxZQUFZLEdBQUcsSUFBSUMsZ0JBQU0sQ0FBQztFQUM1QkMsT0FBTyxFQUFDO0lBQUNDLElBQUksRUFBQ0YsZ0JBQU0sQ0FBQ0csUUFBUTtJQUFDQyxHQUFHLEVBQUMsU0FBUztJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQzFEQyxXQUFXLEVBQUM7SUFBQ0osSUFBSSxFQUFDRixnQkFBTSxDQUFDRyxRQUFRO0lBQUNDLEdBQUcsRUFBQyxhQUFhO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbkVFLElBQUksRUFBQztJQUFDTCxJQUFJLEVBQUNGLGdCQUFNLENBQUNHLFFBQVE7SUFBQ0MsR0FBRyxFQUFDLE1BQU07SUFBRUMsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNyREcsUUFBUSxFQUFDO0lBQUNOLElBQUksRUFBQ08sTUFBTTtJQUFDQyxTQUFTLEVBQUMsQ0FBQztJQUFDTCxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2hETSxXQUFXLEVBQUM7SUFBQ1QsSUFBSSxFQUFDVSxNQUFNO0lBQUNQLFFBQVEsRUFBQztFQUFJO0FBQzFDLENBQUMsRUFBQztFQUNFUSxVQUFVLEVBQUU7QUFDaEIsQ0FBQyxDQUFDO0FBRUYsTUFBTUMsTUFBTSxHQUFHQyxpQkFBUSxDQUFDQyxLQUFLLENBQUMsUUFBUSxFQUFDakIsWUFBWSxDQUFDO0FBQUMsSUFBQWtCLFFBQUEsR0FBQUMsT0FBQSxDQUFBakMsT0FBQSxHQUN0QzZCLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ReviewSchema","Schema","product","type","ObjectId","ref","required","sale_detail","user","cantidad","Number","maxlength","description","String","timestamps","Review","mongoose","model","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["Review.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\n\nconst ReviewSchema = new Schema({\n    product:{type:Schema.ObjectId,ref:'product',required:true},\n    sale_detail:{type:Schema.ObjectId,ref:'sale_detail', required:true},\n    user:{type:Schema.ObjectId,ref:'user', required:true},\n    cantidad:{type:Number,maxlength:2,required:true},\n    description:{type:String,required:true},\n},{\n    timestamps: true\n});\n\nconst Review = mongoose.model(\"review\",ReviewSchema);\nexport default Review;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,OAAO,EAAC;IAACC,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,SAAS;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC1DC,WAAW,EAAC;IAACJ,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,aAAa;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACnEE,IAAI,EAAC;IAACL,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,MAAM;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACrDG,QAAQ,EAAC;IAACN,IAAI,EAACO,MAAM;IAACC,SAAS,EAAC,CAAC;IAACL,QAAQ,EAAC;EAAI,CAAC;EAChDM,WAAW,EAAC;IAACT,IAAI,EAACU,MAAM;IAACP,QAAQ,EAAC;EAAI;AAC1C,CAAC,EAAC;EACEQ,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,QAAQ,EAACjB,YAAY,CAAC;AAAC,IAAAkB,QAAA,GAAAC,OAAA,CAAAjC,OAAA,GACtC6B,MAAM","ignoreList":[]}},"mtime":1739978309690},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/services/token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  encode: async (_id, rol, email) => {\n    const token = _jsonwebtoken.default.sign({\n      _id: _id,\n      rol: rol,\n      email: email\n    }, 'adcee', {\n      expiresIn: '1d'\n    });\n    return token;\n  },\n  decode: async token => {\n    try {\n      const {\n        _id\n      } = await _jsonwebtoken.default.verify(token, 'adcee');\n      const user = _models.default.User.findOne({\n        _id: _id,\n        state: 1\n      });\n      if (user) {\n        return user;\n      }\n      return false;\n    } catch (error) {\n      console.log(error);\n      return false;\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfbW9kZWxzIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiZW5jb2RlIiwiX2lkIiwicm9sIiwiZW1haWwiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJleHBpcmVzSW4iLCJkZWNvZGUiLCJ2ZXJpZnkiLCJ1c2VyIiwibW9kZWxzIiwiVXNlciIsImZpbmRPbmUiLCJzdGF0ZSIsImVycm9yIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9zZXJ2aWNlcy8iLCJzb3VyY2VzIjpbInRva2VuLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiXG5pbXBvcnQgbW9kZWxzICBmcm9tIFwiLi4vbW9kZWxzXCI7XG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBlbmNvZGU6IGFzeW5jKF9pZCxyb2wsZW1haWwpID0+e1xuICAgIGNvbnN0IHRva2VuID0gand0LnNpZ24oe19pZDpfaWQscm9sOiByb2wsZW1haWw6IGVtYWlsfSwgJ2FkY2VlJywge2V4cGlyZXNJbjogJzFkJ30pO1xuICAgIHJldHVybiB0b2tlbjtcbiAgfSxcbiAgZGVjb2RlOiBhc3luYyh0b2tlbikgPT57XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHtfaWR9PSBhd2FpdCBqd3QudmVyaWZ5KHRva2VuLCAnYWRjZWUnKTtcbiAgICAgIGNvbnN0IHVzZXIgPSBtb2RlbHMuVXNlci5maW5kT25lKHtfaWQ6IF9pZCxzdGF0ZTogMX0pO1xuICAgICAgaWYodXNlcil7XG4gICAgICAgIHJldHVybiB1c2VyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsYUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQWdDLFNBQUFELHVCQUFBRyxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FHakI7RUFDYkcsTUFBTSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBQ0MsR0FBRyxFQUFDQyxLQUFLLEtBQUk7SUFDN0IsTUFBTUMsS0FBSyxHQUFHQyxxQkFBRyxDQUFDQyxJQUFJLENBQUM7TUFBQ0wsR0FBRyxFQUFDQSxHQUFHO01BQUNDLEdBQUcsRUFBRUEsR0FBRztNQUFDQyxLQUFLLEVBQUVBO0lBQUssQ0FBQyxFQUFFLE9BQU8sRUFBRTtNQUFDSSxTQUFTLEVBQUU7SUFBSSxDQUFDLENBQUM7SUFDbkYsT0FBT0gsS0FBSztFQUNkLENBQUM7RUFDREksTUFBTSxFQUFFLE1BQU1KLEtBQUssSUFBSTtJQUNyQixJQUFJO01BQ0YsTUFBTTtRQUFDSDtNQUFHLENBQUMsR0FBRSxNQUFNSSxxQkFBRyxDQUFDSSxNQUFNLENBQUNMLEtBQUssRUFBRSxPQUFPLENBQUM7TUFDN0MsTUFBTU0sSUFBSSxHQUFHQyxlQUFNLENBQUNDLElBQUksQ0FBQ0MsT0FBTyxDQUFDO1FBQUNaLEdBQUcsRUFBRUEsR0FBRztRQUFDYSxLQUFLLEVBQUU7TUFBQyxDQUFDLENBQUM7TUFDckQsSUFBR0osSUFBSSxFQUFDO1FBQ04sT0FBT0EsSUFBSTtNQUNiO01BQ0EsT0FBTyxLQUFLO0lBQ2QsQ0FBQyxDQUFDLE9BQU9LLEtBQUssRUFBRTtNQUNaQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsS0FBSyxDQUFDO01BQ2xCLE9BQU8sS0FBSztJQUNoQjtFQUNGO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_models","e","__esModule","default","_default","exports","encode","_id","rol","email","token","jwt","sign","expiresIn","decode","verify","user","models","User","findOne","state","error","console","log"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/services/","sources":["token.js"],"sourcesContent":["import jwt from \"jsonwebtoken\"\nimport models  from \"../models\";\n\n\nexport default {\n  encode: async(_id,rol,email) =>{\n    const token = jwt.sign({_id:_id,rol: rol,email: email}, 'adcee', {expiresIn: '1d'});\n    return token;\n  },\n  decode: async(token) =>{\n    try {\n      const {_id}= await jwt.verify(token, 'adcee');\n      const user = models.User.findOne({_id: _id,state: 1});\n      if(user){\n        return user;\n      }\n      return false;\n    } catch (error) {\n        console.log(error);\n        return false;\n    }\n  }\n}"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAGjB;EACbG,MAAM,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,EAACC,KAAK,KAAI;IAC7B,MAAMC,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAAC;MAACL,GAAG,EAACA,GAAG;MAACC,GAAG,EAAEA,GAAG;MAACC,KAAK,EAAEA;IAAK,CAAC,EAAE,OAAO,EAAE;MAACI,SAAS,EAAE;IAAI,CAAC,CAAC;IACnF,OAAOH,KAAK;EACd,CAAC;EACDI,MAAM,EAAE,MAAMJ,KAAK,IAAI;IACrB,IAAI;MACF,MAAM;QAACH;MAAG,CAAC,GAAE,MAAMI,qBAAG,CAACI,MAAM,CAACL,KAAK,EAAE,OAAO,CAAC;MAC7C,MAAMM,IAAI,GAAGC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACZ,GAAG,EAAEA,GAAG;QAACa,KAAK,EAAE;MAAC,CAAC,CAAC;MACrD,IAAGJ,IAAI,EAAC;QACN,OAAOA,IAAI;MACb;MACA,OAAO,KAAK;IACd,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClB,OAAO,KAAK;IAChB;EACF;AACF,CAAC","ignoreList":[]}},"mtime":1736654558327},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categorie: _Categorie.default,\n  Product: _Product.default,\n  Slider: _Slider.default,\n  Cart: _Cart.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfQ2F0ZWdvcmllIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfVXNlciIsIl9Qcm9kdWN0IiwiX1NsaWRlciIsIl9DYXJ0IiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiVXNlciIsIkNhdGVnb3JpZSIsIlByb2R1Y3QiLCJTbGlkZXIiLCJDYXJ0Il0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3Jlc291cnNlcy8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDYXRlZ29yaWUgZnJvbSAnLi9DYXRlZ29yaWUnXG5pbXBvcnQgVXNlciBmcm9tICcuL1VzZXInXG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuL1Byb2R1Y3QnXG5pbXBvcnQgU2xpZGVyIGZyb20gJy4vU2xpZGVyJ1xuaW1wb3J0IENhcnQgZnJvbSAnLi9DYXJ0J1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIFVzZXIsXG4gIENhdGVnb3JpZSxcbiAgUHJvZHVjdCxcbiAgU2xpZGVyLFxuICBDYXJ0LFxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsVUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsUUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsT0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksS0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQXlCLFNBQUFELHVCQUFBTSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFVjtFQUNiRyxJQUFJLEVBQUpBLGFBQUk7RUFDSkMsU0FBUyxFQUFUQSxrQkFBUztFQUNUQyxPQUFPLEVBQVBBLGdCQUFPO0VBQ1BDLE1BQU0sRUFBTkEsZUFBTTtFQUNOQyxJQUFJLEVBQUpBO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_Categorie","_interopRequireDefault","require","_User","_Product","_Slider","_Cart","e","__esModule","default","_default","exports","User","Categorie","Product","Slider","Cart"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["index.js"],"sourcesContent":["import Categorie from './Categorie'\nimport User from './User'\nimport Product from './Product'\nimport Slider from './Slider'\nimport Cart from './Cart'\n\nexport default {\n  User,\n  Categorie,\n  Product,\n  Slider,\n  Cart,\n}"],"mappings":";;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,OAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,KAAA,GAAAL,sBAAA,CAAAC,OAAA;AAAyB,SAAAD,uBAAAM,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEV;EACbG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,MAAM,EAANA,eAAM;EACNC,IAAI,EAAJA;AACF,CAAC","ignoreList":[]}},"mtime":1739206333849},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  categorie_list: categorie => {\n    return {\n      _id: categorie._id,\n      title: categorie.title,\n      imagen: categorie.imagen,\n      imagen_home: process.env.URL_BACKEND + \"/api/categories/uploads/categorie/\" + categorie.imagen,\n      state: categorie.state\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXRlZ29yaWVfbGlzdCIsImNhdGVnb3JpZSIsIl9pZCIsInRpdGxlIiwiaW1hZ2VuIiwiaW1hZ2VuX2hvbWUiLCJwcm9jZXNzIiwiZW52IiwiVVJMX0JBQ0tFTkQiLCJzdGF0ZSJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yZXNvdXJzZXMvIiwic291cmNlcyI6WyJDYXRlZ29yaWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHR7XG4gIGNhdGVnb3JpZV9saXN0OiAoY2F0ZWdvcmllKSA9PiB7XG4gICAgcmV0dXJue1xuICAgICAgX2lkOiBjYXRlZ29yaWUuX2lkLFxuICAgICAgdGl0bGU6IGNhdGVnb3JpZS50aXRsZSxcbiAgICAgIGltYWdlbjogY2F0ZWdvcmllLmltYWdlbixcbiAgICAgIGltYWdlbl9ob21lOiBwcm9jZXNzLmVudi5VUkxfQkFDS0VORCtcIi9hcGkvY2F0ZWdvcmllcy91cGxvYWRzL2NhdGVnb3JpZS9cIitjYXRlZ29yaWUuaW1hZ2VuLFxuICAgICAgc3RhdGU6IGNhdGVnb3JpZS5zdGF0ZSxcbiAgICB9XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztpQ0FBYztFQUNaQSxjQUFjLEVBQUdDLFNBQVMsSUFBSztJQUM3QixPQUFNO01BQ0pDLEdBQUcsRUFBRUQsU0FBUyxDQUFDQyxHQUFHO01BQ2xCQyxLQUFLLEVBQUVGLFNBQVMsQ0FBQ0UsS0FBSztNQUN0QkMsTUFBTSxFQUFFSCxTQUFTLENBQUNHLE1BQU07TUFDeEJDLFdBQVcsRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFdBQVcsR0FBQyxvQ0FBb0MsR0FBQ1AsU0FBUyxDQUFDRyxNQUFNO01BQzFGSyxLQUFLLEVBQUVSLFNBQVMsQ0FBQ1E7SUFDbkIsQ0FBQztFQUNIO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["categorie_list","categorie","_id","title","imagen","imagen_home","process","env","URL_BACKEND","state"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["Categorie.js"],"sourcesContent":["export default{\n  categorie_list: (categorie) => {\n    return{\n      _id: categorie._id,\n      title: categorie.title,\n      imagen: categorie.imagen,\n      imagen_home: process.env.URL_BACKEND+\"/api/categories/uploads/categorie/\"+categorie.imagen,\n      state: categorie.state,\n    }\n  }\n}"],"mappings":";;;;;;iCAAc;EACZA,cAAc,EAAGC,SAAS,IAAK;IAC7B,OAAM;MACJC,GAAG,EAAED,SAAS,CAACC,GAAG;MAClBC,KAAK,EAAEF,SAAS,CAACE,KAAK;MACtBC,MAAM,EAAEH,SAAS,CAACG,MAAM;MACxBC,WAAW,EAAEC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,oCAAoC,GAACP,SAAS,CAACG,MAAM;MAC1FK,KAAK,EAAER,SAAS,CAACQ;IACnB,CAAC;EACH;AACF,CAAC","ignoreList":[]}},"mtime":1741488417710},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  user_list: user => {\n    return {\n      _id: user._id,\n      name: user.name,\n      surname: user.surname,\n      rol: user.rol,\n      email: user.email\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyX2xpc3QiLCJ1c2VyIiwiX2lkIiwibmFtZSIsInN1cm5hbWUiLCJyb2wiLCJlbWFpbCJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yZXNvdXJzZXMvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0e1xuICB1c2VyX2xpc3Q6ICh1c2VyKSA9PiB7XG4gICAgcmV0dXJue1xuICAgICAgX2lkOiB1c2VyLl9pZCxcbiAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgIHN1cm5hbWU6IHVzZXIuc3VybmFtZSxcbiAgICAgIHJvbDogdXNlci5yb2wsXG4gICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICB9XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztpQ0FBYztFQUNaQSxTQUFTLEVBQUdDLElBQUksSUFBSztJQUNuQixPQUFNO01BQ0pDLEdBQUcsRUFBRUQsSUFBSSxDQUFDQyxHQUFHO01BQ2JDLElBQUksRUFBRUYsSUFBSSxDQUFDRSxJQUFJO01BQ2ZDLE9BQU8sRUFBRUgsSUFBSSxDQUFDRyxPQUFPO01BQ3JCQyxHQUFHLEVBQUVKLElBQUksQ0FBQ0ksR0FBRztNQUNiQyxLQUFLLEVBQUVMLElBQUksQ0FBQ0s7SUFDZCxDQUFDO0VBQ0g7QUFDRixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["user_list","user","_id","name","surname","rol","email"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["User.js"],"sourcesContent":["export default{\n  user_list: (user) => {\n    return{\n      _id: user._id,\n      name: user.name,\n      surname: user.surname,\n      rol: user.rol,\n      email: user.email,\n    }\n  }\n}"],"mappings":";;;;;;iCAAc;EACZA,SAAS,EAAGC,IAAI,IAAK;IACnB,OAAM;MACJC,GAAG,EAAED,IAAI,CAACC,GAAG;MACbC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAEH,IAAI,CAACG,OAAO;MACrBC,GAAG,EAAEJ,IAAI,CAACI,GAAG;MACbC,KAAK,EAAEL,IAAI,CAACK;IACd,CAAC;EACH;AACF,CAAC","ignoreList":[]}},"mtime":1736915212073},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  product_list: (product, variedades = [], avg_review = 0, count_review = 0, CampaignDiscount = null) => {\n    var IMAGEN_TWO = \"\";\n    let GALERIAS = [];\n    if (product.galerias && product.galerias.length > 0) {\n      //NUEVO POR AGREGAR\n\n      GALERIAS = product.galerias.map(galeria => {\n        galeria.imagen = process.env.URL_BACKEND + '/api/products/uploads/product/' + galeria.imagen;\n        return galeria;\n      });\n      var VAL = Math.floor(Math.random() * product.galerias.length); //0,1,2\n      IMAGEN_TWO = GALERIAS[VAL].imagen;\n    } //NUEVO POR AGREGAR\n\n    return {\n      _id: product._id,\n      title: product.title,\n      imagen: process.env.URL_BACKEND + \"/api/products/uploads/product/\" + product.portada,\n      state: product.state,\n      slug: product.slug,\n      sku: product.sku,\n      categorie: product.categorie,\n      price_bs: product.price_bs,\n      price_usd: product.price_usd,\n      stock: product.stock,\n      description: product.description,\n      resumen: product.resumen,\n      tags: product.tags ? JSON.parse(product.tags) : [],\n      type_inventario: product.type_inventario,\n      condition: product.condition,\n      variedades: variedades,\n      imagen_two: IMAGEN_TWO,\n      galerias: GALERIAS,\n      avg_review: avg_review,\n      count_review: count_review,\n      campaign_discount: CampaignDiscount\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0X2xpc3QiLCJwcm9kdWN0IiwidmFyaWVkYWRlcyIsImF2Z19yZXZpZXciLCJjb3VudF9yZXZpZXciLCJDYW1wYWlnbkRpc2NvdW50IiwiSU1BR0VOX1RXTyIsIkdBTEVSSUFTIiwiZ2FsZXJpYXMiLCJsZW5ndGgiLCJtYXAiLCJnYWxlcmlhIiwiaW1hZ2VuIiwicHJvY2VzcyIsImVudiIsIlVSTF9CQUNLRU5EIiwiVkFMIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiX2lkIiwidGl0bGUiLCJwb3J0YWRhIiwic3RhdGUiLCJzbHVnIiwic2t1IiwiY2F0ZWdvcmllIiwicHJpY2VfYnMiLCJwcmljZV91c2QiLCJzdG9jayIsImRlc2NyaXB0aW9uIiwicmVzdW1lbiIsInRhZ3MiLCJKU09OIiwicGFyc2UiLCJ0eXBlX2ludmVudGFyaW8iLCJjb25kaXRpb24iLCJpbWFnZW5fdHdvIiwiY2FtcGFpZ25fZGlzY291bnQiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvcmVzb3Vyc2VzLyIsInNvdXJjZXMiOlsiUHJvZHVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdHtcbiAgcHJvZHVjdF9saXN0OiAocHJvZHVjdCwgdmFyaWVkYWRlcyA9IFtdLCBhdmdfcmV2aWV3ID0gMCwgY291bnRfcmV2aWV3ID0gMCwgQ2FtcGFpZ25EaXNjb3VudCA9IG51bGwpID0+IHtcbiAgICB2YXIgSU1BR0VOX1RXTyA9IFwiXCI7XG4gICAgbGV0IEdBTEVSSUFTID0gW107XG4gICAgICBpZihwcm9kdWN0LmdhbGVyaWFzICYmIHByb2R1Y3QuZ2FsZXJpYXMubGVuZ3RoID4gMCl7Ly9OVUVWTyBQT1IgQUdSRUdBUlxuXG4gICAgICAgIEdBTEVSSUFTID0gcHJvZHVjdC5nYWxlcmlhcy5tYXAoKGdhbGVyaWEpID0+IHtcbiAgICAgICAgICBnYWxlcmlhLmltYWdlbiA9IHByb2Nlc3MuZW52LlVSTF9CQUNLRU5EKycvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC8nK2dhbGVyaWEuaW1hZ2VuO1xuICAgICAgICAgICAgICAgICByZXR1cm4gZ2FsZXJpYTtcbiAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICB2YXIgVkFMID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcHJvZHVjdC5nYWxlcmlhcy5sZW5ndGgpOy8vMCwxLDJcbiAgICAgICAgICAgICBJTUFHRU5fVFdPID0gR0FMRVJJQVNbVkFMXS5pbWFnZW47XG4gICAgICAgfS8vTlVFVk8gUE9SIEFHUkVHQVJcblxuICAgIHJldHVybntcbiAgICAgIF9pZDogcHJvZHVjdC5faWQsXG4gICAgICB0aXRsZTogcHJvZHVjdC50aXRsZSxcbiAgICAgIGltYWdlbjpwcm9jZXNzLmVudi5VUkxfQkFDS0VORCtcIi9hcGkvcHJvZHVjdHMvdXBsb2Fkcy9wcm9kdWN0L1wiK3Byb2R1Y3QucG9ydGFkYSwgXG4gICAgICBzdGF0ZTogcHJvZHVjdC5zdGF0ZSxcbiAgICAgIHNsdWc6IHByb2R1Y3Quc2x1ZyxcbiAgICAgIHNrdTogcHJvZHVjdC5za3UsXG4gICAgICBjYXRlZ29yaWU6cHJvZHVjdC5jYXRlZ29yaWUsXG4gICAgICBwcmljZV9iczpwcm9kdWN0LnByaWNlX2JzLFxuICAgICAgcHJpY2VfdXNkOnByb2R1Y3QucHJpY2VfdXNkLFxuICAgICAgc3RvY2s6cHJvZHVjdC5zdG9jayxcbiAgICAgIGRlc2NyaXB0aW9uOiBwcm9kdWN0LmRlc2NyaXB0aW9uLFxuICAgICAgcmVzdW1lbjpwcm9kdWN0LnJlc3VtZW4sXG4gICAgICB0YWdzOnByb2R1Y3QudGFncz8gSlNPTi5wYXJzZShwcm9kdWN0LnRhZ3MpIDogW10sXG4gICAgICB0eXBlX2ludmVudGFyaW86cHJvZHVjdC50eXBlX2ludmVudGFyaW8sXG4gICAgICBjb25kaXRpb246cHJvZHVjdC5jb25kaXRpb24sXG4gICAgICB2YXJpZWRhZGVzOiB2YXJpZWRhZGVzLFxuICAgICAgaW1hZ2VuX3R3bzogSU1BR0VOX1RXTywgXG4gICAgICBnYWxlcmlhczogR0FMRVJJQVMsXG4gICAgICBhdmdfcmV2aWV3OiBhdmdfcmV2aWV3LFxuICAgICAgY291bnRfcmV2aWV3OiBjb3VudF9yZXZpZXcsXG4gICAgICBjYW1wYWlnbl9kaXNjb3VudDogQ2FtcGFpZ25EaXNjb3VudCxcbiAgICB9XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFjO0VBQ1pBLFlBQVksRUFBRUEsQ0FBQ0MsT0FBTyxFQUFFQyxVQUFVLEdBQUcsRUFBRSxFQUFFQyxVQUFVLEdBQUcsQ0FBQyxFQUFFQyxZQUFZLEdBQUcsQ0FBQyxFQUFFQyxnQkFBZ0IsR0FBRyxJQUFJLEtBQUs7SUFDckcsSUFBSUMsVUFBVSxHQUFHLEVBQUU7SUFDbkIsSUFBSUMsUUFBUSxHQUFHLEVBQUU7SUFDZixJQUFHTixPQUFPLENBQUNPLFFBQVEsSUFBSVAsT0FBTyxDQUFDTyxRQUFRLENBQUNDLE1BQU0sR0FBRyxDQUFDLEVBQUM7TUFBQzs7TUFFbERGLFFBQVEsR0FBR04sT0FBTyxDQUFDTyxRQUFRLENBQUNFLEdBQUcsQ0FBRUMsT0FBTyxJQUFLO1FBQzNDQSxPQUFPLENBQUNDLE1BQU0sR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFdBQVcsR0FBQyxnQ0FBZ0MsR0FBQ0osT0FBTyxDQUFDQyxNQUFNO1FBQ2pGLE9BQU9ELE9BQU87TUFDbEIsQ0FBQyxDQUFDO01BQ0YsSUFBSUssR0FBRyxHQUFHQyxJQUFJLENBQUNDLEtBQUssQ0FBQ0QsSUFBSSxDQUFDRSxNQUFNLENBQUMsQ0FBQyxHQUFHbEIsT0FBTyxDQUFDTyxRQUFRLENBQUNDLE1BQU0sQ0FBQyxDQUFDO01BQzlESCxVQUFVLEdBQUdDLFFBQVEsQ0FBQ1MsR0FBRyxDQUFDLENBQUNKLE1BQU07SUFDdkMsQ0FBQzs7SUFFSixPQUFNO01BQ0pRLEdBQUcsRUFBRW5CLE9BQU8sQ0FBQ21CLEdBQUc7TUFDaEJDLEtBQUssRUFBRXBCLE9BQU8sQ0FBQ29CLEtBQUs7TUFDcEJULE1BQU0sRUFBQ0MsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFdBQVcsR0FBQyxnQ0FBZ0MsR0FBQ2QsT0FBTyxDQUFDcUIsT0FBTztNQUMvRUMsS0FBSyxFQUFFdEIsT0FBTyxDQUFDc0IsS0FBSztNQUNwQkMsSUFBSSxFQUFFdkIsT0FBTyxDQUFDdUIsSUFBSTtNQUNsQkMsR0FBRyxFQUFFeEIsT0FBTyxDQUFDd0IsR0FBRztNQUNoQkMsU0FBUyxFQUFDekIsT0FBTyxDQUFDeUIsU0FBUztNQUMzQkMsUUFBUSxFQUFDMUIsT0FBTyxDQUFDMEIsUUFBUTtNQUN6QkMsU0FBUyxFQUFDM0IsT0FBTyxDQUFDMkIsU0FBUztNQUMzQkMsS0FBSyxFQUFDNUIsT0FBTyxDQUFDNEIsS0FBSztNQUNuQkMsV0FBVyxFQUFFN0IsT0FBTyxDQUFDNkIsV0FBVztNQUNoQ0MsT0FBTyxFQUFDOUIsT0FBTyxDQUFDOEIsT0FBTztNQUN2QkMsSUFBSSxFQUFDL0IsT0FBTyxDQUFDK0IsSUFBSSxHQUFFQyxJQUFJLENBQUNDLEtBQUssQ0FBQ2pDLE9BQU8sQ0FBQytCLElBQUksQ0FBQyxHQUFHLEVBQUU7TUFDaERHLGVBQWUsRUFBQ2xDLE9BQU8sQ0FBQ2tDLGVBQWU7TUFDdkNDLFNBQVMsRUFBQ25DLE9BQU8sQ0FBQ21DLFNBQVM7TUFDM0JsQyxVQUFVLEVBQUVBLFVBQVU7TUFDdEJtQyxVQUFVLEVBQUUvQixVQUFVO01BQ3RCRSxRQUFRLEVBQUVELFFBQVE7TUFDbEJKLFVBQVUsRUFBRUEsVUFBVTtNQUN0QkMsWUFBWSxFQUFFQSxZQUFZO01BQzFCa0MsaUJBQWlCLEVBQUVqQztJQUNyQixDQUFDO0VBQ0g7QUFDRixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["product_list","product","variedades","avg_review","count_review","CampaignDiscount","IMAGEN_TWO","GALERIAS","galerias","length","map","galeria","imagen","process","env","URL_BACKEND","VAL","Math","floor","random","_id","title","portada","state","slug","sku","categorie","price_bs","price_usd","stock","description","resumen","tags","JSON","parse","type_inventario","condition","imagen_two","campaign_discount"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["Product.js"],"sourcesContent":["export default{\n  product_list: (product, variedades = [], avg_review = 0, count_review = 0, CampaignDiscount = null) => {\n    var IMAGEN_TWO = \"\";\n    let GALERIAS = [];\n      if(product.galerias && product.galerias.length > 0){//NUEVO POR AGREGAR\n\n        GALERIAS = product.galerias.map((galeria) => {\n          galeria.imagen = process.env.URL_BACKEND+'/api/products/uploads/product/'+galeria.imagen;\n                 return galeria;\n             });\n             var VAL = Math.floor(Math.random() * product.galerias.length);//0,1,2\n             IMAGEN_TWO = GALERIAS[VAL].imagen;\n       }//NUEVO POR AGREGAR\n\n    return{\n      _id: product._id,\n      title: product.title,\n      imagen:process.env.URL_BACKEND+\"/api/products/uploads/product/\"+product.portada, \n      state: product.state,\n      slug: product.slug,\n      sku: product.sku,\n      categorie:product.categorie,\n      price_bs:product.price_bs,\n      price_usd:product.price_usd,\n      stock:product.stock,\n      description: product.description,\n      resumen:product.resumen,\n      tags:product.tags? JSON.parse(product.tags) : [],\n      type_inventario:product.type_inventario,\n      condition:product.condition,\n      variedades: variedades,\n      imagen_two: IMAGEN_TWO, \n      galerias: GALERIAS,\n      avg_review: avg_review,\n      count_review: count_review,\n      campaign_discount: CampaignDiscount,\n    }\n  }\n}\n"],"mappings":";;;;;;iCAAc;EACZA,YAAY,EAAEA,CAACC,OAAO,EAAEC,UAAU,GAAG,EAAE,EAAEC,UAAU,GAAG,CAAC,EAAEC,YAAY,GAAG,CAAC,EAAEC,gBAAgB,GAAG,IAAI,KAAK;IACrG,IAAIC,UAAU,GAAG,EAAE;IACnB,IAAIC,QAAQ,GAAG,EAAE;IACf,IAAGN,OAAO,CAACO,QAAQ,IAAIP,OAAO,CAACO,QAAQ,CAACC,MAAM,GAAG,CAAC,EAAC;MAAC;;MAElDF,QAAQ,GAAGN,OAAO,CAACO,QAAQ,CAACE,GAAG,CAAEC,OAAO,IAAK;QAC3CA,OAAO,CAACC,MAAM,GAAGC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,gCAAgC,GAACJ,OAAO,CAACC,MAAM;QACjF,OAAOD,OAAO;MAClB,CAAC,CAAC;MACF,IAAIK,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGlB,OAAO,CAACO,QAAQ,CAACC,MAAM,CAAC,CAAC;MAC9DH,UAAU,GAAGC,QAAQ,CAACS,GAAG,CAAC,CAACJ,MAAM;IACvC,CAAC;;IAEJ,OAAM;MACJQ,GAAG,EAAEnB,OAAO,CAACmB,GAAG;MAChBC,KAAK,EAAEpB,OAAO,CAACoB,KAAK;MACpBT,MAAM,EAACC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,gCAAgC,GAACd,OAAO,CAACqB,OAAO;MAC/EC,KAAK,EAAEtB,OAAO,CAACsB,KAAK;MACpBC,IAAI,EAAEvB,OAAO,CAACuB,IAAI;MAClBC,GAAG,EAAExB,OAAO,CAACwB,GAAG;MAChBC,SAAS,EAACzB,OAAO,CAACyB,SAAS;MAC3BC,QAAQ,EAAC1B,OAAO,CAAC0B,QAAQ;MACzBC,SAAS,EAAC3B,OAAO,CAAC2B,SAAS;MAC3BC,KAAK,EAAC5B,OAAO,CAAC4B,KAAK;MACnBC,WAAW,EAAE7B,OAAO,CAAC6B,WAAW;MAChCC,OAAO,EAAC9B,OAAO,CAAC8B,OAAO;MACvBC,IAAI,EAAC/B,OAAO,CAAC+B,IAAI,GAAEC,IAAI,CAACC,KAAK,CAACjC,OAAO,CAAC+B,IAAI,CAAC,GAAG,EAAE;MAChDG,eAAe,EAAClC,OAAO,CAACkC,eAAe;MACvCC,SAAS,EAACnC,OAAO,CAACmC,SAAS;MAC3BlC,UAAU,EAAEA,UAAU;MACtBmC,UAAU,EAAE/B,UAAU;MACtBE,QAAQ,EAAED,QAAQ;MAClBJ,UAAU,EAAEA,UAAU;MACtBC,YAAY,EAAEA,YAAY;MAC1BkC,iBAAiB,EAAEjC;IACrB,CAAC;EACH;AACF,CAAC","ignoreList":[]}},"mtime":1741486223855},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  slider_list: slider => {\n    return {\n      _id: slider._id,\n      title: slider.title,\n      link: slider.link,\n      imagen: slider.imagen,\n      imagen_home: process.env.URL_BACKEND + \"/api/sliders/uploads/slider/\" + slider.imagen,\n      state: slider.state\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzbGlkZXJfbGlzdCIsInNsaWRlciIsIl9pZCIsInRpdGxlIiwibGluayIsImltYWdlbiIsImltYWdlbl9ob21lIiwicHJvY2VzcyIsImVudiIsIlVSTF9CQUNLRU5EIiwic3RhdGUiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvcmVzb3Vyc2VzLyIsInNvdXJjZXMiOlsiU2xpZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0e1xuICBzbGlkZXJfbGlzdDogKHNsaWRlcikgPT4ge1xuICAgIHJldHVybntcbiAgICAgIF9pZDogc2xpZGVyLl9pZCxcbiAgICAgIHRpdGxlOiBzbGlkZXIudGl0bGUsXG4gICAgICBsaW5rOiBzbGlkZXIubGluayxcbiAgICAgIGltYWdlbjogc2xpZGVyLmltYWdlbixcbiAgICAgIGltYWdlbl9ob21lOiBwcm9jZXNzLmVudi5VUkxfQkFDS0VORCtcIi9hcGkvc2xpZGVycy91cGxvYWRzL3NsaWRlci9cIitzbGlkZXIuaW1hZ2VuLFxuICAgICAgc3RhdGU6IHNsaWRlci5zdGF0ZSxcbiAgICB9XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztpQ0FBYztFQUNaQSxXQUFXLEVBQUdDLE1BQU0sSUFBSztJQUN2QixPQUFNO01BQ0pDLEdBQUcsRUFBRUQsTUFBTSxDQUFDQyxHQUFHO01BQ2ZDLEtBQUssRUFBRUYsTUFBTSxDQUFDRSxLQUFLO01BQ25CQyxJQUFJLEVBQUVILE1BQU0sQ0FBQ0csSUFBSTtNQUNqQkMsTUFBTSxFQUFFSixNQUFNLENBQUNJLE1BQU07TUFDckJDLFdBQVcsRUFBRUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFdBQVcsR0FBQyw4QkFBOEIsR0FBQ1IsTUFBTSxDQUFDSSxNQUFNO01BQ2pGSyxLQUFLLEVBQUVULE1BQU0sQ0FBQ1M7SUFDaEIsQ0FBQztFQUNIO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["slider_list","slider","_id","title","link","imagen","imagen_home","process","env","URL_BACKEND","state"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["Slider.js"],"sourcesContent":["export default{\n  slider_list: (slider) => {\n    return{\n      _id: slider._id,\n      title: slider.title,\n      link: slider.link,\n      imagen: slider.imagen,\n      imagen_home: process.env.URL_BACKEND+\"/api/sliders/uploads/slider/\"+slider.imagen,\n      state: slider.state,\n    }\n  }\n}"],"mappings":";;;;;;iCAAc;EACZA,WAAW,EAAGC,MAAM,IAAK;IACvB,OAAM;MACJC,GAAG,EAAED,MAAM,CAACC,GAAG;MACfC,KAAK,EAAEF,MAAM,CAACE,KAAK;MACnBC,IAAI,EAAEH,MAAM,CAACG,IAAI;MACjBC,MAAM,EAAEJ,MAAM,CAACI,MAAM;MACrBC,WAAW,EAAEC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,8BAA8B,GAACR,MAAM,CAACI,MAAM;MACjFK,KAAK,EAAET,MAAM,CAACS;IAChB,CAAC;EACH;AACF,CAAC","ignoreList":[]}},"mtime":1741488434433},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  cart_list: cart => {\n    return {\n      _id: cart._id,\n      user: cart.user,\n      product: {\n        _id: cart.product._id,\n        title: cart.product.title,\n        imagen: process.env.URL_BACKEND + \"/api/products/uploads/product/\" + cart.product.portada,\n        state: cart.product.state,\n        slug: cart.product.slug,\n        sku: cart.product.sku,\n        categorie: cart.product.categorie,\n        price_bs: cart.product.price_bs,\n        price_usd: cart.product.price_usd,\n        condition: cart.product.condition\n      },\n      type_discount: cart.type_discount,\n      discount: cart.discount,\n      cantidad: cart.cantidad,\n      variedad: cart.variedad,\n      code_cupon: cart.code_cupon,\n      code_discount: cart.code_discount,\n      price_unit: cart.price_unit,\n      subtotal: cart.subtotal,\n      total: cart.total\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXJ0X2xpc3QiLCJjYXJ0IiwiX2lkIiwidXNlciIsInByb2R1Y3QiLCJ0aXRsZSIsImltYWdlbiIsInByb2Nlc3MiLCJlbnYiLCJVUkxfQkFDS0VORCIsInBvcnRhZGEiLCJzdGF0ZSIsInNsdWciLCJza3UiLCJjYXRlZ29yaWUiLCJwcmljZV9icyIsInByaWNlX3VzZCIsImNvbmRpdGlvbiIsInR5cGVfZGlzY291bnQiLCJkaXNjb3VudCIsImNhbnRpZGFkIiwidmFyaWVkYWQiLCJjb2RlX2N1cG9uIiwiY29kZV9kaXNjb3VudCIsInByaWNlX3VuaXQiLCJzdWJ0b3RhbCIsInRvdGFsIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3Jlc291cnNlcy8iLCJzb3VyY2VzIjpbIkNhcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHR7XG4gIGNhcnRfbGlzdDogKGNhcnQpID0+IHtcbiAgICByZXR1cm57XG4gICAgICBfaWQ6Y2FydC5faWQsXG4gICAgICB1c2VyOiBjYXJ0LnVzZXIsXG4gICAgICBwcm9kdWN0OntcbiAgICAgICAgX2lkOiBjYXJ0LnByb2R1Y3QuX2lkLFxuICAgICAgICB0aXRsZTogY2FydC5wcm9kdWN0LnRpdGxlLFxuICAgICAgICBpbWFnZW46cHJvY2Vzcy5lbnYuVVJMX0JBQ0tFTkQrXCIvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC9cIitjYXJ0LnByb2R1Y3QucG9ydGFkYSwgXG4gICAgICAgIHN0YXRlOiBjYXJ0LnByb2R1Y3Quc3RhdGUsXG4gICAgICAgIHNsdWc6IGNhcnQucHJvZHVjdC5zbHVnLFxuICAgICAgICBza3U6IGNhcnQucHJvZHVjdC5za3UsXG4gICAgICAgIGNhdGVnb3JpZTogY2FydC5wcm9kdWN0LmNhdGVnb3JpZSxcbiAgICAgICAgcHJpY2VfYnM6IGNhcnQucHJvZHVjdC5wcmljZV9icyxcbiAgICAgICAgcHJpY2VfdXNkOiBjYXJ0LnByb2R1Y3QucHJpY2VfdXNkLFxuICAgICAgICBjb25kaXRpb246IGNhcnQucHJvZHVjdC5jb25kaXRpb24sXG4gICAgICB9LFxuICAgICAgdHlwZV9kaXNjb3VudDogY2FydC50eXBlX2Rpc2NvdW50LFxuICAgICAgZGlzY291bnQ6IGNhcnQuZGlzY291bnQsXG4gICAgICBjYW50aWRhZDogY2FydC5jYW50aWRhZCxcbiAgICAgIHZhcmllZGFkOiBjYXJ0LnZhcmllZGFkLFxuICAgICAgY29kZV9jdXBvbjogY2FydC5jb2RlX2N1cG9uLFxuICAgICAgY29kZV9kaXNjb3VudDogY2FydC5jb2RlX2Rpc2NvdW50LFxuICAgICAgcHJpY2VfdW5pdDogY2FydC5wcmljZV91bml0LFxuICAgICAgc3VidG90YWw6IGNhcnQuc3VidG90YWwsXG4gICAgICB0b3RhbDogY2FydC50b3RhbCxcbiAgICAgIFxuICAgIH1cbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7aUNBQWM7RUFDWkEsU0FBUyxFQUFHQyxJQUFJLElBQUs7SUFDbkIsT0FBTTtNQUNKQyxHQUFHLEVBQUNELElBQUksQ0FBQ0MsR0FBRztNQUNaQyxJQUFJLEVBQUVGLElBQUksQ0FBQ0UsSUFBSTtNQUNmQyxPQUFPLEVBQUM7UUFDTkYsR0FBRyxFQUFFRCxJQUFJLENBQUNHLE9BQU8sQ0FBQ0YsR0FBRztRQUNyQkcsS0FBSyxFQUFFSixJQUFJLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSztRQUN6QkMsTUFBTSxFQUFDQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsV0FBVyxHQUFDLGdDQUFnQyxHQUFDUixJQUFJLENBQUNHLE9BQU8sQ0FBQ00sT0FBTztRQUNwRkMsS0FBSyxFQUFFVixJQUFJLENBQUNHLE9BQU8sQ0FBQ08sS0FBSztRQUN6QkMsSUFBSSxFQUFFWCxJQUFJLENBQUNHLE9BQU8sQ0FBQ1EsSUFBSTtRQUN2QkMsR0FBRyxFQUFFWixJQUFJLENBQUNHLE9BQU8sQ0FBQ1MsR0FBRztRQUNyQkMsU0FBUyxFQUFFYixJQUFJLENBQUNHLE9BQU8sQ0FBQ1UsU0FBUztRQUNqQ0MsUUFBUSxFQUFFZCxJQUFJLENBQUNHLE9BQU8sQ0FBQ1csUUFBUTtRQUMvQkMsU0FBUyxFQUFFZixJQUFJLENBQUNHLE9BQU8sQ0FBQ1ksU0FBUztRQUNqQ0MsU0FBUyxFQUFFaEIsSUFBSSxDQUFDRyxPQUFPLENBQUNhO01BQzFCLENBQUM7TUFDREMsYUFBYSxFQUFFakIsSUFBSSxDQUFDaUIsYUFBYTtNQUNqQ0MsUUFBUSxFQUFFbEIsSUFBSSxDQUFDa0IsUUFBUTtNQUN2QkMsUUFBUSxFQUFFbkIsSUFBSSxDQUFDbUIsUUFBUTtNQUN2QkMsUUFBUSxFQUFFcEIsSUFBSSxDQUFDb0IsUUFBUTtNQUN2QkMsVUFBVSxFQUFFckIsSUFBSSxDQUFDcUIsVUFBVTtNQUMzQkMsYUFBYSxFQUFFdEIsSUFBSSxDQUFDc0IsYUFBYTtNQUNqQ0MsVUFBVSxFQUFFdkIsSUFBSSxDQUFDdUIsVUFBVTtNQUMzQkMsUUFBUSxFQUFFeEIsSUFBSSxDQUFDd0IsUUFBUTtNQUN2QkMsS0FBSyxFQUFFekIsSUFBSSxDQUFDeUI7SUFFZCxDQUFDO0VBQ0g7QUFDRixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["cart_list","cart","_id","user","product","title","imagen","process","env","URL_BACKEND","portada","state","slug","sku","categorie","price_bs","price_usd","condition","type_discount","discount","cantidad","variedad","code_cupon","code_discount","price_unit","subtotal","total"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/resourses/","sources":["Cart.js"],"sourcesContent":["export default{\n  cart_list: (cart) => {\n    return{\n      _id:cart._id,\n      user: cart.user,\n      product:{\n        _id: cart.product._id,\n        title: cart.product.title,\n        imagen:process.env.URL_BACKEND+\"/api/products/uploads/product/\"+cart.product.portada, \n        state: cart.product.state,\n        slug: cart.product.slug,\n        sku: cart.product.sku,\n        categorie: cart.product.categorie,\n        price_bs: cart.product.price_bs,\n        price_usd: cart.product.price_usd,\n        condition: cart.product.condition,\n      },\n      type_discount: cart.type_discount,\n      discount: cart.discount,\n      cantidad: cart.cantidad,\n      variedad: cart.variedad,\n      code_cupon: cart.code_cupon,\n      code_discount: cart.code_discount,\n      price_unit: cart.price_unit,\n      subtotal: cart.subtotal,\n      total: cart.total,\n      \n    }\n  }\n}\n"],"mappings":";;;;;;iCAAc;EACZA,SAAS,EAAGC,IAAI,IAAK;IACnB,OAAM;MACJC,GAAG,EAACD,IAAI,CAACC,GAAG;MACZC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAC;QACNF,GAAG,EAAED,IAAI,CAACG,OAAO,CAACF,GAAG;QACrBG,KAAK,EAAEJ,IAAI,CAACG,OAAO,CAACC,KAAK;QACzBC,MAAM,EAACC,OAAO,CAACC,GAAG,CAACC,WAAW,GAAC,gCAAgC,GAACR,IAAI,CAACG,OAAO,CAACM,OAAO;QACpFC,KAAK,EAAEV,IAAI,CAACG,OAAO,CAACO,KAAK;QACzBC,IAAI,EAAEX,IAAI,CAACG,OAAO,CAACQ,IAAI;QACvBC,GAAG,EAAEZ,IAAI,CAACG,OAAO,CAACS,GAAG;QACrBC,SAAS,EAAEb,IAAI,CAACG,OAAO,CAACU,SAAS;QACjCC,QAAQ,EAAEd,IAAI,CAACG,OAAO,CAACW,QAAQ;QAC/BC,SAAS,EAAEf,IAAI,CAACG,OAAO,CAACY,SAAS;QACjCC,SAAS,EAAEhB,IAAI,CAACG,OAAO,CAACa;MAC1B,CAAC;MACDC,aAAa,EAAEjB,IAAI,CAACiB,aAAa;MACjCC,QAAQ,EAAElB,IAAI,CAACkB,QAAQ;MACvBC,QAAQ,EAAEnB,IAAI,CAACmB,QAAQ;MACvBC,QAAQ,EAAEpB,IAAI,CAACoB,QAAQ;MACvBC,UAAU,EAAErB,IAAI,CAACqB,UAAU;MAC3BC,aAAa,EAAEtB,IAAI,CAACsB,aAAa;MACjCC,UAAU,EAAEvB,IAAI,CAACuB,UAAU;MAC3BC,QAAQ,EAAExB,IAAI,CAACwB,QAAQ;MACvBC,KAAK,EAAEzB,IAAI,CAACyB;IAEd,CAAC;EACH;AACF,CAAC","ignoreList":[]}},"mtime":1741488401493},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/middlewares/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/middlewares/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"cliente\" || response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  },\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"admin\" || response.rol == \"emprendedor\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInZlcmlmeUVjb21tZXJjZSIsInJlcSIsInJlcyIsIm5leHQiLCJoZWFkZXJzIiwidG9rZW4iLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsInJlc3BvbnNlIiwiZGVjb2RlIiwicm9sIiwidmVyaWZ5QWRtaW4iXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvbWlkZGxld2FyZXMvIiwic291cmNlcyI6WyJhdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0b2tlbiBmcm9tIFwiLi4vc2VydmljZXMvdG9rZW5cIlxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHZlcmlmeUVjb21tZXJjZTogYXN5bmMocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBpZighcmVxLmhlYWRlcnMudG9rZW4pe1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk5PIFNFIEVOVknDkyBFTCBUT0tFTlwiXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0b2tlbi5kZWNvZGUocmVxLmhlYWRlcnMudG9rZW4pO1xuICAgIGlmKHJlc3BvbnNlKXtcbiAgICAgIGlmKHJlc3BvbnNlLnJvbCA9PSBcImNsaWVudGVcIiB8fCByZXNwb25zZS5yb2wgPT0gXCJhZG1pblwiKXtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfVxuICAgICAgZWxzZXtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiTk8gRVNUQSBQRVJNSVRJRE8gVklTSVRBUiBFU1RBIFJVVEFcIlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9ZWxzZXtcbiAgICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJFTCBUT0tFTiBOTyBFUyBWQUxJRE9cIlxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICB2ZXJpZnlBZG1pbjogYXN5bmMocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBpZighcmVxLmhlYWRlcnMudG9rZW4pe1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk5PIFNFIEVOVknDkyBFTCBUT0tFTlwiXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0b2tlbi5kZWNvZGUocmVxLmhlYWRlcnMudG9rZW4pO1xuICAgIGlmKHJlc3BvbnNlKXtcbiAgICAgIGlmKHJlc3BvbnNlLnJvbCA9PSBcImFkbWluXCIgfHwgcmVzcG9uc2Uucm9sID09IFwiZW1wcmVuZGVkb3JcIil7XG4gICAgICAgIG5leHQoKTtcbiAgICAgIH1cbiAgICAgIGVsc2V7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIk5PIEVTVEEgUEVSTUlUSURPIFZJU0lUQVIgRVNUQSBSVVRBXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfWVsc2V7XG4gICAgICByZXMuc3RhdHVzKDQwMykuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiRUwgVE9LRU4gTk8gRVMgVkFMSURPXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE1BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUFxQyxTQUFBRCx1QkFBQUUsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRXRCO0VBQ2JHLGVBQWUsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0lBQ3hDLElBQUcsQ0FBQ0YsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssRUFBQztNQUNwQkgsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNuQkMsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ0o7SUFDQSxNQUFNQyxRQUFRLEdBQUcsTUFBTUosY0FBSyxDQUFDSyxNQUFNLENBQUNULEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLENBQUM7SUFDdEQsSUFBR0ksUUFBUSxFQUFDO01BQ1YsSUFBR0EsUUFBUSxDQUFDRSxHQUFHLElBQUksU0FBUyxJQUFJRixRQUFRLENBQUNFLEdBQUcsSUFBSSxPQUFPLEVBQUM7UUFDdERSLElBQUksQ0FBQyxDQUFDO01BQ1IsQ0FBQyxNQUNHO1FBQ0ZELEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDbkJDLE9BQU8sRUFBRTtRQUNYLENBQUMsQ0FBQztNQUNKO0lBQ0YsQ0FBQyxNQUFJO01BQ0hOLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDbkJDLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUNKO0VBQ0YsQ0FBQztFQUNESSxXQUFXLEVBQUUsTUFBQUEsQ0FBTVgsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSztJQUNwQyxJQUFHLENBQUNGLEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLEVBQUM7TUFDcEJILEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDbkJDLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUNKO0lBQ0EsTUFBTUMsUUFBUSxHQUFHLE1BQU1KLGNBQUssQ0FBQ0ssTUFBTSxDQUFDVCxHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDO0lBQ3RELElBQUdJLFFBQVEsRUFBQztNQUNWLElBQUdBLFFBQVEsQ0FBQ0UsR0FBRyxJQUFJLE9BQU8sSUFBSUYsUUFBUSxDQUFDRSxHQUFHLElBQUksYUFBYSxFQUFDO1FBQzFEUixJQUFJLENBQUMsQ0FBQztNQUNSLENBQUMsTUFDRztRQUNGRCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQ25CQyxPQUFPLEVBQUU7UUFDWCxDQUFDLENBQUM7TUFDSjtJQUNGLENBQUMsTUFBSTtNQUNITixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ25CQyxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7SUFDSjtFQUNGO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_token","_interopRequireDefault","require","e","__esModule","default","_default","exports","verifyEcommerce","req","res","next","headers","token","status","send","message","response","decode","rol","verifyAdmin"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/middlewares/","sources":["auth.js"],"sourcesContent":["import token from \"../services/token\"\n\nexport default {\n  verifyEcommerce: async(req, res, next) => {\n    if(!req.headers.token){\n      res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await token.decode(req.headers.token);\n    if(response){\n      if(response.rol == \"cliente\" || response.rol == \"admin\"){\n        next();\n      }\n      else{\n        res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    }else{\n      res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  },\n  verifyAdmin: async(req, res, next) => {\n    if(!req.headers.token){\n      res.status(404).send({\n        message: \"NO SE ENVIÓ EL TOKEN\"\n      });\n    }\n    const response = await token.decode(req.headers.token);\n    if(response){\n      if(response.rol == \"admin\" || response.rol == \"emprendedor\"){\n        next();\n      }\n      else{\n        res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    }else{\n      res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  },\n}"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAqC,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEtB;EACbG,eAAe,EAAE,MAAAA,CAAMC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IACxC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MACpBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACV,IAAGA,QAAQ,CAACE,GAAG,IAAI,SAAS,IAAIF,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACtDR,IAAI,CAAC,CAAC;MACR,CAAC,MACG;QACFD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACnBC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;IACF,CAAC,MAAI;MACHN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF,CAAC;EACDI,WAAW,EAAE,MAAAA,CAAMX,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IACpC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MACpBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACV,IAAGA,QAAQ,CAACE,GAAG,IAAI,OAAO,IAAIF,QAAQ,CAACE,GAAG,IAAI,aAAa,EAAC;QAC1DR,IAAI,CAAC,CAAC;MACR,CAAC,MACG;QACFD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACnBC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;IACF,CAAC,MAAI;MACHN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF;AACF,CAAC","ignoreList":[]}},"mtime":1743087840153},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CategorieController = _interopRequireDefault(require(\"../controllers/CategorieController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/categorie'\n});\nconst router = (0, _expressPromiseRouter.default)();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _CategorieController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _CategorieController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CategorieController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CategorieController.default.remove);\nrouter.get(\"/uploads/categorie/:img\", _CategorieController.default.obtener_imagen);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXRlZ29yaWVDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJwYXRoIiwibXVsdGlwYXJ0eSIsInVwbG9hZERpciIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwiY2F0ZWdvcmllQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSIsIm9idGVuZXJfaW1hZ2VuIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbIkNhdGVnb3JpZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiXG5pbXBvcnQgY2F0ZWdvcmllQ29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvQ2F0ZWdvcmllQ29udHJvbGxlclwiXG5pbXBvcnQgYXV0aCBmcm9tIFwiLi4vbWlkZGxld2FyZXMvYXV0aFwiXG5pbXBvcnQgbXVsdGlwYXJ0eSBmcm9tICdjb25uZWN0LW11bHRpcGFydHknO1xuXG5cbnZhciBwYXRoID0gbXVsdGlwYXJ0eSh7dXBsb2FkRGlyOicuL3VwbG9hZHMvY2F0ZWdvcmllJ30pO1xuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG4vLyBwcm9jZXNzLmVudi5VUkxfQkFDS0VORC9hcGkvdXNlcnMvcmVnaXN0ZXJcblxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGhdLCBjYXRlZ29yaWVDb250cm9sbGVyLnJlZ2lzdGVyKTtcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0sY2F0ZWdvcmllQ29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLmdldChcIi9saXN0XCIsYXV0aC52ZXJpZnlBZG1pbixjYXRlZ29yaWVDb250cm9sbGVyLmxpc3QpO1xucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIixhdXRoLnZlcmlmeUFkbWluLGNhdGVnb3JpZUNvbnRyb2xsZXIucmVtb3ZlKTtcblxucm91dGVyLmdldChcIi91cGxvYWRzL2NhdGVnb3JpZS86aW1nXCIsY2F0ZWdvcmllQ29udHJvbGxlci5vYnRlbmVyX2ltYWdlbik7XG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLG9CQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxrQkFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQTRDLFNBQUFELHVCQUFBSyxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBRzVDLElBQUlHLElBQUksR0FBRyxJQUFBQywwQkFBVSxFQUFDO0VBQUNDLFNBQVMsRUFBQztBQUFxQixDQUFDLENBQUM7QUFDeEQsTUFBTUMsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQzs7QUFFeEI7O0FBRUFELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFDLEVBQUVRLDRCQUFtQixDQUFDQyxRQUFRLENBQUM7QUFDaEZOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBQyxDQUFDSixhQUFJLENBQUNDLFdBQVcsRUFBQ1AsSUFBSSxDQUFDLEVBQUNRLDRCQUFtQixDQUFDRyxNQUFNLENBQUM7QUFDeEVSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDRCQUFtQixDQUFDSyxJQUFJLENBQUM7QUFDN0RWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLFNBQVMsRUFBQ1IsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDRCQUFtQixDQUFDTyxNQUFNLENBQUM7QUFFcEVaLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLHlCQUF5QixFQUFDSiw0QkFBbUIsQ0FBQ1EsY0FBYyxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFuQixPQUFBLEdBRzFESSxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CategorieController","_auth","_connectMultiparty","e","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","categorieController","register","put","update","get","list","delete","remove","obtener_imagen","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Categorie.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport categorieController from \"../controllers/CategorieController\"\nimport auth from \"../middlewares/auth\"\nimport multiparty from 'connect-multiparty';\n\n\nvar path = multiparty({uploadDir:'./uploads/categorie'});\nconst router = routerx();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [auth.verifyAdmin, path], categorieController.register);\nrouter.put(\"/update\",[auth.verifyAdmin,path],categorieController.update);\nrouter.get(\"/list\",auth.verifyAdmin,categorieController.list);\nrouter.delete(\"/delete\",auth.verifyAdmin,categorieController.remove);\n\nrouter.get(\"/uploads/categorie/:img\",categorieController.obtener_imagen);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,oBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA4C,SAAAD,uBAAAK,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAG5C,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAC;AAAqB,CAAC,CAAC;AACxD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,4BAAmB,CAACC,QAAQ,CAAC;AAChFN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAC,CAACJ,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,4BAAmB,CAACG,MAAM,CAAC;AACxER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACK,IAAI,CAAC;AAC7DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAACR,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACO,MAAM,CAAC;AAEpEZ,MAAM,CAACS,GAAG,CAAC,yBAAyB,EAACJ,4BAAmB,CAACQ,cAAc,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAnB,OAAA,GAG1DI,MAAM","ignoreList":[]}},"mtime":1741488736458},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/CategorieController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      //console.log(req.files);\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      const categorie = await _models.default.Categorie.create(req.body);\n      res.status(200).json(categorie);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Categorie.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let CategorieT = await _models.default.Categorie.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORÍA SE HA MODIFICADO CORRECTAMENTE\",\n        categorie: _resourses.default.Categorie.categorie_list(CategorieT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Categories = await _models.default.Categorie.find({\n        $or: [{\n          \"title\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Categories = Categories.map(user => {\n        return _resourses.default.Categorie.categorie_list(user);\n      });\n      res.status(200).json({\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/categorie/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/categorie/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Categorie.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"  LA CATEGORÍA SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3Vyc2VzIiwiX2ZzIiwiX3BhdGgiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImZpbGVzIiwiaW1nX3BhdGgiLCJwb3J0YWRhIiwicGF0aCIsIm5hbWUiLCJzcGxpdCIsInBvcnRhZGFfbmFtZSIsImJvZHkiLCJpbWFnZW4iLCJjYXRlZ29yaWUiLCJtb2RlbHMiLCJDYXRlZ29yaWUiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsIkNhdGVnb3JpZVQiLCJmaW5kT25lIiwicmVzb3Vyc2UiLCJjYXRlZ29yaWVfbGlzdCIsImxpc3QiLCJzZWFyY2giLCJxdWVyeSIsIkNhdGVnb3JpZXMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsInVzZXIiLCJjYXRlZ29yaWVzIiwib2J0ZW5lcl9pbWFnZW4iLCJpbWciLCJwYXJhbXMiLCJmcyIsInN0YXQiLCJlcnIiLCJwYXRoX2ltZyIsInNlbmRGaWxlIiwicmVzb2x2ZSIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiQ2F0ZWdvcmllQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcbmltcG9ydCByZXNvdXJzZSBmcm9tICcuLi9yZXNvdXJzZXMnXG5pbXBvcnQgZnMgZnJvbSAnZnMnXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy9jb25zb2xlLmxvZyhyZXEuZmlsZXMpO1xuICAgICAgIGlmKHJlcS5maWxlcyl7XG4gICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMucG9ydGFkYS5wYXRoO1xuICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgICAvL2NvbnNvbGUubG9nKHBvcnRhZGFfbmFtZSlcbiAgICAgICAgIHJlcS5ib2R5LmltYWdlbiA9IHBvcnRhZGFfbmFtZTtcbiAgICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGNhdGVnb3JpZSA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuY3JlYXRlKHJlcS5ib2R5KTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGNhdGVnb3JpZSk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuICB9LFxuICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgIGlmKHJlcS5maWxlcyAmJiByZXEuZmlsZXMucG9ydGFkYSl7XG4gICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMucG9ydGFkYS5wYXRoO1xuICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgICAvL2NvbnNvbGUubG9nKHBvcnRhZGFfbmFtZSlcbiAgICAgICByZXEuYm9keS5pbWFnZW4gPSBwb3J0YWRhX25hbWU7XG4gICAgICAgfVxuXG4gICAgIGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkfSxyZXEuYm9keSk7XG5cbiAgICAgbGV0IENhdGVnb3JpZVQgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmRPbmUoe19pZDogcmVxLmJvZHkuX2lkfSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJMQSBDQVRFR09Sw41BIFNFIEhBIE1PRElGSUNBRE8gQ09SUkVDVEFNRU5URVwiLFxuICAgICAgICBjYXRlZ29yaWU6IHJlc291cnNlLkNhdGVnb3JpZS5jYXRlZ29yaWVfbGlzdChDYXRlZ29yaWVUKSxcbiAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG5cbiAgfSxcbiAgbGlzdDogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICB2YXIgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaDtcbiAgICAgIGxldCBDYXRlZ29yaWVzICA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWUuZmluZCh7XG4gICAgICAgICRvcjpbXG4gICAgICAgICAge1widGl0bGVcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgIF1cbiAgICB9KS5zb3J0KHsnY3JlYXRlZEF0JzotMX0pO1xuXG4gICAgQ2F0ZWdvcmllcyA9IENhdGVnb3JpZXMubWFwKCh1c2VyKSA9PiB7XG4gICAgICByZXR1cm4gcmVzb3Vyc2UuQ2F0ZWdvcmllLmNhdGVnb3JpZV9saXN0KHVzZXIpO1xuICAgIH0pXG5cbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICBjYXRlZ29yaWVzOiBDYXRlZ29yaWVzXG4gICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIFxuICAgIH1cbiAgfSxcbiAgb2J0ZW5lcl9pbWFnZW46IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICB2YXIgaW1nID0gcmVxLnBhcmFtc1snaW1nJ107XG4gICAgICAgIFxuXG4gICAgICAgIGZzLnN0YXQoJy4vdXBsb2Fkcy9jYXRlZ29yaWUvJysgaW1nLCBmdW5jdGlvbihlcnIpe1xuICAgICAgICAgICAgaWYoIWVycil7XG4gICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9jYXRlZ29yaWUvJytpbWc7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9kZWZhdWx0LmpwZyc7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1jYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG4gIH0sXG4gIHJlbW92ZTogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IHJlcS5xdWVyeS5faWR9KTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCIgIExBIENBVEVHT1LDjUEgU0UgRUxJTUlOTyBDT1JSRUNUQU1FTlRFXCIsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cbiAgfSxcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEdBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLEtBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUF1QixTQUFBRCx1QkFBQUssQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBR1I7RUFDYkcsUUFBUSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0lBQzFCLElBQUk7TUFDRjtNQUNDLElBQUdELEdBQUcsQ0FBQ0UsS0FBSyxFQUFDO1FBQ1gsSUFBSUMsUUFBUSxHQUFHSCxHQUFHLENBQUNFLEtBQUssQ0FBQ0UsT0FBTyxDQUFDQyxJQUFJO1FBQ3JDLElBQUlDLElBQUksR0FBR0gsUUFBUSxDQUFDSSxLQUFLLENBQUMsR0FBRyxDQUFDO1FBQzlCLElBQUlDLFlBQVksR0FBR0YsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUMxQjtRQUNBTixHQUFHLENBQUNTLElBQUksQ0FBQ0MsTUFBTSxHQUFHRixZQUFZO01BQ2hDO01BRUQsTUFBTUcs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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resourses","_fs","_path","e","__esModule","default","_default","exports","register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","categorie","models","Categorie","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","CategorieT","findOne","resourse","categorie_list","list","search","query","Categories","find","$or","RegExp","sort","map","user","categories","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","remove","findByIdAndDelete"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["CategorieController.js"],"sourcesContent":["import models from \"../models\";\nimport resourse from '../resourses'\nimport fs from 'fs'\nimport path from 'path'\n\n\nexport default {\n  register: async(req,res) => {\n    try {\n      //console.log(req.files);\n       if(req.files){\n         var img_path = req.files.portada.path;\n         var name = img_path.split('/');\n         var portada_name = name[2];\n         //console.log(portada_name)\n         req.body.imagen = portada_name;\n       }\n      \n      const categorie = await models.Categorie.create(req.body);\n      res.status(200).json(categorie);\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n  update: async(req,res) => {\n    try {\n       if(req.files && req.files.portada){\n         var img_path = req.files.portada.path;\n         var name = img_path.split('/');\n         var portada_name = name[2];\n         //console.log(portada_name)\n       req.body.imagen = portada_name;\n       }\n\n     await models.Categorie.findByIdAndUpdate({_id: req.body._id},req.body);\n\n     let CategorieT = await models.Categorie.findOne({_id: req.body._id});\n\n      res.status(200).json({\n        message: \"LA CATEGORÍA SE HA MODIFICADO CORRECTAMENTE\",\n        categorie: resourse.Categorie.categorie_list(CategorieT),\n      })\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n\n  },\n  list: async(req,res) => {\n    try {\n      var search = req.query.search;\n      let Categories  = await models.Categorie.find({\n        $or:[\n          {\"title\": new RegExp(search, \"i\")},\n        ]\n    }).sort({'createdAt':-1});\n\n    Categories = Categories.map((user) => {\n      return resourse.Categorie.categorie_list(user);\n    })\n\n    res.status(200).json({\n      categories: Categories\n    });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n      \n    }\n  },\n  obtener_imagen: async(req,res) => {\n    try {\n        var img = req.params['img'];\n        \n\n        fs.stat('./uploads/categorie/'+ img, function(err){\n            if(!err){\n                let path_img = './uploads/categorie/'+img;\n                res.status(200).sendFile(path.resolve(path_img));\n            }else{\n                let path_img = './uploads/default.jpg';\n                res.status(200).sendFile(path.resolve(path_img));\n            }\n        })\n    }catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async(req,res) => {\n    try {\n      await models.Categorie.findByIdAndDelete({_id: req.query._id});\n      res.status(200).json({\n        message: \"  LA CATEGORÍA SE ELIMINO CORRECTAMENTE\",\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n}"],"mappings":"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","ignoreList":[]}},"mtime":1737174922357},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _ProductController = _interopRequireDefault(require(\"../controllers/ProductController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nvar _VariedadController = _interopRequireDefault(require(\"../controllers/VariedadController\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/product'\n});\nconst router = (0, _expressPromiseRouter.default)();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _ProductController.default.register);\n\n//IMAGEN PORTADA Y GALERIA\nrouter.post(\"/register_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.register_imagen);\nrouter.post(\"/remove_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.remove_imagen);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _ProductController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _ProductController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _ProductController.default.remove);\nrouter.get(\"/uploads/product/:img\", _ProductController.default.obtener_imagen);\nrouter.get(\"/show/:id\", _ProductController.default.show);\n\n// VARIEDAD\nrouter.post(\"/register-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.register);\nrouter.put(\"/update-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.update);\nrouter.delete(\"/delete-variedad/:id\", [_auth.default.verifyAdmin, path], _VariedadController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Qcm9kdWN0Q29udHJvbGxlciIsIl9hdXRoIiwiX2Nvbm5lY3RNdWx0aXBhcnR5IiwiX1ZhcmllZGFkQ29udHJvbGxlciIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInBhdGgiLCJtdWx0aXBhcnR5IiwidXBsb2FkRGlyIiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJwcm9kdWN0Q29udHJvbGxlciIsInJlZ2lzdGVyIiwicmVnaXN0ZXJfaW1hZ2VuIiwicmVtb3ZlX2ltYWdlbiIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJkZWxldGUiLCJyZW1vdmUiLCJvYnRlbmVyX2ltYWdlbiIsInNob3ciLCJ2YXJpZWRhZENvbnRyb2xsZXIiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2Uvcm91dGVyLyIsInNvdXJjZXMiOlsiUHJvZHVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiXG5pbXBvcnQgcHJvZHVjdENvbnRyb2xsZXIgZnJvbSBcIi4uL2NvbnRyb2xsZXJzL1Byb2R1Y3RDb250cm9sbGVyXCJcbmltcG9ydCBhdXRoIGZyb20gXCIuLi9taWRkbGV3YXJlcy9hdXRoXCJcbmltcG9ydCBtdWx0aXBhcnR5IGZyb20gJ2Nvbm5lY3QtbXVsdGlwYXJ0eSc7XG5pbXBvcnQgdmFyaWVkYWRDb250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9WYXJpZWRhZENvbnRyb2xsZXJcIjtcblxuXG52YXIgcGF0aCA9IG11bHRpcGFydHkoe3VwbG9hZERpcjonLi91cGxvYWRzL3Byb2R1Y3QnfSk7XG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5cbi8vIHByb2Nlc3MuZW52LlVSTF9CQUNLRU5EL2FwaS91c2Vycy9yZWdpc3RlclxuXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLCBbYXV0aC52ZXJpZnlBZG1pbiwgcGF0aF0sIHByb2R1Y3RDb250cm9sbGVyLnJlZ2lzdGVyKTtcblxuXG4vL0lNQUdFTiBQT1JUQURBIFkgR0FMRVJJQVxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJfaW1hZ2VuXCIsIFthdXRoLnZlcmlmeUFkbWluLCBwYXRoXSwgcHJvZHVjdENvbnRyb2xsZXIucmVnaXN0ZXJfaW1hZ2VuKTtcbnJvdXRlci5wb3N0KFwiL3JlbW92ZV9pbWFnZW5cIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGhdLCBwcm9kdWN0Q29udHJvbGxlci5yZW1vdmVfaW1hZ2VuKTtcblxuXG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLFthdXRoLnZlcmlmeUFkbWluLHBhdGhdLHByb2R1Y3RDb250cm9sbGVyLnVwZGF0ZSk7XG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUFkbWluLHByb2R1Y3RDb250cm9sbGVyLmxpc3QpO1xucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIixhdXRoLnZlcmlmeUFkbWluLHByb2R1Y3RDb250cm9sbGVyLnJlbW92ZSk7XG5cbnJvdXRlci5nZXQoXCIvdXBsb2Fkcy9wcm9kdWN0LzppbWdcIixwcm9kdWN0Q29udHJvbGxlci5vYnRlbmVyX2ltYWdlbik7XG5cbnJvdXRlci5nZXQoXCIvc2hvdy86aWRcIixwcm9kdWN0Q29udHJvbGxlci5zaG93KTtcblxuLy8gVkFSSUVEQURcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyLXZhcmllZGFkXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0sdmFyaWVkYWRDb250cm9sbGVyLnJlZ2lzdGVyKTtcbnJvdXRlci5wdXQoXCIvdXBkYXRlLXZhcmllZGFkXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0sdmFyaWVkYWRDb250cm9sbGVyLnVwZGF0ZSk7XG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZS12YXJpZWRhZC86aWRcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSx2YXJpZWRhZENvbnRyb2xsZXIuZGVsZXRlKTtcblxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsa0JBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLGtCQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxtQkFBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQW1FLFNBQUFELHVCQUFBTSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBR25FLElBQUlHLElBQUksR0FBRyxJQUFBQywwQkFBVSxFQUFDO0VBQUNDLFNBQVMsRUFBQztBQUFtQixDQUFDLENBQUM7QUFDdEQsTUFBTUMsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQzs7QUFFeEI7O0FBRUFELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBRVAsSUFBSSxDQUFDLEVBQUVRLDBCQUFpQixDQUFDQyxRQUFRLENBQUM7O0FBRzlFO0FBQ0FOLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFFUCxJQUFJLENBQUMsRUFBRVEsMEJBQWlCLENBQUNFLGVBQWUsQ0FBQztBQUM1RlAsTUFBTSxDQUFDRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUVQLElBQUksQ0FBQyxFQUFFUSwwQkFBaUIsQ0FBQ0csYUFBYSxDQUFDO0FBR3hGUixNQUFNLENBQUNTLEdBQUcsQ0FBQyxTQUFTLEVBQUMsQ0FBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNQLElBQUksQ0FBQyxFQUFDUSwwQkFBaUIsQ0FBQ0ssTUFBTSxDQUFDO0FBQ3RFVixNQUFNLENBQUNXLEdBQUcsQ0FBQyxPQUFPLEVBQUNSLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQywwQkFBaUIsQ0FBQ08sSUFBSSxDQUFDO0FBQzNEWixNQUFNLENBQUNhLE1BQU0sQ0FBQyxTQUFTLEVBQUNWLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQywwQkFBaUIsQ0FBQ1MsTUFBTSxDQUFDO0FBRWxFZCxNQUFNLENBQUNXLEdBQUcsQ0FBQyx1QkFBdUIsRUFBQ04sMEJBQWlCLENBQUNVLGNBQWMsQ0FBQztBQUVwRWYsTUFBTSxDQUFDVyxHQUFHLENBQUMsV0FBVyxFQUFDTiwwQkFBaUIsQ0FBQ1csSUFBSSxDQUFDOztBQUU5QztBQUNBaEIsTUFBTSxDQUFDRSxJQUFJLENBQUMsb0JBQW9CLEVBQUMsQ0FBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUNQLElBQUksQ0FBQyxFQUFDb0IsMkJBQWtCLENBQUNYLFFBQVEsQ0FBQztBQUNyRk4sTUFBTSxDQUFDUyxHQUFHLENBQUMsa0JBQWtCLEVBQUMsQ0FBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNQLElBQUksQ0FBQyxFQUFDb0IsMkJBQWtCLENBQUNQLE1BQU0sQ0FBQztBQUNoRlYsTUFBTSxDQUFDYSxNQUFNLENBQUMsc0JBQXNCLEVBQUMsQ0FBQ1YsYUFBSSxDQUFDQyxXQUFXLEVBQUNQLElBQUksQ0FBQyxFQUFDb0IsMkJBQWtCLENBQUNKLE1BQU0sQ0FBQztBQUFDLElBQUFLLFFBQUEsR0FBQUMsT0FBQSxDQUFBdkIsT0FBQSxHQUd6RUksTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_ProductController","_auth","_connectMultiparty","_VariedadController","e","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","productController","register","register_imagen","remove_imagen","put","update","get","list","delete","remove","obtener_imagen","show","variedadController","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Product.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport productController from \"../controllers/ProductController\"\nimport auth from \"../middlewares/auth\"\nimport multiparty from 'connect-multiparty';\nimport variedadController from \"../controllers/VariedadController\";\n\n\nvar path = multiparty({uploadDir:'./uploads/product'});\nconst router = routerx();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [auth.verifyAdmin, path], productController.register);\n\n\n//IMAGEN PORTADA Y GALERIA\nrouter.post(\"/register_imagen\", [auth.verifyAdmin, path], productController.register_imagen);\nrouter.post(\"/remove_imagen\", [auth.verifyAdmin, path], productController.remove_imagen);\n\n\nrouter.put(\"/update\",[auth.verifyAdmin,path],productController.update);\nrouter.get(\"/list\",auth.verifyAdmin,productController.list);\nrouter.delete(\"/delete\",auth.verifyAdmin,productController.remove);\n\nrouter.get(\"/uploads/product/:img\",productController.obtener_imagen);\n\nrouter.get(\"/show/:id\",productController.show);\n\n// VARIEDAD\nrouter.post(\"/register-variedad\",[auth.verifyAdmin,path],variedadController.register);\nrouter.put(\"/update-variedad\",[auth.verifyAdmin,path],variedadController.update);\nrouter.delete(\"/delete-variedad/:id\",[auth.verifyAdmin,path],variedadController.delete);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,kBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,mBAAA,GAAAL,sBAAA,CAAAC,OAAA;AAAmE,SAAAD,uBAAAM,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAGnE,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAC;AAAmB,CAAC,CAAC;AACtD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,0BAAiB,CAACC,QAAQ,CAAC;;AAG9E;AACAN,MAAM,CAACE,IAAI,CAAC,kBAAkB,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,0BAAiB,CAACE,eAAe,CAAC;AAC5FP,MAAM,CAACE,IAAI,CAAC,gBAAgB,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAAEQ,0BAAiB,CAACG,aAAa,CAAC;AAGxFR,MAAM,CAACS,GAAG,CAAC,SAAS,EAAC,CAACN,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,0BAAiB,CAACK,MAAM,CAAC;AACtEV,MAAM,CAACW,GAAG,CAAC,OAAO,EAACR,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACO,IAAI,CAAC;AAC3DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACS,MAAM,CAAC;AAElEd,MAAM,CAACW,GAAG,CAAC,uBAAuB,EAACN,0BAAiB,CAACU,cAAc,CAAC;AAEpEf,MAAM,CAACW,GAAG,CAAC,WAAW,EAACN,0BAAiB,CAACW,IAAI,CAAC;;AAE9C;AACAhB,MAAM,CAACE,IAAI,CAAC,oBAAoB,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACoB,2BAAkB,CAACX,QAAQ,CAAC;AACrFN,MAAM,CAACS,GAAG,CAAC,kBAAkB,EAAC,CAACN,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACoB,2BAAkB,CAACP,MAAM,CAAC;AAChFV,MAAM,CAACa,MAAM,CAAC,sBAAsB,EAAC,CAACV,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACoB,2BAAkB,CAACJ,MAAM,CAAC;AAAC,IAAAK,QAAA,GAAAC,OAAA,CAAAvB,OAAA,GAGzEI,MAAM","ignoreList":[]}},"mtime":1741488755249},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/ProductController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_Product = await _models.default.Product.findOne({\n        title: data.title\n      });\n      if (valid_Product) {\n        res.status(200).json({\n          code: 403,\n          message: \"EL PRODUCTO YA EXISTE\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, '');\n      if (req.files) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        data.portada = portada_name;\n      }\n      let product = await _models.default.Product.create(data);\n      res.status(200).json({\n        message: \"Super! El producto se registró satisfactoriamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_product = await _models.default.Product.findOne({\n        title: data.title,\n        _id: {\n          $ne: data._id\n        }\n      });\n      if (valid_product) {\n        res.status(200).json({\n          code: 403,\n          message: \"EL PRODUCTO YA EXISTE\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, \"-\").replace(/[^\\w-]+/g, '');\n      if (req.files && req.files.imagen) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        data.portada = portada_name;\n      }\n      await _models.default.Product.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: \"Super! El producto se actualizó satisfactoriamente\"\n      });\n    } catch (error) {\n      console.log('mi falla es:', error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var filter = [];\n      if (req.query.search) {\n        filter.push({\n          \"title\": new RegExp(req.query.search, \"i\")\n        });\n      }\n      if (req.query.categorie) {\n        filter.push({\n          \"categorie\": req.query.categorie\n        });\n      }\n      if (req.query.condition) {\n        filter.push({\n          \"condition\": req.query.condition\n        });\n      }\n      let products = await _models.default.Product.find({\n        $and: filter\n      }).populate(\"categorie\");\n      products = products.map(product => {\n        return _resourses.default.Product.product_list(product);\n      });\n      res.status(200).json({\n        products: products\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Product.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        massage: \"Super! El producto se eliminó satisfactoriamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/product/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/product/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      var product_id = req.params.id;\n      let PRODUCT = await _models.default.Product.findById({\n        _id: product_id\n      });\n      let VARIEDADES = await _models.default.Variedad.find({\n        product: product_id\n      });\n      res.status(200).json({\n        product: _resourses.default.Product.product_list(PRODUCT, VARIEDADES)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_imagen: async (req, res) => {\n    try {\n      var img_path = req.files.imagen.path;\n      var name = img_path.split('/');\n      var imagen_name = name[2];\n      let product = await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $push: {\n          galerias: {\n            imagen: imagen_name,\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"LA IMAGEN SE SUBIO CORRECTAMENTE\",\n        imagen: {\n          imagen: process.env.URL_BACKEND + \"/api/products/uploads/product/\" + imagen_name,\n          _id: req.body.__id\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  remove_imagen: async (req, res) => {\n    try {\n      await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $pull: {\n          galerias: {\n            _id: req.body.__id\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"LA IMAGEN SE ELIMINÓ CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3Vyc2VzIiwiX2ZzIiwiX3BhdGgiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5IiwidmFsaWRfUHJvZHVjdCIsIm1vZGVscyIsIlByb2R1Y3QiLCJmaW5kT25lIiwidGl0bGUiLCJzdGF0dXMiLCJqc29uIiwiY29kZSIsIm1lc3NhZ2UiLCJzbHVnIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwiZmlsZXMiLCJpbWdfcGF0aCIsImltYWdlbiIsInBhdGgiLCJuYW1lIiwic3BsaXQiLCJwb3J0YWRhX25hbWUiLCJwb3J0YWRhIiwicHJvZHVjdCIsImNyZWF0ZSIsImVycm9yIiwic2VuZCIsInVwZGF0ZSIsInZhbGlkX3Byb2R1Y3QiLCJfaWQiLCIkbmUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsImNvbnNvbGUiLCJsb2ciLCJsaXN0IiwiZmlsdGVyIiwicXVlcnkiLCJzZWFyY2giLCJwdXNoIiwiUmVnRXhwIiwiY2F0ZWdvcmllIiwiY29uZGl0aW9uIiwicHJvZHVjdHMiLCJmaW5kIiwiJGFuZCIsInBvcHVsYXRlIiwibWFwIiwicmVzb3Vyc2VzIiwicHJvZHVjdF9saXN0IiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiLCJtYXNzYWdlIiwib2J0ZW5lcl9pbWFnZW4iLCJpbWciLCJwYXJhbXMiLCJmcyIsInN0YXQiLCJlcnIiLCJwYXRoX2ltZyIsInNlbmRGaWxlIiwicmVzb2x2ZSIsInNob3ciLCJwcm9kdWN0X2lkIiwiaWQiLCJQUk9EVUNUIiwiZmluZEJ5SWQiLCJWQVJJRURBREVTIiwiVmFyaWVkYWQiLCJyZWdpc3Rlcl9pbWFnZW4iLCJpbWFnZW5fbmFtZSIsIiRwdXNoIiwiZ2FsZXJpYXMiLCJfX2lkIiwicHJvY2VzcyIsImVudiIsIlVSTF9CQUNLRU5EIiwicmVtb3ZlX2ltYWdlbiIsIiRwdWxsIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiUHJvZHVjdENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnXG5pbXBvcnQgcmVzb3Vyc2VzIGZyb20gJy4uL3Jlc291cnNlcyc7XG5pbXBvcnQgZnMgZnJvbSAnZnMnXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuXG5leHBvcnQgZGVmYXVsdHtcbiAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+e1xuICAgIHRyeSB7XG4gICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xuICAgIFxuICAgICAgbGV0IHZhbGlkX1Byb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kT25lKHt0aXRsZTpkYXRhLnRpdGxlfSk7XG4gICAgICBpZih2YWxpZF9Qcm9kdWN0KXtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgIGNvZGU6NDAzLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgUFJPRFVDVE8gWUEgRVhJU1RFXCJcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRhdGEuc2x1ZyA9IGRhdGEudGl0bGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8gL2csJy0nKS5yZXBsYWNlKC9bXlxcdy1dKy9nLCcnKTtcblxuICAgICAgaWYocmVxLmZpbGVzKXtcbiAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLmltYWdlbi5wYXRoO1xuICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCcvJyk7XG4gICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xuICAgICAgICAvL2NvbnNvbGUubG9nKHBvcnRhZGFfbmFtZSlcbiAgICAgICAgZGF0YS5wb3J0YWRhID0gcG9ydGFkYV9uYW1lO1xuICAgICAgfVxuXG4gICAgICBsZXQgcHJvZHVjdCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmNyZWF0ZShkYXRhKTtcblxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiBcIlN1cGVyISBFbCBwcm9kdWN0byBzZSByZWdpc3Ryw7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCJcbiAgICAgIH0pO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+e1xuICAgIHRyeSB7XG4gICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xuICAgICAgXG4gICAgICBsZXQgdmFsaWRfcHJvZHVjdCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRPbmUoe3RpdGxlOmRhdGEudGl0bGUsIF9pZDp7JG5lOiBkYXRhLl9pZH19KTtcblxuICAgICAgaWYodmFsaWRfcHJvZHVjdCl7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICBjb2RlOjQwMyxcbiAgICAgICAgICBtZXNzYWdlOiBcIkVMIFBST0RVQ1RPIFlBIEVYSVNURVwiXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkYXRhLnNsdWcgPSBkYXRhLnRpdGxlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvIC9nLFwiLVwiKS5yZXBsYWNlKC9bXlxcdy1dKy9nLCcnKTtcblxuICAgICAgaWYocmVxLmZpbGVzICYmIHJlcS5maWxlcy5pbWFnZW4pe1xuICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMuaW1hZ2VuLnBhdGg7XG4gICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgIC8vY29uc29sZS5sb2cocG9ydGFkYV9uYW1lKVxuICAgICAgICBkYXRhLnBvcnRhZGEgPSBwb3J0YWRhX25hbWU7XG4gICAgICB9XG5cbiAgICAgYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDpkYXRhLl9pZH0sIGRhdGEpO1xuXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IFwiU3VwZXIhIEVsIHByb2R1Y3RvIHNlIGFjdHVhbGl6w7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCJcbiAgICAgIH0pO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdtaSBmYWxsYSBlczonLCBlcnJvcilcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgIH1cblxuICB9LFxuXG5cbiAgbGlzdDogYXN5bmMocmVxLHJlcykgPT57XG4gICAgdHJ5IHtcbiAgICAgIHZhciBmaWx0ZXIgPSBbXTtcbiAgICAgIGlmKHJlcS5xdWVyeS5zZWFyY2gpe1xuICAgICAgICBmaWx0ZXIucHVzaChcbiAgICAgICAgICB7XCJ0aXRsZVwiOiBuZXcgUmVnRXhwKHJlcS5xdWVyeS5zZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZihyZXEucXVlcnkuY2F0ZWdvcmllKXtcbiAgICAgICAgZmlsdGVyLnB1c2goXG4gICAgICAgICAge1wiY2F0ZWdvcmllXCI6IHJlcS5xdWVyeS5jYXRlZ29yaWV9LFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYocmVxLnF1ZXJ5LmNvbmRpdGlvbil7XG4gICAgICAgIGZpbHRlci5wdXNoKFxuICAgICAgICAgIHtcImNvbmRpdGlvblwiOiByZXEucXVlcnkuY29uZGl0aW9ufSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgXG4gICAgICBsZXQgcHJvZHVjdHMgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kKHtcbiAgICAgICAgJGFuZDogZmlsdGVyLFxuICAgICAgfSkucG9wdWxhdGUoXCJjYXRlZ29yaWVcIilcbiAgXG4gICAgICBwcm9kdWN0cyA9IHByb2R1Y3RzLm1hcChwcm9kdWN0ID0+IHtcbiAgICAgICAgcmV0dXJuIHJlc291cnNlcy5Qcm9kdWN0LnByb2R1Y3RfbGlzdChwcm9kdWN0KTtcbiAgICAgIH0pXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIHByb2R1Y3RzOiBwcm9kdWN0cyxcbiAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgXG5cbiAgcmVtb3ZlOiBhc3luYyhyZXEscmVzKSA9PntcbiAgICB0cnkge1xuICAgICAgbGV0IF9pZCA9IHJlcS5xdWVyeS5faWQ7XG4gICAgICBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOl9pZH0pO1xuXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIG1hc3NhZ2U6IFwiU3VwZXIhIEVsIHByb2R1Y3RvIHNlIGVsaW1pbsOzIHNhdGlzZmFjdG9yaWFtZW50ZVwiXG4gICAgICB9KTtcblxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgIH1cblxuICB9LFxuXG4gIG9idGVuZXJfaW1hZ2VuOiBhc3luYyhyZXEscmVzKSA9PntcbiAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGltZyA9IHJlcS5wYXJhbXNbJ2ltZyddO1xuICAgICAgICAgICAgZnMuc3RhdCgnLi91cGxvYWRzL3Byb2R1Y3QvJysgaW1nLCBmdW5jdGlvbihlcnIpe1xuICAgICAgICAgICAgICAgIGlmKCFlcnIpe1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGF0aF9pbWcgPSAnLi91cGxvYWRzL3Byb2R1Y3QvJytpbWc7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kRmlsZShwYXRoLnJlc29sdmUocGF0aF9pbWcpKTtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9kZWZhdWx0LmpwZyc7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kRmlsZShwYXRoLnJlc29sdmUocGF0aF9pbWcpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9Y2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgfSxcblxuICBzaG93OiBhc3luYyhyZXEscmVzKSA9PntcbiAgICB0cnkge1xuICAgICAgdmFyIHByb2R1Y3RfaWQgPSByZXEucGFyYW1zLmlkO1xuICAgICAgbGV0IFBST0RVQ1QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZCh7X2lkOiBwcm9kdWN0X2lkfSk7XG5cbiAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3Q6IHByb2R1Y3RfaWR9KTtcblxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBwcm9kdWN0OiByZXNvdXJzZXMuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUFJPRFVDVCwgVkFSSUVEQURFUyksXG4gICAgICB9KVxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG5cbiAgfSxcblxuICByZWdpc3Rlcl9pbWFnZW46IGFzeW5jKHJlcSxyZXMpID0+e1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5pbWFnZW4ucGF0aDtcbiAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICB2YXIgaW1hZ2VuX25hbWUgPSBuYW1lWzJdO1xuXG4gICAgICAgIGxldCBwcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkfSwge1xuICAgICAgICAgICRwdXNoOiB7XG4gICAgICAgICAgICBnYWxlcmlhczp7XG4gICAgICAgICAgICAgIGltYWdlbjogaW1hZ2VuX25hbWUsXG4gICAgICAgICAgICAgIF9pZDogcmVxLmJvZHkuX19pZFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiTEEgSU1BR0VOIFNFIFNVQklPIENPUlJFQ1RBTUVOVEVcIixcbiAgICAgICAgICBpbWFnZW46IHtcbiAgICAgICAgICAgIGltYWdlbjogcHJvY2Vzcy5lbnYuVVJMX0JBQ0tFTkQrXCIvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC9cIitpbWFnZW5fbmFtZSxcbiAgICAgICAgICAgICAgX2lkOiByZXEuYm9keS5fX2lkLFxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgfSk7XG4gICAgfVxuXG4gIH0sXG5cbiAgcmVtb3ZlX2ltYWdlbjphc3luYyhyZXEscmVzKSA9PntcbiAgICB0cnkge1xuICAgICAgIGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0sIHtcbiAgICAgICAgICAkcHVsbDoge1xuICAgICAgICAgICAgZ2FsZXJpYXM6e1xuICAgICAgICAgICAgICBfaWQ6IHJlcS5ib2R5Ll9faWQsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KSAgICAgXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIkxBIElNQUdFTiBTRSBFTElNSU7DkyBDT1JSRUNUQU1FTlRFXCIsXG4gICAgICAgIH0pXG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgICAgXG4gICAgfVxuXG4gIH0sXG5cblxuXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxHQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxLQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBdUIsU0FBQUQsdUJBQUFLLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVUO0VBQ1pHLFFBQVEsRUFBRSxNQUFBQSxDQUFNQyxH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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resourses","_fs","_path","e","__esModule","default","_default","exports","register","req","res","data","body","valid_Product","models","Product","findOne","title","status","json","code","message","slug","toLowerCase","replace","files","img_path","imagen","path","name","split","portada_name","portada","product","create","error","send","update","valid_product","_id","$ne","findByIdAndUpdate","console","log","list","filter","query","search","push","RegExp","categorie","condition","products","find","$and","populate","map","resourses","product_list","remove","findByIdAndDelete","massage","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","show","product_id","id","PRODUCT","findById","VARIEDADES","Variedad","register_imagen","imagen_name","$push","galerias","__id","process","env","URL_BACKEND","remove_imagen","$pull"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["ProductController.js"],"sourcesContent":["import models from '../models'\nimport resourses from '../resourses';\nimport fs from 'fs'\nimport path from 'path'\n\nexport default{\n  register: async(req,res) =>{\n    try {\n      let data = req.body;\n    \n      let valid_Product = await models.Product.findOne({title:data.title});\n      if(valid_Product){\n        res.status(200).json({\n          code:403,\n          message: \"EL PRODUCTO YA EXISTE\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g,'-').replace(/[^\\w-]+/g,'');\n\n      if(req.files){\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        data.portada = portada_name;\n      }\n\n      let product = await models.Product.create(data);\n\n      res.status(200).json({\n        message: \"Super! El producto se registró satisfactoriamente\"\n      });\n\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n\n  update: async(req,res) =>{\n    try {\n      let data = req.body;\n      \n      let valid_product = await models.Product.findOne({title:data.title, _id:{$ne: data._id}});\n\n      if(valid_product){\n        res.status(200).json({\n          code:403,\n          message: \"EL PRODUCTO YA EXISTE\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g,\"-\").replace(/[^\\w-]+/g,'');\n\n      if(req.files && req.files.imagen){\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        data.portada = portada_name;\n      }\n\n     await models.Product.findByIdAndUpdate({_id:data._id}, data);\n\n      res.status(200).json({\n        message: \"Super! El producto se actualizó satisfactoriamente\"\n      });\n\n    } catch (error) {\n      console.log('mi falla es:', error)\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n\n  },\n\n\n  list: async(req,res) =>{\n    try {\n      var filter = [];\n      if(req.query.search){\n        filter.push(\n          {\"title\": new RegExp(req.query.search, \"i\")},\n        );\n      }\n      if(req.query.categorie){\n        filter.push(\n          {\"categorie\": req.query.categorie},\n        );\n      }\n      if(req.query.condition){\n        filter.push(\n          {\"condition\": req.query.condition},\n        );\n      }\n  \n      let products = await models.Product.find({\n        $and: filter,\n      }).populate(\"categorie\")\n  \n      products = products.map(product => {\n        return resourses.Product.product_list(product);\n      })\n      res.status(200).json({\n        products: products,\n      })\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  \n\n  remove: async(req,res) =>{\n    try {\n      let _id = req.query._id;\n      await models.Product.findByIdAndDelete({_id:_id});\n\n      res.status(200).json({\n        massage: \"Super! El producto se eliminó satisfactoriamente\"\n      });\n\n      \n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n\n  },\n\n  obtener_imagen: async(req,res) =>{\n    try {\n            var img = req.params['img'];\n            fs.stat('./uploads/product/'+ img, function(err){\n                if(!err){\n                    let path_img = './uploads/product/'+img;\n                    res.status(200).sendFile(path.resolve(path_img));\n                }else{\n                    let path_img = './uploads/default.jpg';\n                    res.status(200).sendFile(path.resolve(path_img));\n                }\n            })\n        }catch (error) {\n          res.status(500).send({\n            message: \"OCURRIÓ UN PROBLEMA\"\n          });\n        }\n  },\n\n  show: async(req,res) =>{\n    try {\n      var product_id = req.params.id;\n      let PRODUCT = await models.Product.findById({_id: product_id});\n\n      let VARIEDADES = await models.Variedad.find({product: product_id});\n\n      res.status(200).json({\n        product: resourses.Product.product_list(PRODUCT, VARIEDADES),\n      })\n      \n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n\n  },\n\n  register_imagen: async(req,res) =>{\n    try {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('/');\n        var imagen_name = name[2];\n\n        let product = await models.Product.findByIdAndUpdate({_id: req.body._id}, {\n          $push: {\n            galerias:{\n              imagen: imagen_name,\n              _id: req.body.__id\n            }\n          }\n        })\n        res.status(200).json({\n          message: \"LA IMAGEN SE SUBIO CORRECTAMENTE\",\n          imagen: {\n            imagen: process.env.URL_BACKEND+\"/api/products/uploads/product/\"+imagen_name,\n              _id: req.body.__id,\n          }\n        })\n      \n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n\n  },\n\n  remove_imagen:async(req,res) =>{\n    try {\n       await models.Product.findByIdAndUpdate({_id: req.body._id}, {\n          $pull: {\n            galerias:{\n              _id: req.body.__id,\n            }\n          }\n        })     \n        res.status(200).json({\n          message: \"LA IMAGEN SE ELIMINÓ CORRECTAMENTE\",\n        })\n      \n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      \n    }\n\n  },\n\n\n\n}"],"mappings":"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","ignoreList":[]}},"mtime":1741488681387},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/VariedadController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let variedad_exits = await _models.default.Variedad.findOne({\n        valor: data.valor,\n        product: data.product\n      });\n      var variedad = null;\n      if (variedad_exits) {\n        data.stock = variedad_exits.stock + data.stock;\n        await _models.default.Variedad.findByIdAndUpdate({\n          _id: variedad_exits._id\n        }, data);\n        variedad = await _models.default.Variedad.findById({\n          _id: variedad_exits._id\n        });\n      } else {\n        variedad = await _models.default.Variedad.create(data);\n      }\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      await _models.default.Variedad.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let variedad = await _models.default.Variedad.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.params.id;\n      await _models.default.Variedad.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: \"Se elimino la variedad\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5IiwidmFyaWVkYWRfZXhpdHMiLCJtb2RlbHMiLCJWYXJpZWRhZCIsImZpbmRPbmUiLCJ2YWxvciIsInByb2R1Y3QiLCJ2YXJpZWRhZCIsInN0b2NrIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJfaWQiLCJmaW5kQnlJZCIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJzZW5kIiwibWVzc2FnZSIsInVwZGF0ZSIsImRlbGV0ZSIsInBhcmFtcyIsImlkIiwiZmluZEJ5SWRBbmREZWxldGUiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJWYXJpZWRhZENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5cblxuZXhwb3J0IGRlZmF1bHR7XG5cbiAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcblxuICAgICAgbGV0IHZhcmllZGFkX2V4aXRzID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRPbmUoe3ZhbG9yOiBkYXRhLnZhbG9yLCBwcm9kdWN0OiBkYXRhLnByb2R1Y3R9KTtcblxuICAgICAgdmFyIHZhcmllZGFkID0gbnVsbDtcblxuICAgICAgaWYodmFyaWVkYWRfZXhpdHMpe1xuICAgICAgICBkYXRhLnN0b2NrID0gdmFyaWVkYWRfZXhpdHMuc3RvY2sgKyBkYXRhLnN0b2NrO1xuICAgICAgICBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogdmFyaWVkYWRfZXhpdHMuX2lkfSwgZGF0YSk7XG4gICAgICAgIHZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkKHtfaWQ6IHZhcmllZGFkX2V4aXRzLl9pZH0pO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmNyZWF0ZShkYXRhKTtcbiAgICAgIH1cblxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICB2YXJpZWRhZDogdmFyaWVkYWQgXG4gICAgICB9KTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KVxuICAgIH1cbiAgfSxcblxuICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcblxuICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6ZGF0YS5faWR9LGRhdGEpO1xuICAgICAgXG4gICAgICBsZXQgdmFyaWVkYWQgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWQoe19pZDpkYXRhLl9pZH0pO1xuXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIHZhcmllZGFkOiB2YXJpZWRhZCBcbiAgICAgIH0pO1xuICAgICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxuICAgICAgfSlcbiAgICB9XG4gIH0sXG4gIGRlbGV0ZTogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgXG4gICAgdHJ5IHtcbiAgICAgIGxldCBfaWQ9IHJlcS5wYXJhbXMuaWQ7XG4gICAgIFxuICAgICAgYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6X2lkfSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJTZSBlbGltaW5vIGxhIHZhcmllZGFkXCJcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxuICAgICAgfSlcbiAgICB9XG4gIH0sXG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUErQixTQUFBRCx1QkFBQUUsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBR2pCO0VBRVpHLFFBQVEsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUMxQixJQUFJO01BQ0YsSUFBSUMsSUFBSSxHQUFHRixHQUFHLENBQUNHLElBQUk7TUFFbkIsSUFBSUMsY0FBYyxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsUUFBUSxDQUFDQyxPQUFPLENBQUM7UUFBQ0MsS0FBSyxFQUFFTixJQUFJLENBQUNNLEtBQUs7UUFBRUMsT0FBTyxFQUFFUCxJQUFJLENBQUNPO01BQU8sQ0FBQyxDQUFDO01BRTlGLElBQUlDLFFBQVEsR0FBRyxJQUFJO01BRW5CLElBQUdOLGNBQWMsRUFBQztRQUNoQkYsSUFBSSxDQUFDUyxLQUFLLEdBQUdQLGNBQWMsQ0FB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","map":{"version":3,"names":["_models","_interopRequireDefault","require","e","__esModule","default","_default","exports","register","req","res","data","body","variedad_exits","models","Variedad","findOne","valor","product","variedad","stock","findByIdAndUpdate","_id","findById","create","status","json","error","console","log","send","message","update","delete","params","id","findByIdAndDelete"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["VariedadController.js"],"sourcesContent":["import models from \"../models\";\n\n\nexport default{\n\n  register: async(req,res) => {\n    try {\n      let data = req.body;\n\n      let variedad_exits = await models.Variedad.findOne({valor: data.valor, product: data.product});\n\n      var variedad = null;\n\n      if(variedad_exits){\n        data.stock = variedad_exits.stock + data.stock;\n        await models.Variedad.findByIdAndUpdate({_id: variedad_exits._id}, data);\n        variedad = await models.Variedad.findById({_id: variedad_exits._id});\n      }else{\n        variedad = await models.Variedad.create(data);\n      }\n\n      res.status(200).json({\n        variedad: variedad \n      });\n\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      })\n    }\n  },\n\n  update: async(req,res) => {\n    try {\n      let data = req.body;\n\n      await models.Variedad.findByIdAndUpdate({_id:data._id},data);\n      \n      let variedad = await models.Variedad.findById({_id:data._id});\n\n      res.status(200).json({\n        variedad: variedad \n      });\n        \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      })\n    }\n  },\n  delete: async(req,res) => {\n   \n    try {\n      let _id= req.params.id;\n     \n      await models.Variedad.findByIdAndDelete({_id:_id});\n\n      res.status(200).json({\n        message: \"Se elimino la variedad\"\n      });\n      \n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      })\n    }\n  },\n}\n"],"mappings":"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","ignoreList":[]}},"mtime":1737600006827},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _SliderController = _interopRequireDefault(require(\"../controllers/SliderController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/slider'\n});\nconst router = (0, _expressPromiseRouter.default)();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _SliderController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _SliderController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _SliderController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _SliderController.default.remove);\nrouter.get(\"/uploads/slider/:img\", _SliderController.default.obtener_imagen);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9TbGlkZXJDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJwYXRoIiwibXVsdGlwYXJ0eSIsInVwbG9hZERpciIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwic2xpZGVyQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSIsIm9idGVuZXJfaW1hZ2VuIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbIlNsaWRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiXG5pbXBvcnQgc2xpZGVyQ29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvU2xpZGVyQ29udHJvbGxlclwiXG5pbXBvcnQgYXV0aCBmcm9tIFwiLi4vbWlkZGxld2FyZXMvYXV0aFwiXG5pbXBvcnQgbXVsdGlwYXJ0eSBmcm9tICdjb25uZWN0LW11bHRpcGFydHknO1xuXG5cbnZhciBwYXRoID0gbXVsdGlwYXJ0eSh7dXBsb2FkRGlyOicuL3VwbG9hZHMvc2xpZGVyJ30pO1xuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG4vLyBwcm9jZXNzLmVudi5VUkxfQkFDS0VORC9hcGkvdXNlcnMvcmVnaXN0ZXJcblxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgW2F1dGgudmVyaWZ5QWRtaW4sIHBhdGhdLHNsaWRlckNvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnB1dChcIi91cGRhdGVcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxzbGlkZXJDb250cm9sbGVyLnVwZGF0ZSk7XG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUFkbWluLHNsaWRlckNvbnRyb2xsZXIubGlzdCk7XG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLGF1dGgudmVyaWZ5QWRtaW4sc2xpZGVyQ29udHJvbGxlci5yZW1vdmUpO1xuXG5yb3V0ZXIuZ2V0KFwiL3VwbG9hZHMvc2xpZGVyLzppbWdcIixzbGlkZXJDb250cm9sbGVyLm9idGVuZXJfaW1hZ2VuKTtcblxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsaUJBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLGtCQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBNEMsU0FBQUQsdUJBQUFLLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFHNUMsSUFBSUcsSUFBSSxHQUFHLElBQUFDLDBCQUFVLEVBQUM7RUFBQ0MsU0FBUyxFQUFDO0FBQWtCLENBQUMsQ0FBQztBQUNyRCxNQUFNQyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDOztBQUV4Qjs7QUFFQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFFUCxJQUFJLENBQUMsRUFBQ1EseUJBQWdCLENBQUNDLFFBQVEsQ0FBQztBQUM1RU4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDLENBQUNKLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EseUJBQWdCLENBQUNHLE1BQU0sQ0FBQztBQUNyRVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MseUJBQWdCLENBQUNLLElBQUksQ0FBQztBQUMxRFYsTUFBTSxDQUFDVyxNQUFNLENBQUMsU0FBUyxFQUFDUixhQUFJLENBQUNDLFdBQVcsRUFBQ0MseUJBQWdCLENBQUNPLE1BQU0sQ0FBQztBQUVqRVosTUFBTSxDQUFDUyxHQUFHLENBQUMsc0JBQXNCLEVBQUNKLHlCQUFnQixDQUFDUSxjQUFjLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQW5CLE9BQUEsR0FHcERJLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_SliderController","_auth","_connectMultiparty","e","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","sliderController","register","put","update","get","list","delete","remove","obtener_imagen","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Slider.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport sliderController from \"../controllers/SliderController\"\nimport auth from \"../middlewares/auth\"\nimport multiparty from 'connect-multiparty';\n\n\nvar path = multiparty({uploadDir:'./uploads/slider'});\nconst router = routerx();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [auth.verifyAdmin, path],sliderController.register);\nrouter.put(\"/update\",[auth.verifyAdmin,path],sliderController.update);\nrouter.get(\"/list\",auth.verifyAdmin,sliderController.list);\nrouter.delete(\"/delete\",auth.verifyAdmin,sliderController.remove);\n\nrouter.get(\"/uploads/slider/:img\",sliderController.obtener_imagen);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,iBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA4C,SAAAD,uBAAAK,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAG5C,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAC;AAAkB,CAAC,CAAC;AACrD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,WAAW,EAAEP,IAAI,CAAC,EAACQ,yBAAgB,CAACC,QAAQ,CAAC;AAC5EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAC,CAACJ,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,yBAAgB,CAACG,MAAM,CAAC;AACrER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACK,IAAI,CAAC;AAC1DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAACR,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACO,MAAM,CAAC;AAEjEZ,MAAM,CAACS,GAAG,CAAC,sBAAsB,EAACJ,yBAAgB,CAACQ,cAAc,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAnB,OAAA,GAGpDI,MAAM","ignoreList":[]}},"mtime":1741488788318},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/SliderController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      //console.log(req.files);\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      const slider = await _models.default.Slider.create(req.body);\n      res.status(200).json(slider);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('/');\n        var portada_name = name[2];\n        //console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Slider.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let SliderT = await _models.default.Slider.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL SLIDER SE HA MODIFICADO CORRECTAMENTE\",\n        slider: _resourses.default.Slider.slider_list(SliderT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Sliders = await _models.default.Slider.find({\n        $or: [{\n          \"title\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Sliders = Sliders.map(user => {\n        return _resourses.default.Slider.slider_list(user);\n      });\n      res.status(200).json({\n        sliders: Sliders\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/slider/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/slider/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Slider.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"  EL SLIDER SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3Vyc2VzIiwiX2ZzIiwiX3BhdGgiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImZpbGVzIiwiaW1nX3BhdGgiLCJwb3J0YWRhIiwicGF0aCIsIm5hbWUiLCJzcGxpdCIsInBvcnRhZGFfbmFtZSIsImJvZHkiLCJpbWFnZW4iLCJzbGlkZXIiLCJtb2RlbHMiLCJTbGlkZXIiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsIlNsaWRlclQiLCJmaW5kT25lIiwicmVzb3Vyc2UiLCJzbGlkZXJfbGlzdCIsImxpc3QiLCJzZWFyY2giLCJxdWVyeSIsIlNsaWRlcnMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsIm1hcCIsInVzZXIiLCJzbGlkZXJzIiwib2J0ZW5lcl9pbWFnZW4iLCJpbWciLCJwYXJhbXMiLCJmcyIsInN0YXQiLCJlcnIiLCJwYXRoX2ltZyIsInNlbmRGaWxlIiwicmVzb2x2ZSIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiU2xpZGVyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcbmltcG9ydCByZXNvdXJzZSBmcm9tICcuLi9yZXNvdXJzZXMnXG5pbXBvcnQgZnMgZnJvbSAnZnMnXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy9jb25zb2xlLmxvZyhyZXEuZmlsZXMpO1xuICAgICAgIGlmKHJlcS5maWxlcyl7XG4gICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMucG9ydGFkYS5wYXRoO1xuICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgICAvL2NvbnNvbGUubG9nKHBvcnRhZGFfbmFtZSlcbiAgICAgICAgIHJlcS5ib2R5LmltYWdlbiA9IHBvcnRhZGFfbmFtZTtcbiAgICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHNsaWRlciA9IGF3YWl0IG1vZGVscy5TbGlkZXIuY3JlYXRlKHJlcS5ib2R5KTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHNsaWRlcik7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuICB9LFxuICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgIGlmKHJlcS5maWxlcyAmJiByZXEuZmlsZXMucG9ydGFkYSl7XG4gICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMucG9ydGFkYS5wYXRoO1xuICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnLycpO1xuICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgICAvL2NvbnNvbGUubG9nKHBvcnRhZGFfbmFtZSlcbiAgICAgICByZXEuYm9keS5pbWFnZW4gPSBwb3J0YWRhX25hbWU7XG4gICAgICAgfVxuXG4gICAgIGF3YWl0IG1vZGVscy5TbGlkZXIuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkfSxyZXEuYm9keSk7XG5cbiAgICAgbGV0IFNsaWRlclQgPSBhd2FpdCBtb2RlbHMuU2xpZGVyLmZpbmRPbmUoe19pZDogcmVxLmJvZHkuX2lkfSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJFTCBTTElERVIgU0UgSEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFXCIsXG4gICAgICAgIHNsaWRlcjogcmVzb3Vyc2UuU2xpZGVyLnNsaWRlcl9saXN0KFNsaWRlclQpLFxuICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cblxuICB9LFxuICBsaXN0OiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoO1xuICAgICAgbGV0IFNsaWRlcnMgID0gYXdhaXQgbW9kZWxzLlNsaWRlci5maW5kKHtcbiAgICAgICAgJG9yOltcbiAgICAgICAgICB7XCJ0aXRsZVwiOiBuZXcgUmVnRXhwKHNlYXJjaCwgXCJpXCIpfSxcbiAgICAgICAgXVxuICAgIH0pLnNvcnQoeydjcmVhdGVkQXQnOi0xfSk7XG5cbiAgICBTbGlkZXJzID0gU2xpZGVycy5tYXAoKHVzZXIpID0+IHtcbiAgICAgIHJldHVybiByZXNvdXJzZS5TbGlkZXIuc2xpZGVyX2xpc3QodXNlcik7XG4gICAgfSlcblxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgIHNsaWRlcnM6IFNsaWRlcnNcbiAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgXG4gICAgfVxuICB9LFxuICBvYnRlbmVyX2ltYWdlbjogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBpbWcgPSByZXEucGFyYW1zWydpbWcnXTtcbiAgICAgICAgXG5cbiAgICAgICAgZnMuc3RhdCgnLi91cGxvYWRzL3NsaWRlci8nKyBpbWcsIGZ1bmN0aW9uKGVycil7XG4gICAgICAgICAgICBpZighZXJyKXtcbiAgICAgICAgICAgICAgICBsZXQgcGF0aF9pbWcgPSAnLi91cGxvYWRzL3NsaWRlci8nK2ltZztcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBsZXQgcGF0aF9pbWcgPSAnLi91cGxvYWRzL2RlZmF1bHQuanBnJztcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUocGF0aC5yZXNvbHZlKHBhdGhfaW1nKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfWNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cbiAgfSxcbiAgcmVtb3ZlOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IG1vZGVscy5TbGlkZXIuZmluZEJ5SWRBbmREZWxldGUoe19pZDogcmVxLnF1ZXJ5Ll9pZH0pO1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiBcIiAgRUwgU0xJREVSIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG4gIH0sXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxHQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxLQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBdUIsU0FBQUQsdUJBQUFLLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUdSO0VBQ2JHLFFBQVEsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUMxQixJQUFJO01BQ0Y7TUFDQyxJQUFHRCxHQUFHLENBQUNFLEtBQUssRUFBQztRQUNYLElBQUlDLFFBQVEsR0FBR0gsR0FBRyxDQUFDRSxLQUFLLENBQUNFLE9BQU8sQ0FBQ0MsSUFBSTtRQUNyQyxJQUFJQyxJQUFJLEdBQUdILFFBQVEsQ0FBQ0ksS0FBSyxDQUFDLEdBQUcsQ0FBQztRQUM5QixJQUFJQyxZQUFZLEdBQUdGLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDMUI7UUFDQU4sR0FBRyxDQUFDUyxJQUFJLENBQUNDLE1BQU0sR0FBR0YsWUFBWTtNQUNoQztNQUVELE1BQU1HLE1BQU0sR0FBRyxNQUFNQyxlQUFNLENBQUNDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDZCxHQUFHLENBQUNTLElBQUksQ0FBQztNQUNuRFIsR0FBRyxDQUFDYyxNQUFN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QUFDO0lBRXBCO0VBQ0YsQ0FBQztFQUNEdUIsY0FBYyxFQUFFLE1BQUFBLENBQU14QyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUNoQyxJQUFJO01BQ0EsSUFBSXdDLEdBQUcsR0FBR3pDLEdBQUcsQ0FBQzBDLE1BQU0sQ0FBQyxLQUFLLENBQUM7TUFHM0JDLFdBQUUsQ0FBQ0MsSUFBSSxDQUFDLG1CQUFtQixHQUFFSCxHQUFHLEVBQUUsVUFBU0ksR0FBRyxFQUFDO1FBQzNDLElBQUcsQ0FBQ0EsR0FBRyxFQUFDO1VBQ0osSUFBSUMsUUFBUSxHQUFHLG1CQUFtQixHQUFDTCxHQUFHO1VBQ3RDeEMsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNnQyxRQUFRLENBQUMxQyxhQUFJLENBQUMyQyxPQUFPLENBQUNGLFFBQVEsQ0FBQyxDQUFDO1FBQ3BELENBQUMsTUFBSTtVQUNELElBQUlBLFFBQVEsR0FBRyx1QkFBdUI7VUFDdEM3QyxHQUFHLENBQUNjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ2dDLFFBQVEsQ0FBQzFDLGFBQUksQ0FBQzJDLE9BQU8sQ0FBQ0YsUUFBUSxDQUFDLENBQUM7UUFDcEQ7TUFDSixDQUFDLENBQUM7SUFDTixDQUFDLFFBQU83QixLQUFLLEVBQUU7TUFDYmhCLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFDbkJDLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztNQUNGQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3BCO0VBQ0YsQ0FBQztFQUNEZ0MsTUFBTSxFQUFFLE1BQUFBLENBQU1qRCxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUN4QixJQUFJO01BQ0YsTUFBTVcsZUFBTSxDQUFDQyxNQUFNLENBQUNxQyxpQkFBaUIsQ0FBQztRQUFDMUIsR0FBRyxFQUFFeEIsR0FBRyxDQUFDK0IsS0FBSyxDQUFDUDtNQUFHLENBQUMsQ0FBQztNQUMzRHZCLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDbkJHLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQyxPQUFPRixLQUFLLEVBQUU7TUFDZGhCLEdBQUcsQ0FBQ2MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFDbkJDLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztNQUNGQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3BCO0VBQ0Y7QUFDRixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resourses","_fs","_path","e","__esModule","default","_default","exports","register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","slider","models","Slider","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","SliderT","findOne","resourse","slider_list","list","search","query","Sliders","find","$or","RegExp","sort","map","user","sliders","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","remove","findByIdAndDelete"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["SliderController.js"],"sourcesContent":["import models from \"../models\";\nimport resourse from '../resourses'\nimport fs from 'fs'\nimport path from 'path'\n\n\nexport default {\n  register: async(req,res) => {\n    try {\n      //console.log(req.files);\n       if(req.files){\n         var img_path = req.files.portada.path;\n         var name = img_path.split('/');\n         var portada_name = name[2];\n         //console.log(portada_name)\n         req.body.imagen = portada_name;\n       }\n      \n      const slider = await models.Slider.create(req.body);\n      res.status(200).json(slider);\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n  update: async(req,res) => {\n    try {\n       if(req.files && req.files.portada){\n         var img_path = req.files.portada.path;\n         var name = img_path.split('/');\n         var portada_name = name[2];\n         //console.log(portada_name)\n       req.body.imagen = portada_name;\n       }\n\n     await models.Slider.findByIdAndUpdate({_id: req.body._id},req.body);\n\n     let SliderT = await models.Slider.findOne({_id: req.body._id});\n\n      res.status(200).json({\n        message: \"EL SLIDER SE HA MODIFICADO CORRECTAMENTE\",\n        slider: resourse.Slider.slider_list(SliderT),\n      })\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n\n  },\n  list: async(req,res) => {\n    try {\n      var search = req.query.search;\n      let Sliders  = await models.Slider.find({\n        $or:[\n          {\"title\": new RegExp(search, \"i\")},\n        ]\n    }).sort({'createdAt':-1});\n\n    Sliders = Sliders.map((user) => {\n      return resourse.Slider.slider_list(user);\n    })\n\n    res.status(200).json({\n      sliders: Sliders\n    });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n      \n    }\n  },\n  obtener_imagen: async(req,res) => {\n    try {\n        var img = req.params['img'];\n        \n\n        fs.stat('./uploads/slider/'+ img, function(err){\n            if(!err){\n                let path_img = './uploads/slider/'+img;\n                res.status(200).sendFile(path.resolve(path_img));\n            }else{\n                let path_img = './uploads/default.jpg';\n                res.status(200).sendFile(path.resolve(path_img));\n            }\n        })\n    }catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async(req,res) => {\n    try {\n      await models.Slider.findByIdAndDelete({_id: req.query._id});\n      res.status(200).json({\n        message: \"  EL SLIDER SE ELIMINO CORRECTAMENTE\",\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n}"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,GAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,KAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAuB,SAAAD,uBAAAK,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAGR;EACbG,QAAQ,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,KAAK;IAC1B,IAAI;MACF;MACC,IAAGD,GAAG,CAACE,KAAK,EAAC;QACX,IAAIC,QAAQ,GAAGH,GAAG,CAACE,KAAK,CAACE,OAAO,CAACC,IAAI;QACrC,IAAIC,IAAI,GAAGH,QAAQ,CAACI,KAAK,CAAC,GAAG,CAAC;QAC9B,IAAIC,YAAY,GAAGF,IAAI,CAAC,CAAC,CAAC;QAC1B;QACAN,GAAG,CAACS,IAAI,CAACC,MAAM,GAAGF,YAAY;MAChC;MAED,MAAMG,MAAM,GAAG,MAAMC,eAAM,CAACC,MAAM,CAACC,MAAM,CAACd,GAAG,CAACS,IAAI,CAAC;MACnDR,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACL,MAAM,CAAC;IAE9B,CAAC,CAAC,OAAOM,KAAK,EAAE;MACZhB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACF,CAAC;EACDK,MAAM,EAAE,MAAAA,CAAMtB,GAAG,EAACC,GAAG,KAAK;IACxB,IAAI;MACD,IAAGD,GAAG,CAACE,KAAK,IAAIF,GAAG,CAACE,KAAK,CAACE,OAAO,EAAC;QAChC,IAAID,QAAQ,GAAGH,GAAG,CAACE,KAAK,CAACE,OAAO,CAACC,IAAI;QACrC,IAAIC,IAAI,GAAGH,QAAQ,CAACI,KAAK,CAAC,GAAG,CAAC;QAC9B,IAAIC,YAAY,GAAGF,IAAI,CAAC,CAAC,CAAC;QAC1B;QACFN,GAAG,CAACS,IAAI,CAACC,MAAM,GAAGF,YAAY;MAC9B;MAEF,MAAMI,eAAM,CAACC,MAAM,CAACU,iBAAiB,CAAC;QAACC,GAAG,EAAExB,GAAG,CAACS,IAAI,CAACe;MAAG,CAAC,EAACxB,GAAG,CAACS,IAAI,CAAC;MAEnE,IAAIgB,OAAO,GAAG,MAAMb,eAAM,CAACC,MAAM,CAACa,OAAO,CAAC;QAACF,GAAG,EAAExB,GAAG,CAACS,IAAI,CAACe;MAAG,CAAC,CAAC;MAE7DvB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBG,OAAO,EAAE,0CAA0C;QACnDR,MAAM,EAAEgB,kBAAQ,CAACd,MAAM,CAACe,WAAW,CAACH,OAAO;MAC7C,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOR,KAAK,EAAE;MACdhB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACpB;EAEF,CAAC;EACDY,IAAI,EAAE,MAAAA,CAAM7B,GAAG,EAACC,GAAG,KAAK;IACtB,IAAI;MACF,IAAI6B,MAAM,GAAG9B,GAAG,CAAC+B,KAAK,CAACD,MAAM;MAC7B,IAAIE,OAAO,GAAI,MAAMpB,eAAM,CAACC,MAAM,CAACoB,IAAI,CAAC;QACtCC,GAAG,EAAC,CACF;UAAC,OAAO,EAAE,IAAIC,MAAM,CAACL,MAAM,EAAE,GAAG;QAAC,CAAC;MAExC,CAAC,CAAC,CAACM,IAAI,CAAC;QAAC,WAAW,EAAC,CAAC;MAAC,CAAC,CAAC;MAEzBJ,OAAO,GAAGA,OAAO,CAACK,GAAG,CAAEC,IAAI,IAAK;QAC9B,OAAOX,kBAAQ,CAACd,MAAM,CAACe,WAAW,CAACU,IAAI,CAAC;MAC1C,CAAC,CAAC;MAEFrC,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBuB,OAAO,EAAEP;MACX,CAAC,CAAC;IACF,CAAC,CAAC,OAAOf,KAAK,EAAE;MACdhB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IAEpB;EACF,CAAC;EACDuB,cAAc,EAAE,MAAAA,CAAMxC,GAAG,EAACC,GAAG,KAAK;IAChC,IAAI;MACA,IAAIwC,GAAG,GAAGzC,GAAG,CAAC0C,MAAM,CAAC,KAAK,CAAC;MAG3BC,WAAE,CAACC,IAAI,CAAC,mBAAmB,GAAEH,GAAG,EAAE,UAASI,GAAG,EAAC;QAC3C,IAAG,CAACA,GAAG,EAAC;UACJ,IAAIC,QAAQ,GAAG,mBAAmB,GAACL,GAAG;UACtCxC,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACgC,QAAQ,CAAC1C,aAAI,CAAC2C,OAAO,CAACF,QAAQ,CAAC,CAAC;QACpD,CAAC,MAAI;UACD,IAAIA,QAAQ,GAAG,uBAAuB;UACtC7C,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACgC,QAAQ,CAAC1C,aAAI,CAAC2C,OAAO,CAACF,QAAQ,CAAC,CAAC;QACpD;MACJ,CAAC,CAAC;IACN,CAAC,QAAO7B,KAAK,EAAE;MACbhB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACpB;EACF,CAAC;EACDgC,MAAM,EAAE,MAAAA,CAAMjD,GAAG,EAACC,GAAG,KAAK;IACxB,IAAI;MACF,MAAMW,eAAM,CAACC,MAAM,CAACqC,iBAAiB,CAAC;QAAC1B,GAAG,EAAExB,GAAG,CAAC+B,KAAK,CAACP;MAAG,CAAC,CAAC;MAC3DvB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBG,OAAO,EAAE;MACX,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOF,KAAK,EAAE;MACdhB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACpB;EACF;AACF,CAAC","ignoreList":[]}},"mtime":1737838781510},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Cupone.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CuponeController = _interopRequireDefault(require(\"../controllers/CuponeController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyAdmin, _CuponeController.default.register);\nrouter.put(\"/update\", _auth.default.verifyAdmin, _CuponeController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CuponeController.default.list);\nrouter.get(\"/config\", _auth.default.verifyAdmin, _CuponeController.default.config);\nrouter.get(\"/show\", _auth.default.verifyAdmin, _CuponeController.default.show);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CuponeController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DdXBvbmVDb250cm9sbGVyIiwiX2F1dGgiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlBZG1pbiIsImN1cG9uZUNvbnRyb2xsZXIiLCJyZWdpc3RlciIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJjb25maWciLCJzaG93IiwiZGVsZXRlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbIkN1cG9uZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xuaW1wb3J0IGN1cG9uZUNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvQ3Vwb25lQ29udHJvbGxlcidcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXG5cbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcblxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIixhdXRoLnZlcmlmeUFkbWluLGN1cG9uZUNvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUFkbWluLGN1cG9uZUNvbnRyb2xsZXIudXBkYXRlKTtcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sY3Vwb25lQ29udHJvbGxlci5saXN0KTtcbnJvdXRlci5nZXQoXCIvY29uZmlnXCIsYXV0aC52ZXJpZnlBZG1pbixjdXBvbmVDb250cm9sbGVyLmNvbmZpZyk7XG5yb3V0ZXIuZ2V0KFwiL3Nob3dcIixhdXRoLnZlcmlmeUFkbWluLGN1cG9uZUNvbnRyb2xsZXIuc2hvdyk7XG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLGF1dGgudmVyaWZ5QWRtaW4sY3Vwb25lQ29udHJvbGxlci5kZWxldGUpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsaUJBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUksQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUV0QyxNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBRXhCRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0MsUUFBUSxDQUFDO0FBQ25FTixNQUFNLENBQUNPLEdBQUcsQ0FBQyxTQUFTLEVBQUNKLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0csTUFBTSxDQUFDO0FBQzlEUixNQUFNLENBQUNTLEdBQUcsQ0FBQyxPQUFPLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0ssSUFBSSxDQUFDO0FBQzFEVixNQUFNLENBQUNTLEdBQUcsQ0FBQyxTQUFTLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ00sTUFBTSxDQUFDO0FBQzlEWCxNQUFNLENBQUNTLEdBQUcsQ0FBQyxPQUFPLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ08sSUFBSSxDQUFDO0FBQzFEWixNQUFNLENBQUNhLE1BQU0sQ0FBQyxTQUFTLEVBQUNWLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ1EsTUFBTSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFoQixPQUFBLEdBRW5EQyxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CuponeController","_auth","e","__esModule","default","router","routerx","post","auth","verifyAdmin","cuponeController","register","put","update","get","list","config","show","delete","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Cupone.js"],"sourcesContent":["import routerx from 'express-promise-router'\nimport cuponeController from '../controllers/CuponeController'\nimport auth from '../middlewares/auth'\n\nconst router = routerx();\n\nrouter.post(\"/register\",auth.verifyAdmin,cuponeController.register);\nrouter.put(\"/update\",auth.verifyAdmin,cuponeController.update);\nrouter.get(\"/list\",auth.verifyAdmin,cuponeController.list);\nrouter.get(\"/config\",auth.verifyAdmin,cuponeController.config);\nrouter.get(\"/show\",auth.verifyAdmin,cuponeController.show);\nrouter.delete(\"/delete\",auth.verifyAdmin,cuponeController.delete);\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,iBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACC,QAAQ,CAAC;AACnEN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACG,MAAM,CAAC;AAC9DR,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACK,IAAI,CAAC;AAC1DV,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACM,MAAM,CAAC;AAC9DX,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACO,IAAI,CAAC;AAC1DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACQ,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAEnDC,MAAM","ignoreList":[]}},"mtime":1738074332387},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/CuponeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let exits_cupone = await _models.default.Cupone.findOne({\n        code: data.code\n      });\n      if (exits_cupone) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n        });\n        return;\n      }\n      let cupone = await _models.default.Cupone.create(data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"El cupón se registró satisfactoriamente\",\n        cupone: cupone\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let exits_cupone = await _models.default.Cupone.findOne({\n        code: data.code,\n        _id: {\n          $ne: data._id\n        }\n      });\n      if (exits_cupone) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n        });\n        return;\n      }\n      let cupone = await _models.default.Cupone.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let cuponeT = await _models.default.Cupone.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"El cupón se actualizó satisfactoriamente\",\n        cupone: cuponeT\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Cupone.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"El cupón se eliminó satisfactoriamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      let search = req.query.search;\n      let cupones = await _models.default.Cupone.find({\n        $or: [{\n          \"code\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        message: 200,\n        cupones: cupones\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      let cupone_id = req.query.cupone_id;\n      let cupon = await _models.default.Cupone.findOne({\n        _id: cupone_id\n      });\n      res.status(200).json({\n        message: 200,\n        cupon: cupon\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      let Products = await _models.default.Product.find({\n        state: 2,\n        condition: {\n          $ne: 3\n        }\n      });\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      res.status(200).json({\n        message: 200,\n        products: Products,\n        categories: Categories\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5IiwiZXhpdHNfY3Vwb25lIiwibW9kZWxzIiwiQ3Vwb25lIiwiZmluZE9uZSIsImNvZGUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsIm1lc3NhZ2VfdGV4dCIsImN1cG9uZSIsImNyZWF0ZSIsImVycm9yIiwic2VuZCIsInVwZGF0ZSIsIl9pZCIsIiRuZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiY3Vwb25lVCIsImZpbmRCeUlkIiwiZGVsZXRlIiwicXVlcnkiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImxpc3QiLCJzZWFyY2giLCJjdXBvbmVzIiwiZmluZCIsIiRvciIsIlJlZ0V4cCIsInNvcnQiLCJzaG93IiwiY3Vwb25lX2lkIiwiY3Vwb24iLCJjb25maWciLCJQcm9kdWN0cyIsIlByb2R1Y3QiLCJzdGF0ZSIsImNvbmRpdGlvbiIsIkNhdGVnb3JpZXMiLCJDYXRlZ29yaWUiLCJwcm9kdWN0cyIsImNhdGVnb3JpZXMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJDdXBvbmVDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICByZWdpc3RlcjogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcblxuICAgICAgICAgICAgbGV0IGV4aXRzX2N1cG9uZSA9IGF3YWl0IG1vZGVscy5DdXBvbmUuZmluZE9uZSh7Y29kZTogZGF0YS5jb2RlfSk7XG5cbiAgICAgICAgICAgIGlmKGV4aXRzX2N1cG9uZSl7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOjQwMyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENPRElHTyBERUwgQ1VQT04gWUEgRVhJU1RFXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBjdXBvbmUgPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmNyZWF0ZShkYXRhKTtcblxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRWwgY3Vww7NuIHNlIHJlZ2lzdHLDsyBzYXRpc2ZhY3RvcmlhbWVudGVcIixcbiAgICAgICAgICAgICAgICBjdXBvbmU6Y3Vwb25lXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHVwZGF0ZTogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcblxuICAgICAgICAgICAgbGV0IGV4aXRzX2N1cG9uZSA9IGF3YWl0IG1vZGVscy5DdXBvbmUuZmluZE9uZSh7Y29kZTogZGF0YS5jb2RlLF9pZDogeyRuZTogZGF0YS5faWR9fSk7XG5cbiAgICAgICAgICAgIGlmKGV4aXRzX2N1cG9uZSl7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOjQwMyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENPRElHTyBERUwgQ1VQT04gWUEgRVhJU1RFXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBjdXBvbmUgPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IGRhdGEuX2lkfSxkYXRhKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IGN1cG9uZVQgPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRCeUlkKHtfaWQ6IGRhdGEuX2lkfSk7XG5cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVsIGN1cMOzbiBzZSBhY3R1YWxpesOzIHNhdGlzZmFjdG9yaWFtZW50ZVwiLFxuICAgICAgICAgICAgICAgIGN1cG9uZTpjdXBvbmVULFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBkZWxldGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBfaWQgPSByZXEucXVlcnkuX2lkO1xuXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IF9pZH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFbCBjdXDDs24gc2UgZWxpbWluw7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGxpc3Q6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoO1xuXG4gICAgICAgICAgICBsZXQgY3Vwb25lcyA9IGF3YWl0IG1vZGVscy5DdXBvbmUuZmluZCh7XG4gICAgICAgICAgICAgICAgJG9yOltcbiAgICAgICAgICAgICAgICAgICAge1wiY29kZVwiOiBuZXcgUmVnRXhwKHNlYXJjaCwgXCJpXCIpfSxcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9KS5zb3J0KHsnY3JlYXRlZEF0JzogLTF9KTtcblxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcbiAgICAgICAgICAgICAgICBjdXBvbmVzOiBjdXBvbmVzLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzaG93OiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgY3Vwb25lX2lkID0gcmVxLnF1ZXJ5LmN1cG9uZV9pZDtcblxuICAgICAgICAgICAgbGV0IGN1cG9uID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kT25lKHtfaWQ6IGN1cG9uZV9pZH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxuICAgICAgICAgICAgICAgIGN1cG9uOiBjdXBvbixcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgY29uZmlnOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgUHJvZHVjdHMgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kKHsgc3RhdGU6IDIsIGNvbmRpdGlvbjogeyAkbmU6IDMgfSB9KTtcbiAgICAgICAgICAgIGxldCBDYXRlZ29yaWVzID0gYXdhaXQgbW9kZWxzLkNhdGVnb3JpZS5maW5kKHtzdGF0ZToxfSk7XG5cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXG4gICAgICAgICAgICAgICAgcHJvZHVjdHM6IFByb2R1Y3RzLFxuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXM6IENhdGVnb3JpZXMsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxufSJdLCJtYXBwaW5ncyI6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QUU7TUFDYixDQUFDLENBQUM7SUFDTjtFQUNKLENBQUM7RUFDRHNCLElBQUksRUFBRSxNQUFBQSxDQUFNakMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDcEIsSUFBSTtNQUNBLElBQUlpQyxTQUFTLEdBQUdsQyxHQUFHLENBQUN3QixLQUFLLENBQUNVLFNBQVM7TUFFbkMsSUFBSUMsS0FBSyxHQUFHLE1BQU05QixlQUFNLENBQUNDLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDO1FBQUNXLEdBQUcsRUFBRWdCO01BQVMsQ0FBQyxDQUFDO01BRXpEakMsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFLEdBQUc7UUFDWndCLEtBQUssRUFBRUE7TUFDWCxDQUFDLENBQUM7SUFFTixDQUFDLENBQUMsT0FBT3BCLEtBQUssRUFBRTtNQUNaZCxHQUFHLENBQUNRLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ08sSUFBSSxDQUFDO1FBQ2pCTCxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtFQUNKLENBQUM7RUFDRHlCLE1BQU0sRUFBRSxNQUFBQSxDQUFNcEMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDdEIsSUFBSTtNQUNBLElBQUlvQyxRQUFRLEdBQUcsTUFBTWhDLGVBQU0sQ0FBQ2lDLE9BQU8sQ0FBQ1QsSUFBSSxDQUFDO1FBQUVVLEtBQUssRUFBRSxDQUFDO1FBQUVDLFNBQVMsRUFBRTtVQUFFckIsR0FBRyxFQUFFO1FBQUU7TUFBRSxDQUFDLENBQUM7TUFDN0UsSUFBSXNCLFVBQVUsR0FBRyxNQUFNcEMsZUFBTSxDQUFDcUMsU0FBUyxDQUFDYixJQUFJLENBQUM7UUFBQ1UsS0FBSyxFQUFDO01BQUMsQ0FBQyxDQUFDO01BRXZEdEMsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFLEdBQUc7UUFDWmdDLFFBQVEsRUFBRU4sUUFBUTtRQUNsQk8sVUFBVSxFQUFFSDtNQUNoQixDQUFDLENBQUM7SUFFTixDQUFDLENBQUMsT0FBTzFCLEtBQUssRUFBRTtNQUNaZCxHQUFHLENBQUNRLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ08sSUFBSSxDQUFDO1FBQ2pCTCxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtFQUNKO0FBQ0osQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_models","_interopRequireDefault","require","e","__esModule","default","_default","exports","register","req","res","data","body","exits_cupone","models","Cupone","findOne","code","status","json","message","message_text","cupone","create","error","send","update","_id","$ne","findByIdAndUpdate","cuponeT","findById","delete","query","findByIdAndDelete","list","search","cupones","find","$or","RegExp","sort","show","cupone_id","cupon","config","Products","Product","state","condition","Categories","Categorie","products","categories"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["CuponeController.js"],"sourcesContent":["import models from \"../models\"\n\nexport default {\n    register: async(req,res) => {\n        try {\n            let data = req.body;\n\n            let exits_cupone = await models.Cupone.findOne({code: data.code});\n\n            if(exits_cupone){\n                res.status(200).json({\n                    message:403,\n                    message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n                });\n                return;\n            }\n\n            let cupone = await models.Cupone.create(data);\n\n            res.status(200).json({\n                message: 200,\n                message_text: \"El cupón se registró satisfactoriamente\",\n                cupone:cupone\n            });\n\n        } catch (error) {\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    update: async(req,res) => {\n        try {\n            let data = req.body;\n\n            let exits_cupone = await models.Cupone.findOne({code: data.code,_id: {$ne: data._id}});\n\n            if(exits_cupone){\n                res.status(200).json({\n                    message:403,\n                    message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n                });\n                return;\n            }\n\n            let cupone = await models.Cupone.findByIdAndUpdate({_id: data._id},data);\n            \n            let cuponeT = await models.Cupone.findById({_id: data._id});\n\n            res.status(200).json({\n                message: 200,\n                message_text: \"El cupón se actualizó satisfactoriamente\",\n                cupone:cuponeT,\n            });\n\n        } catch (error) {\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    delete: async(req,res) => {\n        try {\n            let _id = req.query._id;\n\n            await models.Cupone.findByIdAndDelete({_id: _id});\n\n            res.status(200).json({\n                message: 200,\n                message_text: \"El cupón se eliminó satisfactoriamente\",\n            });\n\n        } catch (error) {\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    list: async(req,res) => {\n        try {\n            let search = req.query.search;\n\n            let cupones = await models.Cupone.find({\n                $or:[\n                    {\"code\": new RegExp(search, \"i\")},\n                ]\n            }).sort({'createdAt': -1});\n\n            res.status(200).json({\n                message: 200,\n                cupones: cupones,\n            });\n\n        } catch (error) {\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    show: async(req,res) => {\n        try {\n            let cupone_id = req.query.cupone_id;\n\n            let cupon = await models.Cupone.findOne({_id: cupone_id});\n\n            res.status(200).json({\n                message: 200,\n                cupon: cupon,\n            });\n\n        } catch (error) {\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    config: async(req,res) => {\n        try {\n            let Products = await models.Product.find({ state: 2, condition: { $ne: 3 } });\n            let Categories = await models.Categorie.find({state:1});\n\n            res.status(200).json({\n                message: 200,\n                products: Products,\n                categories: Categories,\n            });\n\n        } catch (error) {\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n}"],"mappings":"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","ignoreList":[]}},"mtime":1738094585658},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Discount.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _DiscountController = _interopRequireDefault(require(\"../controllers/DiscountController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyAdmin, _DiscountController.default.register);\nrouter.put(\"/update\", _auth.default.verifyAdmin, _DiscountController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _DiscountController.default.list);\nrouter.get(\"/config\", _auth.default.verifyAdmin, _DiscountController.default.config);\nrouter.get(\"/show\", _auth.default.verifyAdmin, _DiscountController.default.show);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _DiscountController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9EaXNjb3VudENvbnRyb2xsZXIiLCJfYXV0aCIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwiZGlzY291bnRDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJsaXN0IiwiY29uZmlnIiwic2hvdyIsImRlbGV0ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJEaXNjb3VudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xuaW1wb3J0IGRpc2NvdW50Q29udHJvbGxlciBmcm9tICBcIi4uL2NvbnRyb2xsZXJzL0Rpc2NvdW50Q29udHJvbGxlclwiXG5pbXBvcnQgYXV0aCBmcm9tIFwiLi4vbWlkZGxld2FyZXMvYXV0aFwiXG5cbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcblxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci5yZWdpc3Rlcik7XG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLGF1dGgudmVyaWZ5QWRtaW4sZGlzY291bnRDb250cm9sbGVyLnVwZGF0ZSk7XG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci5saXN0KTtcbnJvdXRlci5nZXQoXCIvY29uZmlnXCIsYXV0aC52ZXJpZnlBZG1pbixkaXNjb3VudENvbnRyb2xsZXIuY29uZmlnKTtcbnJvdXRlci5nZXQoXCIvc2hvd1wiLGF1dGgudmVyaWZ5QWRtaW4sZGlzY291bnRDb250cm9sbGVyLnNob3cpO1xucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci5kZWxldGUpO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLG1CQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBc0MsU0FBQUQsdUJBQUFJLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFFdEMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUV4QkQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNDLFFBQVEsQ0FBQztBQUNyRU4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDSixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNHLE1BQU0sQ0FBQztBQUNoRVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNLLElBQUksQ0FBQztBQUM1RFYsTUFBTSxDQUFDUyxHQUFHLENBQUMsU0FBUyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNNLE1BQU0sQ0FBQztBQUNoRVgsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNPLElBQUksQ0FBQztBQUM1RFosTUFBTSxDQUFDYSxNQUFNLENBQUMsU0FBUyxFQUFDVixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNRLE1BQU0sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBaEIsT0FBQSxHQUdyREMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_DiscountController","_auth","e","__esModule","default","router","routerx","post","auth","verifyAdmin","discountController","register","put","update","get","list","config","show","delete","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Discount.js"],"sourcesContent":["import routerx from 'express-promise-router'\nimport discountController from  \"../controllers/DiscountController\"\nimport auth from \"../middlewares/auth\"\n\nconst router = routerx();\n\nrouter.post(\"/register\",auth.verifyAdmin,discountController.register);\nrouter.put(\"/update\",auth.verifyAdmin,discountController.update);\nrouter.get(\"/list\",auth.verifyAdmin,discountController.list);\nrouter.get(\"/config\",auth.verifyAdmin,discountController.config);\nrouter.get(\"/show\",auth.verifyAdmin,discountController.show);\nrouter.delete(\"/delete\",auth.verifyAdmin,discountController.delete);\n\n\nexport default router;\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,mBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACC,QAAQ,CAAC;AACrEN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACG,MAAM,CAAC;AAChER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACK,IAAI,CAAC;AAC5DV,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACM,MAAM,CAAC;AAChEX,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACO,IAAI,CAAC;AAC5DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACQ,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAGrDC,MAAM","ignoreList":[]}},"mtime":1738097761620},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/DiscountController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      var filter_a = [];\n      var filter_b = [];\n      if (data.type_segment == 1) {\n        filter_a.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n      } else {\n        filter_a.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n      }\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        start_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        end_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      let exits_start_date = await _models.default.Discount.find({\n        $and: filter_a\n      });\n      let exits_end_date = await _models.default.Discount.find({\n        $and: filter_b\n      });\n      if (exits_start_date.length > 0 || exits_end_date.length > 0) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR, ALGUNA OPCIÓN SELECCIONADA TIENE UN DESCUENTO ACTIVO\"\n        });\n        return;\n      }\n      let discount = await _models.default.Discount.create(data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"El descuento se registró satisfactoriamente\",\n        discount: discount\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      var filter_a = [];\n      var filter_b = [];\n      if (data.type_segment == 1) {\n        filter_a.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n      } else {\n        filter_a.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"categories\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categorie_s\n              }\n            }\n          }\n        });\n      }\n      ;\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        _id: {\n          $ne: data._id\n        },\n        start_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        _id: {\n          $ne: data._id\n        },\n        end_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      let exits_start_date = await _models.default.Discount.find({\n        $and: filter_a\n      });\n      let exits_end_date = await _models.default.Discount.find({\n        $and: filter_b\n      });\n      if (exits_start_date.length > 0 || exits_end_date.length > 0) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR, ALGUNA OPCIÓN TIENE UN DESCUENTO ACTIVO\"\n        });\n        return;\n      }\n      let discount = await _models.default.Discount.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"El descuento se actualizó satisfactoriamente\",\n        discount: discount\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Discount.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"El descuento se eliminó satisfactoriamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      // let search = req.query.search;\n\n      let discounts = await _models.default.Discount.find().sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        message: 200,\n        discounts: discounts\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      let discount_id = req.query.discount_id;\n      let discount = await _models.default.Discount.findOne({\n        _id: discount_id\n      });\n      res.status(200).json({\n        message: 200,\n        discount: discount\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      let Products = await _models.default.Product.find({\n        state: 2,\n        condition: {\n          $ne: 3\n        }\n      });\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      res.status(200).json({\n        message: 200,\n        products: Products,\n        categories: Categories\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5IiwiZmlsdGVyX2EiLCJmaWx0ZXJfYiIsInR5cGVfc2VnbWVudCIsInB1c2giLCIkZWxlbU1hdGNoIiwiX2lkIiwiJGluIiwicHJvZHVjdF9zIiwiY2F0ZWdvcmllX3MiLCJ0eXBlX2NhbXBhaWduIiwic3RhcnRfZGF0ZV9udW0iLCIkZ3RlIiwiJGx0ZSIsImVuZF9kYXRlX251bSIsImV4aXRzX3N0YXJ0X2RhdGUiLCJtb2RlbHMiLCJEaXNjb3VudCIsImZpbmQiLCIkYW5kIiwiZXhpdHNfZW5kX2RhdGUiLCJsZW5ndGgiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsIm1lc3NhZ2VfdGV4dCIsImRpc2NvdW50IiwiY3JlYXRlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwic2VuZCIsInVwZGF0ZSIsIiRuZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiZGVsZXRlIiwicXVlcnkiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImxpc3QiLCJkaXNjb3VudHMiLCJzb3J0Iiwic2hvdyIsImRpc2NvdW50X2lkIiwiZmluZE9uZSIsImNvbmZpZyIsIlByb2R1Y3RzIiwiUHJvZHVjdCIsInN0YXRlIiwiY29uZGl0aW9uIiwiQ2F0ZWdvcmllcyIsIkNhdGVnb3JpZSIsInByb2R1Y3RzIiwiY2F0ZWdvcmllcyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIkRpc2NvdW50Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIlxuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XG4gICAgICAgICAgICB2YXIgZmlsdGVyX2EgPSBbXTtcbiAgICAgICAgICAgIHZhciBmaWx0ZXJfYiA9IFtdO1xuXG4gICAgICAgICAgICBpZihkYXRhLnR5cGVfc2VnbWVudCA9PSAxKXtcblxuICAgICAgICAgICAgICBmaWx0ZXJfYS5wdXNoKHtcbiAgICAgICAgICAgICAgICBcInByb2R1Y3RzXCI6IHskZWxlbU1hdGNoOiB7X2lkOiB7JGluOiBkYXRhLnByb2R1Y3Rfc319fVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgZmlsdGVyX2IucHVzaCh7XG4gICAgICAgICAgICAgICAgXCJwcm9kdWN0c1wiOiB7JGVsZW1NYXRjaDoge19pZDogeyRpbjogZGF0YS5wcm9kdWN0X3N9fX1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgZmlsdGVyX2EucHVzaCh7XG4gICAgICAgICAgICAgICAgXCJjYXRlZ29yaWVzXCI6IHskZWxlbU1hdGNoOiB7X2lkOiB7JGluOmRhdGEuY2F0ZWdvcmllX3N9fX1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xuICAgICAgICAgICAgICAgIFwiY2F0ZWdvcmllc1wiOiB7JGVsZW1NYXRjaDoge19pZDogeyRpbjpkYXRhLmNhdGVnb3JpZV9zfX19XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmaWx0ZXJfYS5wdXNoKHtcbiAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogZGF0YS50eXBlX2NhbXBhaWduLFxuICAgICAgICAgICAgICBzdGFydF9kYXRlX251bTogeyRndGU6IGRhdGEuc3RhcnRfZGF0ZV9udW0sICRsdGU6IGRhdGEuZW5kX2RhdGVfbnVtfVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgZmlsdGVyX2IucHVzaCh7XG4gICAgICAgICAgICAgIHR5cGVfY2FtcGFpZ246IGRhdGEudHlwZV9jYW1wYWlnbixcbiAgICAgICAgICAgICAgZW5kX2RhdGVfbnVtOiB7JGd0ZTogZGF0YS5zdGFydF9kYXRlX251bSwgJGx0ZTogZGF0YS5lbmRfZGF0ZV9udW19XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBsZXQgZXhpdHNfc3RhcnRfZGF0ZSA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kKHskYW5kOiBmaWx0ZXJfYX0pO1xuXG4gICAgICAgICAgICBsZXQgZXhpdHNfZW5kX2RhdGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZCh7JGFuZDogZmlsdGVyX2J9KTtcblxuICAgICAgICAgICAgaWYoIGV4aXRzX3N0YXJ0X2RhdGUubGVuZ3RoID4gMCB8fCBleGl0c19lbmRfZGF0ZS5sZW5ndGggPiAwKXtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6NDAzLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgREVTQ1VFTlRPIE5PIFNFIFBVRURFIFBST0dSQU1BUiwgQUxHVU5BIE9QQ0nDk04gU0VMRUNDSU9OQURBIFRJRU5FIFVOIERFU0NVRU5UTyBBQ1RJVk9cIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGRpc2NvdW50ID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmNyZWF0ZShkYXRhKTtcblxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRWwgZGVzY3VlbnRvIHNlIHJlZ2lzdHLDsyBzYXRpc2ZhY3RvcmlhbWVudGVcIixcbiAgICAgICAgICAgICAgICBkaXNjb3VudDpkaXNjb3VudFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xuICAgICAgICAgIHZhciBmaWx0ZXJfYSA9IFtdO1xuICAgICAgICAgIHZhciBmaWx0ZXJfYiA9IFtdO1xuXG4gICAgICAgICAgaWYoZGF0YS50eXBlX3NlZ21lbnQgPT0gMSl7XG4gICAgICAgICAgICBmaWx0ZXJfYS5wdXNoKHtcbiAgICAgICAgICAgICAgXCJwcm9kdWN0c1wiOiB7JGVsZW1NYXRjaDoge19pZDogeyRpbjpkYXRhLnByb2R1Y3Rfc319fVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmaWx0ZXJfYi5wdXNoKHtcbiAgICAgICAgICAgICAgXCJwcm9kdWN0c1wiOiB7JGVsZW1NYXRjaDoge19pZDogeyRpbjpkYXRhLnByb2R1Y3Rfc319fVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBmaWx0ZXJfYS5wdXNoKHtcbiAgICAgICAgICAgICAgXCJjYXRlZ29yaWVzXCI6IHskZWxlbU1hdGNoOiB7X2lkOiB7JGluOmRhdGEuY2F0ZWdvcmllX3N9fX1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZmlsdGVyX2IucHVzaCh7XG4gICAgICAgICAgICAgIFwiY2F0ZWdvcmllc1wiOiB7JGVsZW1NYXRjaDoge19pZDogeyRpbjpkYXRhLmNhdGVnb3JpZV9zfX19XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgZmlsdGVyX2EucHVzaCh7XG4gICAgICAgICAgICB0eXBlX2NhbXBhaWduOiBkYXRhLnR5cGVfY2FtcGFpZ24sXG4gICAgICAgICAgICBfaWQ6IHskbmU6IGRhdGEuX2lkfSxcbiAgICAgICAgICAgIHN0YXJ0X2RhdGVfbnVtOiB7JGd0ZTogZGF0YS5zdGFydF9kYXRlX251bSwgJGx0ZTogZGF0YS5lbmRfZGF0ZV9udW19XG4gICAgICAgICAgfSlcblxuICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xuICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogZGF0YS50eXBlX2NhbXBhaWduLFxuICAgICAgICAgICAgX2lkOiB7JG5lOiBkYXRhLl9pZH0sXG4gICAgICAgICAgICBlbmRfZGF0ZV9udW06IHskZ3RlOiBkYXRhLnN0YXJ0X2RhdGVfbnVtLCAkbHRlOiBkYXRhLmVuZF9kYXRlX251bX1cbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgbGV0IGV4aXRzX3N0YXJ0X2RhdGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZCh7JGFuZDogZmlsdGVyX2F9KTtcblxuICAgICAgICAgIGxldCBleGl0c19lbmRfZGF0ZSA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kKHskYW5kOiBmaWx0ZXJfYn0pO1xuXG4gICAgICAgICAgaWYoIGV4aXRzX3N0YXJ0X2RhdGUubGVuZ3RoID4gMCB8fCBleGl0c19lbmRfZGF0ZS5sZW5ndGggPiAwICl7XG4gICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6NDAzLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIERFU0NVRU5UTyBOTyBTRSBQVUVERSBQUk9HUkFNQVIsIEFMR1VOQSBPUENJw5NOIFRJRU5FIFVOIERFU0NVRU5UTyBBQ1RJVk9cIlxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxldCBkaXNjb3VudCA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiBkYXRhLl9pZH0sZGF0YSk7XG5cbiAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcbiAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVsIGRlc2N1ZW50byBzZSBhY3R1YWxpesOzIHNhdGlzZmFjdG9yaWFtZW50ZVwiLFxuICAgICAgICAgICAgICBkaXNjb3VudDpkaXNjb3VudFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZGVsZXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgX2lkID0gcmVxLnF1ZXJ5Ll9pZDtcblxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IF9pZH0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFbCBkZXNjdWVudG8gc2UgZWxpbWluw7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGxpc3Q6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgLy8gbGV0IHNlYXJjaCA9IHJlcS5xdWVyeS5zZWFyY2g7XG5cbiAgICAgICAgICAgIGxldCBkaXNjb3VudHMgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZCgpLnNvcnQoeydjcmVhdGVkQXQnOiAtMX0pO1xuXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxuICAgICAgICAgICAgICAgIGRpc2NvdW50czogZGlzY291bnRzLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzaG93OiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgZGlzY291bnRfaWQgPSByZXEucXVlcnkuZGlzY291bnRfaWQ7XG5cbiAgICAgICAgICAgIGxldCBkaXNjb3VudCA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kT25lKHtfaWQ6IGRpc2NvdW50X2lkfSk7XG5cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXG4gICAgICAgICAgICAgICAgZGlzY291bnQ6IGRpc2NvdW50LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBjb25maWc6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoeyBzdGF0ZTogMiwgY29uZGl0aW9uOiB7ICRuZTogMyB9IH0pO1xuICAgICAgICAgICAgbGV0IENhdGVnb3JpZXMgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmQoe3N0YXRlOjF9KTtcblxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcbiAgICAgICAgICAgICAgICBwcm9kdWN0czogUHJvZHVjdHMsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllczogQ2F0ZWdvcmllcyxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBOEIsU0FBQUQsdUJBQUFFLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVmO0VBQ1hHLFFBQVEsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FB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","map":{"version":3,"names":["_models","_interopRequireDefault","require","e","__esModule","default","_default","exports","register","req","res","data","body","filter_a","filter_b","type_segment","push","$elemMatch","_id","$in","product_s","categorie_s","type_campaign","start_date_num","$gte","$lte","end_date_num","exits_start_date","models","Discount","find","$and","exits_end_date","length","status","json","message","message_text","discount","create","error","console","log","send","update","$ne","findByIdAndUpdate","delete","query","findByIdAndDelete","list","discounts","sort","show","discount_id","findOne","config","Products","Product","state","condition","Categories","Categorie","products","categories"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["DiscountController.js"],"sourcesContent":["import models from \"../models\"\n\nexport default {\n    register: async(req,res) => {\n        try {\n            let data = req.body;\n            var filter_a = [];\n            var filter_b = [];\n\n            if(data.type_segment == 1){\n\n              filter_a.push({\n                \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\n              });\n              filter_b.push({\n                \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\n              });\n            }else{\n              filter_a.push({\n                \"categories\": {$elemMatch: {_id: {$in:data.categorie_s}}}\n              });\n              filter_b.push({\n                \"categories\": {$elemMatch: {_id: {$in:data.categorie_s}}}\n              });\n            }\n\n            filter_a.push({\n              type_campaign: data.type_campaign,\n              start_date_num: {$gte: data.start_date_num, $lte: data.end_date_num}\n            })\n\n            filter_b.push({\n              type_campaign: data.type_campaign,\n              end_date_num: {$gte: data.start_date_num, $lte: data.end_date_num}\n            })\n\n            let exits_start_date = await models.Discount.find({$and: filter_a});\n\n            let exits_end_date = await models.Discount.find({$and: filter_b});\n\n            if( exits_start_date.length > 0 || exits_end_date.length > 0){\n                res.status(200).json({\n                    message:403,\n                    message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR, ALGUNA OPCIÓN SELECCIONADA TIENE UN DESCUENTO ACTIVO\"\n                });\n                return;\n            }\n\n            let discount = await models.Discount.create(data);\n\n            res.status(200).json({\n                message: 200,\n                message_text: \"El descuento se registró satisfactoriamente\",\n                discount:discount\n            });\n\n        } catch (error) {\n            console.log(error);\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    update: async(req,res) => {\n        try {\n          let data = req.body;\n          var filter_a = [];\n          var filter_b = [];\n\n          if(data.type_segment == 1){\n            filter_a.push({\n              \"products\": {$elemMatch: {_id: {$in:data.product_s}}}\n            });\n            filter_b.push({\n              \"products\": {$elemMatch: {_id: {$in:data.product_s}}}\n            });\n          }else{\n            filter_a.push({\n              \"categories\": {$elemMatch: {_id: {$in:data.categorie_s}}}\n            });\n            filter_b.push({\n              \"categories\": {$elemMatch: {_id: {$in:data.categorie_s}}}\n            });\n          };\n\n          filter_a.push({\n            type_campaign: data.type_campaign,\n            _id: {$ne: data._id},\n            start_date_num: {$gte: data.start_date_num, $lte: data.end_date_num}\n          })\n\n          filter_b.push({\n            type_campaign: data.type_campaign,\n            _id: {$ne: data._id},\n            end_date_num: {$gte: data.start_date_num, $lte: data.end_date_num}\n          })\n\n          let exits_start_date = await models.Discount.find({$and: filter_a});\n\n          let exits_end_date = await models.Discount.find({$and: filter_b});\n\n          if( exits_start_date.length > 0 || exits_end_date.length > 0 ){\n              res.status(200).json({\n                  message:403,\n                  message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR, ALGUNA OPCIÓN TIENE UN DESCUENTO ACTIVO\"\n              });\n              return;\n          }\n\n          let discount = await models.Discount.findByIdAndUpdate({_id: data._id},data);\n\n          res.status(200).json({\n              message: 200,\n              message_text: \"El descuento se actualizó satisfactoriamente\",\n              discount:discount\n          });\n\n        } catch (error) {\n            console.log(error);\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    delete: async(req,res) => {\n        try {\n            let _id = req.query._id;\n\n            await models.Discount.findByIdAndDelete({_id: _id});\n\n            res.status(200).json({\n                message: 200,\n                message_text: \"El descuento se eliminó satisfactoriamente\",\n            });\n\n        } catch (error) {\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    list: async(req,res) => {\n        try {\n           // let search = req.query.search;\n\n            let discounts = await models.Discount.find().sort({'createdAt': -1});\n\n            res.status(200).json({\n                message: 200,\n                discounts: discounts,\n            });\n\n        } catch (error) {\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    show: async(req,res) => {\n        try {\n            let discount_id = req.query.discount_id;\n\n            let discount = await models.Discount.findOne({_id: discount_id});\n\n            res.status(200).json({\n                message: 200,\n                discount: discount,\n            });\n\n        } catch (error) {\n            console.log(error);\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n    config: async(req,res) => {\n        try {\n            let Products = await models.Product.find({ state: 2, condition: { $ne: 3 } });\n            let Categories = await models.Categorie.find({state:1});\n\n            res.status(200).json({\n                message: 200,\n                products: Products,\n                categories: Categories,\n            });\n\n        } catch (error) {\n            console.log(error);\n            res.status(500).send({\n                message: \"OCURRIO UN ERROR\",\n            });\n        }\n    },\n}"],"mappings":"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","ignoreList":[]}},"mtime":1738251308344},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Home.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _HomeController = _interopRequireDefault(require(\"../controllers/HomeController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.get(\"/list\", _HomeController.default.list);\nrouter.get(\"/landing-product/:slug\", _HomeController.default.show_landing_product);\nrouter.post(\"/search_product\", _HomeController.default.search_product);\nrouter.get(\"/config_initial\", _HomeController.default.config_initial);\nrouter.post(\"/filter_products\", _HomeController.default.filter_products);\nrouter.post(\"/profile_client\", _auth.default.verifyEcommerce, _HomeController.default.profile_client);\nrouter.post(\"/update_client\", _auth.default.verifyEcommerce, _HomeController.default.update_client);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Ib21lQ29udHJvbGxlciIsIl9hdXRoIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsImdldCIsImhvbWVDb250cm9sbGVyIiwibGlzdCIsInNob3dfbGFuZGluZ19wcm9kdWN0IiwicG9zdCIsInNlYXJjaF9wcm9kdWN0IiwiY29uZmlnX2luaXRpYWwiLCJmaWx0ZXJfcHJvZHVjdHMiLCJhdXRoIiwidmVyaWZ5RWNvbW1lcmNlIiwicHJvZmlsZV9jbGllbnQiLCJ1cGRhdGVfY2xpZW50IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbIkhvbWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcbmltcG9ydCBob21lQ29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9Ib21lQ29udHJvbGxlcidcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXG5cblxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixob21lQ29udHJvbGxlci5saXN0KTtcbnJvdXRlci5nZXQoXCIvbGFuZGluZy1wcm9kdWN0LzpzbHVnXCIsaG9tZUNvbnRyb2xsZXIuc2hvd19sYW5kaW5nX3Byb2R1Y3QpO1xucm91dGVyLnBvc3QoXCIvc2VhcmNoX3Byb2R1Y3RcIixob21lQ29udHJvbGxlci5zZWFyY2hfcHJvZHVjdCk7XG5yb3V0ZXIuZ2V0KFwiL2NvbmZpZ19pbml0aWFsXCIsaG9tZUNvbnRyb2xsZXIuY29uZmlnX2luaXRpYWwpO1xucm91dGVyLnBvc3QoXCIvZmlsdGVyX3Byb2R1Y3RzXCIsaG9tZUNvbnRyb2xsZXIuZmlsdGVyX3Byb2R1Y3RzKTtcbnJvdXRlci5wb3N0KFwiL3Byb2ZpbGVfY2xpZW50XCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsaG9tZUNvbnRyb2xsZXIucHJvZmlsZV9jbGllbnQpO1xucm91dGVyLnBvc3QoXCIvdXBkYXRlX2NsaWVudFwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGhvbWVDb250cm9sbGVyLnVwZGF0ZV9jbGllbnQpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsZUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBR3RDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFFeEJELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBQ0MsdUJBQWMsQ0FBQ0MsSUFBSSxDQUFDO0FBQ3ZDSixNQUFNLENBQUNFLEdBQUcsQ0FBQyx3QkFBd0IsRUFBQ0MsdUJBQWMsQ0FBQ0Usb0JBQW9CLENBQUM7QUFDeEVMLE1BQU0sQ0FBQ00sSUFBSSxDQUFDLGlCQUFpQixFQUFDSCx1QkFBYyxDQUFDSSxjQUFjLENBQUM7QUFDNURQLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLGlCQUFpQixFQUFDQyx1QkFBYyxDQUFDSyxjQUFjLENBQUM7QUFDM0RSLE1BQU0sQ0FBQ00sSUFBSSxDQUFDLGtCQUFrQixFQUFDSCx1QkFBYyxDQUFDTSxlQUFlLENBQUM7QUFDOURULE1BQU0sQ0FBQ00sSUFBSSxDQUFDLGlCQUFpQixFQUFDSSxhQUFJLENBQUNDLGVBQWUsRUFBQ1IsdUJBQWMsQ0FBQ1MsY0FBYyxDQUFDO0FBQ2pGWixNQUFNLENBQUNNLElBQUksQ0FBQyxnQkFBZ0IsRUFBQ0ksYUFBSSxDQUFDQyxlQUFlLEVBQUNSLHVCQUFjLENBQUNVLGFBQWEsQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBaEIsT0FBQSxHQUVqRUMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_HomeController","_auth","e","__esModule","default","router","routerx","get","homeController","list","show_landing_product","post","search_product","config_initial","filter_products","auth","verifyEcommerce","profile_client","update_client","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Home.js"],"sourcesContent":["import routerx from 'express-promise-router'\nimport homeController from '../controllers/HomeController'\nimport auth from '../middlewares/auth'\n\n\nconst router = routerx();\n\nrouter.get(\"/list\",homeController.list);\nrouter.get(\"/landing-product/:slug\",homeController.show_landing_product);\nrouter.post(\"/search_product\",homeController.search_product);\nrouter.get(\"/config_initial\",homeController.config_initial);\nrouter.post(\"/filter_products\",homeController.filter_products);\nrouter.post(\"/profile_client\",auth.verifyEcommerce,homeController.profile_client);\nrouter.post(\"/update_client\",auth.verifyEcommerce,homeController.update_client);\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAGtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,GAAG,CAAC,OAAO,EAACC,uBAAc,CAACC,IAAI,CAAC;AACvCJ,MAAM,CAACE,GAAG,CAAC,wBAAwB,EAACC,uBAAc,CAACE,oBAAoB,CAAC;AACxEL,MAAM,CAACM,IAAI,CAAC,iBAAiB,EAACH,uBAAc,CAACI,cAAc,CAAC;AAC5DP,MAAM,CAACE,GAAG,CAAC,iBAAiB,EAACC,uBAAc,CAACK,cAAc,CAAC;AAC3DR,MAAM,CAACM,IAAI,CAAC,kBAAkB,EAACH,uBAAc,CAACM,eAAe,CAAC;AAC9DT,MAAM,CAACM,IAAI,CAAC,iBAAiB,EAACI,aAAI,CAACC,eAAe,EAACR,uBAAc,CAACS,cAAc,CAAC;AACjFZ,MAAM,CAACM,IAAI,CAAC,gBAAgB,EAACI,aAAI,CAACC,eAAe,EAACR,uBAAc,CAACU,aAAa,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAEjEC,MAAM","ignoreList":[]}},"mtime":1740583513095},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/HomeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  list: async (req, res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let Sliders = await _models.default.Slider.find({\n        state: 1\n      });\n      Sliders = Sliders.map(slider => {\n        return _resourses.default.Slider.slider_list(slider);\n      });\n      let productPromo = await _models.default.Product.findById('67c0ebd90204b3909cea1e67');\n      if (productPromo) {\n        productPromo = _resourses.default.Product.product_list(productPromo);\n      }\n      let Categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      Categories = Categories.map(categorie => {\n        return _resourses.default.Categorie.categorie_list(categorie);\n      });\n      let CampaignDiscount = await _models.default.Discount.findOne({\n        type_campaign: 1,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        end_date_num: {\n          $gte: TIME_NOW\n        }\n      });\n\n      // console.log(CampaignDiscount);\n\n      let BestProducts = await _models.default.Product.find({\n        state: 2,\n        condition: {\n          $ne: 3\n        }\n      }).sort({\n        \"createdAt\": -1\n      });\n      var ObjectBestProducts = [];\n      for (const Product of BestProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaignDiscount) {\n          if (CampaignDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaignDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaignDiscount;\n            }\n          } else {\n            // por categoria}\n            let categories_a = [];\n            CampaignDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaignDiscount;\n            }\n          }\n        }\n        ObjectBestProducts.push(_resourses.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n      let OursProducts = await _models.default.Product.find({\n        state: 2,\n        condition: {\n          $ne: 3\n        }\n      }).sort({\n        \"createdAt\": 1\n      });\n      var ObjectOursProducts = [];\n      for (const Product of OursProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaignDiscount) {\n          if (CampaignDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaignDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaignDiscount;\n            }\n          } else {\n            // por categoria}\n            let categories_a = [];\n            CampaignDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaignDiscount;\n            }\n          }\n        }\n        ObjectOursProducts.push(_resourses.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n\n      // OursProducts = OursProducts.map(async (product) => {\n      //   let VARIEDADES = await models.Variedad.find({product: product._id});\n      //   return resourse.Product.product_list(product,VARIEDADES);\n      // })\n\n      let DonationProducts = await _models.default.Product.find({\n        state: 2,\n        condition: 3\n      }).sort({\n        \"createdAt\": 1\n      });\n      var ObjectDonationProducts = [];\n      for (const Product of DonationProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        ObjectDonationProducts.push(_resourses.default.Product.product_list(Product, VARIEDADES));\n      }\n\n      // DonationProducts = DonationProducts.map((product) => {\n      //   return resourse.Product.product_list(product);\n      // })\n\n      let FlashSale = await _models.default.Discount.findOne({\n        type_campaign: 2,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        end_date_num: {\n          $gte: TIME_NOW\n        }\n      });\n      let ProductList = [];\n      if (FlashSale) {\n        for (const product of FlashSale.products) {\n          var ObjecT = await _models.default.Product.findById({\n            _id: product._id\n          });\n          let VARIEDADES = await _models.default.Variedad.find({\n            product: product._id\n          });\n          ProductList.push(_resourses.default.Product.product_list(ObjecT, VARIEDADES));\n        }\n      }\n      //console.log(FlashSale);\n      // console.log(TIME_NOW);\n\n      res.status(200).json({\n        sliders: Sliders,\n        categories: Categories,\n        productPromo: [productPromo],\n        // Envía como un arreglo\n        best_products: ObjectBestProducts,\n        our_products: ObjectOursProducts,\n        donation_products: ObjectDonationProducts,\n        FlashSale: FlashSale,\n        campaign_products: ProductList\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  show_landing_product: async (req, res) => {\n    try {\n      let SLUG = req.params.slug;\n      let DISCOUNT_ID = req.query._id;\n\n      // console.log(\"_id= \"+DISCOUNT_ID);\n\n      let Product = await _models.default.Product.findOne({\n        slug: SLUG,\n        state: 2\n      });\n      let VARIEDADES = await _models.default.Variedad.find({\n        product: Product._id\n      });\n      let REVIEWS = await _models.default.Review.find({\n        product: Product._id\n      }).populate(\"user\");\n      let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n      let COUNT_REVIEW = REVIEWS.length;\n\n      // console.log(\"Las estrellas: \"+AVG_REVIEW);\n\n      let RelatedProducts = await _models.default.Product.find({\n        categorie: Product.categorie,\n        state: 2\n      });\n      var ObjectRelatedProducts = [];\n      for (const Product of RelatedProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        ObjectRelatedProducts.push(_resourses.default.Product.product_list(Product, VARIEDADES));\n      }\n      let SALE_FLASH = null;\n      if (DISCOUNT_ID) {\n        SALE_FLASH = await _models.default.Discount.findById({\n          _id: DISCOUNT_ID\n        });\n      }\n      res.status(200).json({\n        product: _resourses.default.Product.product_list(Product, VARIEDADES),\n        related_products: ObjectRelatedProducts,\n        SALE_FLASH: SALE_FLASH,\n        REVIEWS: REVIEWS,\n        AVG_REVIEW: AVG_REVIEW,\n        COUNT_REVIEW: COUNT_REVIEW,\n        message: \"Super! El producto agregó satisfactoriamente\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  search_product: async (req, res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let search_product = req.body.search_product;\n      let OursProducts = await _models.default.Product.find({\n        state: 2,\n        title: new RegExp(search_product, \"i\")\n      }).sort({\n        \"createdAt\": 1\n      });\n      let CampaignDiscount = await _models.default.Discount.findOne({\n        type_campaign: 1,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        end_date_num: {\n          $gte: TIME_NOW\n        }\n      });\n      var Products = [];\n      for (const Product of OursProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaignDiscount) {\n          if (CampaignDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaignDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaignDiscount;\n            }\n          } else {\n            // por categoria}\n            let categories_a = [];\n            CampaignDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaignDiscount;\n            }\n          }\n        }\n        Products.push(_resourses.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n      res.status(200).json({\n        products: Products\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  profile_client: async (req, res) => {\n    try {\n      let user_id = req.body.user_id;\n      let Orders = await _models.default.Sale.find({\n        user: user_id\n      });\n      let sale_orders = [];\n      for (const order of Orders) {\n        let detail_orders = await _models.default.SaleDetail.find({\n          sale: order._id\n        }).populate({\n          path: \"product\",\n          populate: {\n            path: \"categorie\"\n          }\n        }).populate(\"variedad\");\n        let sale_address = await _models.default.SaleAddress.find({\n          sale: order._id\n        });\n        let collection_detail_orders = [];\n        for (const detail_order of detail_orders) {\n          let reviewS = await _models.default.Review.findOne({\n            sale_detail: detail_order._id\n          });\n          collection_detail_orders.push({\n            _id: detail_order._id,\n            product: {\n              _id: detail_order.product._id,\n              title: detail_order.product.title,\n              imagen: process.env.URL_BACKEND + \"/api/products/uploads/product/\" + detail_order.product.portada,\n              state: detail_order.product.state,\n              slug: detail_order.product.slug,\n              sku: detail_order.product.sku,\n              categorie: detail_order.product.categorie,\n              price_bs: detail_order.product.price_bs,\n              price_usd: detail_order.product.price_usd,\n              condition: detail_order.product.condition\n            },\n            type_discount: detail_order.type_discount,\n            discount: detail_order.discount,\n            cantidad: detail_order.cantidad,\n            variedad: detail_order.variedad,\n            code_cupon: detail_order.code_cupon,\n            code_discount: detail_order.code_discount,\n            price_unit: detail_order.price_unit,\n            subtotal: detail_order.subtotal,\n            total: detail_order.total,\n            review: reviewS\n          });\n        }\n        sale_orders.push({\n          sale: order,\n          sale_details: collection_detail_orders,\n          sale_address: sale_address\n        });\n      }\n      let ADDRESS_CLIENT = await _models.default.AddressClient.find({\n        user: user_id\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        sale_orders: sale_orders,\n        address_client: ADDRESS_CLIENT\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  update_client: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('/');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n\n      //  console.log(req.body);\n\n      const updateData = {};\n\n      // Verifica cada campo y solo actualiza si tiene valor\n      if (req.body.name) updateData.name = req.body.name;\n      if (req.body.surname) updateData.surname = req.body.surname;\n      if (req.body.email) updateData.email = req.body.email;\n\n      // Solo actualiza el password si se proporciona uno nuevo\n      if (req.body.password && req.body.password !== \"\") {\n        updateData.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, updateData);\n      let User = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"Super! Su información se actualizó satisfactoriamente\",\n        user: {\n          name: User.name,\n          surname: User.surname,\n          email: User.email,\n          _id: User._id\n        }\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  config_initial: async (req, res) => {\n    try {\n      let categories = await _models.default.Categorie.find({\n        state: 1\n      });\n      let variedades = await _models.default.Variedad.find({});\n      res.status(200).json({\n        categories: categories,\n        variedades: variedades\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  filter_products: async (req, res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let search_product = req.body.search_product;\n      let categories_salecteds = req.body.categories_salecteds;\n      let is_discount = req.body.is_discount;\n      let variedad_selected = req.body.variedad_selected;\n      let price_min = req.body.price_min;\n      let price_max = req.body.price_max;\n      let filter = [{\n        state: 2\n      }];\n      var categories_s = [];\n      var products_s = [];\n      //{ state:2, title: new RegExp(search_product, \"i\")}\n\n      if (categories_salecteds.length > 0) {\n        categories_salecteds.forEach(categorie => {\n          categories_s.push(categorie);\n        });\n        // filter.push({\n        //   categorie:{ $in: categories_salecteds},\n        // })\n      }\n      let CampaignDiscount = await _models.default.Discount.findOne({\n        type_campaign: 1,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        end_date_num: {\n          $gte: TIME_NOW\n        }\n      });\n      if (is_discount == 2) {\n        if (CampaignDiscount.type_segment == 1) {\n          CampaignDiscount.products.forEach(item => {\n            products_s.push(item._id);\n          });\n        } else {\n          CampaignDiscount.categories.forEach(item => {\n            categories_s.push(item._id);\n          });\n        }\n      }\n      if (variedad_selected) {\n        let VARIE = await _models.default.Variedad.findById({\n          _id: variedad_selected._id\n        });\n        if (VARIE) {\n          products_s.push(VARIE.product);\n        }\n      }\n      if (categories_s.length > 0) {\n        filter.push({\n          categorie: {\n            $in: categories_s\n          }\n        });\n      }\n      if (products_s.length > 0) {\n        filter.push({\n          _id: {\n            $in: products_s\n          }\n        });\n      }\n      if (price_min > 0 && price_max > 0) {\n        filter.push({\n          price_usd: {\n            $gte: price_min,\n            $lte: price_max\n          }\n        });\n      }\n      let OursProducts = await _models.default.Product.find({\n        $and: filter\n      }).sort({\n        \"createdAt\": 1\n      });\n      var Products = [];\n      for (const Product of OursProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        let DISCOUNT_EXITS = null;\n        if (CampaignDiscount) {\n          if (CampaignDiscount.type_segment == 1) {\n            //por producto\n            let products_a = [];\n            CampaignDiscount.products.forEach(item => {\n              products_a.push(item._id);\n            });\n            if (products_a.includes(Product._id + \"\")) {\n              DISCOUNT_EXITS = CampaignDiscount;\n            }\n          } else {\n            // por categoria}\n            let categories_a = [];\n            CampaignDiscount.categories.forEach(item => {\n              categories_a.push(item._id);\n            });\n            if (categories_a.includes(Product.categorie + \"\")) {\n              DISCOUNT_EXITS = CampaignDiscount;\n            }\n          }\n        }\n        Products.push(_resourses.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n      }\n      res.status(200).json({\n        products: Products\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3Vyc2VzIiwiX2JjcnlwdGpzIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwibGlzdCIsInJlcSIsInJlcyIsIlRJTUVfTk9XIiwicXVlcnkiLCJTbGlkZXJzIiwibW9kZWxzIiwiU2xpZGVyIiwiZmluZCIsInN0YXRlIiwibWFwIiwic2xpZGVyIiwicmVzb3Vyc2UiLCJzbGlkZXJfbGlzdCIsInByb2R1Y3RQcm9tbyIsIlByb2R1Y3QiLCJmaW5kQnlJZCIsInByb2R1Y3RfbGlzdCIsIkNhdGVnb3JpZXMiLCJDYXRlZ29yaWUiLCJjYXRlZ29yaWUiLCJjYXRlZ29yaWVfbGlzdCIsIkNhbXBhaWduRGlzY291bnQiLCJEaXNjb3VudCIsImZpbmRPbmUiLCJ0eXBlX2NhbXBhaWduIiwic3RhcnRfZGF0ZV9udW0iLCIkbHRlIiwiZW5kX2RhdGVfbnVtIiwiJGd0ZSIsIkJlc3RQcm9kdWN0cyIsImNvbmRpdGlvbiIsIiRuZSIsInNvcnQiLCJPYmplY3RCZXN0UHJvZHVjdHMiLCJWQVJJRURBREVTIiwiVmFyaWVkYWQiLCJwcm9kdWN0IiwiX2lkIiwiUkVWSUVXUyIsIlJldmlldyIsIkFWR19SRVZJRVciLCJsZW5ndGgiLCJNYXRoIiwiY2VpbCIsInJlZHVjZSIsInN1bSIsIml0ZW0iLCJjYW50aWRhZCIsIkNPVU5UX1JFVklFVyIsIkRJU0NPVU5UX0VYSVRTIiwidHlwZV9zZWdtZW50IiwicHJvZHVjdHNfYSIsInByb2R1Y3RzIiwiZm9yRWFjaCIsInB1c2giLCJpbmNsdWRlcyIsImNhdGVnb3JpZXNfYSIsImNhdGVnb3JpZXMiLCJPdXJzUHJvZHVjdHMiLCJPYmplY3RPdXJzUHJvZHVjdHMiLCJEb25hdGlvblByb2R1Y3RzIiwiT2JqZWN0RG9uYXRpb25Qcm9kdWN0cyIsIkZsYXNoU2FsZSIsIlByb2R1Y3RMaXN0IiwiT2JqZWNUIiwic3RhdHVzIiwianNvbiIsInNsaWRlcnMiLCJiZXN0X3Byb2R1Y3RzIiwib3VyX3Byb2R1Y3RzIiwiZG9uYXRpb25fcHJvZHVjdHMiLCJjYW1wYWlnbl9wcm9kdWN0cyIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInNlbmQiLCJtZXNzYWdlIiwic2hvd19sYW5kaW5nX3Byb2R1Y3QiLCJTTFVHIiwicGFyYW1zIiwic2x1ZyIsIkRJU0NPVU5UX0lEIiwicG9wdWxhdGUiLCJSZWxhdGVkUHJvZHVjdHMiLCJPYmplY3RSZWxhdGVkUHJvZHVjdHMiLCJTQUxFX0ZMQVNIIiwicmVsYXRlZF9wcm9kdWN0cyIsInNlYXJjaF9wcm9kdWN0IiwiYm9keSIsInRpdGxlIiwiUmVnRXhwIiwiUHJvZHVjdHMiLCJwcm9maWxlX2NsaWVudCIsInVzZXJfaWQiLCJPcmRlcnMiLCJTYWxlIiwidXNlciIsInNhbGVfb3JkZXJzIiwib3JkZXIiLCJkZXRhaWxfb3JkZXJzIiwiU2FsZURldGFpbCIsInNhbGUiLCJwYXRoIiwic2FsZV9hZGRyZXNzIiwiU2FsZUFkZHJlc3MiLCJjb2xsZWN0aW9uX2RldGFpbF9vcmRlcnMiLCJkZXRhaWxfb3JkZXIiLCJyZXZpZXdTIiwic2FsZV9kZXRhaWwiLCJpbWFnZW4iLCJwcm9jZXNzIiwiZW52IiwiVVJMX0JBQ0tFTkQiLCJwb3J0YWRhIiwic2t1IiwicHJpY2VfYnMiLCJwcmljZV91c2QiLCJ0eXBlX2Rpc2NvdW50IiwiZGlzY291bnQiLCJ2YXJpZWRhZCIsImNvZGVfY3Vwb24iLCJjb2RlX2Rpc2NvdW50IiwicHJpY2VfdW5pdCIsInN1YnRvdGFsIiwidG90YWwiLCJyZXZpZXciLCJzYWxlX2RldGFpbHMiLCJBRERSRVNTX0NMSUVOVCIsIkFkZHJlc3NDbGllbnQiLCJhZGRyZXNzX2NsaWVudCIsInVwZGF0ZV9jbGllbnQiLCJmaWxlcyIsImltZ19wYXRoIiwiYXZhdGFyIiwibmFtZSIsInNwbGl0IiwiYXZhdGFyX25hbWUiLCJ1cGRhdGVEYXRhIiwic3VybmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJiY3J5cHQiLCJoYXNoIiwiVXNlciIsImZpbmRCeUlkQW5kVXBkYXRlIiwiY29uZmlnX2luaXRpYWwiLCJ2YXJpZWRhZGVzIiwiZmlsdGVyX3Byb2R1Y3RzIiwiY2F0ZWdvcmllc19zYWxlY3RlZHMiLCJpc19kaXNjb3VudCIsInZhcmllZGFkX3NlbGVjdGVkIiwicHJpY2VfbWluIiwicHJpY2VfbWF4IiwiZmlsdGVyIiwiY2F0ZWdvcmllc19zIiwicHJvZHVjdHNfcyIsIlZBUklFIiwiJGluIiwiJGFuZCJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIkhvbWVDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiO1xuaW1wb3J0IHJlc291cnNlIGZyb20gXCIuLi9yZXNvdXJzZXNcIjtcbmltcG9ydCBiY3J5cHQgZnJvbSBcImJjcnlwdGpzXCJcblxuXG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICBsaXN0OiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBUSU1FX05PVyA9IHJlcS5xdWVyeS5USU1FX05PV1xuXG4gICAgICAgIGxldCBTbGlkZXJzID0gYXdhaXQgbW9kZWxzLlNsaWRlci5maW5kKHtzdGF0ZToxfSk7IFxuICAgICAgICBTbGlkZXJzID0gU2xpZGVycy5tYXAoKHNsaWRlcikgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gcmVzb3Vyc2UuU2xpZGVyLnNsaWRlcl9saXN0KHNsaWRlcik7XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIGxldCBwcm9kdWN0UHJvbW8gPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kQnlJZCgnNjdjMGViZDkwMjA0YjM5MDljZWExZTY3Jyk7XG4gICAgICAgIGlmIChwcm9kdWN0UHJvbW8pIHtcbiAgICAgICAgICBwcm9kdWN0UHJvbW8gPSByZXNvdXJzZS5Qcm9kdWN0LnByb2R1Y3RfbGlzdChwcm9kdWN0UHJvbW8pO1xuICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgXG5cbiAgICAgICAgbGV0IENhdGVnb3JpZXMgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmQoe3N0YXRlOjF9KTsgXG4gICAgICAgIENhdGVnb3JpZXMgPSBDYXRlZ29yaWVzLm1hcCgoY2F0ZWdvcmllKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHJlc291cnNlLkNhdGVnb3JpZS5jYXRlZ29yaWVfbGlzdChjYXRlZ29yaWUpO1xuICAgICAgICB9KVxuXG4gICAgICAgIGxldCBDYW1wYWlnbkRpc2NvdW50ID0gIGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kT25lKHtcbiAgICAgICAgICB0eXBlX2NhbXBhaWduOiAxLFxuICAgICAgICAgIHN0YXJ0X2RhdGVfbnVtOnskbHRlOiBUSU1FX05PV30sXG4gICAgICAgICAgZW5kX2RhdGVfbnVtOnskZ3RlOiBUSU1FX05PV30sXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gY29uc29sZS5sb2coQ2FtcGFpZ25EaXNjb3VudCk7XG5cbiAgICAgICAgbGV0IEJlc3RQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoeyBzdGF0ZToyLCBjb25kaXRpb246IHskbmU6IDN9fSkuc29ydCh7IFwiY3JlYXRlZEF0XCI6IC0xfSk7XG4gICAgICAgIHZhciBPYmplY3RCZXN0UHJvZHVjdHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBQcm9kdWN0IG9mIEJlc3RQcm9kdWN0cyl7XG4gICAgICAgICAgbGV0IFZBUklFREFERVMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcbiAgICAgICAgICBsZXQgUkVWSUVXUyA9IGF3YWl0IG1vZGVscy5SZXZpZXcuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcbiAgICAgICAgICBsZXQgQVZHX1JFVklFVyA9IFJFVklFV1MubGVuZ3RoID4gMCA/IE1hdGguY2VpbChSRVZJRVdTLnJlZHVjZSgoc3VtLGl0ZW0pID0+IHN1bSArIGl0ZW0uY2FudGlkYWQsMCkvUkVWSUVXUy5sZW5ndGgpOiAwO1xuICAgICAgICAgIGxldCBDT1VOVF9SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aDtcbiAgICAgICAgICBsZXQgRElTQ09VTlRfRVhJVFMgPSAgbnVsbDtcbiAgICAgICAgICBpZihDYW1wYWlnbkRpc2NvdW50KXtcbiAgICAgICAgICAgIGlmKENhbXBhaWduRGlzY291bnQudHlwZV9zZWdtZW50ID09IDEpey8vcG9yIHByb2R1Y3RvXG4gICAgICAgICAgICAgIGxldCBwcm9kdWN0c19hID0gW107XG4gICAgICAgICAgICAgIENhbXBhaWduRGlzY291bnQucHJvZHVjdHMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICBwcm9kdWN0c19hLnB1c2goaXRlbS5faWQpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICBpZihwcm9kdWN0c19hLmluY2x1ZGVzKFByb2R1Y3QuX2lkK1wiXCIpKXtcbiAgICAgICAgICAgICAgICBESVNDT1VOVF9FWElUUyA9IENhbXBhaWduRGlzY291bnQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1lbHNley8vIHBvciBjYXRlZ29yaWF9XG4gICAgICAgICAgICAgIGxldCBjYXRlZ29yaWVzX2EgPSBbXTtcbiAgICAgICAgICAgICAgQ2FtcGFpZ25EaXNjb3VudC5jYXRlZ29yaWVzLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllc19hLnB1c2goaXRlbS5faWQpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICBpZihjYXRlZ29yaWVzX2EuaW5jbHVkZXMoUHJvZHVjdC5jYXRlZ29yaWUrXCJcIikpe1xuICAgICAgICAgICAgICAgIERJU0NPVU5UX0VYSVRTID0gQ2FtcGFpZ25EaXNjb3VudDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBPYmplY3RCZXN0UHJvZHVjdHMucHVzaChyZXNvdXJzZS5Qcm9kdWN0LnByb2R1Y3RfbGlzdChQcm9kdWN0LCBWQVJJRURBREVTLCBBVkdfUkVWSUVXLCBDT1VOVF9SRVZJRVcsIERJU0NPVU5UX0VYSVRTKSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgT3Vyc1Byb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7IHN0YXRlOjIsIGNvbmRpdGlvbjogeyRuZTogM319KS5zb3J0KHsgXCJjcmVhdGVkQXRcIjogMX0pO1xuXG4gICAgICAgIHZhciBPYmplY3RPdXJzUHJvZHVjdHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBQcm9kdWN0IG9mIE91cnNQcm9kdWN0cykge1xuICAgICAgICAgICAgbGV0IFZBUklFREFERVMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcbiAgICAgICAgICAgIGxldCBSRVZJRVdTID0gYXdhaXQgbW9kZWxzLlJldmlldy5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xuICAgICAgICAgICAgbGV0IEFWR19SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aCA+IDAgPyBNYXRoLmNlaWwoUkVWSUVXUy5yZWR1Y2UoKHN1bSxpdGVtKSA9PiBzdW0gKyBpdGVtLmNhbnRpZGFkLDApL1JFVklFV1MubGVuZ3RoKTogMDtcbiAgICAgICAgICAgIGxldCBDT1VOVF9SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aDtcbiAgICAgICAgICAgIGxldCBESVNDT1VOVF9FWElUUyA9ICBudWxsO1xuICAgICAgICAgICAgaWYoQ2FtcGFpZ25EaXNjb3VudCl7XG4gICAgICAgICAgICAgIGlmKENhbXBhaWduRGlzY291bnQudHlwZV9zZWdtZW50ID09IDEpey8vcG9yIHByb2R1Y3RvXG4gICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RzX2EgPSBbXTtcbiAgICAgICAgICAgICAgICBDYW1wYWlnbkRpc2NvdW50LnByb2R1Y3RzLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICBwcm9kdWN0c19hLnB1c2goaXRlbS5faWQpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgaWYocHJvZHVjdHNfYS5pbmNsdWRlcyhQcm9kdWN0Ll9pZCtcIlwiKSl7XG4gICAgICAgICAgICAgICAgICBESVNDT1VOVF9FWElUUyA9IENhbXBhaWduRGlzY291bnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9ZWxzZXsvLyBwb3IgY2F0ZWdvcmlhfVxuICAgICAgICAgICAgICAgIGxldCBjYXRlZ29yaWVzX2EgPSBbXTtcbiAgICAgICAgICAgICAgICBDYW1wYWlnbkRpc2NvdW50LmNhdGVnb3JpZXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNfYS5wdXNoKGl0ZW0uX2lkKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGlmKGNhdGVnb3JpZXNfYS5pbmNsdWRlcyhQcm9kdWN0LmNhdGVnb3JpZStcIlwiKSl7XG4gICAgICAgICAgICAgICAgICBESVNDT1VOVF9FWElUUyA9IENhbXBhaWduRGlzY291bnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBPYmplY3RPdXJzUHJvZHVjdHMucHVzaChyZXNvdXJzZS5Qcm9kdWN0LnByb2R1Y3RfbGlzdChQcm9kdWN0LFZBUklFREFERVMsIEFWR19SRVZJRVcsIENPVU5UX1JFVklFVywgRElTQ09VTlRfRVhJVFMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE91cnNQcm9kdWN0cyA9IE91cnNQcm9kdWN0cy5tYXAoYXN5bmMgKHByb2R1Y3QpID0+IHtcbiAgICAgICAgLy8gICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OiBwcm9kdWN0Ll9pZH0pO1xuICAgICAgICAvLyAgIHJldHVybiByZXNvdXJzZS5Qcm9kdWN0LnByb2R1Y3RfbGlzdChwcm9kdWN0LFZBUklFREFERVMpO1xuICAgICAgICAvLyB9KVxuXG4gICAgICAgIGxldCBEb25hdGlvblByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7IHN0YXRlOjIsIGNvbmRpdGlvbjozfSkuc29ydCh7IFwiY3JlYXRlZEF0XCI6IDF9KTtcbiAgICAgICAgdmFyIE9iamVjdERvbmF0aW9uUHJvZHVjdHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBQcm9kdWN0IG9mIERvbmF0aW9uUHJvZHVjdHMpIHtcbiAgICAgICAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3Q6IFByb2R1Y3QuX2lkfSk7XG4gICAgICAgICAgICBPYmplY3REb25hdGlvblByb2R1Y3RzLnB1c2gocmVzb3Vyc2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCxWQVJJRURBREVTKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEb25hdGlvblByb2R1Y3RzID0gRG9uYXRpb25Qcm9kdWN0cy5tYXAoKHByb2R1Y3QpID0+IHtcbiAgICAgICAgLy8gICByZXR1cm4gcmVzb3Vyc2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QocHJvZHVjdCk7XG4gICAgICAgIC8vIH0pXG5cbiAgICAgICAgbGV0IEZsYXNoU2FsZSA9ICBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZE9uZSh7XG4gICAgICAgICAgdHlwZV9jYW1wYWlnbjogMixcbiAgICAgICAgICBzdGFydF9kYXRlX251bTp7JGx0ZTogVElNRV9OT1d9LFxuICAgICAgICAgIGVuZF9kYXRlX251bTp7JGd0ZTogVElNRV9OT1d9LFxuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgUHJvZHVjdExpc3QgPSBbXTtcbiAgICAgICAgaWYoRmxhc2hTYWxlKXtcbiAgICAgICAgICBmb3IgKGNvbnN0IHByb2R1Y3Qgb2YgRmxhc2hTYWxlLnByb2R1Y3RzKSB7XG4gICAgICAgICAgICB2YXIgT2JqZWNUID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWQoe19pZDpwcm9kdWN0Ll9pZH0pO1xuICAgICAgICAgICAgbGV0IFZBUklFREFERVMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogcHJvZHVjdC5faWR9KTtcbiAgICAgICAgICAgIFByb2R1Y3RMaXN0LnB1c2gocmVzb3Vyc2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoT2JqZWNULFZBUklFREFERVMpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgICAvL2NvbnNvbGUubG9nKEZsYXNoU2FsZSk7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coVElNRV9OT1cpO1xuICAgICAgICBcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgIHNsaWRlcnM6IFNsaWRlcnMsXG4gICAgICAgICAgY2F0ZWdvcmllczogQ2F0ZWdvcmllcyxcbiAgICAgICAgICBwcm9kdWN0UHJvbW86IFtwcm9kdWN0UHJvbW9dLCAvLyBFbnbDrWEgY29tbyB1biBhcnJlZ2xvXG4gICAgICAgICAgYmVzdF9wcm9kdWN0czpPYmplY3RCZXN0UHJvZHVjdHMsXG4gICAgICAgICAgb3VyX3Byb2R1Y3RzOiBPYmplY3RPdXJzUHJvZHVjdHMsXG4gICAgICAgICAgZG9uYXRpb25fcHJvZHVjdHM6T2JqZWN0RG9uYXRpb25Qcm9kdWN0cyxcbiAgICAgICAgICBGbGFzaFNhbGU6Rmxhc2hTYWxlLFxuICAgICAgICAgIGNhbXBhaWduX3Byb2R1Y3RzOlByb2R1Y3RMaXN0LFxuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgc2hvd19sYW5kaW5nX3Byb2R1Y3Q6IGFzeW5jKHJlcSwgcmVzKSA9PntcbiAgICB0cnkge1xuICAgICAgbGV0IFNMVUcgPSByZXEucGFyYW1zLnNsdWc7XG4gICAgICBsZXQgRElTQ09VTlRfSUQgPSByZXEucXVlcnkuX2lkO1xuXG4gICAgICAvLyBjb25zb2xlLmxvZyhcIl9pZD0gXCIrRElTQ09VTlRfSUQpO1xuXG4gICAgICBsZXQgUHJvZHVjdCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRPbmUoe3NsdWc6IFNMVUcsIHN0YXRlOiAyfSk7XG5cbiAgICAgIGxldCBWQVJJRURBREVTID0gIGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xuXG4gICAgICBsZXQgUkVWSUVXUyA9IGF3YWl0IG1vZGVscy5SZXZpZXcuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KS5wb3B1bGF0ZShcInVzZXJcIik7XG4gICAgICBsZXQgQVZHX1JFVklFVyA9IFJFVklFV1MubGVuZ3RoID4gMCA/IE1hdGguY2VpbChSRVZJRVdTLnJlZHVjZSgoc3VtLGl0ZW0pID0+IHN1bSArIGl0ZW0uY2FudGlkYWQsMCkvUkVWSUVXUy5sZW5ndGgpOiAwO1xuICAgICAgbGV0IENPVU5UX1JFVklFVyA9IFJFVklFV1MubGVuZ3RoO1xuXG4gICAgICAvLyBjb25zb2xlLmxvZyhcIkxhcyBlc3RyZWxsYXM6IFwiK0FWR19SRVZJRVcpO1xuXG4gICAgICBsZXQgUmVsYXRlZFByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7Y2F0ZWdvcmllOiBQcm9kdWN0LmNhdGVnb3JpZSwgc3RhdGU6IDIgfSk7XG5cbiAgICAgIHZhciBPYmplY3RSZWxhdGVkUHJvZHVjdHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBQcm9kdWN0IG9mIFJlbGF0ZWRQcm9kdWN0cykge1xuICAgICAgICAgICAgbGV0IFZBUklFREFERVMgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcbiAgICAgICAgICAgIE9iamVjdFJlbGF0ZWRQcm9kdWN0cy5wdXNoKHJlc291cnNlLlByb2R1Y3QucHJvZHVjdF9saXN0KFByb2R1Y3QsVkFSSUVEQURFUykpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBTQUxFX0ZMQVNIID0gbnVsbDtcbiAgICAgICAgaWYoRElTQ09VTlRfSUQpe1xuICAgICAgICAgIFNBTEVfRkxBU0ggPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZEJ5SWQoe19pZDogRElTQ09VTlRfSUR9KVxuICAgICAgICB9XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgcHJvZHVjdDogcmVzb3Vyc2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCwgVkFSSUVEQURFUyksXG4gICAgICAgIHJlbGF0ZWRfcHJvZHVjdHM6IE9iamVjdFJlbGF0ZWRQcm9kdWN0cyxcbiAgICAgICAgU0FMRV9GTEFTSDogU0FMRV9GTEFTSCxcbiAgICAgICAgUkVWSUVXUzogUkVWSUVXUyxcbiAgICAgICAgQVZHX1JFVklFVzogQVZHX1JFVklFVyxcbiAgICAgICAgQ09VTlRfUkVWSUVXOiBDT1VOVF9SRVZJRVcsXG4gICAgICAgIG1lc3NhZ2U6IFwiU3VwZXIhIEVsIHByb2R1Y3RvIGFncmVnw7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgIH0pXG5cbiAgICAgIFxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgc2VhcmNoX3Byb2R1Y3Q6IGFzeW5jKHJlcSwgcmVzKSA9PntcbiAgICB0cnkge1xuICAgICAgdmFyIFRJTUVfTk9XID0gcmVxLnF1ZXJ5LlRJTUVfTk9XO1xuXG4gICAgICBsZXQgc2VhcmNoX3Byb2R1Y3QgPSByZXEuYm9keS5zZWFyY2hfcHJvZHVjdDtcbiAgICAgIGxldCBPdXJzUHJvZHVjdHMgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kKHsgc3RhdGU6MiwgdGl0bGU6IG5ldyBSZWdFeHAoc2VhcmNoX3Byb2R1Y3QsIFwiaVwiKX0pLnNvcnQoeyBcImNyZWF0ZWRBdFwiOiAxfSk7XG5cbiAgICAgIGxldCBDYW1wYWlnbkRpc2NvdW50ID0gIGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kT25lKHtcbiAgICAgICAgdHlwZV9jYW1wYWlnbjogMSxcbiAgICAgICAgc3RhcnRfZGF0ZV9udW06eyRsdGU6IFRJTUVfTk9XfSxcbiAgICAgICAgZW5kX2RhdGVfbnVtOnskZ3RlOiBUSU1FX05PV30sXG4gICAgICB9KTtcblxuICAgICAgdmFyIFByb2R1Y3RzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgUHJvZHVjdCBvZiBPdXJzUHJvZHVjdHMpIHtcbiAgICAgICAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3Q6IFByb2R1Y3QuX2lkfSk7XG4gICAgICAgICAgICBsZXQgUkVWSUVXUyA9IGF3YWl0IG1vZGVscy5SZXZpZXcuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcbiAgICAgICAgICAgIGxldCBBVkdfUkVWSUVXID0gUkVWSUVXUy5sZW5ndGggPiAwID8gTWF0aC5jZWlsKFJFVklFV1MucmVkdWNlKChzdW0saXRlbSkgPT4gc3VtICsgaXRlbS5jYW50aWRhZCwwKS9SRVZJRVdTLmxlbmd0aCk6IDA7XG4gICAgICAgICAgICBsZXQgQ09VTlRfUkVWSUVXID0gUkVWSUVXUy5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgRElTQ09VTlRfRVhJVFMgPSAgbnVsbDtcbiAgICAgICAgICAgIGlmKENhbXBhaWduRGlzY291bnQpe1xuICAgICAgICAgICAgICBpZihDYW1wYWlnbkRpc2NvdW50LnR5cGVfc2VnbWVudCA9PSAxKXsvL3BvciBwcm9kdWN0b1xuICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0c19hID0gW107XG4gICAgICAgICAgICAgICAgQ2FtcGFpZ25EaXNjb3VudC5wcm9kdWN0cy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgcHJvZHVjdHNfYS5wdXNoKGl0ZW0uX2lkKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGlmKHByb2R1Y3RzX2EuaW5jbHVkZXMoUHJvZHVjdC5faWQrXCJcIikpe1xuICAgICAgICAgICAgICAgICAgRElTQ09VTlRfRVhJVFMgPSBDYW1wYWlnbkRpc2NvdW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfWVsc2V7Ly8gcG9yIGNhdGVnb3JpYX1cbiAgICAgICAgICAgICAgICBsZXQgY2F0ZWdvcmllc19hID0gW107XG4gICAgICAgICAgICAgICAgQ2FtcGFpZ25EaXNjb3VudC5jYXRlZ29yaWVzLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzX2EucHVzaChpdGVtLl9pZCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBpZihjYXRlZ29yaWVzX2EuaW5jbHVkZXMoUHJvZHVjdC5jYXRlZ29yaWUrXCJcIikpe1xuICAgICAgICAgICAgICAgICAgRElTQ09VTlRfRVhJVFMgPSBDYW1wYWlnbkRpc2NvdW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgUHJvZHVjdHMucHVzaChyZXNvdXJzZS5Qcm9kdWN0LnByb2R1Y3RfbGlzdChQcm9kdWN0LFZBUklFREFERVMsIEFWR19SRVZJRVcsIENPVU5UX1JFVklFVywgRElTQ09VTlRfRVhJVFMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgcHJvZHVjdHM6IFByb2R1Y3RzLFxuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCIsXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgcHJvZmlsZV9jbGllbnQ6IGFzeW5jKHJlcSwgcmVzKSA9PntcbiAgICB0cnkge1xuICAgICAgbGV0IHVzZXJfaWQgPSByZXEuYm9keS51c2VyX2lkO1xuXG4gICAgICBsZXQgT3JkZXJzID0gIGF3YWl0IG1vZGVscy5TYWxlLmZpbmQoe3VzZXI6IHVzZXJfaWR9KTtcblxuICAgICAgbGV0IHNhbGVfb3JkZXJzID0gW107XG5cbiAgICAgIGZvciAoY29uc3Qgb3JkZXIgb2YgT3JkZXJzKSB7XG4gICAgICAgIGxldCBkZXRhaWxfb3JkZXJzID0gYXdhaXQgbW9kZWxzLlNhbGVEZXRhaWwuZmluZCh7c2FsZTogb3JkZXIuX2lkfSkucG9wdWxhdGUoe1xuICAgICAgICAgIHBhdGg6IFwicHJvZHVjdFwiLFxuICAgICAgICAgIHBvcHVsYXRlOiB7XG4gICAgICAgICAgICAgcGF0aDogXCJjYXRlZ29yaWVcIlxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLnBvcHVsYXRlKFwidmFyaWVkYWRcIik7XG4gICAgICAgIGxldCBzYWxlX2FkZHJlc3MgPSBhd2FpdCBtb2RlbHMuU2FsZUFkZHJlc3MuZmluZCh7c2FsZTogb3JkZXIuX2lkfSk7XG4gICAgICAgIGxldCBjb2xsZWN0aW9uX2RldGFpbF9vcmRlcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBkZXRhaWxfb3JkZXIgb2YgZGV0YWlsX29yZGVycykge1xuICAgICAgICAgIGxldCByZXZpZXdTID0gYXdhaXQgbW9kZWxzLlJldmlldy5maW5kT25lKHtzYWxlX2RldGFpbDogZGV0YWlsX29yZGVyLl9pZH0pO1xuICAgICAgICAgIGNvbGxlY3Rpb25fZGV0YWlsX29yZGVycy5wdXNoKHtcbiAgICAgICAgICAgICAgX2lkOmRldGFpbF9vcmRlci5faWQsXG4gICAgICAgICAgICAgIHByb2R1Y3Q6e1xuICAgICAgICAgICAgICAgIF9pZDogZGV0YWlsX29yZGVyLnByb2R1Y3QuX2lkLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBkZXRhaWxfb3JkZXIucHJvZHVjdC50aXRsZSxcbiAgICAgICAgICAgICAgICBpbWFnZW46cHJvY2Vzcy5lbnYuVVJMX0JBQ0tFTkQrXCIvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC9cIitkZXRhaWxfb3JkZXIucHJvZHVjdC5wb3J0YWRhLCBcbiAgICAgICAgICAgICAgICBzdGF0ZTogZGV0YWlsX29yZGVyLnByb2R1Y3Quc3RhdGUsXG4gICAgICAgICAgICAgICAgc2x1ZzogZGV0YWlsX29yZGVyLnByb2R1Y3Quc2x1ZyxcbiAgICAgICAgICAgICAgICBza3U6IGRldGFpbF9vcmRlci5wcm9kdWN0LnNrdSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWU6IGRldGFpbF9vcmRlci5wcm9kdWN0LmNhdGVnb3JpZSxcbiAgICAgICAgICAgICAgICBwcmljZV9iczogZGV0YWlsX29yZGVyLnByb2R1Y3QucHJpY2VfYnMsXG4gICAgICAgICAgICAgICAgcHJpY2VfdXNkOiBkZXRhaWxfb3JkZXIucHJvZHVjdC5wcmljZV91c2QsXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uOiBkZXRhaWxfb3JkZXIucHJvZHVjdC5jb25kaXRpb24sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHR5cGVfZGlzY291bnQ6IGRldGFpbF9vcmRlci50eXBlX2Rpc2NvdW50LFxuICAgICAgICAgICAgICBkaXNjb3VudDogZGV0YWlsX29yZGVyLmRpc2NvdW50LFxuICAgICAgICAgICAgICBjYW50aWRhZDogZGV0YWlsX29yZGVyLmNhbnRpZGFkLFxuICAgICAgICAgICAgICB2YXJpZWRhZDogZGV0YWlsX29yZGVyLnZhcmllZGFkLFxuICAgICAgICAgICAgICBjb2RlX2N1cG9uOiBkZXRhaWxfb3JkZXIuY29kZV9jdXBvbixcbiAgICAgICAgICAgICAgY29kZV9kaXNjb3VudDogZGV0YWlsX29yZGVyLmNvZGVfZGlzY291bnQsXG4gICAgICAgICAgICAgIHByaWNlX3VuaXQ6IGRldGFpbF9vcmRlci5wcmljZV91bml0LFxuICAgICAgICAgICAgICBzdWJ0b3RhbDogZGV0YWlsX29yZGVyLnN1YnRvdGFsLFxuICAgICAgICAgICAgICB0b3RhbDogZGV0YWlsX29yZGVyLnRvdGFsLFxuICAgICAgICAgICAgICByZXZpZXc6IHJldmlld1MsXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBzYWxlX29yZGVycy5wdXNoKHtcbiAgICAgICAgICBzYWxlOiBvcmRlcixcbiAgICAgICAgICBzYWxlX2RldGFpbHM6Y29sbGVjdGlvbl9kZXRhaWxfb3JkZXJzLFxuICAgICAgICAgIHNhbGVfYWRkcmVzczogc2FsZV9hZGRyZXNzLFxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgbGV0IEFERFJFU1NfQ0xJRU5UICA9IGF3YWl0IG1vZGVscy5BZGRyZXNzQ2xpZW50LmZpbmQoe3VzZXI6dXNlcl9pZH0pLnNvcnQoeydjcmVhdGVkQXQnOi0xfSk7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIHNhbGVfb3JkZXJzOiBzYWxlX29yZGVycyxcbiAgICAgICAgYWRkcmVzc19jbGllbnQ6IEFERFJFU1NfQ0xJRU5UXG4gICAgICB9KVxuXG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCIsXG4gICAgICB9KTtcbiAgICAgIFxuICAgIH1cbiAgfSxcbiAgIHVwZGF0ZV9jbGllbnQ6IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgICB0cnkge1xuICAgICAgIGlmIChyZXEuZmlsZXMpIHtcbiAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5hdmF0YXIucGF0aDtcbiAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgIHZhciBhdmF0YXJfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgICBjb25zb2xlLmxvZyhhdmF0YXJfbmFtZSlcbiAgICAgICB9XG5cbiAgICAgIC8vICBjb25zb2xlLmxvZyhyZXEuYm9keSk7XG4gIFxuICAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7fTtcbiAgXG4gICAgICAgLy8gVmVyaWZpY2EgY2FkYSBjYW1wbyB5IHNvbG8gYWN0dWFsaXphIHNpIHRpZW5lIHZhbG9yXG4gICAgICAgaWYgKHJlcS5ib2R5Lm5hbWUpIHVwZGF0ZURhdGEubmFtZSA9IHJlcS5ib2R5Lm5hbWU7XG4gICAgICAgaWYgKHJlcS5ib2R5LnN1cm5hbWUpIHVwZGF0ZURhdGEuc3VybmFtZSA9IHJlcS5ib2R5LnN1cm5hbWU7XG4gICAgICAgaWYgKHJlcS5ib2R5LmVtYWlsKSB1cGRhdGVEYXRhLmVtYWlsID0gcmVxLmJvZHkuZW1haWw7XG4gIFxuICAgICAgIC8vIFNvbG8gYWN0dWFsaXphIGVsIHBhc3N3b3JkIHNpIHNlIHByb3BvcmNpb25hIHVubyBudWV2b1xuICAgICAgIGlmIChyZXEuYm9keS5wYXNzd29yZCAmJiByZXEuYm9keS5wYXNzd29yZCAhPT0gXCJcIikge1xuICAgICAgICAgdXBkYXRlRGF0YS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG4gICAgICAgfVxuICBcbiAgICAgICBhd2FpdCBtb2RlbHMuVXNlci5maW5kQnlJZEFuZFVwZGF0ZSh7IF9pZDogcmVxLmJvZHkuX2lkIH0sIHVwZGF0ZURhdGEpO1xuICBcbiAgICAgICBsZXQgVXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoeyBfaWQ6IHJlcS5ib2R5Ll9pZCB9KTtcbiAgXG4gICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgbWVzc2FnZTogXCJTdXBlciEgU3UgaW5mb3JtYWNpw7NuIHNlIGFjdHVhbGl6w7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgIG5hbWU6IFVzZXIubmFtZSxcbiAgICAgICAgICAgc3VybmFtZTogVXNlci5zdXJuYW1lLFxuICAgICAgICAgICBlbWFpbDogVXNlci5lbWFpbCxcbiAgICAgICAgICAgX2lkOiBVc2VyLl9pZCxcbiAgICAgICAgIH1cbiAgICAgICB9KVxuICBcbiAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgfSk7XG4gICAgIH1cbiAgIH0sXG5cbiAgIGNvbmZpZ19pbml0aWFsOiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGNhdGVnb3JpZXMgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmllLmZpbmQoe3N0YXRlOiAxfSk7XG4gICAgICBsZXQgdmFyaWVkYWRlcyA9ICBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZCh7fSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgY2F0ZWdvcmllczpjYXRlZ29yaWVzLFxuICAgICAgICB2YXJpZWRhZGVzOiB2YXJpZWRhZGVzLFxuICAgICAgfSk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgIH0pO1xuICAgIH1cblxuICAgfSxcbiAgIGZpbHRlcl9wcm9kdWN0czogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICB2YXIgVElNRV9OT1cgPSByZXEucXVlcnkuVElNRV9OT1c7XG4gICAgICBsZXQgc2VhcmNoX3Byb2R1Y3QgPSByZXEuYm9keS5zZWFyY2hfcHJvZHVjdDtcblxuICAgICAgbGV0IGNhdGVnb3JpZXNfc2FsZWN0ZWRzID0gcmVxLmJvZHkuY2F0ZWdvcmllc19zYWxlY3RlZHM7XG4gICAgICBsZXQgaXNfZGlzY291bnQgPSByZXEuYm9keS5pc19kaXNjb3VudDtcbiAgICAgIGxldCB2YXJpZWRhZF9zZWxlY3RlZCA9IHJlcS5ib2R5LnZhcmllZGFkX3NlbGVjdGVkO1xuICAgICAgbGV0IHByaWNlX21pbiA9IHJlcS5ib2R5LnByaWNlX21pbjtcbiAgICAgIGxldCBwcmljZV9tYXggPSByZXEuYm9keS5wcmljZV9tYXg7XG5cbiAgICAgIGxldCBmaWx0ZXIgPSBbXG4gICAgICAgIHsgc3RhdGU6MiB9LFxuICAgICAgXTtcblxuICAgICAgdmFyIGNhdGVnb3JpZXNfcyA9IFtdO1xuICAgICAgdmFyIHByb2R1Y3RzX3MgPSBbXTtcbiAgICAgIC8veyBzdGF0ZToyLCB0aXRsZTogbmV3IFJlZ0V4cChzZWFyY2hfcHJvZHVjdCwgXCJpXCIpfVxuXG4gICAgICBpZihjYXRlZ29yaWVzX3NhbGVjdGVkcy5sZW5ndGggPiAwKXtcbiAgICAgICAgY2F0ZWdvcmllc19zYWxlY3RlZHMuZm9yRWFjaCgoY2F0ZWdvcmllKSA9PiB7XG4gICAgICAgICAgY2F0ZWdvcmllc19zLnB1c2goY2F0ZWdvcmllKTtcbiAgICAgICAgfSlcbiAgICAgICAgLy8gZmlsdGVyLnB1c2goe1xuICAgICAgICAvLyAgIGNhdGVnb3JpZTp7ICRpbjogY2F0ZWdvcmllc19zYWxlY3RlZHN9LFxuICAgICAgICAvLyB9KVxuICAgICAgfVxuXG4gICAgICBsZXQgQ2FtcGFpZ25EaXNjb3VudCA9ICBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZE9uZSh7XG4gICAgICAgIHR5cGVfY2FtcGFpZ246IDEsXG4gICAgICAgIHN0YXJ0X2RhdGVfbnVtOnskbHRlOiBUSU1FX05PV30sXG4gICAgICAgIGVuZF9kYXRlX251bTp7JGd0ZTogVElNRV9OT1d9LFxuICAgICAgfSk7XG5cbiAgICAgIGlmKGlzX2Rpc2NvdW50ID09IDIpe1xuICAgICAgIGlmKCBDYW1wYWlnbkRpc2NvdW50LnR5cGVfc2VnbWVudCA9PSAxKXtcbiAgICAgICAgIENhbXBhaWduRGlzY291bnQucHJvZHVjdHMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgcHJvZHVjdHNfcy5wdXNoKGl0ZW0uX2lkKTtcbiAgICAgICAgICB9KVxuICAgICAgIH1lbHNle1xuICAgICAgICAgQ2FtcGFpZ25EaXNjb3VudC5jYXRlZ29yaWVzLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgIGNhdGVnb3JpZXNfcy5wdXNoKGl0ZW0uX2lkKTtcbiAgICAgICAgICB9KVxuICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYodmFyaWVkYWRfc2VsZWN0ZWQpe1xuICAgICAgICBsZXQgVkFSSUUgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWQoe19pZDogdmFyaWVkYWRfc2VsZWN0ZWQuX2lkfSk7XG4gICAgICAgIGlmKFZBUklFKXtcbiAgICAgICAgICBwcm9kdWN0c19zLnB1c2goVkFSSUUucHJvZHVjdCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYoY2F0ZWdvcmllc19zLmxlbmd0aCA+IDApe1xuICAgICAgICBmaWx0ZXIucHVzaCh7XG4gICAgICAgICAgY2F0ZWdvcmllOiB7JGluOiBjYXRlZ29yaWVzX3N9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZihwcm9kdWN0c19zLmxlbmd0aCA+IDApe1xuICAgICAgICBmaWx0ZXIucHVzaCh7XG4gICAgICAgICAgX2lkOiB7JGluOiBwcm9kdWN0c19zfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYocHJpY2VfbWluID4gMCAmJiBwcmljZV9tYXggPiAwKXtcbiAgICAgICAgZmlsdGVyLnB1c2goe1xuICAgICAgICAgIHByaWNlX3VzZDogeyRndGU6cHJpY2VfbWluLCAkbHRlOiBwcmljZV9tYXh9LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgbGV0IE91cnNQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoeyRhbmQ6IGZpbHRlcn0pLnNvcnQoeyBcImNyZWF0ZWRBdFwiOiAxfSk7XG5cblxuICAgICAgdmFyIFByb2R1Y3RzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgUHJvZHVjdCBvZiBPdXJzUHJvZHVjdHMpIHtcbiAgICAgICAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3Q6IFByb2R1Y3QuX2lkfSk7XG4gICAgICAgICAgICBsZXQgUkVWSUVXUyA9IGF3YWl0IG1vZGVscy5SZXZpZXcuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcbiAgICAgICAgICAgIGxldCBBVkdfUkVWSUVXID0gUkVWSUVXUy5sZW5ndGggPiAwID8gTWF0aC5jZWlsKFJFVklFV1MucmVkdWNlKChzdW0saXRlbSkgPT4gc3VtICsgaXRlbS5jYW50aWRhZCwwKS9SRVZJRVdTLmxlbmd0aCk6IDA7XG4gICAgICAgICAgICBsZXQgQ09VTlRfUkVWSUVXID0gUkVWSUVXUy5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgRElTQ09VTlRfRVhJVFMgPSAgbnVsbDtcbiAgICAgICAgICAgIGlmKENhbXBhaWduRGlzY291bnQpe1xuICAgICAgICAgICAgICBpZihDYW1wYWlnbkRpc2NvdW50LnR5cGVfc2VnbWVudCA9PSAxKXsvL3BvciBwcm9kdWN0b1xuICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0c19hID0gW107XG4gICAgICAgICAgICAgICAgQ2FtcGFpZ25EaXNjb3VudC5wcm9kdWN0cy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgcHJvZHVjdHNfYS5wdXNoKGl0ZW0uX2lkKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGlmKHByb2R1Y3RzX2EuaW5jbHVkZXMoUHJvZHVjdC5faWQrXCJcIikpe1xuICAgICAgICAgICAgICAgICAgRElTQ09VTlRfRVhJVFMgPSBDYW1wYWlnbkRpc2NvdW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfWVsc2V7Ly8gcG9yIGNhdGVnb3JpYX1cbiAgICAgICAgICAgICAgICBsZXQgY2F0ZWdvcmllc19hID0gW107XG4gICAgICAgICAgICAgICAgQ2FtcGFpZ25EaXNjb3VudC5jYXRlZ29yaWVzLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzX2EucHVzaChpdGVtLl9pZCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBpZihjYXRlZ29yaWVzX2EuaW5jbHVkZXMoUHJvZHVjdC5jYXRlZ29yaWUrXCJcIikpe1xuICAgICAgICAgICAgICAgICAgRElTQ09VTlRfRVhJVFMgPSBDYW1wYWlnbkRpc2NvdW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgUHJvZHVjdHMucHVzaChyZXNvdXJzZS5Qcm9kdWN0LnByb2R1Y3RfbGlzdChQcm9kdWN0LFZBUklFREFERVMsIEFWR19SRVZJRVcsIENPVU5UX1JFVklFVywgRElTQ09VTlRfRVhJVFMpKTtcbiAgICAgICAgfVxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgcHJvZHVjdHM6IFByb2R1Y3RzLFxuICAgICAgICB9KTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgfSk7XG4gICAgfVxuICAgfSxcblxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsU0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQTZCLFNBQUFELHVCQUFBSSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FJZDtFQUViRyxJQUFJLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFFQyxHQUFHLEtBQUs7SUFDdkIsSUFBSTtNQUNBLElBQUlDLFFBQVEsR0FBR0YsR0FBRyxDQUFDRyxLQUFLLENBQUNELFFBQVE7TUFFakMsSUFBSUUsT0FBTyxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDQyxJQUFJLENBQUM7UUFBQ0MsS0FBSyxFQUFDO01BQUMsQ0FBQyxDQUFDO01BQ2pESixPQUFPLEdBQUdBLE9BQU8sQ0FBQ0ssR0FBRyxDQUFFQyxNQUFNLElBQUs7UUFDNUIsT0FBT0Msa0JBQVEsQ0FBQ0wsTUFBTSxDQUFDTSxXQUFXLENBQUNGLE1BQU0sQ0FBQztNQUM1QyxDQUFDLENBQUM7TUFFTixJQUFJRyxZQUFZLEdBQUcsTUFBTVIsZUFBTSxDQUFDUyxPQUFPLENBQUNDLFFBQVEsQ0FBQywwQkFBMEIsQ0FBQztNQUM1RSxJQUFJRixZQUFZLEVBQUU7UUFDaEJBLFlBQVksR0FBR0Ysa0JBQVEsQ0FBQ0csT0FBTyxDQUFDRSxZQUFZLENBQUNILFlBQVksQ0FBQztNQUM1RDtNQUlBLElBQUlJLFVBQVUsR0FBRyxN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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resourses","_bcryptjs","e","__esModule","default","_default","exports","list","req","res","TIME_NOW","query","Sliders","models","Slider","find","state","map","slider","resourse","slider_list","productPromo","Product","findById","product_list","Categories","Categorie","categorie","categorie_list","CampaignDiscount","Discount","findOne","type_campaign","start_date_num","$lte","end_date_num","$gte","BestProducts","condition","$ne","sort","ObjectBestProducts","VARIEDADES","Variedad","product","_id","REVIEWS","Review","AVG_REVIEW","length","Math","ceil","reduce","sum","item","cantidad","COUNT_REVIEW","DISCOUNT_EXITS","type_segment","products_a","products","forEach","push","includes","categories_a","categories","OursProducts","ObjectOursProducts","DonationProducts","ObjectDonationProducts","FlashSale","ProductList","ObjecT","status","json","sliders","best_products","our_products","donation_products","campaign_products","error","console","log","send","message","show_landing_product","SLUG","params","slug","DISCOUNT_ID","populate","RelatedProducts","ObjectRelatedProducts","SALE_FLASH","related_products","search_product","body","title","RegExp","Products","profile_client","user_id","Orders","Sale","user","sale_orders","order","detail_orders","SaleDetail","sale","path","sale_address","SaleAddress","collection_detail_orders","detail_order","reviewS","sale_detail","imagen","process","env","URL_BACKEND","portada","sku","price_bs","price_usd","type_discount","discount","variedad","code_cupon","code_discount","price_unit","subtotal","total","review","sale_details","ADDRESS_CLIENT","AddressClient","address_client","update_client","files","img_path","avatar","name","split","avatar_name","updateData","surname","email","password","bcrypt","hash","User","findByIdAndUpdate","config_initial","variedades","filter_products","categories_salecteds","is_discount","variedad_selected","price_min","price_max","filter","categories_s","products_s","VARIE","$in","$and"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["HomeController.js"],"sourcesContent":["import models from \"../models\";\nimport resourse from \"../resourses\";\nimport bcrypt from \"bcryptjs\"\n\n\n\nexport default {\n\n  list: async(req, res) => {\n    try {\n        var TIME_NOW = req.query.TIME_NOW\n\n        let Sliders = await models.Slider.find({state:1}); \n        Sliders = Sliders.map((slider) => {\n              return resourse.Slider.slider_list(slider);\n            })\n\n        let productPromo = await models.Product.findById('67c0ebd90204b3909cea1e67');\n        if (productPromo) {\n          productPromo = resourse.Product.product_list(productPromo);\n        }\n            \n        \n\n        let Categories = await models.Categorie.find({state:1}); \n        Categories = Categories.map((categorie) => {\n          return resourse.Categorie.categorie_list(categorie);\n        })\n\n        let CampaignDiscount =  await models.Discount.findOne({\n          type_campaign: 1,\n          start_date_num:{$lte: TIME_NOW},\n          end_date_num:{$gte: TIME_NOW},\n        })\n\n        // console.log(CampaignDiscount);\n\n        let BestProducts = await models.Product.find({ state:2, condition: {$ne: 3}}).sort({ \"createdAt\": -1});\n        var ObjectBestProducts = [];\n        for (const Product of BestProducts){\n          let VARIEDADES = await models.Variedad.find({product: Product._id});\n          let REVIEWS = await models.Review.find({product: Product._id});\n          let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length): 0;\n          let COUNT_REVIEW = REVIEWS.length;\n          let DISCOUNT_EXITS =  null;\n          if(CampaignDiscount){\n            if(CampaignDiscount.type_segment == 1){//por producto\n              let products_a = [];\n              CampaignDiscount.products.forEach(item => {\n                products_a.push(item._id);\n              })\n              if(products_a.includes(Product._id+\"\")){\n                DISCOUNT_EXITS = CampaignDiscount;\n              }\n            }else{// por categoria}\n              let categories_a = [];\n              CampaignDiscount.categories.forEach(item => {\n                categories_a.push(item._id);\n              })\n              if(categories_a.includes(Product.categorie+\"\")){\n                DISCOUNT_EXITS = CampaignDiscount;\n              }\n            }\n          }\n          ObjectBestProducts.push(resourse.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n        }\n\n        let OursProducts = await models.Product.find({ state:2, condition: {$ne: 3}}).sort({ \"createdAt\": 1});\n\n        var ObjectOursProducts = [];\n        for (const Product of OursProducts) {\n            let VARIEDADES = await models.Variedad.find({product: Product._id});\n            let REVIEWS = await models.Review.find({product: Product._id});\n            let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length): 0;\n            let COUNT_REVIEW = REVIEWS.length;\n            let DISCOUNT_EXITS =  null;\n            if(CampaignDiscount){\n              if(CampaignDiscount.type_segment == 1){//por producto\n                let products_a = [];\n                CampaignDiscount.products.forEach(item => {\n                  products_a.push(item._id);\n                })\n                if(products_a.includes(Product._id+\"\")){\n                  DISCOUNT_EXITS = CampaignDiscount;\n                }\n              }else{// por categoria}\n                let categories_a = [];\n                CampaignDiscount.categories.forEach(item => {\n                  categories_a.push(item._id);\n                })\n                if(categories_a.includes(Product.categorie+\"\")){\n                  DISCOUNT_EXITS = CampaignDiscount;\n                }\n              }\n            }\n            ObjectOursProducts.push(resourse.Product.product_list(Product,VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n        }\n\n        // OursProducts = OursProducts.map(async (product) => {\n        //   let VARIEDADES = await models.Variedad.find({product: product._id});\n        //   return resourse.Product.product_list(product,VARIEDADES);\n        // })\n\n        let DonationProducts = await models.Product.find({ state:2, condition:3}).sort({ \"createdAt\": 1});\n        var ObjectDonationProducts = [];\n        for (const Product of DonationProducts) {\n            let VARIEDADES = await models.Variedad.find({product: Product._id});\n            ObjectDonationProducts.push(resourse.Product.product_list(Product,VARIEDADES));\n        }\n\n        // DonationProducts = DonationProducts.map((product) => {\n        //   return resourse.Product.product_list(product);\n        // })\n\n        let FlashSale =  await models.Discount.findOne({\n          type_campaign: 2,\n          start_date_num:{$lte: TIME_NOW},\n          end_date_num:{$gte: TIME_NOW},\n        });\n\n        let ProductList = [];\n        if(FlashSale){\n          for (const product of FlashSale.products) {\n            var ObjecT = await models.Product.findById({_id:product._id});\n            let VARIEDADES = await models.Variedad.find({product: product._id});\n            ProductList.push(resourse.Product.product_list(ObjecT,VARIEDADES));\n          }\n        }\n          //console.log(FlashSale);\n          // console.log(TIME_NOW);\n        \n        res.status(200).json({\n          sliders: Sliders,\n          categories: Categories,\n          productPromo: [productPromo], // Envía como un arreglo\n          best_products:ObjectBestProducts,\n          our_products: ObjectOursProducts,\n          donation_products:ObjectDonationProducts,\n          FlashSale:FlashSale,\n          campaign_products:ProductList,\n        });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  show_landing_product: async(req, res) =>{\n    try {\n      let SLUG = req.params.slug;\n      let DISCOUNT_ID = req.query._id;\n\n      // console.log(\"_id= \"+DISCOUNT_ID);\n\n      let Product = await models.Product.findOne({slug: SLUG, state: 2});\n\n      let VARIEDADES =  await models.Variedad.find({product: Product._id});\n\n      let REVIEWS = await models.Review.find({product: Product._id}).populate(\"user\");\n      let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length): 0;\n      let COUNT_REVIEW = REVIEWS.length;\n\n      // console.log(\"Las estrellas: \"+AVG_REVIEW);\n\n      let RelatedProducts = await models.Product.find({categorie: Product.categorie, state: 2 });\n\n      var ObjectRelatedProducts = [];\n        for (const Product of RelatedProducts) {\n            let VARIEDADES = await models.Variedad.find({product: Product._id});\n            ObjectRelatedProducts.push(resourse.Product.product_list(Product,VARIEDADES));\n        }\n        let SALE_FLASH = null;\n        if(DISCOUNT_ID){\n          SALE_FLASH = await models.Discount.findById({_id: DISCOUNT_ID})\n        }\n\n      res.status(200).json({\n        product: resourse.Product.product_list(Product, VARIEDADES),\n        related_products: ObjectRelatedProducts,\n        SALE_FLASH: SALE_FLASH,\n        REVIEWS: REVIEWS,\n        AVG_REVIEW: AVG_REVIEW,\n        COUNT_REVIEW: COUNT_REVIEW,\n        message: \"Super! El producto agregó satisfactoriamente\",\n        })\n\n      \n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n\n  search_product: async(req, res) =>{\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n\n      let search_product = req.body.search_product;\n      let OursProducts = await models.Product.find({ state:2, title: new RegExp(search_product, \"i\")}).sort({ \"createdAt\": 1});\n\n      let CampaignDiscount =  await models.Discount.findOne({\n        type_campaign: 1,\n        start_date_num:{$lte: TIME_NOW},\n        end_date_num:{$gte: TIME_NOW},\n      });\n\n      var Products = [];\n        for (const Product of OursProducts) {\n            let VARIEDADES = await models.Variedad.find({product: Product._id});\n            let REVIEWS = await models.Review.find({product: Product._id});\n            let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length): 0;\n            let COUNT_REVIEW = REVIEWS.length;\n            let DISCOUNT_EXITS =  null;\n            if(CampaignDiscount){\n              if(CampaignDiscount.type_segment == 1){//por producto\n                let products_a = [];\n                CampaignDiscount.products.forEach(item => {\n                  products_a.push(item._id);\n                })\n                if(products_a.includes(Product._id+\"\")){\n                  DISCOUNT_EXITS = CampaignDiscount;\n                }\n              }else{// por categoria}\n                let categories_a = [];\n                CampaignDiscount.categories.forEach(item => {\n                  categories_a.push(item._id);\n                })\n                if(categories_a.includes(Product.categorie+\"\")){\n                  DISCOUNT_EXITS = CampaignDiscount;\n                }\n              }\n            }\n            Products.push(resourse.Product.product_list(Product,VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n        }\n        res.status(200).json({\n          products: Products,\n        });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\",\n      });\n    }\n  },\n\n  profile_client: async(req, res) =>{\n    try {\n      let user_id = req.body.user_id;\n\n      let Orders =  await models.Sale.find({user: user_id});\n\n      let sale_orders = [];\n\n      for (const order of Orders) {\n        let detail_orders = await models.SaleDetail.find({sale: order._id}).populate({\n          path: \"product\",\n          populate: {\n             path: \"categorie\"\n          },\n        }).populate(\"variedad\");\n        let sale_address = await models.SaleAddress.find({sale: order._id});\n        let collection_detail_orders = [];\n        for (const detail_order of detail_orders) {\n          let reviewS = await models.Review.findOne({sale_detail: detail_order._id});\n          collection_detail_orders.push({\n              _id:detail_order._id,\n              product:{\n                _id: detail_order.product._id,\n                title: detail_order.product.title,\n                imagen:process.env.URL_BACKEND+\"/api/products/uploads/product/\"+detail_order.product.portada, \n                state: detail_order.product.state,\n                slug: detail_order.product.slug,\n                sku: detail_order.product.sku,\n                categorie: detail_order.product.categorie,\n                price_bs: detail_order.product.price_bs,\n                price_usd: detail_order.product.price_usd,\n                condition: detail_order.product.condition,\n              },\n              type_discount: detail_order.type_discount,\n              discount: detail_order.discount,\n              cantidad: detail_order.cantidad,\n              variedad: detail_order.variedad,\n              code_cupon: detail_order.code_cupon,\n              code_discount: detail_order.code_discount,\n              price_unit: detail_order.price_unit,\n              subtotal: detail_order.subtotal,\n              total: detail_order.total,\n              review: reviewS,\n          })\n        }\n        sale_orders.push({\n          sale: order,\n          sale_details:collection_detail_orders,\n          sale_address: sale_address,\n        })\n      }\n      let ADDRESS_CLIENT  = await models.AddressClient.find({user:user_id}).sort({'createdAt':-1});\n      res.status(200).json({\n        sale_orders: sale_orders,\n        address_client: ADDRESS_CLIENT\n      })\n\n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\",\n      });\n      \n    }\n  },\n   update_client: async (req, res) => {\n     try {\n       if (req.files) {\n         var img_path = req.files.avatar.path;\n         var name = img_path.split('/');\n         var avatar_name = name[2];\n         console.log(avatar_name)\n       }\n\n      //  console.log(req.body);\n  \n       const updateData = {};\n  \n       // Verifica cada campo y solo actualiza si tiene valor\n       if (req.body.name) updateData.name = req.body.name;\n       if (req.body.surname) updateData.surname = req.body.surname;\n       if (req.body.email) updateData.email = req.body.email;\n  \n       // Solo actualiza el password si se proporciona uno nuevo\n       if (req.body.password && req.body.password !== \"\") {\n         updateData.password = await bcrypt.hash(req.body.password, 10);\n       }\n  \n       await models.User.findByIdAndUpdate({ _id: req.body._id }, updateData);\n  \n       let User = await models.User.findOne({ _id: req.body._id });\n  \n       res.status(200).json({\n         message: \"Super! Su información se actualizó satisfactoriamente\",\n         user: {\n           name: User.name,\n           surname: User.surname,\n           email: User.email,\n           _id: User._id,\n         }\n       })\n  \n     } catch (error) {\n       console.log(error);\n       res.status(500).send({\n         message: \"OCURRIÓ UN PROBLEMA\"\n       });\n     }\n   },\n\n   config_initial: async (req, res) => {\n    try {\n      let categories = await models.Categorie.find({state: 1});\n      let variedades =  await models.Variedad.find({});\n\n      res.status(200).json({\n        categories:categories,\n        variedades: variedades,\n      });\n      \n    } catch (error) {\n      console.log(error);\n       res.status(500).send({\n         message: \"OCURRIÓ UN PROBLEMA\"\n       });\n    }\n\n   },\n   filter_products: async(req,res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      let search_product = req.body.search_product;\n\n      let categories_salecteds = req.body.categories_salecteds;\n      let is_discount = req.body.is_discount;\n      let variedad_selected = req.body.variedad_selected;\n      let price_min = req.body.price_min;\n      let price_max = req.body.price_max;\n\n      let filter = [\n        { state:2 },\n      ];\n\n      var categories_s = [];\n      var products_s = [];\n      //{ state:2, title: new RegExp(search_product, \"i\")}\n\n      if(categories_salecteds.length > 0){\n        categories_salecteds.forEach((categorie) => {\n          categories_s.push(categorie);\n        })\n        // filter.push({\n        //   categorie:{ $in: categories_salecteds},\n        // })\n      }\n\n      let CampaignDiscount =  await models.Discount.findOne({\n        type_campaign: 1,\n        start_date_num:{$lte: TIME_NOW},\n        end_date_num:{$gte: TIME_NOW},\n      });\n\n      if(is_discount == 2){\n       if( CampaignDiscount.type_segment == 1){\n         CampaignDiscount.products.forEach(item => {\n           products_s.push(item._id);\n          })\n       }else{\n         CampaignDiscount.categories.forEach(item => {\n           categories_s.push(item._id);\n          })\n       }\n      }\n\n      if(variedad_selected){\n        let VARIE = await models.Variedad.findById({_id: variedad_selected._id});\n        if(VARIE){\n          products_s.push(VARIE.product);\n        }\n      }\n\n      if(categories_s.length > 0){\n        filter.push({\n          categorie: {$in: categories_s}\n        });\n      }\n\n      if(products_s.length > 0){\n        filter.push({\n          _id: {$in: products_s}\n        });\n      }\n\n      if(price_min > 0 && price_max > 0){\n        filter.push({\n          price_usd: {$gte:price_min, $lte: price_max},\n        });\n      }\n      \n      let OursProducts = await models.Product.find({$and: filter}).sort({ \"createdAt\": 1});\n\n\n      var Products = [];\n        for (const Product of OursProducts) {\n            let VARIEDADES = await models.Variedad.find({product: Product._id});\n            let REVIEWS = await models.Review.find({product: Product._id});\n            let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length): 0;\n            let COUNT_REVIEW = REVIEWS.length;\n            let DISCOUNT_EXITS =  null;\n            if(CampaignDiscount){\n              if(CampaignDiscount.type_segment == 1){//por producto\n                let products_a = [];\n                CampaignDiscount.products.forEach(item => {\n                  products_a.push(item._id);\n                })\n                if(products_a.includes(Product._id+\"\")){\n                  DISCOUNT_EXITS = CampaignDiscount;\n                }\n              }else{// por categoria}\n                let categories_a = [];\n                CampaignDiscount.categories.forEach(item => {\n                  categories_a.push(item._id);\n                })\n                if(categories_a.includes(Product.categorie+\"\")){\n                  DISCOUNT_EXITS = CampaignDiscount;\n                }\n              }\n            }\n            Products.push(resourse.Product.product_list(Product,VARIEDADES, AVG_REVIEW, COUNT_REVIEW, DISCOUNT_EXITS));\n        }\n        res.status(200).json({\n          products: Products,\n        });\n      \n    } catch (error) {\n      console.log(error);\n       res.status(500).send({\n         message: \"OCURRIÓ UN PROBLEMA\"\n       });\n    }\n   },\n\n}"],"mappings":"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","ignoreList":[]}},"mtime":1741488664066},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CartController = _interopRequireDefault(require(\"../controllers/CartController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.get(\"/list\", _auth.default.verifyEcommerce, _CartController.default.list);\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _CartController.default.register);\nrouter.put(\"/update\", _auth.default.verifyEcommerce, _CartController.default.update);\nrouter.delete(\"/delete/:id\", _auth.default.verifyEcommerce, _CartController.default.delete);\nrouter.post(\"/aplicar_cupon\", _auth.default.verifyEcommerce, _CartController.default.applyCupon);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXJ0Q29udHJvbGxlciIsIl9hdXRoIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsImdldCIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJjYXJ0Q29udHJvbGxlciIsImxpc3QiLCJwb3N0IiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJkZWxldGUiLCJhcHBseUN1cG9uIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbIkNhcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcbmltcG9ydCBjYXJ0Q29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9DYXJ0Q29udHJvbGxlcidcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXG5cblxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIiwgYXV0aC52ZXJpZnlFY29tbWVyY2UgLGNhcnRDb250cm9sbGVyLmxpc3QpO1xucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgYXV0aC52ZXJpZnlFY29tbWVyY2UsIGNhcnRDb250cm9sbGVyLnJlZ2lzdGVyKTtcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsIGF1dGgudmVyaWZ5RWNvbW1lcmNlLCBjYXJ0Q29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLmRlbGV0ZShcIi9kZWxldGUvOmlkXCIsIGF1dGgudmVyaWZ5RWNvbW1lcmNlLCBjYXJ0Q29udHJvbGxlci5kZWxldGUpO1xucm91dGVyLnBvc3QoXCIvYXBsaWNhcl9jdXBvblwiLCBhdXRoLnZlcmlmeUVjb21tZXJjZSwgY2FydENvbnRyb2xsZXIuYXBwbHlDdXBvbik7XG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUksQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUd0QyxNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBRXhCRCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxPQUFPLEVBQUVDLGFBQUksQ0FBQ0MsZUFBZSxFQUFFQyx1QkFBYyxDQUFDQyxJQUFJLENBQUM7QUFDOUROLE1BQU0sQ0FBQ08sSUFBSSxDQUFDLFdBQVcsRUFBRUosYUFBSSxDQUFDQyxlQUFlLEVBQUVDLHVCQUFjLENBQUNHLFFBQVEsQ0FBQztBQUN2RVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsU0FBUyxFQUFFTixhQUFJLENBQUNDLGVBQWUsRUFBRUMsdUJBQWMsQ0FBQ0ssTUFBTSxDQUFDO0FBQ2xFVixNQUFNLENBQUNXLE1BQU0sQ0FBQyxhQUFhLEVBQUVSLGFBQUksQ0FBQ0MsZUFBZSxFQUFFQyx1QkFBYyxDQUFDTSxNQUFNLENBQUM7QUFDekVYLE1BQU0sQ0FBQ08sSUFBSSxDQUFDLGdCQUFnQixFQUFFSixhQUFJLENBQUNDLGVBQWUsRUFBRUMsdUJBQWMsQ0FBQ08sVUFBVSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFmLE9BQUEsR0FHaEVDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CartController","_auth","e","__esModule","default","router","routerx","get","auth","verifyEcommerce","cartController","list","post","register","put","update","delete","applyCupon","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Cart.js"],"sourcesContent":["import routerx from 'express-promise-router'\nimport cartController from '../controllers/CartController'\nimport auth from '../middlewares/auth'\n\n\nconst router = routerx();\n\nrouter.get(\"/list\", auth.verifyEcommerce ,cartController.list);\nrouter.post(\"/register\", auth.verifyEcommerce, cartController.register);\nrouter.put(\"/update\", auth.verifyEcommerce, cartController.update);\nrouter.delete(\"/delete/:id\", auth.verifyEcommerce, cartController.delete);\nrouter.post(\"/aplicar_cupon\", auth.verifyEcommerce, cartController.applyCupon);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAGtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,GAAG,CAAC,OAAO,EAAEC,aAAI,CAACC,eAAe,EAAEC,uBAAc,CAACC,IAAI,CAAC;AAC9DN,MAAM,CAACO,IAAI,CAAC,WAAW,EAAEJ,aAAI,CAACC,eAAe,EAAEC,uBAAc,CAACG,QAAQ,CAAC;AACvER,MAAM,CAACS,GAAG,CAAC,SAAS,EAAEN,aAAI,CAACC,eAAe,EAAEC,uBAAc,CAACK,MAAM,CAAC;AAClEV,MAAM,CAACW,MAAM,CAAC,aAAa,EAAER,aAAI,CAACC,eAAe,EAAEC,uBAAc,CAACM,MAAM,CAAC;AACzEX,MAAM,CAACO,IAAI,CAAC,gBAAgB,EAAEJ,aAAI,CAACC,eAAe,EAAEC,uBAAc,CAACO,UAAU,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAf,OAAA,GAGhEC,MAAM","ignoreList":[]}},"mtime":1739498244399},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/CartController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  list: async (req, res) => {\n    try {\n      let user_id = req.query.user_id;\n      let CARTS = await _models.default.Cart.find({\n        user: user_id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categorie\"\n        }\n      });\n      CARTS = CARTS.map(cart => {\n        return _resourses.default.Cart.cart_list(cart);\n      });\n      res.status(200).json({\n        carts: CARTS\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      });\n    }\n  },\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      //1ro: validar si el producto existe en carrito de compras \n      if (data.variedad) {\n        let valid_cart = await _models.default.Cart.findOne({\n          user: data.user,\n          variedad: data.variedad,\n          product: data.product\n        });\n        if (valid_cart) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL PRODUCTO CON LA VARIEDAD SELECCIONADA YA EXISTE EN EL CARRITO DE COMPRA\"\n          });\n          return;\n        }\n      } else {\n        let valid_cart = await _models.default.Cart.findOne({\n          user: data.user,\n          product: data.product\n        });\n        if (valid_cart) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL PRODUCTO YA EXISTE EN EL CARRITO DE COMPRA\"\n          });\n          return;\n        }\n      }\n      // 2do: validar si el stock esta disponible\n      if (data.variedad) {\n        let valid_variedad = await _models.default.Variedad.findOne({\n          _id: data.variedad\n        });\n        if (valid_variedad.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"Upss! La cantidad solicitada no esta disponible en stock, Por favor ingrese una cantidad menor o igual a \" + valid_variedad.stock\n          });\n          return;\n        }\n      } else {\n        let valid_product = await _models.default.Product.findOne({\n          _id: data.product\n        });\n        if (valid_product.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"Upss! La cantidad solicitada no esta disponible en stock, Por favor ingrese una cantidad menor o igual a \" + valid_product.stock\n          });\n          return;\n        }\n      }\n      let CART = await _models.default.Cart.create(data);\n      let NEW_CART = await _models.default.Cart.findById({\n        _id: CART._id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categorie\"\n        }\n      });\n      res.status(200).json({\n        cart: _resourses.default.Cart.cart_list(NEW_CART),\n        message_text: \"El carrito de compra se registró satisfactoriamente\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      // 2do: validar si el stock esta disponible\n      if (data.variedad) {\n        let valid_variedad = await _models.default.Variedad.findOne({\n          _id: data.variedad\n        });\n        if (valid_variedad.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_tex: \"Upss! La cantidad solicitada no esta disponible en stock, Por favor ingrese una cantidad menor o igual a \" + valid_variedad.stock\n          });\n          return;\n        }\n      } else {\n        let valid_product = await _models.default.Product.findOne({\n          _id: data.product\n        });\n        if (valid_product.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"Upss! La cantidad solicitada no esta disponible en stock, Por favor ingrese una cantidad menor o igual a \" + valid_product.stock\n          });\n          return;\n        }\n      }\n      let CART = await _models.default.Cart.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let NEW_CART = await _models.default.Cart.findById({\n        _id: CART._id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categorie\"\n        }\n      });\n      res.status(200).json({\n        cart: _resourses.default.Cart.cart_list(NEW_CART),\n        message_text: \"El carrito de compra se actualizó satisfactoriamente\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.params.id;\n      let CART = await _models.default.Cart.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message_text: \"El carrito de compra se eliminó satisfactoriamente\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      });\n    }\n  },\n  applyCupon: async (req, res) => {\n    try {\n      let data = req.body;\n      //1ra Validacion es con la existencia del cupon\n      let CUPON = await _models.default.Cupone.findOne({\n        code: data.code\n      });\n      if (!CUPON) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"Upss! El cupon ingresado no existe, por favor ingrese otro nuevamente\"\n        });\n        return;\n      }\n\n      //2da validacion tiene que ver con el uso de cupon -- Espera\n\n      // Parte operativa\n\n      let carts = await _models.default.Cart.find({\n        user: data.user_id\n      }).populate(\"product\");\n      let products = [];\n      let categories = [];\n      CUPON.products.forEach(product => {\n        products.push(product._id);\n      });\n\n      // Se presenta bajo el formato[8282020009, 7337733934] y no [(_id: 8282020009), (_id:7337733934)]\n\n      CUPON.categories.forEach(categorie => {\n        categories.push(categorie._id);\n      });\n      for (const cart of carts) {\n        if (products.length > 0) {\n          if (products.includes(cart.product._id + \"\")) {\n            let subtotal = 0;\n            let total = 0;\n            if (CUPON.type_discount == 1) {\n              //porcentaje\n              subtotal = cart.price_unit - cart.price_unit * (CUPON.discount * 0.01);\n            } else {\n              //porcentaje\n              subtotal = cart.price_unit - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await _models.default.Cart.findByIdAndUpdate({\n              _id: cart._id\n            }, {\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code\n            });\n          }\n        }\n        if (categories.length > 0) {\n          if (categories.includes(cart.product.categorie + \"\")) {\n            let subtotal = 0;\n            let total = 0;\n            if (CUPON.type_discount == 1) {\n              //porcentaje\n              subtotal = cart.price_unit - cart.price_unit * (CUPON.discount * 0.01);\n            } else {\n              //porcentaje\n              subtotal = cart.price_unit - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await _models.default.Cart.findByIdAndUpdate({\n              _id: cart._id\n            }, {\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code\n            });\n          }\n        }\n      }\n      res.status(200).json({\n        message: 200,\n        message_text: \"Super! El cupon fue aplicado exitosamente\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3Vyc2VzIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwibGlzdCIsInJlcSIsInJlcyIsInVzZXJfaWQiLCJxdWVyeSIsIkNBUlRTIiwibW9kZWxzIiwiQ2FydCIsImZpbmQiLCJ1c2VyIiwicG9wdWxhdGUiLCJwYXRoIiwibWFwIiwiY2FydCIsInJlc291cnNlIiwiY2FydF9saXN0Iiwic3RhdHVzIiwianNvbiIsImNhcnRzIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwic2VuZCIsIm1lc3NhZ2UiLCJyZWdpc3RlciIsImRhdGEiLCJib2R5IiwidmFyaWVkYWQiLCJ2YWxpZF9jYXJ0IiwiZmluZE9uZSIsInByb2R1Y3QiLCJtZXNzYWdlX3RleHQiLCJ2YWxpZF92YXJpZWRhZCIsIlZhcmllZGFkIiwiX2lkIiwic3RvY2siLCJjYW50aWRhZCIsInZhbGlkX3Byb2R1Y3QiLCJQcm9kdWN0IiwiQ0FSVCIsImNyZWF0ZSIsIk5FV19DQVJUIiwiZmluZEJ5SWQiLCJ1cGRhdGUiLCJtZXNzYWdlX3RleCIsImZpbmRCeUlkQW5kVXBkYXRlIiwiZGVsZXRlIiwicGFyYW1zIiwiaWQiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImFwcGx5Q3Vwb24iLCJDVVBPTiIsIkN1cG9uZSIsImNvZGUiLCJwcm9kdWN0cyIsImNhdGVnb3JpZXMiLCJmb3JFYWNoIiwicHVzaCIsImNhdGVnb3JpZSIsImxlbmd0aCIsImluY2x1ZGVzIiwic3VidG90YWwiLCJ0b3RhbCIsInR5cGVfZGlzY291bnQiLCJwcmljZV91bml0IiwiZGlzY291bnQiLCJjb2RlX2N1cG9uIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiQ2FydENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIjtcbmltcG9ydCByZXNvdXJzZSBmcm9tIFwiLi4vcmVzb3Vyc2VzXCJcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGxpc3Q6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBsZXQgdXNlcl9pZCA9IHJlcS5xdWVyeS51c2VyX2lkO1xuICAgICAgICBsZXQgQ0FSVFMgPSBhd2FpdCBtb2RlbHMuQ2FydC5maW5kKHtcbiAgICAgICAgICB1c2VyOiB1c2VyX2lkLFxuICAgICAgICB9KS5wb3B1bGF0ZShcInZhcmllZGFkXCIpLnBvcHVsYXRlKHtcbiAgICAgICAgICBwYXRoOiBcInByb2R1Y3RcIixcbiAgICAgICAgICBwb3B1bGF0ZToge1xuICAgICAgICAgICAgIHBhdGg6IFwiY2F0ZWdvcmllXCJcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBDQVJUUyA9IENBUlRTLm1hcCgoY2FydCkgPT4ge1xuICAgICAgICAgIHJldHVybiByZXNvdXJzZS5DYXJ0LmNhcnRfbGlzdChjYXJ0KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgIGNhcnRzOiBDQVJUUyxcbiAgICAgICAgfSlcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gRVJST1JcIlxuICAgICAgfSlcbiAgICB9XG4gIH0sXG4gIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcbiAgICAgICAgLy8xcm86IHZhbGlkYXIgc2kgZWwgcHJvZHVjdG8gZXhpc3RlIGVuIGNhcnJpdG8gZGUgY29tcHJhcyBcbiAgICAgICAgaWYoZGF0YS52YXJpZWRhZCl7XG4gICAgICAgICAgbGV0IHZhbGlkX2NhcnQgPSBhd2FpdCBtb2RlbHMuQ2FydC5maW5kT25lKHtcbiAgICAgICAgICAgIHVzZXI6IGRhdGEudXNlcixcbiAgICAgICAgICAgIHZhcmllZGFkOiBkYXRhLnZhcmllZGFkLFxuICAgICAgICAgICAgcHJvZHVjdDogZGF0YS5wcm9kdWN0LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmICh2YWxpZF9jYXJ0KXtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxuICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgUFJPRFVDVE8gQ09OIExBIFZBUklFREFEIFNFTEVDQ0lPTkFEQSBZQSBFWElTVEUgRU4gRUwgQ0FSUklUTyBERSBDT01QUkFcIlxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGxldCB2YWxpZF9jYXJ0ID0gYXdhaXQgbW9kZWxzLkNhcnQuZmluZE9uZSh7XG4gICAgICAgICAgICB1c2VyOiBkYXRhLnVzZXIsXG4gICAgICAgICAgICBwcm9kdWN0OiBkYXRhLnByb2R1Y3QsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodmFsaWRfY2FydCl7XG4gICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxuICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIFBST0RVQ1RPIFlBIEVYSVNURSBFTiBFTCBDQVJSSVRPIERFIENPTVBSQVwiXG4gICAgICAgICAgfSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIDJkbzogdmFsaWRhciBzaSBlbCBzdG9jayBlc3RhIGRpc3BvbmlibGVcbiAgICAgICAgaWYoZGF0YS52YXJpZWRhZCl7XG4gICAgICAgICAgbGV0IHZhbGlkX3ZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRPbmUoe1xuICAgICAgICAgICAgX2lkOiBkYXRhLnZhcmllZGFkLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmKHZhbGlkX3ZhcmllZGFkLnN0b2NrIDwgZGF0YS5jYW50aWRhZCl7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgIG1lc3NhZ2U6IDQwMyxcbiAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIlVwc3MhIExhIGNhbnRpZGFkIHNvbGljaXRhZGEgbm8gZXN0YSBkaXNwb25pYmxlIGVuIHN0b2NrLCBQb3IgZmF2b3IgaW5ncmVzZSB1bmEgY2FudGlkYWQgbWVub3IgbyBpZ3VhbCBhIFwiKyB2YWxpZF92YXJpZWRhZC5zdG9ja1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGxldCB2YWxpZF9wcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZE9uZSh7XG4gICAgICAgICAgICBfaWQ6IGRhdGEucHJvZHVjdCxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmKHZhbGlkX3Byb2R1Y3Quc3RvY2sgPCBkYXRhLmNhbnRpZGFkKXtcbiAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiA0MDMsXG4gICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiVXBzcyEgTGEgY2FudGlkYWQgc29saWNpdGFkYSBubyBlc3RhIGRpc3BvbmlibGUgZW4gc3RvY2ssIFBvciBmYXZvciBpbmdyZXNlIHVuYSBjYW50aWRhZCBtZW5vciBvIGlndWFsIGEgXCIrIHZhbGlkX3Byb2R1Y3Quc3RvY2tcbiAgICAgICAgICB9KVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgICBsZXQgQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmNyZWF0ZShkYXRhKTtcblxuICAgICAgICBsZXQgICBORVdfQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkKHtfaWQ6Q0FSVC5faWR9KS5wb3B1bGF0ZShcInZhcmllZGFkXCIpLnBvcHVsYXRlKHtcbiAgICAgICAgICBwYXRoOiBcInByb2R1Y3RcIixcbiAgICAgICAgICBwb3B1bGF0ZToge1xuICAgICAgICAgICAgIHBhdGg6IFwiY2F0ZWdvcmllXCJcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgY2FydDogcmVzb3Vyc2UuQ2FydC5jYXJ0X2xpc3QoTkVXX0NBUlQpLFxuICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFbCBjYXJyaXRvIGRlIGNvbXByYSBzZSByZWdpc3Ryw7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBFUlJPUlwiXG4gICAgICB9KVxuICAgIH1cbiAgfSxcbiAgdXBkYXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XG4gICAgICAvLyAyZG86IHZhbGlkYXIgc2kgZWwgc3RvY2sgZXN0YSBkaXNwb25pYmxlXG4gICAgICAgIGlmKGRhdGEudmFyaWVkYWQpe1xuICAgICAgICAgIGxldCB2YWxpZF92YXJpZWRhZCA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kT25lKHtcbiAgICAgICAgICAgIF9pZDogZGF0YS52YXJpZWRhZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZih2YWxpZF92YXJpZWRhZC5zdG9jayA8IGRhdGEuY2FudGlkYWQpe1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICBtZXNzYWdlOiA0MDMsXG4gICAgICAgICAgICAgIG1lc3NhZ2VfdGV4OiBcIlVwc3MhIExhIGNhbnRpZGFkIHNvbGljaXRhZGEgbm8gZXN0YSBkaXNwb25pYmxlIGVuIHN0b2NrLCBQb3IgZmF2b3IgaW5ncmVzZSB1bmEgY2FudGlkYWQgbWVub3IgbyBpZ3VhbCBhIFwiKyB2YWxpZF92YXJpZWRhZC5zdG9ja1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGxldCB2YWxpZF9wcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZE9uZSh7XG4gICAgICAgICAgICBfaWQ6IGRhdGEucHJvZHVjdCxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmKHZhbGlkX3Byb2R1Y3Quc3RvY2sgPCBkYXRhLmNhbnRpZGFkKXtcbiAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiA0MDMsXG4gICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiVXBzcyEgTGEgY2FudGlkYWQgc29saWNpdGFkYSBubyBlc3RhIGRpc3BvbmlibGUgZW4gc3RvY2ssIFBvciBmYXZvciBpbmdyZXNlIHVuYSBjYW50aWRhZCBtZW5vciBvIGlndWFsIGEgXCIrIHZhbGlkX3Byb2R1Y3Quc3RvY2tcbiAgICAgICAgICB9KVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgICBsZXQgQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6ZGF0YS5faWR9LGRhdGEpO1xuXG4gICAgICAgIGxldCAgIE5FV19DQVJUID0gYXdhaXQgbW9kZWxzLkNhcnQuZmluZEJ5SWQoe19pZDpDQVJULl9pZH0pLnBvcHVsYXRlKFwidmFyaWVkYWRcIikucG9wdWxhdGUoe1xuICAgICAgICAgIHBhdGg6IFwicHJvZHVjdFwiLFxuICAgICAgICAgIHBvcHVsYXRlOiB7XG4gICAgICAgICAgICAgcGF0aDogXCJjYXRlZ29yaWVcIlxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICBjYXJ0OiByZXNvdXJzZS5DYXJ0LmNhcnRfbGlzdChORVdfQ0FSVCksXG4gICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVsIGNhcnJpdG8gZGUgY29tcHJhIHNlIGFjdHVhbGl6w7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgIH0pXG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIEVSUk9SXCJcbiAgICAgIH0pXG4gICAgfVxuICB9LFxuICBkZWxldGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IF9pZCA9IHJlcS5wYXJhbXMuaWQ7XG4gICAgICBsZXQgQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6X2lkfSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVsIGNhcnJpdG8gZGUgY29tcHJhIHNlIGVsaW1pbsOzIHNhdGlzZmFjdG9yaWFtZW50ZVwiXG4gICAgICB9KVxuXG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIEVSUk9SXCJcbiAgICAgIH0pXG4gICAgfVxuICB9LFxuXG4gIGFwcGx5Q3Vwb246IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcbiAgICAgIC8vMXJhIFZhbGlkYWNpb24gZXMgY29uIGxhIGV4aXN0ZW5jaWEgZGVsIGN1cG9uXG4gICAgICBsZXQgQ1VQT04gPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRPbmUoe1xuICAgICAgICBjb2RlOiBkYXRhLmNvZGUsXG4gICAgICB9KVxuICAgICAgaWYoIUNVUE9OKXtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgIG1lc3NhZ2U6IDQwMyxcbiAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiVXBzcyEgRWwgY3Vwb24gaW5ncmVzYWRvIG5vIGV4aXN0ZSwgcG9yIGZhdm9yIGluZ3Jlc2Ugb3RybyBudWV2YW1lbnRlXCJcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLzJkYSB2YWxpZGFjaW9uIHRpZW5lIHF1ZSB2ZXIgY29uIGVsIHVzbyBkZSBjdXBvbiAtLSBFc3BlcmFcblxuICAgICAgLy8gUGFydGUgb3BlcmF0aXZhXG5cbiAgICAgIGxldCBjYXJ0cyA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmQoe3VzZXI6IGRhdGEudXNlcl9pZH0pLnBvcHVsYXRlKFwicHJvZHVjdFwiKVxuXG5cbiAgICAgIGxldCBwcm9kdWN0cyA9IFtdO1xuICAgICAgbGV0IGNhdGVnb3JpZXMgPSBbXTtcblxuICAgICAgQ1VQT04ucHJvZHVjdHMuZm9yRWFjaChwcm9kdWN0ID0+IHtcbiAgICAgICAgcHJvZHVjdHMucHVzaChwcm9kdWN0Ll9pZCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gU2UgcHJlc2VudGEgYmFqbyBlbCBmb3JtYXRvWzgyODIwMjAwMDksIDczMzc3MzM5MzRdIHkgbm8gWyhfaWQ6IDgyODIwMjAwMDkpLCAoX2lkOjczMzc3MzM5MzQpXVxuXG4gICAgICBDVVBPTi5jYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcmllID0+IHtcbiAgICAgICAgY2F0ZWdvcmllcy5wdXNoKGNhdGVnb3JpZS5faWQpO1xuICAgICAgfSk7XG5cbiAgICAgIGZvciAoY29uc3QgY2FydCBvZiBjYXJ0cykge1xuICAgICAgICBpZihwcm9kdWN0cy5sZW5ndGggPiAwKXtcbiAgICAgICAgICBpZihwcm9kdWN0cy5pbmNsdWRlcyhjYXJ0LnByb2R1Y3QuX2lkK1wiXCIpKXtcbiAgICAgICAgICAgIGxldCBzdWJ0b3RhbCA9IDA7XG4gICAgICAgICAgICBsZXQgdG90YWwgPSAwO1xuICAgICAgICAgICAgaWYoQ1VQT04udHlwZV9kaXNjb3VudCA9PSAxKXsvL3BvcmNlbnRhamVcbiAgICAgICAgICAgICAgc3VidG90YWwgPSBjYXJ0LnByaWNlX3VuaXQgLSBjYXJ0LnByaWNlX3VuaXQgKihDVVBPTi5kaXNjb3VudCowLjAxKTtcbiAgICAgICAgICAgIH1lbHNley8vcG9yY2VudGFqZVxuICAgICAgICAgICAgICBzdWJ0b3RhbCA9IGNhcnQucHJpY2VfdW5pdCAtIENVUE9OLmRpc2NvdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG90YWwgPSBzdWJ0b3RhbCAqIGNhcnQuY2FudGlkYWQ7XG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuQ2FydC5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiBjYXJ0Ll9pZH0se1xuICAgICAgICAgICAgICBzdWJ0b3RhbDogc3VidG90YWwsXG4gICAgICAgICAgICAgIHRvdGFsOiB0b3RhbCxcbiAgICAgICAgICAgICAgdHlwZV9kaXNjb3VudDogQ1VQT04udHlwZV9kaXNjb3VudCxcbiAgICAgICAgICAgICAgZGlzY291bnQ6IENVUE9OLmRpc2NvdW50LFxuICAgICAgICAgICAgICBjb2RlX2N1cG9uOiBDVVBPTi5jb2RlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgfVxuICAgICAgICAgaWYoY2F0ZWdvcmllcy5sZW5ndGggPiAwKXtcbiAgICAgICAgICBpZihjYXRlZ29yaWVzLmluY2x1ZGVzKGNhcnQucHJvZHVjdC5jYXRlZ29yaWUrXCJcIikpe1xuICAgICAgICAgICAgbGV0IHN1YnRvdGFsID0gMDtcbiAgICAgICAgICAgIGxldCB0b3RhbCA9IDA7XG4gICAgICAgICAgICBpZihDVVBPTi50eXBlX2Rpc2NvdW50ID09IDEpey8vcG9yY2VudGFqZVxuICAgICAgICAgICAgICBzdWJ0b3RhbCA9IGNhcnQucHJpY2VfdW5pdCAtIGNhcnQucHJpY2VfdW5pdCAqKENVUE9OLmRpc2NvdW50KjAuMDEpO1xuICAgICAgICAgICAgfWVsc2V7Ly9wb3JjZW50YWplXG4gICAgICAgICAgICAgIHN1YnRvdGFsID0gY2FydC5wcmljZV91bml0IC0gQ1VQT04uZGlzY291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b3RhbCA9IHN1YnRvdGFsICogY2FydC5jYW50aWRhZDtcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IGNhcnQuX2lkfSx7XG4gICAgICAgICAgICAgIHN1YnRvdGFsOiBzdWJ0b3RhbCxcbiAgICAgICAgICAgICAgdG90YWw6IHRvdGFsLFxuICAgICAgICAgICAgICB0eXBlX2Rpc2NvdW50OiBDVVBPTi50eXBlX2Rpc2NvdW50LFxuICAgICAgICAgICAgICBkaXNjb3VudDogQ1VQT04uZGlzY291bnQsXG4gICAgICAgICAgICAgIGNvZGVfY3Vwb246IENVUE9OLmNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiAyMDAsXG4gICAgICAgIG1lc3NhZ2VfdGV4dDogXCJTdXBlciEgRWwgY3Vwb24gZnVlIGFwbGljYWRvIGV4aXRvc2FtZW50ZVwiXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIEVSUk9SXCJcbiAgICAgIH0pXG4gICAgfVxuICB9LFxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFDQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBbUMsU0FBQUQsdUJBQUFHLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUdwQjtFQUNiRyxJQUFJLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDdEIsSUFBSTtNQUNBLElBQUlDLE9BQU8sR0FBR0YsR0FBRyxDQUFDRyxLQUFLLENBQUNELE9BQU87TUFDL0IsSUFBSUUsS0FBSyxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDQyxJQUFJLENBQUM7UUFDakNDLElBQUksRUFBRU47TUFDUixDQUFDLENBQUMsQ0FBQ08sUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDQSxRQUFRLENBQUM7UUFDL0JDLElBQUksRUFBRSxTQUFTO1FBQ2ZELFFBQVEsRUFBRTtVQUNQQyxJQUFJLEVBQUU7UUFDVDtNQUNGLENBQUMsQ0FBQztNQUVGTixLQUFLLEdBQUdBLEtBQUssQ0FBQ08sR0FBRyxDQUFFQyxJQUFJLElBQUs7UUFDMUIsT0FBT0Msa0JBQVEsQ0FBQ1AsSUFBSSxDQUFDUSxTQUFTLENBQUNGLElBQUksQ0FBQztNQUN0QyxDQUFDLENBQUM7TUFFRlgsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNuQkMsS0FBSyxFQUFFYjtNQUNULENBQUMsQ0FBQztJQUVOLENBQUMsQ0FBQyxPQUFPYyxLQUFLLEVBQUU7TUFDZEMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEtBQUssQ0FBQztNQUNsQmpC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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resourses","e","__esModule","default","_default","exports","list","req","res","user_id","query","CARTS","models","Cart","find","user","populate","path","map","cart","resourse","cart_list","status","json","carts","error","console","log","send","message","register","data","body","variedad","valid_cart","findOne","product","message_text","valid_variedad","Variedad","_id","stock","cantidad","valid_product","Product","CART","create","NEW_CART","findById","update","message_tex","findByIdAndUpdate","delete","params","id","findByIdAndDelete","applyCupon","CUPON","Cupone","code","products","categories","forEach","push","categorie","length","includes","subtotal","total","type_discount","price_unit","discount","code_cupon"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["CartController.js"],"sourcesContent":["\nimport models from \"../models\";\nimport resourse from \"../resourses\"\n\n\nexport default {\n  list: async(req,res) => {\n    try {\n        let user_id = req.query.user_id;\n        let CARTS = await models.Cart.find({\n          user: user_id,\n        }).populate(\"variedad\").populate({\n          path: \"product\",\n          populate: {\n             path: \"categorie\"\n          },\n        });\n\n        CARTS = CARTS.map((cart) => {\n          return resourse.Cart.cart_list(cart);\n        });\n\n        res.status(200).json({\n          carts: CARTS,\n        })\n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      })\n    }\n  },\n  register: async(req,res) => {\n    try {\n        let data = req.body;\n        //1ro: validar si el producto existe en carrito de compras \n        if(data.variedad){\n          let valid_cart = await models.Cart.findOne({\n            user: data.user,\n            variedad: data.variedad,\n            product: data.product,\n          });\n          if (valid_cart){\n            res.status(200).json({\n              message: 403,\n              message_text: \"EL PRODUCTO CON LA VARIEDAD SELECCIONADA YA EXISTE EN EL CARRITO DE COMPRA\"\n            })\n            return;\n          }\n        }else{\n          let valid_cart = await models.Cart.findOne({\n            user: data.user,\n            product: data.product,\n        });\n        if (valid_cart){\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL PRODUCTO YA EXISTE EN EL CARRITO DE COMPRA\"\n          })\n          return;\n        }\n      }\n      // 2do: validar si el stock esta disponible\n        if(data.variedad){\n          let valid_variedad = await models.Variedad.findOne({\n            _id: data.variedad,\n          });\n          if(valid_variedad.stock < data.cantidad){\n            res.status(200).json({\n              message: 403,\n              message_text: \"Upss! La cantidad solicitada no esta disponible en stock, Por favor ingrese una cantidad menor o igual a \"+ valid_variedad.stock\n            })\n            return;\n          }\n        }else{\n          let valid_product = await models.Product.findOne({\n            _id: data.product,\n        });\n        if(valid_product.stock < data.cantidad){\n          res.status(200).json({\n            message: 403,\n            message_text: \"Upss! La cantidad solicitada no esta disponible en stock, Por favor ingrese una cantidad menor o igual a \"+ valid_product.stock\n          })\n          return;\n        }\n      }\n        let CART = await models.Cart.create(data);\n\n        let   NEW_CART = await models.Cart.findById({_id:CART._id}).populate(\"variedad\").populate({\n          path: \"product\",\n          populate: {\n             path: \"categorie\"\n          },\n        });\n\n        res.status(200).json({\n          cart: resourse.Cart.cart_list(NEW_CART),\n          message_text: \"El carrito de compra se registró satisfactoriamente\",\n        })\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      })\n    }\n  },\n  update: async(req,res) => {\n    try {\n      let data = req.body;\n      // 2do: validar si el stock esta disponible\n        if(data.variedad){\n          let valid_variedad = await models.Variedad.findOne({\n            _id: data.variedad,\n          });\n          if(valid_variedad.stock < data.cantidad){\n            res.status(200).json({\n              message: 403,\n              message_tex: \"Upss! La cantidad solicitada no esta disponible en stock, Por favor ingrese una cantidad menor o igual a \"+ valid_variedad.stock\n            })\n            return;\n          }\n        }else{\n          let valid_product = await models.Product.findOne({\n            _id: data.product,\n        });\n        if(valid_product.stock < data.cantidad){\n          res.status(200).json({\n            message: 403,\n            message_text: \"Upss! La cantidad solicitada no esta disponible en stock, Por favor ingrese una cantidad menor o igual a \"+ valid_product.stock\n          })\n          return;\n        }\n      }\n        let CART = await models.Cart.findByIdAndUpdate({_id:data._id},data);\n\n        let   NEW_CART = await models.Cart.findById({_id:CART._id}).populate(\"variedad\").populate({\n          path: \"product\",\n          populate: {\n             path: \"categorie\"\n          },\n        });\n\n        res.status(200).json({\n          cart: resourse.Cart.cart_list(NEW_CART),\n          message_text: \"El carrito de compra se actualizó satisfactoriamente\",\n        })\n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      })\n    }\n  },\n  delete: async(req,res) => {\n    try {\n      let _id = req.params.id;\n      let CART = await models.Cart.findByIdAndDelete({_id:_id});\n\n      res.status(200).json({\n        message_text: \"El carrito de compra se eliminó satisfactoriamente\"\n      })\n\n\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      })\n    }\n  },\n\n  applyCupon: async(req,res) => {\n    try {\n      let data = req.body;\n      //1ra Validacion es con la existencia del cupon\n      let CUPON = await models.Cupone.findOne({\n        code: data.code,\n      })\n      if(!CUPON){\n        res.status(200).json({\n          message: 403,\n          message_text: \"Upss! El cupon ingresado no existe, por favor ingrese otro nuevamente\"\n        })\n        return;\n      }\n\n      //2da validacion tiene que ver con el uso de cupon -- Espera\n\n      // Parte operativa\n\n      let carts = await models.Cart.find({user: data.user_id}).populate(\"product\")\n\n\n      let products = [];\n      let categories = [];\n\n      CUPON.products.forEach(product => {\n        products.push(product._id);\n      });\n\n      // Se presenta bajo el formato[8282020009, 7337733934] y no [(_id: 8282020009), (_id:7337733934)]\n\n      CUPON.categories.forEach(categorie => {\n        categories.push(categorie._id);\n      });\n\n      for (const cart of carts) {\n        if(products.length > 0){\n          if(products.includes(cart.product._id+\"\")){\n            let subtotal = 0;\n            let total = 0;\n            if(CUPON.type_discount == 1){//porcentaje\n              subtotal = cart.price_unit - cart.price_unit *(CUPON.discount*0.01);\n            }else{//porcentaje\n              subtotal = cart.price_unit - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await models.Cart.findByIdAndUpdate({_id: cart._id},{\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code,\n            });\n          }\n         }\n         if(categories.length > 0){\n          if(categories.includes(cart.product.categorie+\"\")){\n            let subtotal = 0;\n            let total = 0;\n            if(CUPON.type_discount == 1){//porcentaje\n              subtotal = cart.price_unit - cart.price_unit *(CUPON.discount*0.01);\n            }else{//porcentaje\n              subtotal = cart.price_unit - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await models.Cart.findByIdAndUpdate({_id: cart._id},{\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code,\n            });\n          }\n\n        }\n      }\n      res.status(200).json({\n        message: 200,\n        message_text: \"Super! El cupon fue aplicado exitosamente\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN ERROR\"\n      })\n    }\n  },\n}\n"],"mappings":"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","ignoreList":[]}},"mtime":1739937033660},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/AddressClient.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _AddressClientController = _interopRequireDefault(require(\"../controllers/AddressClientController\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyEcommerce], _AddressClientController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyEcommerce], _AddressClientController.default.update);\nrouter.get(\"/list\", _auth.default.verifyEcommerce, _AddressClientController.default.list);\nrouter.delete(\"/delete/:id\", _auth.default.verifyEcommerce, _AddressClientController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hdXRoIiwiX0FkZHJlc3NDbGllbnRDb250cm9sbGVyIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5RWNvbW1lcmNlIiwiYWRkcmVzc0NsaWVudENvbnRyb2xsZXIiLCJyZWdpc3RlciIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJkZWxldGUiLCJyZW1vdmUiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2Uvcm91dGVyLyIsInNvdXJjZXMiOlsiQWRkcmVzc0NsaWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiXG5pbXBvcnQgYXV0aCBmcm9tIFwiLi4vbWlkZGxld2FyZXMvYXV0aFwiXG5pbXBvcnQgYWRkcmVzc0NsaWVudENvbnRyb2xsZXIgZnJvbSBcIi4uL2NvbnRyb2xsZXJzL0FkZHJlc3NDbGllbnRDb250cm9sbGVyXCI7XG5cbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcblxuLy8gcHJvY2Vzcy5lbnYuVVJMX0JBQ0tFTkQvYXBpL3VzZXJzL3JlZ2lzdGVyXG5cbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsIFthdXRoLnZlcmlmeUVjb21tZXJjZV0sIGFkZHJlc3NDbGllbnRDb250cm9sbGVyLnJlZ2lzdGVyKTtcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsW2F1dGgudmVyaWZ5RWNvbW1lcmNlXSxhZGRyZXNzQ2xpZW50Q29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLmdldChcIi9saXN0XCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsYWRkcmVzc0NsaWVudENvbnRyb2xsZXIubGlzdCk7XG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZS86aWRcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxhZGRyZXNzQ2xpZW50Q29udHJvbGxlci5yZW1vdmUpO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSx3QkFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQTZFLFNBQUFELHVCQUFBSSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBRTdFLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7O0FBRXhCOztBQUVBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQ0MsYUFBSSxDQUFDQyxlQUFlLENBQUMsRUFBRUMsZ0NBQXVCLENBQUNDLFFBQVEsQ0FBQztBQUNsRk4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDLENBQUNKLGFBQUksQ0FBQ0MsZUFBZSxDQUFDLEVBQUNDLGdDQUF1QixDQUFDRyxNQUFNLENBQUM7QUFDM0VSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxlQUFlLEVBQUNDLGdDQUF1QixDQUFDSyxJQUFJLENBQUM7QUFDckVWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLGFBQWEsRUFBQ1IsYUFBSSxDQUFDQyxlQUFlLEVBQUNDLGdDQUF1QixDQUFDTyxNQUFNLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWYsT0FBQSxHQUdsRUMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_auth","_AddressClientController","e","__esModule","default","router","routerx","post","auth","verifyEcommerce","addressClientController","register","put","update","get","list","delete","remove","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["AddressClient.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport auth from \"../middlewares/auth\"\nimport addressClientController from \"../controllers/AddressClientController\";\n\nconst router = routerx();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [auth.verifyEcommerce], addressClientController.register);\nrouter.put(\"/update\",[auth.verifyEcommerce],addressClientController.update);\nrouter.get(\"/list\",auth.verifyEcommerce,addressClientController.list);\nrouter.delete(\"/delete/:id\",auth.verifyEcommerce,addressClientController.remove);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,wBAAA,GAAAH,sBAAA,CAAAC,OAAA;AAA6E,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAE7E,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,eAAe,CAAC,EAAEC,gCAAuB,CAACC,QAAQ,CAAC;AAClFN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAC,CAACJ,aAAI,CAACC,eAAe,CAAC,EAACC,gCAAuB,CAACG,MAAM,CAAC;AAC3ER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACK,IAAI,CAAC;AACrEV,MAAM,CAACW,MAAM,CAAC,aAAa,EAACR,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACO,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAf,OAAA,GAGlEC,MAAM","ignoreList":[]}},"mtime":1741488722023},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/AddressClientController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      const address_client = await _models.default.AddressClient.create(req.body);\n      res.status(200).json({\n        message: \"Super! La dirección se registró satisfactoriamente\",\n        address_client: address_client\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA, en el register de AdressClientController\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      await _models.default.AddressClient.findByIdAndUpdate({\n        _id: req.body._id\n      }, data);\n      let AddressClient = await _models.default.AddressClient.findById({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"Super! La dirección del cliente se actualizó satisfactoriamente\",\n        address_client: AddressClient\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA, en el update de AdressClientController\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      let ADDRESS_CLIENT = await _models.default.AddressClient.find({\n        user: req.query.user_id\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        address_client: ADDRESS_CLIENT\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA, en el list de AdressClientController\"\n      });\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.AddressClient.findByIdAndDelete({\n        _id: req.params._id\n      });\n      res.status(200).json({\n        message: \"Super! La dirección del cliente se eliminó satisfactoriamente\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA, en el delete de AdressClientController\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImFkZHJlc3NfY2xpZW50IiwibW9kZWxzIiwiQWRkcmVzc0NsaWVudCIsImNyZWF0ZSIsImJvZHkiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInNlbmQiLCJ1cGRhdGUiLCJkYXRhIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJfaWQiLCJmaW5kQnlJZCIsImxpc3QiLCJBRERSRVNTX0NMSUVOVCIsImZpbmQiLCJ1c2VyIiwicXVlcnkiLCJ1c2VyX2lkIiwic29ydCIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIiwicGFyYW1zIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiQWRkcmVzc0NsaWVudENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5cblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gIHJlZ2lzdGVyOiBhc3luYyAocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG5cbiAgICAgIGNvbnN0IGFkZHJlc3NfY2xpZW50ID0gYXdhaXQgbW9kZWxzLkFkZHJlc3NDbGllbnQuY3JlYXRlKHJlcS5ib2R5KTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogXCJTdXBlciEgTGEgZGlyZWNjacOzbiBzZSByZWdpc3Ryw7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgICAgICAgIGFkZHJlc3NfY2xpZW50OiBhZGRyZXNzX2NsaWVudFxuICAgICAgICAgICAgfSk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BLCBlbiBlbCByZWdpc3RlciBkZSBBZHJlc3NDbGllbnRDb250cm9sbGVyXCJcbiAgICAgIH0pO1xuXG4gICAgfVxuICB9LFxuXG4gIHVwZGF0ZTogYXN5bmMgKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcbiAgICAgIGF3YWl0IG1vZGVscy5BZGRyZXNzQ2xpZW50LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0sIGRhdGEpO1xuXG4gICAgICBsZXQgQWRkcmVzc0NsaWVudCA9IGF3YWl0IG1vZGVscy5BZGRyZXNzQ2xpZW50LmZpbmRCeUlkKHtfaWQ6IHJlcS5ib2R5Ll9pZH0pO1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiBcIlN1cGVyISBMYSBkaXJlY2Npw7NuIGRlbCBjbGllbnRlIHNlIGFjdHVhbGl6w7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgIGFkZHJlc3NfY2xpZW50OiBBZGRyZXNzQ2xpZW50LFxuICAgICAgfSlcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUEsIGVuIGVsIHVwZGF0ZSBkZSBBZHJlc3NDbGllbnRDb250cm9sbGVyXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICBsaXN0OiBhc3luYyAocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgQUREUkVTU19DTElFTlQgID0gYXdhaXQgbW9kZWxzLkFkZHJlc3NDbGllbnQuZmluZCh7dXNlcjpyZXEucXVlcnkudXNlcl9pZH0pLnNvcnQoeydjcmVhdGVkQXQnOi0xfSk7XG4gIFxuICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgIGFkZHJlc3NfY2xpZW50OiBBRERSRVNTX0NMSUVOVFxuICAgICAgICAgIH0pO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQSwgZW4gZWwgbGlzdCBkZSBBZHJlc3NDbGllbnRDb250cm9sbGVyXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICByZW1vdmU6IGFzeW5jIChyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICBhd2FpdCBtb2RlbHMuQWRkcmVzc0NsaWVudC5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiByZXEucGFyYW1zLl9pZH0pO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICBtZXNzYWdlOiAgXCJTdXBlciEgTGEgZGlyZWNjacOzbiBkZWwgY2xpZW50ZSBzZSBlbGltaW7DsyBzYXRpc2ZhY3RvcmlhbWVudGVcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQSwgZW4gZWwgZGVsZXRlIGRlIEFkcmVzc0NsaWVudENvbnRyb2xsZXJcIlxuICAgICAgfSk7XG4gICAgfVxuICB9LFxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBK0Is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","map":{"version":3,"names":["_models","_interopRequireDefault","require","e","__esModule","default","_default","exports","register","req","res","address_client","models","AddressClient","create","body","status","json","message","error","console","log","send","update","data","findByIdAndUpdate","_id","findById","list","ADDRESS_CLIENT","find","user","query","user_id","sort","remove","findByIdAndDelete","params"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["AddressClientController.js"],"sourcesContent":["import models from \"../models\";\n\n\nexport default {\n\n  register: async (req,res) => {\n    try {\n\n      const address_client = await models.AddressClient.create(req.body);\n            res.status(200).json({\n              message: \"Super! La dirección se registró satisfactoriamente\",\n              address_client: address_client\n            });\n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA, en el register de AdressClientController\"\n      });\n\n    }\n  },\n\n  update: async (req,res) => {\n    try {\n      let data = req.body;\n      await models.AddressClient.findByIdAndUpdate({_id: req.body._id}, data);\n\n      let AddressClient = await models.AddressClient.findById({_id: req.body._id});\n      res.status(200).json({\n        message: \"Super! La dirección del cliente se actualizó satisfactoriamente\",\n        address_client: AddressClient,\n      })\n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA, en el update de AdressClientController\"\n      });\n    }\n  },\n\n  list: async (req,res) => {\n    try {\n            let ADDRESS_CLIENT  = await models.AddressClient.find({user:req.query.user_id}).sort({'createdAt':-1});\n  \n          res.status(200).json({\n            address_client: ADDRESS_CLIENT\n          });\n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA, en el list de AdressClientController\"\n      });\n    }\n  },\n\n  remove: async (req,res) => {\n    try {\n       await models.AddressClient.findByIdAndDelete({_id: req.params._id});\n            res.status(200).json({\n              message:  \"Super! La dirección del cliente se eliminó satisfactoriamente\",\n            });\n      \n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA, en el delete de AdressClientController\"\n      });\n    }\n  },\n}\n"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAGhB;EAEbG,QAAQ,EAAE,MAAAA,CAAOC,GAAG,EAACC,GAAG,KAAK;IAC3B,IAAI;MAEF,MAAMC,cAAc,GAAG,MAAMC,eAAM,CAACC,aAAa,CAACC,MAAM,CAACL,GAAG,CAACM,IAAI,CAAC;MAC5DL,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE,oDAAoD;QAC7DP,cAAc,EAAEA;MAClB,CAAC,CAAC;IAEV,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QACnBJ,OAAO,EAAE;MACX,CAAC,CAAC;IAEJ;EACF,CAAC;EAEDK,MAAM,EAAE,MAAAA,CAAOd,GAAG,EAACC,GAAG,KAAK;IACzB,IAAI;MACF,IAAIc,IAAI,GAAGf,GAAG,CAACM,IAAI;MACnB,MAAMH,eAAM,CAACC,aAAa,CAACY,iBAAiB,CAAC;QAACC,GAAG,EAAEjB,GAAG,CAACM,IAAI,CAACW;MAAG,CAAC,EAAEF,IAAI,CAAC;MAEvE,IAAIX,aAAa,GAAG,MAAMD,eAAM,CAACC,aAAa,CAACc,QAAQ,CAAC;QAACD,GAAG,EAAEjB,GAAG,CAACM,IAAI,CAACW;MAAG,CAAC,CAAC;MAC5EhB,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE,iEAAiE;QAC1EP,cAAc,EAAEE;MAClB,CAAC,CAAC;IAEJ,CAAC,CAAC,OAAOM,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QACnBJ,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF,CAAC;EAEDU,IAAI,EAAE,MAAAA,CAAOnB,GAAG,EAACC,GAAG,KAAK;IACvB,IAAI;MACI,IAAImB,cAAc,GAAI,MAAMjB,eAAM,CAACC,aAAa,CAACiB,IAAI,CAAC;QAACC,IAAI,EAACtB,GAAG,CAACuB,KAAK,CAACC;MAAO,CAAC,CAAC,CAACC,IAAI,CAAC;QAAC,WAAW,EAAC,CAAC;MAAC,CAAC,CAAC;MAExGxB,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBN,cAAc,EAAEkB;MAClB,CAAC,CAAC;IAER,CAAC,CAAC,OAAOV,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QACnBJ,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF,CAAC;EAEDiB,MAAM,EAAE,MAAAA,CAAO1B,GAAG,EAACC,GAAG,KAAK;IACzB,IAAI;MACD,MAAME,eAAM,CAACC,aAAa,CAACuB,iBAAiB,CAAC;QAACV,GAAG,EAAEjB,GAAG,CAAC4B,MAAM,CAACX;MAAG,CAAC,CAAC;MAC9DhB,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAG;MACZ,CAAC,CAAC;IAEV,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QACnBJ,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF;AACF,CAAC","ignoreList":[]}},"mtime":1739810406712},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Sale.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _SaleController = _interopRequireDefault(require(\"../controllers/SaleController\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyEcommerce], _SaleController.default.register);\n// router.get(\"/send_email/:id\", SaleController.send_email);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hdXRoIiwiX1NhbGVDb250cm9sbGVyIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5RWNvbW1lcmNlIiwiU2FsZUNvbnRyb2xsZXIiLCJyZWdpc3RlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJTYWxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gXCJleHByZXNzLXByb21pc2Utcm91dGVyXCJcbmltcG9ydCBhdXRoIGZyb20gXCIuLi9taWRkbGV3YXJlcy9hdXRoXCJcbmltcG9ydCBTYWxlQ29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvU2FsZUNvbnRyb2xsZXJcIjtcblxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG4vLyBwcm9jZXNzLmVudi5VUkxfQkFDS0VORC9hcGkvdXNlcnMvcmVnaXN0ZXJcblxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgW2F1dGgudmVyaWZ5RWNvbW1lcmNlXSwgU2FsZUNvbnRyb2xsZXIucmVnaXN0ZXIpO1xuLy8gcm91dGVyLmdldChcIi9zZW5kX2VtYWlsLzppZFwiLCBTYWxlQ29udHJvbGxlci5zZW5kX2VtYWlsKTtcblxuXG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxlQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBMkQsU0FBQUQsdUJBQUFJLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFFM0QsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQzs7QUFFeEI7O0FBRUFELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDQyxhQUFJLENBQUNDLGVBQWUsQ0FBQyxFQUFFQyx1QkFBYyxDQUFDQyxRQUFRLENBQUM7QUFDekU7QUFBQSxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQVQsT0FBQSxHQUllQyxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_auth","_SaleController","e","__esModule","default","router","routerx","post","auth","verifyEcommerce","SaleController","register","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Sale.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport auth from \"../middlewares/auth\"\nimport SaleController from \"../controllers/SaleController\";\n\nconst router = routerx();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", [auth.verifyEcommerce], SaleController.register);\n// router.get(\"/send_email/:id\", SaleController.send_email);\n\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,eAAA,GAAAH,sBAAA,CAAAC,OAAA;AAA2D,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAE3D,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAE,CAACC,aAAI,CAACC,eAAe,CAAC,EAAEC,uBAAc,CAACC,QAAQ,CAAC;AACzE;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAT,OAAA,GAIeC,MAAM","ignoreList":[]}},"mtime":1741488775049},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/SaleController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _handlebars = _interopRequireDefault(require(\"handlebars\"));\nvar _ejs = _interopRequireDefault(require(\"ejs\"));\nvar _nodemailer = _interopRequireDefault(require(\"nodemailer\"));\nvar _nodemailerSmtpTransport = _interopRequireDefault(require(\"nodemailer-smtp-transport\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nasync function send_email(sale_id) {\n  try {\n    var readHTMLFile = function (path, callback) {\n      _fs.default.readFile(path, {\n        encoding: 'utf-8'\n      }, function (err, html) {\n        if (err) {\n          throw err;\n          callback(err);\n        } else {\n          callback(null, html);\n        }\n      });\n    };\n    let Order = await _models.default.Sale.findById({\n      _id: sale_id\n    }).populate(\"user\");\n    let OrderDetail = await _models.default.SaleDetail.find({\n      sale: Order._id\n    }).populate(\"product\").populate(\"variedad\");\n    let AddressSale = await _models.default.SaleAddress.findOne({\n      sale: Order._id\n    });\n    var transporter = _nodemailer.default.createTransport((0, _nodemailerSmtpTransport.default)({\n      service: 'gmail',\n      host: 'smtp.gmail.com',\n      auth: {\n        user: 'adel.enlinea@gmail.com',\n        pass: 'pwnnaljiypxkjtnm'\n      }\n    }));\n    readHTMLFile(process.cwd() + '/mails/email_sale.html', (err, html) => {\n      OrderDetail.map(detail => {\n        detail.product.imgs = process.env.URL_BACKEND + \"/api/products/uploads/product/\" + detail.product.portada;\n        return detail;\n      });\n      let rest_html = _ejs.default.render(html, {\n        order: Order,\n        address_sale: AddressSale,\n        order_detail: OrderDetail\n      });\n      var template = _handlebars.default.compile(rest_html);\n      var htmlToSend = template({\n        op: true\n      });\n      var mailOptions = {\n        from: 'adel.enlinea@gmail.com',\n        to: Order.user.email,\n        subject: 'Finalizada tu compra ' + Order._id,\n        html: htmlToSend\n      };\n      transporter.sendMail(mailOptions, function (error, info) {\n        if (!error) {\n          console.log('Email sent: ' + info.response);\n        } else {\n          console.log(error);\n        }\n      });\n    });\n\n    // res.status(200).json({\n    //   message: \"Super! Se envio un correo a su direccion de email, con la informacion de su compra\"\n    // });\n  } catch (error) {\n    // console.log(error);\n    //   res.status(500).send({\n    //     message: \"OCURRIÓ UN PROBLEMA\",\n    //   });\n  }\n}\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let sale_data = req.body.sale;\n      let sale_address_data = req.body.sale_address;\n      let SALE = await _models.default.Sale.create(sale_data);\n      sale_address_data.sale = SALE._id;\n      let SALE_ADDRESS = await _models.default.SaleAddress.create(sale_address_data);\n      let CARTS = await _models.default.Cart.find({\n        user: SALE.user\n      });\n      for (let CART of CARTS) {\n        CART = CART.toObject();\n        CART.sale = SALE._id;\n\n        //START DESCUENTO DE INVENTARIO\n\n        if (CART.variedad) {\n          //Si es multiple inventario\n          let VARIEDAD = await _models.default.Variedad.findById({\n            _id: CART.variedad\n          });\n          let new_stock = VARIEDAD.stock - CART.cantidad;\n          await _models.default.Variedad.findByIdAndUpdate({\n            _id: CART.variedad\n          }, {\n            stock: new_stock\n          });\n        } else {\n          //Si es unitario inventario\n          let PRODUCT = await _models.default.Product.findById({\n            _id: CART.product\n          });\n          let new_stock = PRODUCT.stock - CART.cantidad;\n          await _models.default.Product.findByIdAndUpdate({\n            _id: CART.product\n          }, {\n            stock: new_stock\n          });\n        }\n        //END DESCUENTO DE INVENTARIO\n\n        //console.log(CART);\n\n        await _models.default.SaleDetail.create(CART);\n        await _models.default.Cart.findByIdAndDelete({\n          _id: CART._id\n        });\n      }\n      await send_email(SALE._id);\n      res.status(200).json({\n        message: \" Super! La orden fue registrada satisfactoriamente\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZnMiLCJfaGFuZGxlYmFycyIsIl9lanMiLCJfbm9kZW1haWxlciIsIl9ub2RlbWFpbGVyU210cFRyYW5zcG9ydCIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInNlbmRfZW1haWwiLCJzYWxlX2lkIiwicmVhZEhUTUxGaWxlIiwicGF0aCIsImNhbGxiYWNrIiwiZnMiLCJyZWFkRmlsZSIsImVuY29kaW5nIiwiZXJyIiwiaHRtbCIsIk9yZGVyIiwibW9kZWxzIiwiU2FsZSIsImZpbmRCeUlkIiwiX2lkIiwicG9wdWxhdGUiLCJPcmRlckRldGFpbCIsIlNhbGVEZXRhaWwiLCJmaW5kIiwic2FsZSIsIkFkZHJlc3NTYWxlIiwiU2FsZUFkZHJlc3MiLCJmaW5kT25lIiwidHJhbnNwb3J0ZXIiLCJub2RlbWFpbGVyIiwiY3JlYXRlVHJhbnNwb3J0Iiwic210cFRyYW5zcG9ydCIsInNlcnZpY2UiLCJob3N0IiwiYXV0aCIsInVzZXIiLCJwYXNzIiwicHJvY2VzcyIsImN3ZCIsIm1hcCIsImRldGFpbCIsInByb2R1Y3QiLCJpbWdzIiwiZW52IiwiVVJMX0JBQ0tFTkQiLCJwb3J0YWRhIiwicmVzdF9odG1sIiwiZWpzIiwicmVuZGVyIiwib3JkZXIiLCJhZGRyZXNzX3NhbGUiLCJvcmRlcl9kZXRhaWwiLCJ0ZW1wbGF0ZSIsImhhbmRsZWJhcnMiLCJjb21waWxlIiwiaHRtbFRvU2VuZCIsIm9wIiwibWFpbE9wdGlvbnMiLCJmcm9tIiwidG8iLCJlbWFpbCIsInN1YmplY3QiLCJzZW5kTWFpbCIsImVycm9yIiwiaW5mbyIsImNvbnNvbGUiLCJsb2ciLCJyZXNwb25zZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwic2FsZV9kYXRhIiwiYm9keSIsInNhbGVfYWRkcmVzc19kYXRhIiwic2FsZV9hZGRyZXNzIiwiU0FMRSIsImNyZWF0ZSIsIlNBTEVfQUREUkVTUyIsIkNBUlRTIiwiQ2FydCIsIkNBUlQiLCJ0b09iamVjdCIsInZhcmllZGFkIiwiVkFSSUVEQUQiLCJWYXJpZWRhZCIsIm5ld19zdG9jayIsInN0b2NrIiwiY2FudGlkYWQiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIlBST0RVQ1QiLCJQcm9kdWN0IiwiZmluZEJ5SWRBbmREZWxldGUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInNlbmQiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2UvY29udHJvbGxlcnMvIiwic291cmNlcyI6WyJTYWxlQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiO1xuXG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IGhhbmRsZWJhcnMgZnJvbSAnaGFuZGxlYmFycyc7XG5pbXBvcnQgZWpzIGZyb20gJ2Vqcyc7XG5pbXBvcnQgbm9kZW1haWxlciBmcm9tICdub2RlbWFpbGVyJztcbmltcG9ydCBzbXRwVHJhbnNwb3J0IGZyb20gJ25vZGVtYWlsZXItc210cC10cmFuc3BvcnQnO1xuXG5hc3luYyBmdW5jdGlvbiBzZW5kX2VtYWlsKHNhbGVfaWQpIHtcbiBcbiAgdHJ5IHtcbiAgICBcbiAgICB2YXIgcmVhZEhUTUxGaWxlID0gZnVuY3Rpb24ocGF0aCwgY2FsbGJhY2spIHtcbiAgICAgIGZzLnJlYWRGaWxlKHBhdGgsIHtlbmNvZGluZzogJ3V0Zi04J30sIGZ1bmN0aW9uIChlcnIsIGh0bWwpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIGh0bWwpO1xuICAgICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBsZXQgT3JkZXIgPSBhd2FpdCBtb2RlbHMuU2FsZS5maW5kQnlJZCh7X2lkOiBzYWxlX2lkfSkucG9wdWxhdGUoXCJ1c2VyXCIpO1xuICAgIGxldCBPcmRlckRldGFpbCA9IGF3YWl0IG1vZGVscy5TYWxlRGV0YWlsLmZpbmQoe3NhbGU6ICBPcmRlci5faWR9KS5wb3B1bGF0ZShcInByb2R1Y3RcIikucG9wdWxhdGUoXCJ2YXJpZWRhZFwiKTtcbiAgICBsZXQgQWRkcmVzc1NhbGUgPSBhd2FpdCBtb2RlbHMuU2FsZUFkZHJlc3MuZmluZE9uZSh7IHNhbGU6IE9yZGVyLl9pZH0pO1xuXG4gICAgdmFyIHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoc210cFRyYW5zcG9ydCh7XG4gICAgICBzZXJ2aWNlOiAnZ21haWwnLFxuICAgICAgaG9zdDogJ3NtdHAuZ21haWwuY29tJyxcbiAgICAgIGF1dGg6IHtcbiAgICAgIHVzZXI6ICdhZGVsLmVubGluZWFAZ21haWwuY29tJyxcbiAgICAgIHBhc3M6ICdwd25uYWxqaXlweGtqdG5tJ1xuICAgICAgfVxuICAgIH0pKTtcblxuICAgIHJlYWRIVE1MRmlsZShwcm9jZXNzLmN3ZCgpICsgJy9tYWlscy9lbWFpbF9zYWxlLmh0bWwnLCAoZXJyLCBodG1sKT0+e1xuXG4gICAgICBPcmRlckRldGFpbC5tYXAoKGRldGFpbCkgPT4ge1xuICAgICAgICBkZXRhaWwucHJvZHVjdC5pbWdzID0gcHJvY2Vzcy5lbnYuVVJMX0JBQ0tFTkQrXCIvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC9cIitkZXRhaWwucHJvZHVjdC5wb3J0YWRhO1xuICAgICAgICByZXR1cm4gZGV0YWlsO1xuICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgbGV0IHJlc3RfaHRtbCA9IGVqcy5yZW5kZXIoaHRtbCwge29yZGVyOiBPcmRlciwgYWRkcmVzc19zYWxlOiBBZGRyZXNzU2FsZSwgb3JkZXJfZGV0YWlsOiBPcmRlckRldGFpbH0pO1xuXG4gICAgICB2YXIgdGVtcGxhdGUgPSBoYW5kbGViYXJzLmNvbXBpbGUocmVzdF9odG1sKTtcbiAgICAgIHZhciBodG1sVG9TZW5kID0gdGVtcGxhdGUoe29wOnRydWV9KTtcblxuICAgICAgdmFyIG1haWxPcHRpb25zID0ge1xuICAgICAgICAgIGZyb206ICdhZGVsLmVubGluZWFAZ21haWwuY29tJyxcbiAgICAgICAgICB0bzogT3JkZXIudXNlci5lbWFpbCxcbiAgICAgICAgICBzdWJqZWN0OiAnRmluYWxpemFkYSB0dSBjb21wcmEgJyArIE9yZGVyLl9pZCxcbiAgICAgICAgICBodG1sOiBodG1sVG9TZW5kXG4gICAgICB9O1xuICAgIFxuICAgICAgdHJhbnNwb3J0ZXIuc2VuZE1haWwobWFpbE9wdGlvbnMsIGZ1bmN0aW9uKGVycm9yLCBpbmZvKXtcbiAgICAgICAgICBpZiAoIWVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFbWFpbCBzZW50OiAnICsgaW5mby5yZXNwb25zZSk7XG4gICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgIH0pO1xuICBcbiAgfSk7XG5cbiAgLy8gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAvLyAgIG1lc3NhZ2U6IFwiU3VwZXIhIFNlIGVudmlvIHVuIGNvcnJlbyBhIHN1IGRpcmVjY2lvbiBkZSBlbWFpbCwgY29uIGxhIGluZm9ybWFjaW9uIGRlIHN1IGNvbXByYVwiXG4gIC8vIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgLy8gY29uc29sZS5sb2coZXJyb3IpO1xuICAgIC8vICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgIC8vICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCIsXG4gICAgLy8gICB9KTtcbiAgfVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICByZWdpc3RlcjogYXN5bmMgKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IHNhbGVfZGF0YSA9IHJlcS5ib2R5LnNhbGU7XG4gICAgICBsZXQgc2FsZV9hZGRyZXNzX2RhdGEgPSByZXEuYm9keS5zYWxlX2FkZHJlc3M7XG5cbiAgICAgIGxldCBTQUxFID0gYXdhaXQgbW9kZWxzLlNhbGUuY3JlYXRlKHNhbGVfZGF0YSk7XG4gICAgICBzYWxlX2FkZHJlc3NfZGF0YS5zYWxlID0gU0FMRS5faWQ7XG5cbiAgICAgIGxldCBTQUxFX0FERFJFU1MgPSBhd2FpdCBtb2RlbHMuU2FsZUFkZHJlc3MuY3JlYXRlKHNhbGVfYWRkcmVzc19kYXRhKTtcblxuICAgICAgbGV0IENBUlRTID0gYXdhaXQgbW9kZWxzLkNhcnQuZmluZCh7dXNlcjpTQUxFLnVzZXJ9KTtcblxuXG5cbiAgICAgIGZvciAobGV0IENBUlQgb2YgQ0FSVFMpIHtcbiAgICAgICAgQ0FSVCA9IENBUlQudG9PYmplY3QoKTtcbiAgICAgICAgQ0FSVC5zYWxlID0gU0FMRS5faWRcblxuICAgICAgICAvL1NUQVJUIERFU0NVRU5UTyBERSBJTlZFTlRBUklPXG5cbiAgICAgICAgaWYoQ0FSVC52YXJpZWRhZCl7Ly9TaSBlcyBtdWx0aXBsZSBpbnZlbnRhcmlvXG4gICAgICAgICAgbGV0IFZBUklFREFEID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkKHtfaWQ6Q0FSVC52YXJpZWRhZH0pO1xuICAgICAgICAgIGxldCBuZXdfc3RvY2sgPSBWQVJJRURBRC5zdG9jayAtIENBUlQuY2FudGlkYWQ7XG5cbiAgICAgICAgICBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogQ0FSVC52YXJpZWRhZCB9LHtcbiAgICAgICAgICAgIHN0b2NrOiAgbmV3X3N0b2NrLFxuICAgICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICB9ZWxzZXsvL1NpIGVzIHVuaXRhcmlvIGludmVudGFyaW9cbiAgICAgICAgICBsZXQgUFJPRFVDVCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkKHtfaWQ6IENBUlQucHJvZHVjdCB9KTtcblxuICAgICAgICAgIGxldCBuZXdfc3RvY2sgPSBQUk9EVUNULnN0b2NrIC0gQ0FSVC5jYW50aWRhZDtcblxuICAgICAgICAgIGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IENBUlQucHJvZHVjdCB9LHtcbiAgICAgICAgICAgIHN0b2NrOiAgbmV3X3N0b2NrLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vRU5EIERFU0NVRU5UTyBERSBJTlZFTlRBUklPXG5cbiAgICAgICAgLy9jb25zb2xlLmxvZyhDQVJUKTtcblxuICAgICAgICBhd2FpdCBtb2RlbHMuU2FsZURldGFpbC5jcmVhdGUoQ0FSVCk7XG4gICAgICAgIGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IENBUlQuX2lkfSk7XG4gICAgICB9XG5cbiAgICAgIGF3YWl0IHNlbmRfZW1haWwoU0FMRS5faWQpO1xuXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6IFwiIFN1cGVyISBMYSBvcmRlbiBmdWUgcmVnaXN0cmFkYSBzYXRpc2ZhY3RvcmlhbWVudGVcIlxuICAgICAgfSlcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJw5MgVU4gUFJPQkxFTUFcIlxuICAgICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgXG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQUFDLEdBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFdBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FB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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_fs","_handlebars","_ejs","_nodemailer","_nodemailerSmtpTransport","e","__esModule","default","send_email","sale_id","readHTMLFile","path","callback","fs","readFile","encoding","err","html","Order","models","Sale","findById","_id","populate","OrderDetail","SaleDetail","find","sale","AddressSale","SaleAddress","findOne","transporter","nodemailer","createTransport","smtpTransport","service","host","auth","user","pass","process","cwd","map","detail","product","imgs","env","URL_BACKEND","portada","rest_html","ejs","render","order","address_sale","order_detail","template","handlebars","compile","htmlToSend","op","mailOptions","from","to","email","subject","sendMail","error","info","console","log","response","_default","exports","register","req","res","sale_data","body","sale_address_data","sale_address","SALE","create","SALE_ADDRESS","CARTS","Cart","CART","toObject","variedad","VARIEDAD","Variedad","new_stock","stock","cantidad","findByIdAndUpdate","PRODUCT","Product","findByIdAndDelete","status","json","message","send"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["SaleController.js"],"sourcesContent":["\nimport models from \"../models\";\n\nimport fs from 'fs';\nimport handlebars from 'handlebars';\nimport ejs from 'ejs';\nimport nodemailer from 'nodemailer';\nimport smtpTransport from 'nodemailer-smtp-transport';\n\nasync function send_email(sale_id) {\n \n  try {\n    \n    var readHTMLFile = function(path, callback) {\n      fs.readFile(path, {encoding: 'utf-8'}, function (err, html) {\n          if (err) {\n              throw err;\n              callback(err);\n          }\n          else {\n              callback(null, html);\n          }\n      });\n    };\n\n    let Order = await models.Sale.findById({_id: sale_id}).populate(\"user\");\n    let OrderDetail = await models.SaleDetail.find({sale:  Order._id}).populate(\"product\").populate(\"variedad\");\n    let AddressSale = await models.SaleAddress.findOne({ sale: Order._id});\n\n    var transporter = nodemailer.createTransport(smtpTransport({\n      service: 'gmail',\n      host: 'smtp.gmail.com',\n      auth: {\n      user: 'adel.enlinea@gmail.com',\n      pass: 'pwnnaljiypxkjtnm'\n      }\n    }));\n\n    readHTMLFile(process.cwd() + '/mails/email_sale.html', (err, html)=>{\n\n      OrderDetail.map((detail) => {\n        detail.product.imgs = process.env.URL_BACKEND+\"/api/products/uploads/product/\"+detail.product.portada;\n        return detail;\n      });\n                                \n      let rest_html = ejs.render(html, {order: Order, address_sale: AddressSale, order_detail: OrderDetail});\n\n      var template = handlebars.compile(rest_html);\n      var htmlToSend = template({op:true});\n\n      var mailOptions = {\n          from: 'adel.enlinea@gmail.com',\n          to: Order.user.email,\n          subject: 'Finalizada tu compra ' + Order._id,\n          html: htmlToSend\n      };\n    \n      transporter.sendMail(mailOptions, function(error, info){\n          if (!error) {\n              console.log('Email sent: ' + info.response);\n          }else {\n            console.log(error);\n          }\n      });\n  \n  });\n\n  // res.status(200).json({\n  //   message: \"Super! Se envio un correo a su direccion de email, con la informacion de su compra\"\n  // });\n\n  } catch (error) {\n    // console.log(error);\n    //   res.status(500).send({\n    //     message: \"OCURRIÓ UN PROBLEMA\",\n    //   });\n  }\n}\n\n\nexport default {\n\n  register: async (req,res) => {\n    try {\n      let sale_data = req.body.sale;\n      let sale_address_data = req.body.sale_address;\n\n      let SALE = await models.Sale.create(sale_data);\n      sale_address_data.sale = SALE._id;\n\n      let SALE_ADDRESS = await models.SaleAddress.create(sale_address_data);\n\n      let CARTS = await models.Cart.find({user:SALE.user});\n\n\n\n      for (let CART of CARTS) {\n        CART = CART.toObject();\n        CART.sale = SALE._id\n\n        //START DESCUENTO DE INVENTARIO\n\n        if(CART.variedad){//Si es multiple inventario\n          let VARIEDAD = await models.Variedad.findById({_id:CART.variedad});\n          let new_stock = VARIEDAD.stock - CART.cantidad;\n\n          await models.Variedad.findByIdAndUpdate({_id: CART.variedad },{\n            stock:  new_stock,\n          })\n        \n        }else{//Si es unitario inventario\n          let PRODUCT = await models.Product.findById({_id: CART.product });\n\n          let new_stock = PRODUCT.stock - CART.cantidad;\n\n          await models.Product.findByIdAndUpdate({_id: CART.product },{\n            stock:  new_stock,\n          });\n        }\n        //END DESCUENTO DE INVENTARIO\n\n        //console.log(CART);\n\n        await models.SaleDetail.create(CART);\n        await models.Cart.findByIdAndDelete({_id: CART._id});\n      }\n\n      await send_email(SALE._id);\n\n      res.status(200).json({\n        message: \" Super! La orden fue registrada satisfactoriamente\"\n      })\n\n    } catch (error) {\n        console.log(error);\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n    }\n  },\n\n  \n}\n"],"mappings":";;;;;;AACA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,GAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,WAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,IAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,WAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,wBAAA,GAAAN,sBAAA,CAAAC,OAAA;AAAsD,SAAAD,uBAAAO,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEtD,eAAeG,UAAUA,CAACC,OAAO,EAAE;EAEjC,IAAI;IAEF,IAAIC,YAAY,GAAG,SAAAA,CAASC,IAAI,EAAEC,QAAQ,EAAE;MAC1CC,WAAE,CAACC,QAAQ,CAACH,IAAI,EAAE;QAACI,QAAQ,EAAE;MAAO,CAAC,EAAE,UAAUC,GAAG,EAAEC,IAAI,EAAE;QACxD,IAAID,GAAG,EAAE;UACL,MAAMA,GAAG;UACTJ,QAAQ,CAACI,GAAG,CAAC;QACjB,CAAC,MACI;UACDJ,QAAQ,CAAC,IAAI,EAAEK,IAAI,CAAC;QACxB;MACJ,CAAC,CAAC;IACJ,CAAC;IAED,IAAIC,KAAK,GAAG,MAAMC,eAAM,CAACC,IAAI,CAACC,QAAQ,CAAC;MAACC,GAAG,EAAEb;IAAO,CAAC,CAAC,CAACc,QAAQ,CAAC,MAAM,CAAC;IACvE,IAAIC,WAAW,GAAG,MAAML,eAAM,CAACM,UAAU,CAACC,IAAI,CAAC;MAACC,IAAI,EAAGT,KAAK,CAACI;IAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,SAAS,CAAC,CAACA,QAAQ,CAAC,UAAU,CAAC;IAC3G,IAAIK,WAAW,GAAG,MAAMT,eAAM,CAACU,WAAW,CAACC,OAAO,CAAC;MAAEH,IAAI,EAAET,KAAK,CAACI;IAAG,CAAC,CAAC;IAEtE,IAAIS,WAAW,GAAGC,mBAAU,CAACC,eAAe,CAAC,IAAAC,gCAAa,EAAC;MACzDC,OAAO,EAAE,OAAO;MAChBC,IAAI,EAAE,gBAAgB;MACtBC,IAAI,EAAE;QACNC,IAAI,EAAE,wBAAwB;QAC9BC,IAAI,EAAE;MACN;IACF,CAAC,CAAC,CAAC;IAEH7B,YAAY,CAAC8B,OAAO,CAACC,GAAG,CAAC,CAAC,GAAG,wBAAwB,EAAE,CAACzB,GAAG,EAAEC,IAAI,KAAG;MAElEO,WAAW,CAACkB,GAAG,CAAEC,MAAM,IAAK;QAC1BA,MAAM,CAACC,OAAO,CAACC,IAAI,GAAGL,OAAO,CAACM,GAAG,CAACC,WAAW,GAAC,gCAAgC,GAACJ,MAAM,CAACC,OAAO,CAACI,OAAO;QACrG,OAAOL,MAAM;MACf,CAAC,CAAC;MAEF,IAAIM,SAAS,GAAGC,YAAG,CAACC,MAAM,CAAClC,IAAI,EAAE;QAACmC,KAAK,EAAElC,KAAK;QAAEmC,YAAY,EAAEzB,WAAW;QAAE0B,YAAY,EAAE9B;MAAW,CAAC,CAAC;MAEtG,IAAI+B,QAAQ,GAAGC,mBAAU,CAACC,OAAO,CAACR,SAAS,CAAC;MAC5C,IAAIS,UAAU,GAAGH,QAAQ,CAAC;QAACI,EAAE,EAAC;MAAI,CAAC,CAAC;MAEpC,IAAIC,WAAW,GAAG;QACdC,IAAI,EAAE,wBAAwB;QAC9BC,EAAE,EAAE5C,KAAK,CAACoB,IAAI,CAACyB,KAAK;QACpBC,OAAO,EAAE,uBAAuB,GAAG9C,KAAK,CAACI,GAAG;QAC5CL,IAAI,EAAEyC;MACV,CAAC;MAED3B,WAAW,CAACkC,QAAQ,CAACL,WAAW,EAAE,UAASM,KAAK,EAAEC,IAAI,EAAC;QACnD,IAAI,CAACD,KAAK,EAAE;UACRE,OAAO,CAACC,GAAG,CAAC,cAAc,GAAGF,IAAI,CAACG,QAAQ,CAAC;QAC/C,CAAC,MAAK;UACJF,OAAO,CAACC,GAAG,CAACH,KAAK,CAAC;QACpB;MACJ,CAAC,CAAC;IAEN,CAAC,CAAC;;IAEF;IACA;IACA;EAEA,CAAC,CAAC,OAAOA,KAAK,EAAE;IACd;IACA;IACA;IACA;EAAA;AAEJ;AAAC,IAAAK,QAAA,GAAAC,OAAA,CAAAjE,OAAA,GAGc;EAEbkE,QAAQ,EAAE,MAAAA,CAAOC,GAAG,EAACC,GAAG,KAAK;IAC3B,IAAI;MACF,IAAIC,SAAS,GAAGF,GAAG,CAACG,IAAI,CAAClD,IAAI;MAC7B,IAAImD,iBAAiB,GAAGJ,GAAG,CAACG,IAAI,CAACE,YAAY;MAE7C,IAAIC,IAAI,GAAG,MAAM7D,eAAM,CAACC,IAAI,CAAC6D,MAAM,CAACL,SAAS,CAAC;MAC9CE,iBAAiB,CAACnD,IAAI,GAAGqD,IAAI,CAAC1D,GAAG;MAEjC,IAAI4D,YAAY,GAAG,MAAM/D,eAAM,CAACU,WAAW,CAACoD,MAAM,CAACH,iBAAiB,CAAC;MAErE,IAAIK,KAAK,GAAG,MAAMhE,eAAM,CAACiE,IAAI,CAAC1D,IAAI,CAAC;QAACY,IAAI,EAAC0C,IAAI,CAAC1C;MAAI,CAAC,CAAC;MAIpD,KAAK,IAAI+C,IAAI,IAAIF,KAAK,EAAE;QACtBE,IAAI,GAAGA,IAAI,CAACC,QAAQ,CAAC,CAAC;QACtBD,IAAI,CAAC1D,IAAI,GAAGqD,IAAI,CAAC1D,GAAG;;QAEpB;;QAEA,IAAG+D,IAAI,CAACE,QAAQ,EAAC;UAAC;UAChB,IAAIC,QAAQ,GAAG,MAAMrE,eAAM,CAACsE,QAAQ,CAACpE,QAAQ,CAAC;YAACC,GAAG,EAAC+D,IAAI,CAACE;UAAQ,CAAC,CAAC;UAClE,IAAIG,SAAS,GAAGF,QAAQ,CAACG,KAAK,GAAGN,IAAI,CAACO,QAAQ;UAE9C,MAAMzE,eAAM,CAACsE,QAAQ,CAACI,iBAAiB,CAAC;YAACvE,GAAG,EAAE+D,IAAI,CAACE;UAAS,CAAC,EAAC;YAC5DI,KAAK,EAAGD;UACV,CAAC,CAAC;QAEJ,CAAC,MAAI;UAAC;UACJ,IAAII,OAAO,GAAG,MAAM3E,eAAM,CAAC4E,OAAO,CAAC1E,QAAQ,CAAC;YAACC,GAAG,EAAE+D,IAAI,CAACzC;UAAQ,CAAC,CAAC;UAEjE,IAAI8C,SAAS,GAAGI,OAAO,CAACH,KAAK,GAAGN,IAAI,CAACO,QAAQ;UAE7C,MAAMzE,eAAM,CAAC4E,OAAO,CAACF,iBAAiB,CAAC;YAACvE,GAAG,EAAE+D,IAAI,CAACzC;UAAQ,CAAC,EAAC;YAC1D+C,KAAK,EAAGD;UACV,CAAC,CAAC;QACJ;QACA;;QAEA;;QAEA,MAAMvE,eAAM,CAACM,UAAU,CAACwD,MAAM,CAACI,IAAI,CAAC;QACpC,MAAMlE,eAAM,CAACiE,IAAI,CAACY,iBAAiB,CAAC;UAAC1E,GAAG,EAAE+D,IAAI,CAAC/D;QAAG,CAAC,CAAC;MACtD;MAEA,MAAMd,UAAU,CAACwE,IAAI,CAAC1D,GAAG,CAAC;MAE1BqD,GAAG,CAACsB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IAEJ,CAAC,CAAC,OAAOjC,KAAK,EAAE;MACZE,OAAO,CAACC,GAAG,CAACH,KAAK,CAAC;MAClBS,GAAG,CAACsB,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACnBD,OAAO,EAAE;MACX,CAAC,CAAC;IACN;EACF;AAGF,CAAC","ignoreList":[]}},"mtime":1742700953334},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Review.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _ReviewClientController = _interopRequireDefault(require(\"../controllers/ReviewClientController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _ReviewClientController.default.register);\nrouter.put(\"/update\", _auth.default.verifyEcommerce, _ReviewClientController.default.update);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9SZXZpZXdDbGllbnRDb250cm9sbGVyIiwiX2F1dGgiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJSZXZpZXdDbGllbnRDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2Uvcm91dGVyLyIsInNvdXJjZXMiOlsiUmV2aWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXG5pbXBvcnQgUmV2aWV3Q2xpZW50Q29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9SZXZpZXdDbGllbnRDb250cm9sbGVyJ1xuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcblxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLFJldmlld0NsaWVudENvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxSZXZpZXdDbGllbnRDb250cm9sbGVyLnVwZGF0ZSk7XG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLHVCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBc0MsU0FBQUQsdUJBQUFJLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFFdEMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUV4QkQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDQyxhQUFJLENBQUNDLGVBQWUsRUFBQ0MsK0JBQXNCLENBQUNDLFFBQVEsQ0FBQztBQUM3RU4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDSixhQUFJLENBQUNDLGVBQWUsRUFBQ0MsK0JBQXNCLENBQUNHLE1BQU0sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBWCxPQUFBLEdBRzFEQyxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_ReviewClientController","_auth","e","__esModule","default","router","routerx","post","auth","verifyEcommerce","ReviewClientController","register","put","update","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Review.js"],"sourcesContent":["import routerx from 'express-promise-router'\nimport ReviewClientController from '../controllers/ReviewClientController'\nimport auth from '../middlewares/auth'\n\nconst router = routerx();\n\nrouter.post(\"/register\",auth.verifyEcommerce,ReviewClientController.register);\nrouter.put(\"/update\",auth.verifyEcommerce,ReviewClientController.update);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,uBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,eAAe,EAACC,+BAAsB,CAACC,QAAQ,CAAC;AAC7EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,eAAe,EAACC,+BAAsB,CAACG,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAX,OAAA,GAG1DC,MAAM","ignoreList":[]}},"mtime":1740275560524},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/ReviewClientController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      console.log(req.body);\n      let review = await _models.default.Review.create(req.body);\n      res.status(200).json({\n        message: \"Super! La reseña se registró satisfactoriamente\",\n        review: review\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      await _models.default.Review.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let reviewD = await _models.default.Review.findById({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"Super! La reseña se actualizó satisfactoriamente\",\n        review: reviewD\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImNvbnNvbGUiLCJsb2ciLCJib2R5IiwicmV2aWV3IiwibW9kZWxzIiwiUmV2aWV3IiwiY3JlYXRlIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJlcnJvciIsInNlbmQiLCJ1cGRhdGUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsInJldmlld0QiLCJmaW5kQnlJZCJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIlJldmlld0NsaWVudENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XG5cbmV4cG9ydCBkZWZhdWx0e1xuICByZWdpc3RlcjogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhyZXEuYm9keSk7XG5cbiAgICAgIGxldCByZXZpZXcgPSBhd2FpdCBtb2RlbHMuUmV2aWV3LmNyZWF0ZShyZXEuYm9keSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJTdXBlciEgTGEgcmVzZcOxYSBzZSByZWdpc3Ryw7Mgc2F0aXNmYWN0b3JpYW1lbnRlXCIsXG4gICAgICAgIHJldmlldzogcmV2aWV3XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgIH0pO1xuICAgIH1cblxuICB9LFxuICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgbW9kZWxzLlJldmlldy5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiByZXEuYm9keS5faWR9LHJlcS5ib2R5KTtcblxuICAgICAgbGV0IHJldmlld0QgPSBhd2FpdCBtb2RlbHMuUmV2aWV3LmZpbmRCeUlkKHtfaWQ6IHJlcS5ib2R5Ll9pZH0pXG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJTdXBlciEgTGEgcmVzZcOxYSBzZSBhY3R1YWxpesOzIHNhdGlzZmFjdG9yaWFtZW50ZVwiLFxuICAgICAgICByZXZpZXc6IHJldmlld0RcbiAgICAgIH0pO1xuXG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQStCLFNBQUFELHVCQUFBRSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFakI7RUFDWkcsUUFBUSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0lBQzFCLElBQUk7TUFDRkMsT0FBTyxDQUFDQyxHQUFHLENBQUNILEdBQUcsQ0FBQ0ksSUFBSSxDQUFDO01BRXJCLElBQUlDLE1BQU0sR0FBRyxNQUFNQyxlQUFNLENBQUNDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDUixHQUFHLENBQUNJLElBQUksQ0FBQztNQUVqREgsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNuQkMsT0FBTyxFQUFFLGlEQUFpRDtRQUMxRE4sTUFBTSxFQUFFQTtNQUNWLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQyxPQUFPTyxLQUFLLEVBQUU7TUFDZFYsT0FBTyxDQUFDQyxHQUFHLENBQUNTLEtBQUssQ0FBQztNQUNoQlgsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNJLElBQUksQ0FBQztRQUNuQkYsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ047RUFFRixDQUFDO0VBQ0RHLE1BQU0sRUFBRSxNQUFBQSxDQUFNZCxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUN4QixJQUFJO01BQ0YsTUFBTUssZUFBTSxDQUFDQyxNQUFNLENBQUNRLGlCQUFpQixDQUFDO1FBQUNDLEdBQUcsRUFBRWhCLEdBQUcsQ0FBQ0ksSUFBSSxDQUFDWTtNQUFHLENBQUMsRUFBQ2hCLEdBQUcsQ0FBQ0ksSUFBSSxDQUFDO01BRW5FLElBQUlhLE9BQU8sR0FBRyxNQUFNWCxlQUFNLENBQUNDLE1BQU0sQ0FBQ1csUUFBUSxDQUFDO1FBQUNGLEdBQUcsRUFBRWhCLEdBQUcsQ0FBQ0ksSUFBSSxDQUFDWTtNQUFHLENBQUMsQ0FBQztNQUUvRGYsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNuQkMsT0FBTyxFQUFFLGtEQUFrRDtRQUMzRE4sTUFBTSxFQUFFWTtNQUNWLENBQUMsQ0FBQztJQUdKLENBQUMsQ0FBQyxPQUFPTCxLQUFLLEVBQUU7TUFDZFYsT0FBTyxDQUFDQyxHQUFHLENBQUNTLEtBQUssQ0FBQztNQUNoQlgsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNJLElBQUksQ0FBQztRQUNuQkYsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ047RUFDRjtBQUVGLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_models","_interopRequireDefault","require","e","__esModule","default","_default","exports","register","req","res","console","log","body","review","models","Review","create","status","json","message","error","send","update","findByIdAndUpdate","_id","reviewD","findById"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["ReviewClientController.js"],"sourcesContent":["import models from \"../models\";\n\nexport default{\n  register: async(req,res) => {\n    try {\n      console.log(req.body);\n\n      let review = await models.Review.create(req.body);\n\n      res.status(200).json({\n        message: \"Super! La reseña se registró satisfactoriamente\",\n        review: review\n      });\n    } catch (error) {\n      console.log(error);\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n    }\n\n  },\n  update: async(req,res) => {\n    try {\n      await models.Review.findByIdAndUpdate({_id: req.body._id},req.body);\n\n      let reviewD = await models.Review.findById({_id: req.body._id})\n\n      res.status(200).json({\n        message: \"Super! La reseña se actualizó satisfactoriamente\",\n        review: reviewD\n      });\n\n      \n    } catch (error) {\n      console.log(error);\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n    }\n  },\n\n}"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEjB;EACZG,QAAQ,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,KAAK;IAC1B,IAAI;MACFC,OAAO,CAACC,GAAG,CAACH,GAAG,CAACI,IAAI,CAAC;MAErB,IAAIC,MAAM,GAAG,MAAMC,eAAM,CAACC,MAAM,CAACC,MAAM,CAACR,GAAG,CAACI,IAAI,CAAC;MAEjDH,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE,iDAAiD;QAC1DN,MAAM,EAAEA;MACV,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOO,KAAK,EAAE;MACdV,OAAO,CAACC,GAAG,CAACS,KAAK,CAAC;MAChBX,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACI,IAAI,CAAC;QACnBF,OAAO,EAAE;MACX,CAAC,CAAC;IACN;EAEF,CAAC;EACDG,MAAM,EAAE,MAAAA,CAAMd,GAAG,EAACC,GAAG,KAAK;IACxB,IAAI;MACF,MAAMK,eAAM,CAACC,MAAM,CAACQ,iBAAiB,CAAC;QAACC,GAAG,EAAEhB,GAAG,CAACI,IAAI,CAACY;MAAG,CAAC,EAAChB,GAAG,CAACI,IAAI,CAAC;MAEnE,IAAIa,OAAO,GAAG,MAAMX,eAAM,CAACC,MAAM,CAACW,QAAQ,CAAC;QAACF,GAAG,EAAEhB,GAAG,CAACI,IAAI,CAACY;MAAG,CAAC,CAAC;MAE/Df,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE,kDAAkD;QAC3DN,MAAM,EAAEY;MACV,CAAC,CAAC;IAGJ,CAAC,CAAC,OAAOL,KAAK,EAAE;MACdV,OAAO,CAACC,GAAG,CAACS,KAAK,CAAC;MAChBX,GAAG,CAACQ,MAAM,CAAC,GAAG,CAAC,CAACI,IAAI,CAAC;QACnBF,OAAO,EAAE;MACX,CAAC,CAAC;IACN;EACF;AAEF,CAAC","ignoreList":[]}},"mtime":1740337641403},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$13\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$18\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _router = _interopRequireDefault(require(\"./router\"));\nrequire(\"dotenv/config\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n//console.log(process.env)\n\n//CONEXION A LA BASE DE DATOS db_adcee\n\nconst dburl = \"mongodb://127.0.0.1:27017/db_adcee\";\n_mongoose.default.Promise = global.Promise;\n//const dburl = \"mongodb+srv://malavemjv:guayoyo@adccedb.z6dz1.mongodb.net/db_adcee\";\n\n_mongoose.default.connect(dburl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(() => console.log(\"CONECTADO A LA BD db_adcee en el puerto 27017\")).catch(err => console.log(err));\n\n//DECLARACION EXPRESS\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use(_express.default.json());\napp.use(_express.default.urlencoded({\n  extended: true\n}));\napp.use(_express.default.static(_path.default.join(__dirname, 'public')));\napp.use('/api/', _router.default);\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => {\n  console.log(\"EL SERVIDOR SE EJECUTA PERFECTAMENTE EN EL PUERTO 3000\");\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NvcnMiLCJfcGF0aCIsIl9tb25nb29zZSIsIl9yb3V0ZXIiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJkYnVybCIsIm1vbmdvb3NlIiwiUHJvbWlzZSIsImdsb2JhbCIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyIiwiYXBwIiwiZXhwcmVzcyIsInVzZSIsImNvcnMiLCJqc29uIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwic3RhdGljIiwicGF0aCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJyb3V0ZXIiLCJzZXQiLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsImxpc3RlbiIsImdldCJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCI7XG5pbXBvcnQgY29ycyBmcm9tIFwiY29yc1wiO1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcbmltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcbmltcG9ydCByb3V0ZXIgZnJvbSBcIi4vcm91dGVyXCI7XG5pbXBvcnQgJ2RvdGVudi9jb25maWcnXG5cbi8vY29uc29sZS5sb2cocHJvY2Vzcy5lbnYpXG5cbi8vQ09ORVhJT04gQSBMQSBCQVNFIERFIERBVE9TIGRiX2FkY2VlXG5cbmNvbnN0IGRidXJsID0gXCJtb25nb2RiOi8vMTI3LjAuMC4xOjI3MDE3L2RiX2FkY2VlXCI7XG5tb25nb29zZS5Qcm9taXNlID0gZ2xvYmFsLlByb21pc2U7XG4vL2NvbnN0IGRidXJsID0gXCJtb25nb2RiK3NydjovL21hbGF2ZW1qdjpndWF5b3lvQGFkY2NlZGIuejZkejEubW9uZ29kYi5uZXQvZGJfYWRjZWVcIjtcblxuXG5cbm1vbmdvb3NlLmNvbm5lY3QoXG4gIGRidXJsLHtcbiAgICB1c2VOZXdVcmxQYXJzZXI6IHRydWUsXG4gICAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLFxuICB9KVxuICAudGhlbigoKSA9PiBjb25zb2xlLmxvZyhcIkNPTkVDVEFETyBBIExBIEJEIGRiX2FkY2VlIGVuIGVsIHB1ZXJ0byAyNzAxN1wiKSlcbiAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcblxuXG5cbi8vREVDTEFSQUNJT04gRVhQUkVTU1xuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuYXBwLnVzZShjb3JzKCkpO1xuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XG5hcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcbmFwcC51c2UoZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgJ3B1YmxpYycpKSk7XG5hcHAudXNlKCcvYXBpLycsIHJvdXRlcik7XG5cbmFwcC5zZXQoJ3BvcnQnLCBwcm9jZXNzLmVudi5QT1JUIHx8IDMwMDApO1xuYXBwLmxpc3RlbihhcHAuZ2V0KCdwb3J0JyksICgpID0+IHsgXG4gIGNvbnNvbGUubG9nKFwiRUwgU0VSVklET1IgU0UgRUpFQ1VUQSBQRVJGRUNUQU1FTlRFIEVOIEVMIFBVRVJUTyAzMDAwXCIpO1xufSk7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsU0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksT0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0FBLE9BQUE7QUFBc0IsU0FBQUQsdUJBQUFNLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFFdEI7O0FBRUE7O0FBRUEsTUFBTUcsS0FBSyxHQUFHLG9DQUFvQztBQUNsREMsaUJBQVEsQ0FBQ0MsT0FBTyxHQUFHQyxNQUFNLENBQUNELE9BQU87QUFDakM7O0FBSUFELGlCQUFRLENBQUNHLE9BQU8sQ0FDZEosS0FBSyxFQUFDO0VBQ0pLLGVBQWUsRUFBRSxJQUFJO0VBQ3JCQyxrQkFBa0IsRUFBRTtBQUN0QixDQUFDLENBQUMsQ0FDREMsSUFBSSxDQUFDLE1BQU1DLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLCtDQUErQyxDQUFDLENBQUMsQ0FDeEVDLEtBQUssQ0FBQ0MsR0FBRyxJQUFJSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLENBQUM7O0FBSWpDO0FBQ0EsTUFBTUMsR0FBRyxHQUFHLElBQUFDLGdCQUFPLEVBQUMsQ0FBQztBQUNyQkQsR0FBRyxDQUFDRSxHQUFHLENBQUMsSUFBQUMsYUFBSSxFQUFDLENBQUMsQ0FBQztBQUNmSCxHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ0csSUFBSSxDQUFDLENBQUMsQ0FBQztBQUN2QkosR0FBRyxDQUFDRSxHQUFHLENBQUNELGdCQUFPLENBQUNJLFVBQVUsQ0FBQztFQUFFQyxRQUFRLEVBQUU7QUFBSyxDQUFDLENBQUMsQ0FBQztBQUMvQ04sR0FBRyxDQUFDRSxHQUFHLENBQUNELGdCQUFPLENBQUNNLE1BQU0sQ0FBQ0MsYUFBSSxDQUFDQyxJQUFJLENBQUNDLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDO0FBQ3ZEVixHQUFHLENBQUNFLEdBQUcsQ0FBQyxPQUFPLEVBQUVTLGVBQU0sQ0FBQztBQUV4QlgsR0FBRyxDQUFDWSxHQUFHLENBQUMsTUFBTSxFQUFFQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsSUFBSSxJQUFJLElBQUksQ0FBQztBQUN6Q2YsR0FBRyxDQUFDZ0IsTUFBTSxDQUFDaEIsR0FBRyxDQUFDaUIsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFLE1BQU07RUFDaENyQixPQUFPLENBQUNDLEdBQUcsQ0FBQyx3REFBd0QsQ0FBQztBQUN2RSxDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_express","_interopRequireDefault","require","_cors","_path","_mongoose","_router","e","__esModule","default","dburl","mongoose","Promise","global","connect","useNewUrlParser","useUnifiedTopology","then","console","log","catch","err","app","express","use","cors","json","urlencoded","extended","static","path","join","__dirname","router","set","process","env","PORT","listen","get"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/","sources":["index.js"],"sourcesContent":["import express from \"express\";\nimport cors from \"cors\";\nimport path from \"path\";\nimport mongoose from \"mongoose\";\nimport router from \"./router\";\nimport 'dotenv/config'\n\n//console.log(process.env)\n\n//CONEXION A LA BASE DE DATOS db_adcee\n\nconst dburl = \"mongodb://127.0.0.1:27017/db_adcee\";\nmongoose.Promise = global.Promise;\n//const dburl = \"mongodb+srv://malavemjv:guayoyo@adccedb.z6dz1.mongodb.net/db_adcee\";\n\n\n\nmongoose.connect(\n  dburl,{\n    useNewUrlParser: true,\n    useUnifiedTopology: true,\n  })\n  .then(() => console.log(\"CONECTADO A LA BD db_adcee en el puerto 27017\"))\n  .catch(err => console.log(err));\n\n\n\n//DECLARACION EXPRESS\nconst app = express();\napp.use(cors());\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\napp.use(express.static(path.join(__dirname, 'public')));\napp.use('/api/', router);\n\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => { \n  console.log(\"EL SERVIDOR SE EJECUTA PERFECTAMENTE EN EL PUERTO 3000\");\n});\n"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AACAA,OAAA;AAAsB,SAAAD,uBAAAM,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEtB;;AAEA;;AAEA,MAAMG,KAAK,GAAG,oCAAoC;AAClDC,iBAAQ,CAACC,OAAO,GAAGC,MAAM,CAACD,OAAO;AACjC;;AAIAD,iBAAQ,CAACG,OAAO,CACdJ,KAAK,EAAC;EACJK,eAAe,EAAE,IAAI;EACrBC,kBAAkB,EAAE;AACtB,CAAC,CAAC,CACDC,IAAI,CAAC,MAAMC,OAAO,CAACC,GAAG,CAAC,+CAA+C,CAAC,CAAC,CACxEC,KAAK,CAACC,GAAG,IAAIH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CAAC;;AAIjC;AACA,MAAMC,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AACrBD,GAAG,CAACE,GAAG,CAAC,IAAAC,aAAI,EAAC,CAAC,CAAC;AACfH,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACG,IAAI,CAAC,CAAC,CAAC;AACvBJ,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACI,UAAU,CAAC;EAAEC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAAC;AAC/CN,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACM,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAE,QAAQ,CAAC,CAAC,CAAC;AACvDV,GAAG,CAACE,GAAG,CAAC,OAAO,EAAES,eAAM,CAAC;AAExBX,GAAG,CAACY,GAAG,CAAC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,IAAI,IAAI,IAAI,CAAC;AACzCf,GAAG,CAACgB,MAAM,CAAChB,GAAG,CAACiB,GAAG,CAAC,MAAM,CAAC,EAAE,MAAM;EAChCrB,OAAO,CAACC,GAAG,CAAC,wDAAwD,CAAC;AACvE,CAAC,CAAC","ignoreList":[]}},"mtime":1742255833520},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categorie = _interopRequireDefault(require(\"./Categorie\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cupone = _interopRequireDefault(require(\"./Cupone\"));\nvar _Discount = _interopRequireDefault(require(\"./Discount\"));\nvar _Home = _interopRequireDefault(require(\"./Home\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nvar _AddressClient = _interopRequireDefault(require(\"./AddressClient\"));\nvar _Sale = _interopRequireDefault(require(\"./Sale\"));\nvar _Review = _interopRequireDefault(require(\"./Review\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.use('/users', _User.default);\nrouter.use('/categories', _Categorie.default);\nrouter.use('/products', _Product.default);\nrouter.use('/sliders', _Slider.default);\nrouter.use('/cupones', _Cupone.default);\nrouter.use('/discount', _Discount.default);\nrouter.use('/home', _Home.default);\nrouter.use('/cart', _Cart.default);\nrouter.use('/address_client', _AddressClient.default);\nrouter.use('/sale', _Sale.default);\nrouter.use('/review', _Review.default);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwiX0NhdGVnb3JpZSIsIl9Qcm9kdWN0IiwiX1NsaWRlciIsIl9DdXBvbmUiLCJfRGlzY291bnQiLCJfSG9tZSIsIl9DYXJ0IiwiX0FkZHJlc3NDbGllbnQiLCJfU2FsZSIsIl9SZXZpZXciLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwidXNlIiwiVXNlciIsIkNhdGVnb3JpZSIsIlByb2R1Y3QiLCJTbGlkZXIiLCJDdXBvbmUiLCJEaXNjb3VudCIsIkhvbWUiLCJDYXJ0IiwiQWRkcmVzc0NsaWVudCIsIlNhbGUiLCJSZXZpZXciLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2Uvcm91dGVyLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcbmltcG9ydCBVc2VyIGZyb20gJy4vVXNlcidcbmltcG9ydCBDYXRlZ29yaWUgZnJvbSAnLi9DYXRlZ29yaWUnXG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuL1Byb2R1Y3QnXG5pbXBvcnQgU2xpZGVyIGZyb20gJy4vU2xpZGVyJ1xuaW1wb3J0IEN1cG9uZSBmcm9tICcuL0N1cG9uZSdcbmltcG9ydCBEaXNjb3VudCBmcm9tICcuL0Rpc2NvdW50J1xuaW1wb3J0IEhvbWUgZnJvbSAnLi9Ib21lJ1xuaW1wb3J0IENhcnQgZnJvbSAnLi9DYXJ0J1xuaW1wb3J0IEFkZHJlc3NDbGllbnQgZnJvbSAnLi9BZGRyZXNzQ2xpZW50J1xuaW1wb3J0IFNhbGUgZnJvbSAnLi9TYWxlJ1xuaW1wb3J0IFJldmlldyBmcm9tICcuL1JldmlldydcblxuXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5yb3V0ZXIudXNlKCcvdXNlcnMnLCBVc2VyKTtcbnJvdXRlci51c2UoJy9jYXRlZ29yaWVzJywgQ2F0ZWdvcmllKTtcbnJvdXRlci51c2UoJy9wcm9kdWN0cycsIFByb2R1Y3QpO1xucm91dGVyLnVzZSgnL3NsaWRlcnMnLCBTbGlkZXIpO1xucm91dGVyLnVzZSgnL2N1cG9uZXMnLCBDdXBvbmUpO1xucm91dGVyLnVzZSgnL2Rpc2NvdW50JywgRGlzY291bnQpO1xucm91dGVyLnVzZSgnL2hvbWUnLCBIb21lKTtcbnJvdXRlci51c2UoJy9jYXJ0JywgQ2FydCk7XG5yb3V0ZXIudXNlKCcvYWRkcmVzc19jbGllbnQnLCBBZGRyZXNzQ2xpZW50KTtcbnJvdXRlci51c2UoJy9zYWxlJywgU2FsZSk7XG5yb3V0ZXIudXNlKCcvcmV2aWV3JywgUmV2aWV3KTtcblxuXG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFVBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFFBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLE9BQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLE9BQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFNLFNBQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFPLEtBQUEsR0FBQVIsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFRLEtBQUEsR0FBQVQsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFTLGNBQUEsR0FBQVYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFVLEtBQUEsR0FBQVgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFXLE9BQUEsR0FBQVosc0JBQUEsQ0FBQUMsT0FBQTtBQUE2QixTQUFBRCx1QkFBQWEsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUc3QixNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBQ3hCRCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxRQUFRLEVBQUVDLGFBQUksQ0FBQztBQUMxQkgsTUFBTSxDQUFDRSxHQUFHLENBQUMsYUFBYSxFQUFFRSxrQkFBUyxDQUFDO0FBQ3BDSixNQUFNLENBQUNFLEdBQUcsQ0FBQyxXQUFXLEVBQUVHLGdCQUFPLENBQUM7QUFDaENMLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLFVBQVUsRUFBRUksZUFBTSxDQUFDO0FBQzlCTixNQUFNLENBQUNFLEdBQUcsQ0FBQyxVQUFVLEVBQUVLLGVBQU0sQ0FBQztBQUM5QlAsTUFBTSxDQUFDRSxHQUFHLENBQUMsV0FBVyxFQUFFTSxpQkFBUSxDQUFDO0FBQ2pDUixNQUFNLENBQUNFLEdBQUcsQ0FBQyxPQUFPLEVBQUVPLGFBQUksQ0FBQztBQUN6QlQsTUFBTSxDQUFDRSxHQUFHLENBQUMsT0FBTyxFQUFFUSxhQUFJLENBQUM7QUFDekJWLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLGlCQUFpQixFQUFFUyxzQkFBYSxDQUFDO0FBQzVDWCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxPQUFPLEVBQUVVLGFBQUksQ0FBQztBQUN6QlosTUFBTSxDQUFDRSxHQUFHLENBQUMsU0FBUyxFQUFFVyxlQUFNLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWhCLE9BQUEsR0FLZkMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_User","_Categorie","_Product","_Slider","_Cupone","_Discount","_Home","_Cart","_AddressClient","_Sale","_Review","e","__esModule","default","router","routerx","use","User","Categorie","Product","Slider","Cupone","Discount","Home","Cart","AddressClient","Sale","Review","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["index.js"],"sourcesContent":["import routerx from 'express-promise-router'\nimport User from './User'\nimport Categorie from './Categorie'\nimport Product from './Product'\nimport Slider from './Slider'\nimport Cupone from './Cupone'\nimport Discount from './Discount'\nimport Home from './Home'\nimport Cart from './Cart'\nimport AddressClient from './AddressClient'\nimport Sale from './Sale'\nimport Review from './Review'\n\n\nconst router = routerx();\nrouter.use('/users', User);\nrouter.use('/categories', Categorie);\nrouter.use('/products', Product);\nrouter.use('/sliders', Slider);\nrouter.use('/cupones', Cupone);\nrouter.use('/discount', Discount);\nrouter.use('/home', Home);\nrouter.use('/cart', Cart);\nrouter.use('/address_client', AddressClient);\nrouter.use('/sale', Sale);\nrouter.use('/review', Review);\n\n\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,QAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,OAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,SAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,KAAA,GAAAR,sBAAA,CAAAC,OAAA;AACA,IAAAQ,KAAA,GAAAT,sBAAA,CAAAC,OAAA;AACA,IAAAS,cAAA,GAAAV,sBAAA,CAAAC,OAAA;AACA,IAAAU,KAAA,GAAAX,sBAAA,CAAAC,OAAA;AACA,IAAAW,OAAA,GAAAZ,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAa,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAG7B,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxBD,MAAM,CAACE,GAAG,CAAC,QAAQ,EAAEC,aAAI,CAAC;AAC1BH,MAAM,CAACE,GAAG,CAAC,aAAa,EAAEE,kBAAS,CAAC;AACpCJ,MAAM,CAACE,GAAG,CAAC,WAAW,EAAEG,gBAAO,CAAC;AAChCL,MAAM,CAACE,GAAG,CAAC,UAAU,EAAEI,eAAM,CAAC;AAC9BN,MAAM,CAACE,GAAG,CAAC,UAAU,EAAEK,eAAM,CAAC;AAC9BP,MAAM,CAACE,GAAG,CAAC,WAAW,EAAEM,iBAAQ,CAAC;AACjCR,MAAM,CAACE,GAAG,CAAC,OAAO,EAAEO,aAAI,CAAC;AACzBT,MAAM,CAACE,GAAG,CAAC,OAAO,EAAEQ,aAAI,CAAC;AACzBV,MAAM,CAACE,GAAG,CAAC,iBAAiB,EAAES,sBAAa,CAAC;AAC5CX,MAAM,CAACE,GAAG,CAAC,OAAO,EAAEU,aAAI,CAAC;AACzBZ,MAAM,CAACE,GAAG,CAAC,SAAS,EAAEW,eAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAKfC,MAAM","ignoreList":[]}},"mtime":1740275708662},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", _UserController.default.register);\nrouter.post(\"/register_seller\", _UserController.default.register_seller);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post(\"/register_admin\", _auth.default.verifyAdmin, _UserController.default.register_admin);\nrouter.post(\"/login\", _UserController.default.login);\nrouter.post(\"/login_admin\", _UserController.default.login_admin);\nrouter.post(\"/login_seller\", _UserController.default.login_seller);\nrouter.delete(\"/delete\", _UserController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyQ29udHJvbGxlciIsIl9hdXRoIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJVc2VyQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicmVnaXN0ZXJfc2VsbGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwibGlzdCIsInJlZ2lzdGVyX2FkbWluIiwibG9naW4iLCJsb2dpbl9hZG1pbiIsImxvZ2luX3NlbGxlciIsImRlbGV0ZSIsInJlbW92ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gXCJleHByZXNzLXByb21pc2Utcm91dGVyXCJcbmltcG9ydCBVc2VyQ29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXJcIlxuaW1wb3J0IGF1dGggZnJvbSBcIi4uL21pZGRsZXdhcmVzL2F1dGhcIlxuXG5cblxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG4vLyBwcm9jZXNzLmVudi5VUkxfQkFDS0VORC9hcGkvdXNlcnMvcmVnaXN0ZXJcblxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIiwgVXNlckNvbnRyb2xsZXIucmVnaXN0ZXIpO1xucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJfc2VsbGVyXCIsIFVzZXJDb250cm9sbGVyLnJlZ2lzdGVyX3NlbGxlcik7XG5yb3V0ZXIucHV0KFwiL3VwZGF0ZVwiLCBVc2VyQ29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLmdldChcIi9saXN0XCIsYXV0aC52ZXJpZnlBZG1pbiwgVXNlckNvbnRyb2xsZXIubGlzdCk7XG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlcl9hZG1pblwiLGF1dGgudmVyaWZ5QWRtaW4sIFVzZXJDb250cm9sbGVyLnJlZ2lzdGVyX2FkbWluKTtcbnJvdXRlci5wb3N0KFwiL2xvZ2luXCIsIFVzZXJDb250cm9sbGVyLmxvZ2luKTtcbnJvdXRlci5wb3N0KFwiL2xvZ2luX2FkbWluXCIsIFVzZXJDb250cm9sbGVyLmxvZ2luX2FkbWluKTtcbnJvdXRlci5wb3N0KFwiL2xvZ2luX3NlbGxlclwiLCBVc2VyQ29udHJvbGxlci5sb2dpbl9zZWxsZXIpO1xucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIiwgVXNlckNvbnRyb2xsZXIucmVtb3ZlKTtcblxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsZUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBSXRDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7O0FBRXhCOztBQUVBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUVDLHVCQUFjLENBQUNDLFFBQVEsQ0FBQztBQUNqREosTUFBTSxDQUFDRSxJQUFJLENBQUMsa0JBQWtCLEVBQUVDLHVCQUFjLENBQUNFLGVBQWUsQ0FBQztBQUMvREwsTUFBTSxDQUFDTSxHQUFHLENBQUMsU0FBUyxFQUFFSCx1QkFBYyxDQUFDSSxNQUFNLENBQUM7QUFDNUNQLE1BQU0sQ0FBQ1EsR0FBRyxDQUFDLE9BQU8sRUFBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUVQLHVCQUFjLENBQUNRLElBQUksQ0FBQztBQUN6RFgsTUFBTSxDQUFDRSxJQUFJLENBQUMsaUJBQWlCLEVBQUNPLGFBQUksQ0FBQ0MsV0FBVyxFQUFFUCx1QkFBYyxDQUFDUyxjQUFjLENBQUM7QUFDOUVaLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFFBQVEsRUFBRUMsdUJBQWMsQ0FBQ1UsS0FBSyxDQUFDO0FBQzNDYixNQUFNLENBQUNFLElBQUksQ0FBQyxjQUFjLEVBQUVDLHVCQUFjLENBQUNXLFdBQVcsQ0FBQztBQUN2RGQsTUFBTSxDQUFDRSxJQUFJLENBQUMsZUFBZSxFQUFFQyx1QkFBYyxDQUFDWSxZQUFZLENBQUM7QUFDekRmLE1BQU0sQ0FBQ2dCLE1BQU0sQ0FBQyxTQUFTLEVBQUViLHVCQUFjLENBQUNjLE1BQU0sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBcEIsT0FBQSxHQUdqQ0MsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_UserController","_auth","e","__esModule","default","router","routerx","post","UserController","register","register_seller","put","update","get","auth","verifyAdmin","list","register_admin","login","login_admin","login_seller","delete","remove","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["User.js"],"sourcesContent":["import routerx from \"express-promise-router\"\nimport UserController from \"../controllers/UserController\"\nimport auth from \"../middlewares/auth\"\n\n\n\nconst router = routerx();\n\n// process.env.URL_BACKEND/api/users/register\n\nrouter.post(\"/register\", UserController.register);\nrouter.post(\"/register_seller\", UserController.register_seller);\nrouter.put(\"/update\", UserController.update);\nrouter.get(\"/list\",auth.verifyAdmin, UserController.list);\nrouter.post(\"/register_admin\",auth.verifyAdmin, UserController.register_admin);\nrouter.post(\"/login\", UserController.login);\nrouter.post(\"/login_admin\", UserController.login_admin);\nrouter.post(\"/login_seller\", UserController.login_seller);\nrouter.delete(\"/delete\", UserController.remove);\n\n\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAItC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEC,uBAAc,CAACC,QAAQ,CAAC;AACjDJ,MAAM,CAACE,IAAI,CAAC,kBAAkB,EAAEC,uBAAc,CAACE,eAAe,CAAC;AAC/DL,MAAM,CAACM,GAAG,CAAC,SAAS,EAAEH,uBAAc,CAACI,MAAM,CAAC;AAC5CP,MAAM,CAACQ,GAAG,CAAC,OAAO,EAACC,aAAI,CAACC,WAAW,EAAEP,uBAAc,CAACQ,IAAI,CAAC;AACzDX,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAACO,aAAI,CAACC,WAAW,EAAEP,uBAAc,CAACS,cAAc,CAAC;AAC9EZ,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAEC,uBAAc,CAACU,KAAK,CAAC;AAC3Cb,MAAM,CAACE,IAAI,CAAC,cAAc,EAAEC,uBAAc,CAACW,WAAW,CAAC;AACvDd,MAAM,CAACE,IAAI,CAAC,eAAe,EAAEC,uBAAc,CAACY,YAAY,CAAC;AACzDf,MAAM,CAACgB,MAAM,CAAC,SAAS,EAAEb,uBAAc,CAACc,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAApB,OAAA,GAGjCC,MAAM","ignoreList":[]}},"mtime":1741488802907},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$2\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$15\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nvar _resourses = _interopRequireDefault(require(\"../resourses\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      const userC = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userC) {\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"cliente\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_seller: async (req, res) => {\n    try {\n      const userC = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userC) {\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"emprendedor\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_admin: async (req, res) => {\n    try {\n      const userV = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userV) {\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"admin\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      let user = await _models.default.User.create(req.body);\n      res.status(200).json({\n        user: _resourses.default.User.user_list(user)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        //SI ESTA REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              _id: user._id,\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: \"admin\"\n      });\n      if (user) {\n        //SI ESTA REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              _id: user._id,\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login_seller: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: \"emprendedor\"\n      });\n      if (user) {\n        //SI ESTA REGISTRADO EN EL SISTEMA\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              _id: user._id,\n              name: user.name,\n              email: user.email,\n              surname: user.surname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO EXISTE\"\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: \"EL USUARIO NO EXISTE\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('/');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let UserT = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: _resourses.default.User.user_list(UserT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Users = await _models.default.User.find({\n        $or: [{\n          \"name\": new RegExp(search, \"i\")\n        }, {\n          \"surname\": new RegExp(search, \"i\")\n        }, {\n          \"email\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Users = Users.map(user => {\n        return _resourses.default.User.user_list(user);\n      });\n      res.status(200).json({\n        users: Users\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await _models.default.User.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmNyeXB0anMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9tb2RlbHMiLCJfdG9rZW4iLCJfcmVzb3Vyc2VzIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwicmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJ1c2VyQyIsIm1vZGVscyIsIlVzZXIiLCJmaW5kT25lIiwiZW1haWwiLCJib2R5Iiwic3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJyb2wiLCJwYXNzd29yZCIsImJjcnlwdCIsImhhc2giLCJ1c2VyIiwiY3JlYXRlIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInJlZ2lzdGVyX3NlbGxlciIsInJlZ2lzdGVyX2FkbWluIiwidXNlclYiLCJyZXNvdXJzZXMiLCJ1c2VyX2xpc3QiLCJsb2dpbiIsInN0YXRlIiwiY29tcGFyZSIsInRva2VuVCIsInRva2VuIiwiZW5jb2RlIiwiX2lkIiwiVVNFUl9GUk9OVEVEIiwibmFtZSIsInN1cm5hbWUiLCJhdmF0YXIiLCJsb2dpbl9hZG1pbiIsImxvZ2luX3NlbGxlciIsInVwZGF0ZSIsImZpbGVzIiwiaW1nX3BhdGgiLCJwYXRoIiwic3BsaXQiLCJhdmF0YXJfbmFtZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiVXNlclQiLCJsaXN0Iiwic2VhcmNoIiwicXVlcnkiLCJVc2VycyIsImZpbmQiLCIkb3IiLCJSZWdFeHAiLCJzb3J0IiwibWFwIiwidXNlcnMiLCJyZW1vdmUiLCJmaW5kQnlJZEFuZERlbGV0ZSJdLCJzb3VyY2VSb290IjoiL2hvbWUvanZpbS9Eb2N1bWVudHMvd29ya3NwYWNlL2FsaWFuemFEQ0VFL2FwaUVjb21tZXJjZS9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIlVzZXJDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBiY3J5cHQgZnJvbSBcImJjcnlwdGpzXCJcbmltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiO1xuaW1wb3J0IHRva2VuIGZyb20gXCIuLi9zZXJ2aWNlcy90b2tlblwiO1xuaW1wb3J0IHJlc291cnNlcyBmcm9tIFwiLi4vcmVzb3Vyc2VzXCI7XG5cblxuZXhwb3J0IGRlZmF1bHR7XG4gIFxuICByZWdpc3RlcjogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1c2VyQyA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe2VtYWlsOiByZXEuYm9keS5lbWFpbH0pO1xuICAgICAgaWYodXNlckMpe1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIFlBIEVYSVNURVwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmVxLmJvZHkucm9sID0gXCJjbGllbnRlXCJcbiAgICAgIHJlcS5ib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsMTApO1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih1c2VyKTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG4gIH0sXG5cbiAgcmVnaXN0ZXJfc2VsbGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXJDID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsfSk7XG4gICAgICBpZih1c2VyQyl7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gWUEgRVhJU1RFXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXEuYm9keS5yb2wgPSBcImVtcHJlbmRlZG9yXCJcbiAgICAgIHJlcS5ib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsMTApO1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih1c2VyKTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG4gIH0sXG4gIFxuICByZWdpc3Rlcl9hZG1pbjogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1c2VyViA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe2VtYWlsOiByZXEuYm9keS5lbWFpbH0pO1xuICAgICAgaWYodXNlclYpe1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIFlBIEVYSVNURVwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmVxLmJvZHkucm9sID0gXCJhZG1pblwiXG4gICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLDEwKTtcbiAgICAgIGxldCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgdXNlcjogcmVzb3Vyc2VzLlVzZXIudXNlcl9saXN0KHVzZXIpXG4gICAgICB9KTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG4gIH0sXG5cbiAgbG9naW46IGFzeW5jKHJlcSxyZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsLHN0YXRlOjF9KTtcbiAgICAgICAgaWYodXNlcil7XG4gICAgICAgICAgICAvL1NJIEVTVEEgUkVHSVNUUkFETyBFTiBFTCBTSVNURU1BXG4gICAgICAgICAgICBsZXQgY29tcGFyZSA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHJlcS5ib2R5LnBhc3N3b3JkLHVzZXIucGFzc3dvcmQpO1xuICAgICAgICAgICAgaWYoY29tcGFyZSl7XG4gICAgICAgICAgICAgICAgbGV0IHRva2VuVCA9IGF3YWl0IHRva2VuLmVuY29kZSh1c2VyLl9pZCx1c2VyLnJvbCx1c2VyLmVtYWlsKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IFVTRVJfRlJPTlRFRCA9IHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW46dG9rZW5ULFxuICAgICAgICAgICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaWQ6IHVzZXIuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhdmF0YXI6IHVzZXIuYXZhdGFyLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICAgICAgVVNFUl9GUk9OVEVEOlVTRVJfRlJPTlRFRCxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVhJU1RFXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfVxuICB9LFxuICBsb2dpbl9hZG1pbjogYXN5bmMocmVxLHJlcykgPT4ge1xuICB0cnkge1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe2VtYWlsOiByZXEuYm9keS5lbWFpbCxzdGF0ZToxLHJvbDpcImFkbWluXCJ9KTtcbiAgICAgIGlmKHVzZXIpe1xuICAgICAgICAgIC8vU0kgRVNUQSBSRUdJU1RSQURPIEVOIEVMIFNJU1RFTUFcbiAgICAgICAgICBsZXQgY29tcGFyZSA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHJlcS5ib2R5LnBhc3N3b3JkLHVzZXIucGFzc3dvcmQpO1xuICAgICAgICAgIGlmKGNvbXBhcmUpe1xuICAgICAgICAgICAgICBsZXQgdG9rZW5UID0gYXdhaXQgdG9rZW4uZW5jb2RlKHVzZXIuX2lkLHVzZXIucm9sLHVzZXIuZW1haWwpO1xuXG4gICAgICAgICAgICAgIGNvbnN0IFVTRVJfRlJPTlRFRCA9IHtcbiAgICAgICAgICAgICAgICAgIHRva2VuOnRva2VuVCxcbiAgICAgICAgICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICBfaWQ6IHVzZXIuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhcixcbiAgICAgICAgICAgICAgICAgICAgICByb2w6IHVzZXIucm9sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgICAgVVNFUl9GUk9OVEVEOlVTRVJfRlJPTlRFRCxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICB9XG4gIH0sXG4gIGxvZ2luX3NlbGxlcjogYXN5bmMocmVxLHJlcykgPT4ge1xuICB0cnkge1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe2VtYWlsOiByZXEuYm9keS5lbWFpbCxzdGF0ZToxLHJvbDpcImVtcHJlbmRlZG9yXCJ9KTtcbiAgICAgIGlmKHVzZXIpe1xuICAgICAgICAgIC8vU0kgRVNUQSBSRUdJU1RSQURPIEVOIEVMIFNJU1RFTUFcbiAgICAgICAgICBsZXQgY29tcGFyZSA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHJlcS5ib2R5LnBhc3N3b3JkLHVzZXIucGFzc3dvcmQpO1xuICAgICAgICAgIGlmKGNvbXBhcmUpe1xuICAgICAgICAgICAgICBsZXQgdG9rZW5UID0gYXdhaXQgdG9rZW4uZW5jb2RlKHVzZXIuX2lkLHVzZXIucm9sLHVzZXIuZW1haWwpO1xuXG4gICAgICAgICAgICAgIGNvbnN0IFVTRVJfRlJPTlRFRCA9IHtcbiAgICAgICAgICAgICAgICAgIHRva2VuOnRva2VuVCxcbiAgICAgICAgICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICBfaWQ6IHVzZXIuX2lkLFxuICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhcixcbiAgICAgICAgICAgICAgICAgICAgICByb2w6IHVzZXIucm9sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgICAgVVNFUl9GUk9OVEVEOlVTRVJfRlJPTlRFRCxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVYSVNURVwiXG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICB9XG4gIH0sXG4gIHVwZGF0ZTogYXN5bmMocmVxLHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgaWYocmVxLmZpbGVzKXtcbiAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5hdmF0YXIucGF0aDtcbiAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJy8nKTtcbiAgICAgICAgIHZhciBhdmF0YXJfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgICBjb25zb2xlLmxvZyhhdmF0YXJfbmFtZSlcbiAgICAgICB9XG4gICAgICBcbiAgICAgIGlmKHJlcS5ib2R5LnBhc3N3b3JkKXtcbiAgICAgICAgcmVxLmJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChyZXEuYm9keS5wYXNzd29yZCwxMCk7XG4gICAgICB9XG4gICAgIGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0scmVxLmJvZHkpO1xuXG4gICAgIGxldCBVc2VyVCA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe19pZDogcmVxLmJvZHkuX2lkfSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIFNFIEhBIE1PRElGSUNBRE8gQ09SUkVDVEFNRU5URVwiLFxuICAgICAgICB1c2VyOiByZXNvdXJzZXMuVXNlci51c2VyX2xpc3QoVXNlclQpLFxuICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cblxuICB9LFxuICBsaXN0OiBhc3luYyhyZXEscmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoO1xuICAgICAgbGV0IFVzZXJzICA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmQoe1xuICAgICAgICAkb3I6W1xuICAgICAgICAgIHtcIm5hbWVcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXG4gICAgICAgICAge1wic3VybmFtZVwiOiBuZXcgUmVnRXhwKHNlYXJjaCwgXCJpXCIpfSxcbiAgICAgICAgICB7XCJlbWFpbFwiOiBuZXcgUmVnRXhwKHNlYXJjaCwgXCJpXCIpfSxcbiAgICAgICAgXVxuICAgIH0pLnNvcnQoeydjcmVhdGVkQXQnOi0xfSk7XG5cbiAgICBVc2VycyA9IFVzZXJzLm1hcCgodXNlcikgPT4ge1xuICAgICAgcmV0dXJuIHJlc291cnNlcy5Vc2VyLnVzZXJfbGlzdCh1c2VyKTtcbiAgICB9KVxuXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgdXNlcnM6IFVzZXJzXG4gICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogXCJPQ1VSUknDkyBVTiBQUk9CTEVNQVwiXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIFxuICAgIH1cbiAgfSxcbiAgcmVtb3ZlOiBhc3luYyhyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBVc2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZEJ5SWRBbmREZWxldGUoe19pZDogcmVxLnF1ZXJ5Ll9pZH0pO1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gU0UgRUxJTUlOTyBDT1JSRUNUQU1FTlRFXCIsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIk9DVVJSScOTIFVOIFBST0JMRU1BXCJcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cbiAgfSxcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFVBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUFxQyxTQUFBRCx1QkFBQUssQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBR3ZCO0VBRVpHLFFBQVEsRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUMxQixJQUFJO01BQ0YsTUFBTUMsS0FBSyxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDQyxPQUFPLENBQUM7UUFBQ0MsS0FBSyxFQUFFTixHQUFHLENBQUNPLElBQUks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","map":{"version":3,"names":["_bcryptjs","_interopRequireDefault","require","_models","_token","_resourses","e","__esModule","default","_default","exports","register","req","res","userC","models","User","findOne","email","body","status","send","message","rol","password","bcrypt","hash","user","create","json","error","console","log","register_seller","register_admin","userV","resourses","user_list","login","state","compare","tokenT","token","encode","_id","USER_FRONTED","name","surname","avatar","login_admin","login_seller","update","files","img_path","path","split","avatar_name","findByIdAndUpdate","UserT","list","search","query","Users","find","$or","RegExp","sort","map","users","remove","findByIdAndDelete"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["UserController.js"],"sourcesContent":["import bcrypt from \"bcryptjs\"\nimport models from \"../models\";\nimport token from \"../services/token\";\nimport resourses from \"../resourses\";\n\n\nexport default{\n  \n  register: async(req,res) => {\n    try {\n      const userC = await models.User.findOne({email: req.body.email});\n      if(userC){\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"cliente\"\n      req.body.password = await bcrypt.hash(req.body.password,10);\n      const user = await models.User.create(req.body);\n      res.status(200).json(user);\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n\n  register_seller: async(req,res) => {\n    try {\n      const userC = await models.User.findOne({email: req.body.email});\n      if(userC){\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"emprendedor\"\n      req.body.password = await bcrypt.hash(req.body.password,10);\n      const user = await models.User.create(req.body);\n      res.status(200).json(user);\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n  \n  register_admin: async(req,res) => {\n    try {\n      const userV = await models.User.findOne({email: req.body.email});\n      if(userV){\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"admin\"\n      req.body.password = await bcrypt.hash(req.body.password,10);\n      let user = await models.User.create(req.body);\n      res.status(200).json({\n        user: resourses.User.user_list(user)\n      });\n      \n    } catch (error) {\n        res.status(500).send({\n          message: \"OCURRIÓ UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n\n  login: async(req,res) => {\n    try {\n        const user = await models.User.findOne({email: req.body.email,state:1});\n        if(user){\n            //SI ESTA REGISTRADO EN EL SISTEMA\n            let compare = await bcrypt.compare(req.body.password,user.password);\n            if(compare){\n                let tokenT = await token.encode(user._id,user.rol,user.email);\n\n                const USER_FRONTED = {\n                    token:tokenT,\n                    user: {\n                        _id: user._id,\n                        name: user.name,\n                        email: user.email,\n                        surname: user.surname,\n                        avatar: user.avatar,\n                    },\n                }\n\n                res.status(200).json({\n                    USER_FRONTED:USER_FRONTED,\n                })\n            }else{\n                res.status(500).send({\n                    message: \"EL USUARIO NO EXISTE\"\n                });\n            }\n        }else{\n            res.status(500).send({\n                message: \"EL USUARIO NO EXISTE\"\n            });\n        }\n    } catch (error) {\n        res.status(500).send({\n            message: \"OCURRIO UN PROBLEMA\"\n        });\n        console.log(error);\n    }\n  },\n  login_admin: async(req,res) => {\n  try {\n      const user = await models.User.findOne({email: req.body.email,state:1,rol:\"admin\"});\n      if(user){\n          //SI ESTA REGISTRADO EN EL SISTEMA\n          let compare = await bcrypt.compare(req.body.password,user.password);\n          if(compare){\n              let tokenT = await token.encode(user._id,user.rol,user.email);\n\n              const USER_FRONTED = {\n                  token:tokenT,\n                  user: {\n                      _id: user._id,\n                      name: user.name,\n                      email: user.email,\n                      surname: user.surname,\n                      avatar: user.avatar,\n                      rol: user.rol\n                  },\n              }\n\n              res.status(200).json({\n                  USER_FRONTED:USER_FRONTED,\n              })\n          }else{\n              res.status(500).send({\n                  message: \"EL USUARIO NO EXISTE\"\n              });\n          }\n      }else{\n          res.status(500).send({\n              message: \"EL USUARIO NO EXISTE\"\n          });\n      }\n  } catch (error) {\n      res.status(500).send({\n          message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n  }\n  },\n  login_seller: async(req,res) => {\n  try {\n      const user = await models.User.findOne({email: req.body.email,state:1,rol:\"emprendedor\"});\n      if(user){\n          //SI ESTA REGISTRADO EN EL SISTEMA\n          let compare = await bcrypt.compare(req.body.password,user.password);\n          if(compare){\n              let tokenT = await token.encode(user._id,user.rol,user.email);\n\n              const USER_FRONTED = {\n                  token:tokenT,\n                  user: {\n                      _id: user._id,\n                      name: user.name,\n                      email: user.email,\n                      surname: user.surname,\n                      avatar: user.avatar,\n                      rol: user.rol\n                  },\n              }\n\n              res.status(200).json({\n                  USER_FRONTED:USER_FRONTED,\n              })\n          }else{\n              res.status(500).send({\n                  message: \"EL USUARIO NO EXISTE\"\n              });\n          }\n      }else{\n          res.status(500).send({\n              message: \"EL USUARIO NO EXISTE\"\n          });\n      }\n  } catch (error) {\n      res.status(500).send({\n          message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n  }\n  },\n  update: async(req,res) => {\n    try {\n       if(req.files){\n         var img_path = req.files.avatar.path;\n         var name = img_path.split('/');\n         var avatar_name = name[2];\n         console.log(avatar_name)\n       }\n      \n      if(req.body.password){\n        req.body.password = await bcrypt.hash(req.body.password,10);\n      }\n     await models.User.findByIdAndUpdate({_id: req.body._id},req.body);\n\n     let UserT = await models.User.findOne({_id: req.body._id});\n\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: resourses.User.user_list(UserT),\n      })\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n\n  },\n  list: async(req,res) => {\n    try {\n      var search = req.query.search;\n      let Users  = await models.User.find({\n        $or:[\n          {\"name\": new RegExp(search, \"i\")},\n          {\"surname\": new RegExp(search, \"i\")},\n          {\"email\": new RegExp(search, \"i\")},\n        ]\n    }).sort({'createdAt':-1});\n\n    Users = Users.map((user) => {\n      return resourses.User.user_list(user);\n    })\n\n    res.status(200).json({\n      users: Users\n    });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n      \n    }\n  },\n  remove: async(req, res) => {\n    try {\n      const User = await models.User.findByIdAndDelete({_id: req.query._id});\n      res.status(200).json({\n        message: \"EL USUARIO SE ELIMINO CORRECTAMENTE\",\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIÓ UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n}"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,MAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,UAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAqC,SAAAD,uBAAAK,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAGvB;EAEZG,QAAQ,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,KAAK;IAC1B,IAAI;MACF,MAAMC,KAAK,GAAG,MAAMC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACC,KAAK,EAAEN,GAAG,CAACO,IAAI,CAACD;MAAK,CAAC,CAAC;MAChE,IAAGJ,KAAK,EAAC;QACPD,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACnBC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;MACAV,GAAG,CAACO,IAAI,CAACI,GAAG,GAAG,SAAS;MACxBX,GAAG,CAACO,IAAI,CAACK,QAAQ,GAAG,MAAMC,iBAAM,CAACC,IAAI,CAACd,GAAG,CAACO,IAAI,CAACK,QAAQ,EAAC,EAAE,CAAC;MAC3D,MAAMG,IAAI,GAAG,MAAMZ,eAAM,CAACC,IAAI,CAACY,MAAM,CAAChB,GAAG,CAACO,IAAI,CAAC;MAC/CN,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACS,IAAI,CAACF,IAAI,CAAC;IAE5B,CAAC,CAAC,OAAOG,KAAK,EAAE;MACZjB,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;MACFS,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACtB;EACF,CAAC;EAEDG,eAAe,EAAE,MAAAA,CAAMrB,GAAG,EAACC,GAAG,KAAK;IACjC,IAAI;MACF,MAAMC,KAAK,GAAG,MAAMC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACC,KAAK,EAAEN,GAAG,CAACO,IAAI,CAACD;MAAK,CAAC,CAAC;MAChE,IAAGJ,KAAK,EAAC;QACPD,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACnBC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;MACAV,GAAG,CAACO,IAAI,CAACI,GAAG,GAAG,aAAa;MAC5BX,GAAG,CAACO,IAAI,CAACK,QAAQ,GAAG,MAAMC,iBAAM,CAACC,IAAI,CAACd,GAAG,CAACO,IAAI,CAACK,QAAQ,EAAC,EAAE,CAAC;MAC3D,MAAMG,IAAI,GAAG,MAAMZ,eAAM,CAACC,IAAI,CAACY,MAAM,CAAChB,GAAG,CAACO,IAAI,CAAC;MAC/CN,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACS,IAAI,CAACF,IAAI,CAAC;IAE5B,CAAC,CAAC,OAAOG,KAAK,EAAE;MACZjB,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;MACFS,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACtB;EACF,CAAC;EAEDI,cAAc,EAAE,MAAAA,CAAMtB,GAAG,EAACC,GAAG,KAAK;IAChC,IAAI;MACF,MAAMsB,KAAK,GAAG,MAAMpB,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACC,KAAK,EAAEN,GAAG,CAACO,IAAI,CAACD;MAAK,CAAC,CAAC;MAChE,IAAGiB,KAAK,EAAC;QACPtB,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACnBC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;MACAV,GAAG,CAACO,IAAI,CAACI,GAAG,GAAG,OAAO;MACtBX,GAAG,CAACO,IAAI,CAACK,QAAQ,GAAG,MAAMC,iBAAM,CAACC,IAAI,CAACd,GAAG,CAACO,IAAI,CAACK,QAAQ,EAAC,EAAE,CAAC;MAC3D,IAAIG,IAAI,GAAG,MAAMZ,eAAM,CAACC,IAAI,CAACY,MAAM,CAAChB,GAAG,CAACO,IAAI,CAAC;MAC7CN,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACS,IAAI,CAAC;QACnBF,IAAI,EAAES,kBAAS,CAACpB,IAAI,CAACqB,SAAS,CAACV,IAAI;MACrC,CAAC,CAAC;IAEJ,CAAC,CAAC,OAAOG,KAAK,EAAE;MACZjB,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;MACFS,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACtB;EACF,CAAC;EAEDQ,KAAK,EAAE,MAAAA,CAAM1B,GAAG,EAACC,GAAG,KAAK;IACvB,IAAI;MACA,MAAMc,IAAI,GAAG,MAAMZ,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACC,KAAK,EAAEN,GAAG,CAACO,IAAI,CAACD,KAAK;QAACqB,KAAK,EAAC;MAAC,CAAC,CAAC;MACvE,IAAGZ,IAAI,EAAC;QACJ;QACA,IAAIa,OAAO,GAAG,MAAMf,iBAAM,CAACe,OAAO,CAAC5B,GAAG,CAACO,IAAI,CAACK,QAAQ,EAACG,IAAI,CAACH,QAAQ,CAAC;QACnE,IAAGgB,OAAO,EAAC;UACP,IAAIC,MAAM,GAAG,MAAMC,cAAK,CAACC,MAAM,CAAChB,IAAI,CAACiB,GAAG,EAACjB,IAAI,CAACJ,GAAG,EAACI,IAAI,CAACT,KAAK,CAAC;UAE7D,MAAM2B,YAAY,GAAG;YACjBH,KAAK,EAACD,MAAM;YACZd,IAAI,EAAE;cACFiB,GAAG,EAAEjB,IAAI,CAACiB,GAAG;cACbE,IAAI,EAAEnB,IAAI,CAACmB,IAAI;cACf5B,KAAK,EAAES,IAAI,CAACT,KAAK;cACjB6B,OAAO,EAAEpB,IAAI,CAACoB,OAAO;cACrBC,MAAM,EAAErB,IAAI,CAACqB;YACjB;UACJ,CAAC;UAEDnC,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACS,IAAI,CAAC;YACjBgB,YAAY,EAACA;UACjB,CAAC,CAAC;QACN,CAAC,MAAI;UACDhC,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YACjBC,OAAO,EAAE;UACb,CAAC,CAAC;QACN;MACJ,CAAC,MAAI;QACDT,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACZjB,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;MACFS,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACtB;EACF,CAAC;EACDmB,WAAW,EAAE,MAAAA,CAAMrC,GAAG,EAACC,GAAG,KAAK;IAC/B,IAAI;MACA,MAAMc,IAAI,GAAG,MAAMZ,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACC,KAAK,EAAEN,GAAG,CAACO,IAAI,CAACD,KAAK;QAACqB,KAAK,EAAC,CAAC;QAAChB,GAAG,EAAC;MAAO,CAAC,CAAC;MACnF,IAAGI,IAAI,EAAC;QACJ;QACA,IAAIa,OAAO,GAAG,MAAMf,iBAAM,CAACe,OAAO,CAAC5B,GAAG,CAACO,IAAI,CAACK,QAAQ,EAACG,IAAI,CAACH,QAAQ,CAAC;QACnE,IAAGgB,OAAO,EAAC;UACP,IAAIC,MAAM,GAAG,MAAMC,cAAK,CAACC,MAAM,CAAChB,IAAI,CAACiB,GAAG,EAACjB,IAAI,CAACJ,GAAG,EAACI,IAAI,CAACT,KAAK,CAAC;UAE7D,MAAM2B,YAAY,GAAG;YACjBH,KAAK,EAACD,MAAM;YACZd,IAAI,EAAE;cACFiB,GAAG,EAAEjB,IAAI,CAACiB,GAAG;cACbE,IAAI,EAAEnB,IAAI,CAACmB,IAAI;cACf5B,KAAK,EAAES,IAAI,CAACT,KAAK;cACjB6B,OAAO,EAAEpB,IAAI,CAACoB,OAAO;cACrBC,MAAM,EAAErB,IAAI,CAACqB,MAAM;cACnBzB,GAAG,EAAEI,IAAI,CAACJ;YACd;UACJ,CAAC;UAEDV,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACS,IAAI,CAAC;YACjBgB,YAAY,EAACA;UACjB,CAAC,CAAC;QACN,CAAC,MAAI;UACDhC,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YACjBC,OAAO,EAAE;UACb,CAAC,CAAC;QACN;MACJ,CAAC,MAAI;QACDT,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACZjB,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;MACFS,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACtB;EACA,CAAC;EACDoB,YAAY,EAAE,MAAAA,CAAMtC,GAAG,EAACC,GAAG,KAAK;IAChC,IAAI;MACA,MAAMc,IAAI,GAAG,MAAMZ,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACC,KAAK,EAAEN,GAAG,CAACO,IAAI,CAACD,KAAK;QAACqB,KAAK,EAAC,CAAC;QAAChB,GAAG,EAAC;MAAa,CAAC,CAAC;MACzF,IAAGI,IAAI,EAAC;QACJ;QACA,IAAIa,OAAO,GAAG,MAAMf,iBAAM,CAACe,OAAO,CAAC5B,GAAG,CAACO,IAAI,CAACK,QAAQ,EAACG,IAAI,CAACH,QAAQ,CAAC;QACnE,IAAGgB,OAAO,EAAC;UACP,IAAIC,MAAM,GAAG,MAAMC,cAAK,CAACC,MAAM,CAAChB,IAAI,CAACiB,GAAG,EAACjB,IAAI,CAACJ,GAAG,EAACI,IAAI,CAACT,KAAK,CAAC;UAE7D,MAAM2B,YAAY,GAAG;YACjBH,KAAK,EAACD,MAAM;YACZd,IAAI,EAAE;cACFiB,GAAG,EAAEjB,IAAI,CAACiB,GAAG;cACbE,IAAI,EAAEnB,IAAI,CAACmB,IAAI;cACf5B,KAAK,EAAES,IAAI,CAACT,KAAK;cACjB6B,OAAO,EAAEpB,IAAI,CAACoB,OAAO;cACrBC,MAAM,EAAErB,IAAI,CAACqB,MAAM;cACnBzB,GAAG,EAAEI,IAAI,CAACJ;YACd;UACJ,CAAC;UAEDV,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACS,IAAI,CAAC;YACjBgB,YAAY,EAACA;UACjB,CAAC,CAAC;QACN,CAAC,MAAI;UACDhC,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YACjBC,OAAO,EAAE;UACb,CAAC,CAAC;QACN;MACJ,CAAC,MAAI;QACDT,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IACJ,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACZjB,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;MACFS,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACtB;EACA,CAAC;EACDqB,MAAM,EAAE,MAAAA,CAAMvC,GAAG,EAACC,GAAG,KAAK;IACxB,IAAI;MACD,IAAGD,GAAG,CAACwC,KAAK,EAAC;QACX,IAAIC,QAAQ,GAAGzC,GAAG,CAACwC,KAAK,CAACJ,MAAM,CAACM,IAAI;QACpC,IAAIR,IAAI,GAAGO,QAAQ,CAACE,KAAK,CAAC,GAAG,CAAC;QAC9B,IAAIC,WAAW,GAAGV,IAAI,CAAC,CAAC,CAAC;QACzBf,OAAO,CAACC,GAAG,CAACwB,WAAW,CAAC;MAC1B;MAED,IAAG5C,GAAG,CAACO,IAAI,CAACK,QAAQ,EAAC;QACnBZ,GAAG,CAACO,IAAI,CAACK,QAAQ,GAAG,MAAMC,iBAAM,CAACC,IAAI,CAACd,GAAG,CAACO,IAAI,CAACK,QAAQ,EAAC,EAAE,CAAC;MAC7D;MACD,MAAMT,eAAM,CAACC,IAAI,CAACyC,iBAAiB,CAAC;QAACb,GAAG,EAAEhC,GAAG,CAACO,IAAI,CAACyB;MAAG,CAAC,EAAChC,GAAG,CAACO,IAAI,CAAC;MAEjE,IAAIuC,KAAK,GAAG,MAAM3C,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAAC2B,GAAG,EAAEhC,GAAG,CAACO,IAAI,CAACyB;MAAG,CAAC,CAAC;MAEzD/B,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACS,IAAI,CAAC;QACnBP,OAAO,EAAE,2CAA2C;QACpDK,IAAI,EAAES,kBAAS,CAACpB,IAAI,CAACqB,SAAS,CAACqB,KAAK;MACtC,CAAC,CAAC;IACJ,CAAC,CAAC,OAAO5B,KAAK,EAAE;MACdjB,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;MACFS,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB;EAEF,CAAC;EACD6B,IAAI,EAAE,MAAAA,CAAM/C,GAAG,EAACC,GAAG,KAAK;IACtB,IAAI;MACF,IAAI+C,MAAM,GAAGhD,GAAG,CAACiD,KAAK,CAACD,MAAM;MAC7B,IAAIE,KAAK,GAAI,MAAM/C,eAAM,CAACC,IAAI,CAAC+C,IAAI,CAAC;QAClCC,GAAG,EAAC,CACF;UAAC,MAAM,EAAE,IAAIC,MAAM,CAACL,MAAM,EAAE,GAAG;QAAC,CAAC,EACjC;UAAC,SAAS,EAAE,IAAIK,MAAM,CAACL,MAAM,EAAE,GAAG;QAAC,CAAC,EACpC;UAAC,OAAO,EAAE,IAAIK,MAAM,CAACL,MAAM,EAAE,GAAG;QAAC,CAAC;MAExC,CAAC,CAAC,CAACM,IAAI,CAAC;QAAC,WAAW,EAAC,CAAC;MAAC,CAAC,CAAC;MAEzBJ,KAAK,GAAGA,KAAK,CAACK,GAAG,CAAExC,IAAI,IAAK;QAC1B,OAAOS,kBAAS,CAACpB,IAAI,CAACqB,SAAS,CAACV,IAAI,CAAC;MACvC,CAAC,CAAC;MAEFd,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACS,IAAI,CAAC;QACnBuC,KAAK,EAAEN;MACT,CAAC,CAAC;IACF,CAAC,CAAC,OAAOhC,KAAK,EAAE;MACdjB,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;MACFS,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IAEpB;EACF,CAAC;EACDuC,MAAM,EAAE,MAAAA,CAAMzD,GAAG,EAAEC,GAAG,KAAK;IACzB,IAAI;MACF,MAAMG,IAAI,GAAG,MAAMD,eAAM,CAACC,IAAI,CAACsD,iBAAiB,CAAC;QAAC1B,GAAG,EAAEhC,GAAG,CAACiD,KAAK,CAACjB;MAAG,CAAC,CAAC;MACtE/B,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACS,IAAI,CAAC;QACnBP,OAAO,EAAE;MACX,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACdjB,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;MACFS,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB;EACF;AACF,CAAC","ignoreList":[]}},"mtime":1743218605108},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Payment.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _PaymentController = _interopRequireDefault(require(\"../controllers/PaymentController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\n\n// Procesar pago temporal\nrouter.post('/', [_auth.default.verifyEcommerce], _PaymentController.default.createTempPayment);\n\n// Obtener pagos pendientes \nrouter.get('/admin/pending', [_auth.default.verifyEcommerce], _PaymentController.default.getPendingPayments);\n\n// Actualizar estado de pago\nrouter.put('/admin/:id', [_auth.default.verifyEcommerce], _PaymentController.default.updatePaymentStatus);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfUGF5bWVudENvbnRyb2xsZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hdXRoIiwiX2V4cHJlc3NQcm9taXNlUm91dGVyIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5RWNvbW1lcmNlIiwicGF5bWVudENvbnRyb2xsZXIiLCJjcmVhdGVUZW1wUGF5bWVudCIsImdldCIsImdldFBlbmRpbmdQYXltZW50cyIsInB1dCIsInVwZGF0ZVBheW1lbnRTdGF0dXMiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2Uvcm91dGVyLyIsInNvdXJjZXMiOlsiUGF5bWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcGF5bWVudENvbnRyb2xsZXIgZnJvbSBcIi4uL2NvbnRyb2xsZXJzL1BheW1lbnRDb250cm9sbGVyXCI7XG5pbXBvcnQgYXV0aCBmcm9tIFwiLi4vbWlkZGxld2FyZXMvYXV0aFwiO1xuaW1wb3J0IHJvdXRlcnggZnJvbSBcImV4cHJlc3MtcHJvbWlzZS1yb3V0ZXJcIlxuXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5cblxuLy8gUHJvY2VzYXIgcGFnbyB0ZW1wb3JhbFxucm91dGVyLnBvc3QoJy8nLCBbYXV0aC52ZXJpZnlFY29tbWVyY2VdLCBwYXltZW50Q29udHJvbGxlci5jcmVhdGVUZW1wUGF5bWVudCk7XG5cbi8vIE9idGVuZXIgcGFnb3MgcGVuZGllbnRlcyBcbnJvdXRlci5nZXQoJy9hZG1pbi9wZW5kaW5nJyxbYXV0aC52ZXJpZnlFY29tbWVyY2VdLCBwYXltZW50Q29udHJvbGxlci5nZXRQZW5kaW5nUGF5bWVudHMpO1xuXG4vLyBBY3R1YWxpemFyIGVzdGFkbyBkZSBwYWdvXG5yb3V0ZXIucHV0KCcvYWRtaW4vOmlkJywgW2F1dGgudmVyaWZ5RWNvbW1lcmNlXSwgcGF5bWVudENvbnRyb2xsZXIudXBkYXRlUGF5bWVudFN0YXR1cyk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcblxuXG5cblxuXG5cblxuXG5cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsa0JBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLHFCQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBNEMsU0FBQUQsdUJBQUFJLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFFNUMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQzs7QUFHeEI7QUFDQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUNDLGFBQUksQ0FBQ0MsZUFBZSxDQUFDLEVBQUVDLDBCQUFpQixDQUFDQyxpQkFBaUIsQ0FBQzs7QUFFN0U7QUFDQU4sTUFBTSxDQUFDTyxHQUFHLENBQUMsZ0JBQWdCLEVBQUMsQ0FBQ0osYUFBSSxDQUFDQyxlQUFlLENBQUMsRUFBRUMsMEJBQWlCLENBQUNHLGtCQUFrQixDQUFDOztBQUV6RjtBQUNBUixNQUFNLENBQUNTLEdBQUcsQ0FBQyxZQUFZLEVBQUUsQ0FBQ04sYUFBSSxDQUFDQyxlQUFlLENBQUMsRUFBRUMsMEJBQWlCLENBQUNLLG1CQUFtQixDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFiLE9BQUEsR0FFekVDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_PaymentController","_interopRequireDefault","require","_auth","_expressPromiseRouter","e","__esModule","default","router","routerx","post","auth","verifyEcommerce","paymentController","createTempPayment","get","getPendingPayments","put","updatePaymentStatus","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Payment.js"],"sourcesContent":["import paymentController from \"../controllers/PaymentController\";\nimport auth from \"../middlewares/auth\";\nimport routerx from \"express-promise-router\"\n\nconst router = routerx();\n\n\n// Procesar pago temporal\nrouter.post('/', [auth.verifyEcommerce], paymentController.createTempPayment);\n\n// Obtener pagos pendientes \nrouter.get('/admin/pending',[auth.verifyEcommerce], paymentController.getPendingPayments);\n\n// Actualizar estado de pago\nrouter.put('/admin/:id', [auth.verifyEcommerce], paymentController.updatePaymentStatus);\n\nexport default router;\n\n\n\n\n\n\n\n\n\n"],"mappings":";;;;;;AAAA,IAAAA,kBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,qBAAA,GAAAH,sBAAA,CAAAC,OAAA;AAA4C,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAE5C,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAGxB;AACAD,MAAM,CAACE,IAAI,CAAC,GAAG,EAAE,CAACC,aAAI,CAACC,eAAe,CAAC,EAAEC,0BAAiB,CAACC,iBAAiB,CAAC;;AAE7E;AACAN,MAAM,CAACO,GAAG,CAAC,gBAAgB,EAAC,CAACJ,aAAI,CAACC,eAAe,CAAC,EAAEC,0BAAiB,CAACG,kBAAkB,CAAC;;AAEzF;AACAR,MAAM,CAACS,GAAG,CAAC,YAAY,EAAE,CAACN,aAAI,CAACC,eAAe,CAAC,EAAEC,0BAAiB,CAACK,mBAAmB,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAb,OAAA,GAEzEC,MAAM","ignoreList":[]}},"mtime":1750639404942},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/Payment.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _PaymentController = _interopRequireDefault(require(\"../controllers/PaymentController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\n\n// Procesar pago temporal\nrouter.post('/', [_auth.default.verifyEcommerce], _PaymentController.default.createTempPayment);\n\n// Obtener pagos pendientes \nrouter.get('/admin/pending', [_auth.default.verifyEcommerce], _PaymentController.default.getPendingPayments);\n\n// Actualizar estado de pago\nrouter.put('/admin/:id', [_auth.default.verifyEcommerce], _PaymentController.default.updatePaymentStatus);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfUGF5bWVudENvbnRyb2xsZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hdXRoIiwiX2V4cHJlc3NQcm9taXNlUm91dGVyIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5RWNvbW1lcmNlIiwicGF5bWVudENvbnRyb2xsZXIiLCJjcmVhdGVUZW1wUGF5bWVudCIsImdldCIsImdldFBlbmRpbmdQYXltZW50cyIsInB1dCIsInVwZGF0ZVBheW1lbnRTdGF0dXMiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9ob21lL2p2aW0vRG9jdW1lbnRzL3dvcmtzcGFjZS9hbGlhbnphRENFRS9hcGlFY29tbWVyY2Uvcm91dGVyLyIsInNvdXJjZXMiOlsiUGF5bWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcGF5bWVudENvbnRyb2xsZXIgZnJvbSBcIi4uL2NvbnRyb2xsZXJzL1BheW1lbnRDb250cm9sbGVyXCI7XG5pbXBvcnQgYXV0aCBmcm9tIFwiLi4vbWlkZGxld2FyZXMvYXV0aFwiO1xuaW1wb3J0IHJvdXRlcnggZnJvbSBcImV4cHJlc3MtcHJvbWlzZS1yb3V0ZXJcIlxuXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5cblxuLy8gUHJvY2VzYXIgcGFnbyB0ZW1wb3JhbFxucm91dGVyLnBvc3QoJy8nLCBbYXV0aC52ZXJpZnlFY29tbWVyY2VdLCBwYXltZW50Q29udHJvbGxlci5jcmVhdGVUZW1wUGF5bWVudCk7XG5cbi8vIE9idGVuZXIgcGFnb3MgcGVuZGllbnRlcyBcbnJvdXRlci5nZXQoJy9hZG1pbi9wZW5kaW5nJyxbYXV0aC52ZXJpZnlFY29tbWVyY2VdLCBwYXltZW50Q29udHJvbGxlci5nZXRQZW5kaW5nUGF5bWVudHMpO1xuXG4vLyBBY3R1YWxpemFyIGVzdGFkbyBkZSBwYWdvXG5yb3V0ZXIucHV0KCcvYWRtaW4vOmlkJywgW2F1dGgudmVyaWZ5RWNvbW1lcmNlXSwgcGF5bWVudENvbnRyb2xsZXIudXBkYXRlUGF5bWVudFN0YXR1cyk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcblxuXG5cblxuXG5cblxuXG5cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsa0JBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLHFCQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBNEMsU0FBQUQsdUJBQUFJLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFFNUMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQzs7QUFHeEI7QUFDQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUNDLGFBQUksQ0FBQ0MsZUFBZSxDQUFDLEVBQUVDLDBCQUFpQixDQUFDQyxpQkFBaUIsQ0FBQzs7QUFFN0U7QUFDQU4sTUFBTSxDQUFDTyxHQUFHLENBQUMsZ0JBQWdCLEVBQUMsQ0FBQ0osYUFBSSxDQUFDQyxlQUFlLENBQUMsRUFBRUMsMEJBQWlCLENBQUNHLGtCQUFrQixDQUFDOztBQUV6RjtBQUNBUixNQUFNLENBQUNTLEdBQUcsQ0FBQyxZQUFZLEVBQUUsQ0FBQ04sYUFBSSxDQUFDQyxlQUFlLENBQUMsRUFBRUMsMEJBQWlCLENBQUNLLG1CQUFtQixDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFiLE9BQUEsR0FFekVDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_PaymentController","_interopRequireDefault","require","_auth","_expressPromiseRouter","e","__esModule","default","router","routerx","post","auth","verifyEcommerce","paymentController","createTempPayment","get","getPendingPayments","put","updatePaymentStatus","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/router/","sources":["Payment.js"],"sourcesContent":["import paymentController from \"../controllers/PaymentController\";\nimport auth from \"../middlewares/auth\";\nimport routerx from \"express-promise-router\"\n\nconst router = routerx();\n\n\n// Procesar pago temporal\nrouter.post('/', [auth.verifyEcommerce], paymentController.createTempPayment);\n\n// Obtener pagos pendientes \nrouter.get('/admin/pending',[auth.verifyEcommerce], paymentController.getPendingPayments);\n\n// Actualizar estado de pago\nrouter.put('/admin/:id', [auth.verifyEcommerce], paymentController.updatePaymentStatus);\n\nexport default router;\n\n\n\n\n\n\n\n\n\n"],"mappings":";;;;;;AAAA,IAAAA,kBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,qBAAA,GAAAH,sBAAA,CAAAC,OAAA;AAA4C,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAE5C,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAGxB;AACAD,MAAM,CAACE,IAAI,CAAC,GAAG,EAAE,CAACC,aAAI,CAACC,eAAe,CAAC,EAAEC,0BAAiB,CAACC,iBAAiB,CAAC;;AAE7E;AACAN,MAAM,CAACO,GAAG,CAAC,gBAAgB,EAAC,CAACJ,aAAI,CAACC,eAAe,CAAC,EAAEC,0BAAiB,CAACG,kBAAkB,CAAC;;AAEzF;AACAR,MAAM,CAACS,GAAG,CAAC,YAAY,EAAE,CAACN,aAAI,CAACC,eAAe,CAAC,EAAEC,0BAAiB,CAACK,mBAAmB,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAb,OAAA,GAEzEC,MAAM","ignoreList":[]}},"mtime":1750639404942},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/PaymentController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _TempPayment = _interopRequireDefault(require(\"../models/TempPayment\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _paymentProcessor = require(\"../services/paymentProcessor.js\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst createTempPayment = async (req, res) => {\n  try {\n    console.log('Datos recibidos:', req.body);\n    const newPayment = new _TempPayment.default({\n      user: req.user.id,\n      // Asume autenticación JWT\n      method_payment: req.body.method_payment,\n      currency_payment: req.body.data.moneda,\n      n_transaction: req.body.data.referencia,\n      name_bank: req.body.data.banco,\n      number_phone: req.body.data.telefono,\n      id_card_number: req.body.data.cedula,\n      price_dolar: req.body.data.precio_dolar,\n      status: 'pendiente',\n      total_Bs: req.body.data.montoBs,\n      total: req.body.total,\n      products: req.body.products.map(p => ({\n        product: p.product,\n        seller_id: p.seller_id,\n        quantity: p.quantity\n      })),\n      address: req.body.address\n    });\n    await newPayment.save();\n    res.status(201).json({\n      message: 'Pago registrado para verificación',\n      reference: newPayment.reference\n    });\n  } catch (error) {\n    res.status(500).json({\n      error: error.message\n    });\n  }\n};\nconst getPendingPayments = async (req, res) => {\n  try {\n    const pagosPendientes = await _models.default.TempPayment.find({\n      status: 'pendiente'\n    }).populate('user', 'name email') // Ajusta campos según tu esquema\n    .populate('products.product', 'name price') // Ajusta según esquema\n    .populate('products.seller_id', 'company email phone', {\n      strictPopulate: false\n    }); // emprendedor\n\n    console.log(\"PAGO\", pagosPendientes);\n    res.json(pagosPendientes);\n  } catch (error) {\n    res.status(500).json({\n      error: error.message\n    });\n  }\n};\nconst updatePaymentStatus = async (req, res) => {\n  const {\n    id\n  } = req.params;\n  const {\n    status\n  } = req.body; // 'confirmado' o 'rechazado'\n\n  try {\n    const pago = await _TempPayment.default.findById(id).populate('user').populate('products.product');\n    if (!pago) return res.status(404).json({\n      error: 'Pago no encontrado'\n    });\n    if (status === 'confirmado') {\n      await (0, _paymentProcessor.processConfirmedPayment)(pago);\n      res.json({\n        message: 'Pago confirmado y procesado'\n      });\n    } else if (status === 'rechazado') {\n      await (0, _paymentProcessor.processRejectedPayment)(pago);\n      res.json({\n        message: 'Pago rechazado'\n      });\n    } else {\n      res.status(400).json({\n        error: 'Estado inválido'\n      });\n    }\n  } catch (error) {\n    res.status(500).json({\n      error: error.message\n    });\n  }\n};\n\n// Exporta como objeto por defecto\nvar _default = exports.default = {\n  createTempPayment,\n  getPendingPayments,\n  updatePaymentStatus\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVGVtcFBheW1lbnQiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9tb2RlbHMiLCJfcGF5bWVudFByb2Nlc3NvciIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNyZWF0ZVRlbXBQYXltZW50IiwicmVxIiwicmVzIiwiY29uc29sZSIsImxvZyIsImJvZHkiLCJuZXdQYXltZW50IiwiVGVtcFBheW1lbnQiLCJ1c2VyIiwiaWQiLCJtZXRob2RfcGF5bWVudCIsImN1cnJlbmN5X3BheW1lbnQiLCJkYXRhIiwibW9uZWRhIiwibl90cmFuc2FjdGlvbiIsInJlZmVyZW5jaWEiLCJuYW1lX2JhbmsiLCJiYW5jbyIsIm51bWJlcl9waG9uZSIsInRlbGVmb25vIiwiaWRfY2FyZF9udW1iZXIiLCJjZWR1bGEiLCJwcmljZV9kb2xhciIsInByZWNpb19kb2xhciIsInN0YXR1cyIsInRvdGFsX0JzIiwibW9udG9CcyIsInRvdGFsIiwicHJvZHVjdHMiLCJtYXAiLCJwIiwicHJvZHVjdCIsInNlbGxlcl9pZCIsInF1YW50aXR5IiwiYWRkcmVzcyIsInNhdmUiLCJqc29uIiwibWVzc2FnZSIsInJlZmVyZW5jZSIsImVycm9yIiwiZ2V0UGVuZGluZ1BheW1lbnRzIiwicGFnb3NQZW5kaWVudGVzIiwibW9kZWxzIiwiZmluZCIsInBvcHVsYXRlIiwic3RyaWN0UG9wdWxhdGUiLCJ1cGRhdGVQYXltZW50U3RhdHVzIiwicGFyYW1zIiwicGFnbyIsImZpbmRCeUlkIiwicHJvY2Vzc0NvbmZpcm1lZFBheW1lbnQiLCJwcm9jZXNzUmVqZWN0ZWRQYXltZW50IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiUGF5bWVudENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFRlbXBQYXltZW50IGZyb20gJy4uL21vZGVscy9UZW1wUGF5bWVudCc7XG5pbXBvcnQgbW9kZWxzICBmcm9tIFwiLi4vbW9kZWxzXCI7XG5pbXBvcnQgeyBwcm9jZXNzQ29uZmlybWVkUGF5bWVudCwgcHJvY2Vzc1JlamVjdGVkUGF5bWVudCB9IGZyb20gJy4uL3NlcnZpY2VzL3BheW1lbnRQcm9jZXNzb3IuanMnO1xuXG5jb25zdCBjcmVhdGVUZW1wUGF5bWVudCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgICBjb25zb2xlLmxvZygnRGF0b3MgcmVjaWJpZG9zOicsIHJlcS5ib2R5KTtcbiAgICBjb25zdCBuZXdQYXltZW50ID0gbmV3IFRlbXBQYXltZW50KHtcbiAgICAgIHVzZXI6IHJlcS51c2VyLmlkLCAvLyBBc3VtZSBhdXRlbnRpY2FjacOzbiBKV1RcbiAgICAgIG1ldGhvZF9wYXltZW50OiByZXEuYm9keS5tZXRob2RfcGF5bWVudCxcbiAgICAgIGN1cnJlbmN5X3BheW1lbnQ6IHJlcS5ib2R5LmRhdGEubW9uZWRhLFxuICAgICAgbl90cmFuc2FjdGlvbjogcmVxLmJvZHkuZGF0YS5yZWZlcmVuY2lhLFxuICAgICAgbmFtZV9iYW5rOiByZXEuYm9keS5kYXRhLmJhbmNvLFxuICAgICAgbnVtYmVyX3Bob25lOiByZXEuYm9keS5kYXRhLnRlbGVmb25vLFxuICAgICAgaWRfY2FyZF9udW1iZXI6IHJlcS5ib2R5LmRhdGEuY2VkdWxhLFxuICAgICAgcHJpY2VfZG9sYXI6IHJlcS5ib2R5LmRhdGEucHJlY2lvX2RvbGFyLFxuICAgICAgc3RhdHVzOiAncGVuZGllbnRlJyxcbiAgICAgIHRvdGFsX0JzOiByZXEuYm9keS5kYXRhLm1vbnRvQnMsXG4gICAgICB0b3RhbDogcmVxLmJvZHkudG90YWwsXG4gICAgICBwcm9kdWN0czogcmVxLmJvZHkucHJvZHVjdHMubWFwKHAgPT4gKHtcbiAgICAgICAgcHJvZHVjdDogcC5wcm9kdWN0LFxuICAgICAgICBzZWxsZXJfaWQ6IHAuc2VsbGVyX2lkLFxuICAgICAgICBxdWFudGl0eTogcC5xdWFudGl0eVxuICAgICAgfSkpLFxuICAgICAgYWRkcmVzczogcmVxLmJvZHkuYWRkcmVzc1xuICAgIH0pO1xuXG4gICAgYXdhaXQgbmV3UGF5bWVudC5zYXZlKCk7XG4gICAgXG4gICAgcmVzLnN0YXR1cygyMDEpLmpzb24oe1xuICAgICAgbWVzc2FnZTogJ1BhZ28gcmVnaXN0cmFkbyBwYXJhIHZlcmlmaWNhY2nDs24nLFxuICAgICAgcmVmZXJlbmNlOiBuZXdQYXltZW50LnJlZmVyZW5jZVxuICAgIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcbiAgfVxufTtcbmNvbnN0IGdldFBlbmRpbmdQYXltZW50cyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHBhZ29zUGVuZGllbnRlcyA9IGF3YWl0IG1vZGVscy5UZW1wUGF5bWVudC5maW5kKHsgc3RhdHVzOiAncGVuZGllbnRlJyB9KVxuICAgICAgLnBvcHVsYXRlKCd1c2VyJywgJ25hbWUgZW1haWwnKSAvLyBBanVzdGEgY2FtcG9zIHNlZ8O6biB0dSBlc3F1ZW1hXG4gICAgICAucG9wdWxhdGUoJ3Byb2R1Y3RzLnByb2R1Y3QnLCAnbmFtZSBwcmljZScpIC8vIEFqdXN0YSBzZWfDum4gZXNxdWVtYVxuICAgICAgLnBvcHVsYXRlKCdwcm9kdWN0cy5zZWxsZXJfaWQnLCAnY29tcGFueSBlbWFpbCBwaG9uZScsIHsgc3RyaWN0UG9wdWxhdGU6IGZhbHNlIH0pOyAvLyBlbXByZW5kZWRvclxuXG4gICAgICBjb25zb2xlLmxvZyhcIlBBR09cIiwgcGFnb3NQZW5kaWVudGVzKVxuXG4gICAgICByZXMuanNvbihwYWdvc1BlbmRpZW50ZXMpO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xuICB9XG59O1xuXG5jb25zdCB1cGRhdGVQYXltZW50U3RhdHVzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XG4gIGNvbnN0IHsgc3RhdHVzIH0gPSByZXEuYm9keTsgLy8gJ2NvbmZpcm1hZG8nIG8gJ3JlY2hhemFkbydcblxuICB0cnkge1xuICAgIGNvbnN0IHBhZ28gPSBhd2FpdCBUZW1wUGF5bWVudC5maW5kQnlJZChpZCkucG9wdWxhdGUoJ3VzZXInKS5wb3B1bGF0ZSgncHJvZHVjdHMucHJvZHVjdCcpO1xuICAgIGlmICghcGFnbykgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdQYWdvIG5vIGVuY29udHJhZG8nIH0pO1xuXG4gICAgaWYgKHN0YXR1cyA9PT0gJ2NvbmZpcm1hZG8nKSB7XG4gICAgICBhd2FpdCBwcm9jZXNzQ29uZmlybWVkUGF5bWVudChwYWdvKTtcbiAgICAgIHJlcy5qc29uKHsgbWVzc2FnZTogJ1BhZ28gY29uZmlybWFkbyB5IHByb2Nlc2FkbycgfSk7XG4gICAgfSBlbHNlIGlmIChzdGF0dXMgPT09ICdyZWNoYXphZG8nKSB7XG4gICAgICBhd2FpdCBwcm9jZXNzUmVqZWN0ZWRQYXltZW50KHBhZ28pO1xuICAgICAgcmVzLmpzb24oeyBtZXNzYWdlOiAnUGFnbyByZWNoYXphZG8nIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnRXN0YWRvIGludsOhbGlkbycgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XG4gIH1cbn07XG5cbi8vIEV4cG9ydGEgY29tbyBvYmpldG8gcG9yIGRlZmVjdG9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY3JlYXRlVGVtcFBheW1lbnQsXG4gIGdldFBlbmRpbmdQYXltZW50cyxcbiAgdXBkYXRlUGF5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","map":{"version":3,"names":["_TempPayment","_interopRequireDefault","require","_models","_paymentProcessor","e","__esModule","default","createTempPayment","req","res","console","log","body","newPayment","TempPayment","user","id","method_payment","currency_payment","data","moneda","n_transaction","referencia","name_bank","banco","number_phone","telefono","id_card_number","cedula","price_dolar","precio_dolar","status","total_Bs","montoBs","total","products","map","p","product","seller_id","quantity","address","save","json","message","reference","error","getPendingPayments","pagosPendientes","models","find","populate","strictPopulate","updatePaymentStatus","params","pago","findById","processConfirmedPayment","processRejectedPayment","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["PaymentController.js"],"sourcesContent":["import TempPayment from '../models/TempPayment';\nimport models  from \"../models\";\nimport { processConfirmedPayment, processRejectedPayment } from '../services/paymentProcessor.js';\n\nconst createTempPayment = async (req, res) => {\n  try {\n     console.log('Datos recibidos:', req.body);\n    const newPayment = new TempPayment({\n      user: req.user.id, // Asume autenticación JWT\n      method_payment: req.body.method_payment,\n      currency_payment: req.body.data.moneda,\n      n_transaction: req.body.data.referencia,\n      name_bank: req.body.data.banco,\n      number_phone: req.body.data.telefono,\n      id_card_number: req.body.data.cedula,\n      price_dolar: req.body.data.precio_dolar,\n      status: 'pendiente',\n      total_Bs: req.body.data.montoBs,\n      total: req.body.total,\n      products: req.body.products.map(p => ({\n        product: p.product,\n        seller_id: p.seller_id,\n        quantity: p.quantity\n      })),\n      address: req.body.address\n    });\n\n    await newPayment.save();\n    \n    res.status(201).json({\n      message: 'Pago registrado para verificación',\n      reference: newPayment.reference\n    });\n\n  } catch (error) {\n    res.status(500).json({ error: error.message });\n  }\n};\nconst getPendingPayments = async (req, res) => {\n  try {\n    const pagosPendientes = await models.TempPayment.find({ status: 'pendiente' })\n      .populate('user', 'name email') // Ajusta campos según tu esquema\n      .populate('products.product', 'name price') // Ajusta según esquema\n      .populate('products.seller_id', 'company email phone', { strictPopulate: false }); // emprendedor\n\n      console.log(\"PAGO\", pagosPendientes)\n\n      res.json(pagosPendientes);\n\n  } catch (error) {\n      res.status(500).json({ error: error.message });\n  }\n};\n\nconst updatePaymentStatus = async (req, res) => {\n  const { id } = req.params;\n  const { status } = req.body; // 'confirmado' o 'rechazado'\n\n  try {\n    const pago = await TempPayment.findById(id).populate('user').populate('products.product');\n    if (!pago) return res.status(404).json({ error: 'Pago no encontrado' });\n\n    if (status === 'confirmado') {\n      await processConfirmedPayment(pago);\n      res.json({ message: 'Pago confirmado y procesado' });\n    } else if (status === 'rechazado') {\n      await processRejectedPayment(pago);\n      res.json({ message: 'Pago rechazado' });\n    } else {\n      res.status(400).json({ error: 'Estado inválido' });\n    }\n  } catch (error) {\n    res.status(500).json({ error: error.message });\n  }\n};\n\n// Exporta como objeto por defecto\nexport default {\n  createTempPayment,\n  getPendingPayments,\n  updatePaymentStatus\n};\n\n"],"mappings":";;;;;;AAAA,IAAAA,YAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,iBAAA,GAAAF,OAAA;AAAkG,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAElG,MAAMG,iBAAiB,GAAG,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;EAC5C,IAAI;IACDC,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEH,GAAG,CAACI,IAAI,CAAC;IAC1C,MAAMC,UAAU,GAAG,IAAIC,oBAAW,CAAC;MACjCC,IAAI,EAAEP,GAAG,CAACO,IAAI,CAACC,EAAE;MAAE;MACnBC,cAAc,EAAET,GAAG,CAACI,IAAI,CAACK,cAAc;MACvCC,gBAAgB,EAAEV,GAAG,CAACI,IAAI,CAACO,IAAI,CAACC,MAAM;MACtCC,aAAa,EAAEb,GAAG,CAACI,IAAI,CAACO,IAAI,CAACG,UAAU;MACvCC,SAAS,EAAEf,GAAG,CAACI,IAAI,CAACO,IAAI,CAACK,KAAK;MAC9BC,YAAY,EAAEjB,GAAG,CAACI,IAAI,CAACO,IAAI,CAACO,QAAQ;MACpCC,cAAc,EAAEnB,GAAG,CAACI,IAAI,CAACO,IAAI,CAACS,MAAM;MACpCC,WAAW,EAAErB,GAAG,CAACI,IAAI,CAACO,IAAI,CAACW,YAAY;MACvCC,MAAM,EAAE,WAAW;MACnBC,QAAQ,EAAExB,GAAG,CAACI,IAAI,CAACO,IAAI,CAACc,OAAO;MAC/BC,KAAK,EAAE1B,GAAG,CAACI,IAAI,CAACsB,KAAK;MACrBC,QAAQ,EAAE3B,GAAG,CAACI,IAAI,CAACuB,QAAQ,CAACC,GAAG,CAACC,CAAC,KAAK;QACpCC,OAAO,EAAED,CAAC,CAACC,OAAO;QAClBC,SAAS,EAAEF,CAAC,CAACE,SAAS;QACtBC,QAAQ,EAAEH,CAAC,CAACG;MACd,CAAC,CAAC,CAAC;MACHC,OAAO,EAAEjC,GAAG,CAACI,IAAI,CAAC6B;IACpB,CAAC,CAAC;IAEF,MAAM5B,UAAU,CAAC6B,IAAI,CAAC,CAAC;IAEvBjC,GAAG,CAACsB,MAAM,CAAC,GAAG,CAAC,CAACY,IAAI,CAAC;MACnBC,OAAO,EAAE,mCAAmC;MAC5CC,SAAS,EAAEhC,UAAU,CAACgC;IACxB,CAAC,CAAC;EAEJ,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdrC,GAAG,CAACsB,MAAM,CAAC,GAAG,CAAC,CAACY,IAAI,CAAC;MAAEG,KAAK,EAAEA,KAAK,CAACF;IAAQ,CAAC,CAAC;EAChD;AACF,CAAC;AACD,MAAMG,kBAAkB,GAAG,MAAAA,CAAOvC,GAAG,EAAEC,GAAG,KAAK;EAC7C,IAAI;IACF,MAAMuC,eAAe,GAAG,MAAMC,eAAM,CAACnC,WAAW,CAACoC,IAAI,CAAC;MAAEnB,MAAM,EAAE;IAAY,CAAC,CAAC,CAC3EoB,QAAQ,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;IAAA,CAC/BA,QAAQ,CAAC,kBAAkB,EAAE,YAAY,CAAC,CAAC;IAAA,CAC3CA,QAAQ,CAAC,oBAAoB,EAAE,qBAAqB,EAAE;MAAEC,cAAc,EAAE;IAAM,CAAC,CAAC,CAAC,CAAC;;IAEnF1C,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEqC,eAAe,CAAC;IAEpCvC,GAAG,CAACkC,IAAI,CAACK,eAAe,CAAC;EAE7B,CAAC,CAAC,OAAOF,KAAK,EAAE;IACZrC,GAAG,CAACsB,MAAM,CAAC,GAAG,CAAC,CAACY,IAAI,CAAC;MAAEG,KAAK,EAAEA,KAAK,CAACF;IAAQ,CAAC,CAAC;EAClD;AACF,CAAC;AAED,MAAMS,mBAAmB,GAAG,MAAAA,CAAO7C,GAAG,EAAEC,GAAG,KAAK;EAC9C,MAAM;IAAEO;EAAG,CAAC,GAAGR,GAAG,CAAC8C,MAAM;EACzB,MAAM;IAAEvB;EAAO,CAAC,GAAGvB,GAAG,CAACI,IAAI,CAAC,CAAC;;EAE7B,IAAI;IACF,MAAM2C,IAAI,GAAG,MAAMzC,oBAAW,CAAC0C,QAAQ,CAACxC,EAAE,CAAC,CAACmC,QAAQ,CAAC,MAAM,CAAC,CAACA,QAAQ,CAAC,kBAAkB,CAAC;IACzF,IAAI,CAACI,IAAI,EAAE,OAAO9C,GAAG,CAACsB,MAAM,CAAC,GAAG,CAAC,CAACY,IAAI,CAAC;MAAEG,KAAK,EAAE;IAAqB,CAAC,CAAC;IAEvE,IAAIf,MAAM,KAAK,YAAY,EAAE;MAC3B,MAAM,IAAA0B,yCAAuB,EAACF,IAAI,CAAC;MACnC9C,GAAG,CAACkC,IAAI,CAAC;QAAEC,OAAO,EAAE;MAA8B,CAAC,CAAC;IACtD,CAAC,MAAM,IAAIb,MAAM,KAAK,WAAW,EAAE;MACjC,MAAM,IAAA2B,wCAAsB,EAACH,IAAI,CAAC;MAClC9C,GAAG,CAACkC,IAAI,CAAC;QAAEC,OAAO,EAAE;MAAiB,CAAC,CAAC;IACzC,CAAC,MAAM;MACLnC,GAAG,CAACsB,MAAM,CAAC,GAAG,CAAC,CAACY,IAAI,CAAC;QAAEG,KAAK,EAAE;MAAkB,CAAC,CAAC;IACpD;EACF,CAAC,CAAC,OAAOA,KAAK,EAAE;IACdrC,GAAG,CAACsB,MAAM,CAAC,GAAG,CAAC,CAACY,IAAI,CAAC;MAAEG,KAAK,EAAEA,KAAK,CAACF;IAAQ,CAAC,CAAC;EAChD;AACF,CAAC;;AAED;AAAA,IAAAe,QAAA,GAAAC,OAAA,CAAAtD,OAAA,GACe;EACbC,iBAAiB;EACjBwC,kBAAkB;EAClBM;AACF,CAAC","ignoreList":[]}},"mtime":1750640962081},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/PaymentController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _TempPayment = _interopRequireDefault(require(\"../models/TempPayment\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _paymentProcessor = require(\"../services/paymentProcessor.js\");\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst createTempPayment = async (req, res) => {\n  try {\n    console.log('Datos recibidos:', req.body);\n    const newPayment = new _TempPayment.default({\n      user: req.user.id,\n      // Asume autenticación JWT\n      method_payment: req.body.method_payment,\n      currency_payment: req.body.data.moneda,\n      n_transaction: req.body.data.referencia,\n      name_bank: req.body.data.banco,\n      number_phone: req.body.data.telefono,\n      id_card_number: req.body.data.cedula,\n      price_dolar: req.body.data.precio_dolar,\n      status: 'pendiente',\n      total_Bs: req.body.data.montoBs,\n      total: req.body.total,\n      products: req.body.products.map(p => ({\n        product: p.product,\n        seller_id: p.seller_id,\n        quantity: p.quantity\n      })),\n      address: req.body.address\n    });\n    await newPayment.save();\n    res.status(201).json({\n      message: 'Pago registrado para verificación',\n      reference: newPayment.reference\n    });\n  } catch (error) {\n    res.status(500).json({\n      error: error.message\n    });\n  }\n};\nconst getPendingPayments = async (req, res) => {\n  try {\n    const pagosPendientes = await _models.default.TempPayment.find({\n      status: 'pendiente'\n    }).populate('user', 'name email') // Ajusta campos según tu esquema\n    .populate('products.product', 'name price') // Ajusta según esquema\n    .populate('products.seller_id', 'company email phone', {\n      strictPopulate: false\n    }); // emprendedor\n\n    console.log(\"PAGO\", pagosPendientes);\n    res.json(pagosPendientes);\n  } catch (error) {\n    res.status(500).json({\n      error: error.message\n    });\n  }\n};\nconst updatePaymentStatus = async (req, res) => {\n  const {\n    id\n  } = req.params;\n  const {\n    status\n  } = req.body; // 'confirmado' o 'rechazado'\n\n  try {\n    const pago = await _TempPayment.default.findById(id).populate('user').populate('products.product');\n    if (!pago) return res.status(404).json({\n      error: 'Pago no encontrado'\n    });\n    if (status === 'confirmado') {\n      await (0, _paymentProcessor.processConfirmedPayment)(pago);\n      res.json({\n        message: 'Pago confirmado y procesado'\n      });\n    } else if (status === 'rechazado') {\n      await (0, _paymentProcessor.processRejectedPayment)(pago);\n      res.json({\n        message: 'Pago rechazado'\n      });\n    } else {\n      res.status(400).json({\n        error: 'Estado inválido'\n      });\n    }\n  } catch (error) {\n    res.status(500).json({\n      error: error.message\n    });\n  }\n};\n\n// Exporta como objeto por defecto\nvar _default = exports.default = {\n  createTempPayment,\n  getPendingPayments,\n  updatePaymentStatus\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVGVtcFBheW1lbnQiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9tb2RlbHMiLCJfcGF5bWVudFByb2Nlc3NvciIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImNyZWF0ZVRlbXBQYXltZW50IiwicmVxIiwicmVzIiwiY29uc29sZSIsImxvZyIsImJvZHkiLCJuZXdQYXltZW50IiwiVGVtcFBheW1lbnQiLCJ1c2VyIiwiaWQiLCJtZXRob2RfcGF5bWVudCIsImN1cnJlbmN5X3BheW1lbnQiLCJkYXRhIiwibW9uZWRhIiwibl90cmFuc2FjdGlvbiIsInJlZmVyZW5jaWEiLCJuYW1lX2JhbmsiLCJiYW5jbyIsIm51bWJlcl9waG9uZSIsInRlbGVmb25vIiwiaWRfY2FyZF9udW1iZXIiLCJjZWR1bGEiLCJwcmljZV9kb2xhciIsInByZWNpb19kb2xhciIsInN0YXR1cyIsInRvdGFsX0JzIiwibW9udG9CcyIsInRvdGFsIiwicHJvZHVjdHMiLCJtYXAiLCJwIiwicHJvZHVjdCIsInNlbGxlcl9pZCIsInF1YW50aXR5IiwiYWRkcmVzcyIsInNhdmUiLCJqc29uIiwibWVzc2FnZSIsInJlZmVyZW5jZSIsImVycm9yIiwiZ2V0UGVuZGluZ1BheW1lbnRzIiwicGFnb3NQZW5kaWVudGVzIiwibW9kZWxzIiwiZmluZCIsInBvcHVsYXRlIiwic3RyaWN0UG9wdWxhdGUiLCJ1cGRhdGVQYXltZW50U3RhdHVzIiwicGFyYW1zIiwicGFnbyIsImZpbmRCeUlkIiwicHJvY2Vzc0NvbmZpcm1lZFBheW1lbnQiLCJwcm9jZXNzUmVqZWN0ZWRQYXltZW50IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiUGF5bWVudENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFRlbXBQYXltZW50IGZyb20gJy4uL21vZGVscy9UZW1wUGF5bWVudCc7XG5pbXBvcnQgbW9kZWxzICBmcm9tIFwiLi4vbW9kZWxzXCI7XG5pbXBvcnQgeyBwcm9jZXNzQ29uZmlybWVkUGF5bWVudCwgcHJvY2Vzc1JlamVjdGVkUGF5bWVudCB9IGZyb20gJy4uL3NlcnZpY2VzL3BheW1lbnRQcm9jZXNzb3IuanMnO1xuXG5jb25zdCBjcmVhdGVUZW1wUGF5bWVudCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgICBjb25zb2xlLmxvZygnRGF0b3MgcmVjaWJpZG9zOicsIHJlcS5ib2R5KTtcbiAgICBjb25zdCBuZXdQYXltZW50ID0gbmV3IFRlbXBQYXltZW50KHtcbiAgICAgIHVzZXI6IHJlcS51c2VyLmlkLCAvLyBBc3VtZSBhdXRlbnRpY2FjacOzbiBKV1RcbiAgICAgIG1ldGhvZF9wYXltZW50OiByZXEuYm9keS5tZXRob2RfcGF5bWVudCxcbiAgICAgIGN1cnJlbmN5X3BheW1lbnQ6IHJlcS5ib2R5LmRhdGEubW9uZWRhLFxuICAgICAgbl90cmFuc2FjdGlvbjogcmVxLmJvZHkuZGF0YS5yZWZlcmVuY2lhLFxuICAgICAgbmFtZV9iYW5rOiByZXEuYm9keS5kYXRhLmJhbmNvLFxuICAgICAgbnVtYmVyX3Bob25lOiByZXEuYm9keS5kYXRhLnRlbGVmb25vLFxuICAgICAgaWRfY2FyZF9udW1iZXI6IHJlcS5ib2R5LmRhdGEuY2VkdWxhLFxuICAgICAgcHJpY2VfZG9sYXI6IHJlcS5ib2R5LmRhdGEucHJlY2lvX2RvbGFyLFxuICAgICAgc3RhdHVzOiAncGVuZGllbnRlJyxcbiAgICAgIHRvdGFsX0JzOiByZXEuYm9keS5kYXRhLm1vbnRvQnMsXG4gICAgICB0b3RhbDogcmVxLmJvZHkudG90YWwsXG4gICAgICBwcm9kdWN0czogcmVxLmJvZHkucHJvZHVjdHMubWFwKHAgPT4gKHtcbiAgICAgICAgcHJvZHVjdDogcC5wcm9kdWN0LFxuICAgICAgICBzZWxsZXJfaWQ6IHAuc2VsbGVyX2lkLFxuICAgICAgICBxdWFudGl0eTogcC5xdWFudGl0eVxuICAgICAgfSkpLFxuICAgICAgYWRkcmVzczogcmVxLmJvZHkuYWRkcmVzc1xuICAgIH0pO1xuXG4gICAgYXdhaXQgbmV3UGF5bWVudC5zYXZlKCk7XG4gICAgXG4gICAgcmVzLnN0YXR1cygyMDEpLmpzb24oe1xuICAgICAgbWVzc2FnZTogJ1BhZ28gcmVnaXN0cmFkbyBwYXJhIHZlcmlmaWNhY2nDs24nLFxuICAgICAgcmVmZXJlbmNlOiBuZXdQYXltZW50LnJlZmVyZW5jZVxuICAgIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KTtcbiAgfVxufTtcbmNvbnN0IGdldFBlbmRpbmdQYXltZW50cyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHBhZ29zUGVuZGllbnRlcyA9IGF3YWl0IG1vZGVscy5UZW1wUGF5bWVudC5maW5kKHsgc3RhdHVzOiAncGVuZGllbnRlJyB9KVxuICAgICAgLnBvcHVsYXRlKCd1c2VyJywgJ25hbWUgZW1haWwnKSAvLyBBanVzdGEgY2FtcG9zIHNlZ8O6biB0dSBlc3F1ZW1hXG4gICAgICAucG9wdWxhdGUoJ3Byb2R1Y3RzLnByb2R1Y3QnLCAnbmFtZSBwcmljZScpIC8vIEFqdXN0YSBzZWfDum4gZXNxdWVtYVxuICAgICAgLnBvcHVsYXRlKCdwcm9kdWN0cy5zZWxsZXJfaWQnLCAnY29tcGFueSBlbWFpbCBwaG9uZScsIHsgc3RyaWN0UG9wdWxhdGU6IGZhbHNlIH0pOyAvLyBlbXByZW5kZWRvclxuXG4gICAgICBjb25zb2xlLmxvZyhcIlBBR09cIiwgcGFnb3NQZW5kaWVudGVzKVxuXG4gICAgICByZXMuanNvbihwYWdvc1BlbmRpZW50ZXMpO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0pO1xuICB9XG59O1xuXG5jb25zdCB1cGRhdGVQYXltZW50U3RhdHVzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XG4gIGNvbnN0IHsgc3RhdHVzIH0gPSByZXEuYm9keTsgLy8gJ2NvbmZpcm1hZG8nIG8gJ3JlY2hhemFkbydcblxuICB0cnkge1xuICAgIGNvbnN0IHBhZ28gPSBhd2FpdCBUZW1wUGF5bWVudC5maW5kQnlJZChpZCkucG9wdWxhdGUoJ3VzZXInKS5wb3B1bGF0ZSgncHJvZHVjdHMucHJvZHVjdCcpO1xuICAgIGlmICghcGFnbykgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgZXJyb3I6ICdQYWdvIG5vIGVuY29udHJhZG8nIH0pO1xuXG4gICAgaWYgKHN0YXR1cyA9PT0gJ2NvbmZpcm1hZG8nKSB7XG4gICAgICBhd2FpdCBwcm9jZXNzQ29uZmlybWVkUGF5bWVudChwYWdvKTtcbiAgICAgIHJlcy5qc29uKHsgbWVzc2FnZTogJ1BhZ28gY29uZmlybWFkbyB5IHByb2Nlc2FkbycgfSk7XG4gICAgfSBlbHNlIGlmIChzdGF0dXMgPT09ICdyZWNoYXphZG8nKSB7XG4gICAgICBhd2FpdCBwcm9jZXNzUmVqZWN0ZWRQYXltZW50KHBhZ28pO1xuICAgICAgcmVzLmpzb24oeyBtZXNzYWdlOiAnUGFnbyByZWNoYXphZG8nIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnRXN0YWRvIGludsOhbGlkbycgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XG4gIH1cbn07XG5cbi8vIEV4cG9ydGEgY29tbyBvYmpldG8gcG9yIGRlZmVjdG9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY3JlYXRlVGVtcFBheW1lbnQsXG4gIGdldFBlbmRpbmdQYXltZW50cyxcbiAgdXBkYXRlUGF5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","map":{"version":3,"names":["_TempPayment","_interopRequireDefault","require","_models","_paymentProcessor","e","__esModule","default","createTempPayment","req","res","console","log","body","newPayment","TempPayment","user","id","method_payment","currency_payment","data","moneda","n_transaction","referencia","name_bank","banco","number_phone","telefono","id_card_number","cedula","price_dolar","precio_dolar","status","total_Bs","montoBs","total","products","map","p","product","seller_id","quantity","address","save","json","message","reference","error","getPendingPayments","pagosPendientes","models","find","populate","strictPopulate","updatePaymentStatus","params","pago","findById","processConfirmedPayment","processRejectedPayment","_default","exports"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/controllers/","sources":["PaymentController.js"],"sourcesContent":["import TempPayment from '../models/TempPayment';\nimport models  from \"../models\";\nimport { processConfirmedPayment, processRejectedPayment } from '../services/paymentProcessor.js';\n\nconst createTempPayment = async (req, res) => {\n  try {\n     console.log('Datos recibidos:', req.body);\n    const newPayment = new TempPayment({\n      user: req.user.id, // Asume autenticación JWT\n      method_payment: req.body.method_payment,\n      currency_payment: req.body.data.moneda,\n      n_transaction: req.body.data.referencia,\n      name_bank: req.body.data.banco,\n      number_phone: req.body.data.telefono,\n      id_card_number: req.body.data.cedula,\n      price_dolar: req.body.data.precio_dolar,\n      status: 'pendiente',\n      total_Bs: req.body.data.montoBs,\n      total: req.body.total,\n      products: req.body.products.map(p => ({\n        product: p.product,\n        seller_id: p.seller_id,\n        quantity: p.quantity\n      })),\n      address: req.body.address\n    });\n\n    await newPayment.save();\n    \n    res.status(201).json({\n      message: 'Pago registrado para verificación',\n      reference: newPayment.reference\n    });\n\n  } catch (error) {\n    res.status(500).json({ error: error.message });\n  }\n};\nconst getPendingPayments = async (req, res) => {\n  try {\n    const pagosPendientes = await models.TempPayment.find({ status: 'pendiente' })\n      .populate('user', 'name email') // Ajusta campos según tu esquema\n      .populate('products.product', 'name price') // Ajusta según esquema\n      .populate('products.seller_id', 'company email phone', { strictPopulate: false }); // emprendedor\n\n      console.log(\"PAGO\", pagosPendientes)\n\n      res.json(pagosPendientes);\n\n  } catch (error) {\n      res.status(500).json({ error: error.message });\n  }\n};\n\nconst updatePaymentStatus = async (req, res) => {\n  const { id } = req.params;\n  const { status } = req.body; // 'confirmado' o 'rechazado'\n\n  try {\n    const pago = await TempPayment.findById(id).populate('user').populate('products.product');\n    if (!pago) return res.status(404).json({ error: 'Pago no encontrado' });\n\n    if (status === 'confirmado') {\n      await processConfirmedPayment(pago);\n      res.json({ message: 'Pago confirmado y procesado' });\n    } else if (status === 'rechazado') {\n      await processRejectedPayment(pago);\n      res.json({ message: 'Pago rechazado' });\n    } else {\n      res.status(400).json({ error: 'Estado inválido' });\n    }\n  } catch (error) {\n    res.status(500).json({ error: error.message });\n  }\n};\n\n// Exporta como objeto por defecto\nexport default {\n  createTempPayment,\n  getPendingPayments,\n  updatePaymentStatus\n};\n\n"],"mappings":"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","ignoreList":[]}},"mtime":1750642966135},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/TempPayment.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n// models/TempPayment.js\n\nconst tempPaymentSchema = new _mongoose.default.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  method_payment: {\n    type: String,\n    enum: ['pagoMovil', 'transferencia'],\n    required: true\n  },\n  currency_payment: {\n    type: String,\n    default: 'Bs'\n  },\n  n_transaction: {\n    type: String,\n    required: true\n  },\n  name_bank: {\n    type: String,\n    maxlength: 200\n  },\n  number_phone: {\n    type: String,\n    maxlength: 12\n  },\n  id_card_number: {\n    type: String,\n    maxlength: 8\n  },\n  total_Bs: {\n    type: Number,\n    required: true\n  },\n  total: {\n    type: Number,\n    required: true\n  },\n  status: {\n    type: String,\n    enum: ['pendiente', 'confirmado', 'rechazado'],\n    default: 'pendiente'\n  },\n  products: [{\n    product: {\n      type: _mongoose.Schema.ObjectId,\n      ref: 'product'\n    },\n    seller_id: {\n      type: _mongoose.Schema.ObjectId,\n      ref: 'user',\n      required: true\n    },\n    quantity: Number\n  }],\n  address: {\n    type: _mongoose.default.Schema.Types.Mixed,\n    required: true\n  },\n  price_dolar: {\n    type: Number,\n    default: 0\n  },\n  createdAt: {\n    type: Date,\n    default: Date.now\n  }\n});\nmodule.exports = _mongoose.default.model('TempPayment', tempPaymentSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJ0ZW1wUGF5bWVudFNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwibWV0aG9kX3BheW1lbnQiLCJTdHJpbmciLCJlbnVtIiwiY3VycmVuY3lfcGF5bWVudCIsIm5fdHJhbnNhY3Rpb24iLCJuYW1lX2JhbmsiLCJtYXhsZW5ndGgiLCJudW1iZXJfcGhvbmUiLCJpZF9jYXJkX251bWJlciIsInRvdGFsX0JzIiwiTnVtYmVyIiwidG90YWwiLCJzdGF0dXMiLCJwcm9kdWN0cyIsInByb2R1Y3QiLCJzZWxsZXJfaWQiLCJxdWFudGl0eSIsImFkZHJlc3MiLCJUeXBlcyIsIk1peGVkIiwicHJpY2VfZG9sYXIiLCJjcmVhdGVkQXQiLCJEYXRlIiwibm93IiwibW9kdWxlIiwiZXhwb3J0cyIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIlRlbXBQYXltZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIG1vZGVscy9UZW1wUGF5bWVudC5qc1xuaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9ICBmcm9tIFwibW9uZ29vc2VcIjtcblxuXG5jb25zdCB0ZW1wUGF5bWVudFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICAgIHVzZXI6IHsgdHlwZTpTY2hlbWEuT2JqZWN0SWQsIHJlZjogJ3VzZXInLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIG1ldGhvZF9wYXltZW50OiB7IHR5cGU6IFN0cmluZywgZW51bTogWydwYWdvTW92aWwnLCAndHJhbnNmZXJlbmNpYSddLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGN1cnJlbmN5X3BheW1lbnQ6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OidCcyd9LFxuICAgIG5fdHJhbnNhY3Rpb246IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIG5hbWVfYmFuazoge3R5cGU6U3RyaW5nLCBtYXhsZW5ndGg6MjAwfSxcbiAgICBudW1iZXJfcGhvbmU6IHt0eXBlOlN0cmluZywgbWF4bGVuZ3RoOiAxMn0sXG4gICAgaWRfY2FyZF9udW1iZXI6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDogOH0sXG4gICAgdG90YWxfQnM6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHRvdGFsOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBzdGF0dXM6IHsgdHlwZTogU3RyaW5nLCBlbnVtOiBbJ3BlbmRpZW50ZScsICdjb25maXJtYWRvJywgJ3JlY2hhemFkbyddLCBkZWZhdWx0OiAncGVuZGllbnRlJyB9LFxuICAgIHByb2R1Y3RzOiBbe1xuICAgICAgICBwcm9kdWN0OiB7IHR5cGU6IFNjaGVtYS5PYmplY3RJZCwgcmVmOiAncHJvZHVjdCcgfSxcbiAgICAgICAgc2VsbGVyX2lkOiB7IHR5cGU6IFNjaGVtYS5PYmplY3RJZCwgcmVmOiAndXNlcicsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgIHF1YW50aXR5OiBOdW1iZXJcbiAgICB9XSxcbiAgICBhZGRyZXNzOiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5NaXhlZCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBwcmljZV9kb2xhcjp7dHlwZTpOdW1iZXIsZGVmYXVsdDogMH0sXG4gICAgY3JlYXRlZEF0OiB7IHR5cGU6IERhdGUsIGRlZmF1bHQ6IERhdGUubm93IH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1vbmdvb3NlLm1vZGVsKCdUZW1wUGF5bWVudCcsIHRlbXBQYXltZW50U2NoZW1hKTtcblxuXG5cblxuIl0sIm1hcHBpbmdzIjoiOztBQUNBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLENBQUEsU0FBQUcsQ0FBQSxHQUFBUCxDQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQWIsQ0FBQSxFQUFBYyxDQUFBLFVBQUFHLENBQUEsS0FBQUEsQ0FBQSxDQUFBVixHQUFBLElBQUFVLENBQUEsQ0FBQUMsR0FBQSxJQUFBUCxNQUFBLENB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","tempPaymentSchema","mongoose","Schema","user","type","ObjectId","ref","required","method_payment","String","enum","currency_payment","n_transaction","name_bank","maxlength","number_phone","id_card_number","total_Bs","Number","total","status","products","product","seller_id","quantity","address","Types","Mixed","price_dolar","createdAt","Date","now","module","exports","model"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["TempPayment.js"],"sourcesContent":["// models/TempPayment.js\nimport mongoose,{Schema}  from \"mongoose\";\n\n\nconst tempPaymentSchema = new mongoose.Schema({\n    user: { type:Schema.ObjectId, ref: 'user', required: true },\n    method_payment: { type: String, enum: ['pagoMovil', 'transferencia'], required: true },\n    currency_payment: { type: String, default:'Bs'},\n    n_transaction: { type: String, required: true },\n    name_bank: {type:String, maxlength:200},\n    number_phone: {type:String, maxlength: 12},\n    id_card_number: {type: String, maxlength: 8},\n    total_Bs: { type: Number, required: true },\n    total: { type: Number, required: true },\n    status: { type: String, enum: ['pendiente', 'confirmado', 'rechazado'], default: 'pendiente' },\n    products: [{\n        product: { type: Schema.ObjectId, ref: 'product' },\n        seller_id: { type: Schema.ObjectId, ref: 'user', required: true },\n        quantity: Number\n    }],\n    address: { type: mongoose.Schema.Types.Mixed, required: true },\n    price_dolar:{type:Number,default: 0},\n    createdAt: { type: Date, default: Date.now }\n});\n\nmodule.exports = mongoose.model('TempPayment', tempPaymentSchema);\n\n\n\n\n"],"mappings":"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","ignoreList":[]}},"mtime":1750638671880},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/TempPayment.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n// models/TempPayment.js\n\nconst tempPaymentSchema = new _mongoose.default.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  method_payment: {\n    type: String,\n    enum: ['pagoMovil', 'transferencia'],\n    required: true\n  },\n  currency_payment: {\n    type: String,\n    default: 'Bs'\n  },\n  n_transaction: {\n    type: String,\n    required: true\n  },\n  name_bank: {\n    type: String,\n    maxlength: 200\n  },\n  number_phone: {\n    type: String,\n    maxlength: 12\n  },\n  id_card_number: {\n    type: String,\n    maxlength: 8\n  },\n  total_Bs: {\n    type: Number,\n    required: true\n  },\n  total: {\n    type: Number,\n    required: true\n  },\n  status: {\n    type: String,\n    enum: ['pendiente', 'confirmado', 'rechazado'],\n    default: 'pendiente'\n  },\n  products: [{\n    product: {\n      type: _mongoose.Schema.ObjectId,\n      ref: 'product'\n    },\n    seller_id: {\n      type: _mongoose.Schema.ObjectId,\n      ref: 'user',\n      required: true\n    },\n    quantity: Number\n  }],\n  address: {\n    type: _mongoose.default.Schema.Types.Mixed,\n    required: true\n  },\n  price_dolar: {\n    type: Number,\n    default: 0\n  },\n  createdAt: {\n    type: Date,\n    default: Date.now\n  }\n});\nmodule.exports = _mongoose.default.model('TempPayment', tempPaymentSchema);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJ0ZW1wUGF5bWVudFNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwibWV0aG9kX3BheW1lbnQiLCJTdHJpbmciLCJlbnVtIiwiY3VycmVuY3lfcGF5bWVudCIsIm5fdHJhbnNhY3Rpb24iLCJuYW1lX2JhbmsiLCJtYXhsZW5ndGgiLCJudW1iZXJfcGhvbmUiLCJpZF9jYXJkX251bWJlciIsInRvdGFsX0JzIiwiTnVtYmVyIiwidG90YWwiLCJzdGF0dXMiLCJwcm9kdWN0cyIsInByb2R1Y3QiLCJzZWxsZXJfaWQiLCJxdWFudGl0eSIsImFkZHJlc3MiLCJUeXBlcyIsIk1peGVkIiwicHJpY2VfZG9sYXIiLCJjcmVhdGVkQXQiLCJEYXRlIiwibm93IiwibW9kdWxlIiwiZXhwb3J0cyIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL21vZGVscy8iLCJzb3VyY2VzIjpbIlRlbXBQYXltZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIG1vZGVscy9UZW1wUGF5bWVudC5qc1xuaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9ICBmcm9tIFwibW9uZ29vc2VcIjtcblxuXG5jb25zdCB0ZW1wUGF5bWVudFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICAgIHVzZXI6IHsgdHlwZTpTY2hlbWEuT2JqZWN0SWQsIHJlZjogJ3VzZXInLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIG1ldGhvZF9wYXltZW50OiB7IHR5cGU6IFN0cmluZywgZW51bTogWydwYWdvTW92aWwnLCAndHJhbnNmZXJlbmNpYSddLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGN1cnJlbmN5X3BheW1lbnQ6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OidCcyd9LFxuICAgIG5fdHJhbnNhY3Rpb246IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIG5hbWVfYmFuazoge3R5cGU6U3RyaW5nLCBtYXhsZW5ndGg6MjAwfSxcbiAgICBudW1iZXJfcGhvbmU6IHt0eXBlOlN0cmluZywgbWF4bGVuZ3RoOiAxMn0sXG4gICAgaWRfY2FyZF9udW1iZXI6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDogOH0sXG4gICAgdG90YWxfQnM6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHRvdGFsOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBzdGF0dXM6IHsgdHlwZTogU3RyaW5nLCBlbnVtOiBbJ3BlbmRpZW50ZScsICdjb25maXJtYWRvJywgJ3JlY2hhemFkbyddLCBkZWZhdWx0OiAncGVuZGllbnRlJyB9LFxuICAgIHByb2R1Y3RzOiBbe1xuICAgICAgICBwcm9kdWN0OiB7IHR5cGU6IFNjaGVtYS5PYmplY3RJZCwgcmVmOiAncHJvZHVjdCcgfSxcbiAgICAgICAgc2VsbGVyX2lkOiB7IHR5cGU6IFNjaGVtYS5PYmplY3RJZCwgcmVmOiAndXNlcicsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgIHF1YW50aXR5OiBOdW1iZXJcbiAgICB9XSxcbiAgICBhZGRyZXNzOiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5NaXhlZCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBwcmljZV9kb2xhcjp7dHlwZTpOdW1iZXIsZGVmYXVsdDogMH0sXG4gICAgY3JlYXRlZEF0OiB7IHR5cGU6IERhdGUsIGRlZmF1bHQ6IERhdGUubm93IH1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG1vbmdvb3NlLm1vZGVsKCdUZW1wUGF5bWVudCcsIHRlbXBQYXltZW50U2NoZW1hKTtcblxuXG5cblxuIl0sIm1hcHBpbmdzIjoiOztBQUNBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLENBQUEsU0FBQUcsQ0FBQSxHQUFBUCxDQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQWIsQ0FBQSxFQUFBYyxDQUFBLFVBQUFHLENBQUEsS0FBQUEsQ0FBQSxDQUFBVixHQUFBLElBQUFVLENBQUEsQ0FBQUMsR0FBQSxJQUFBUCxNQUFBLENB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","tempPaymentSchema","mongoose","Schema","user","type","ObjectId","ref","required","method_payment","String","enum","currency_payment","n_transaction","name_bank","maxlength","number_phone","id_card_number","total_Bs","Number","total","status","products","product","seller_id","quantity","address","Types","Mixed","price_dolar","createdAt","Date","now","module","exports","model"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/models/","sources":["TempPayment.js"],"sourcesContent":["// models/TempPayment.js\nimport mongoose,{Schema}  from \"mongoose\";\n\n\nconst tempPaymentSchema = new mongoose.Schema({\n    user: { type:Schema.ObjectId, ref: 'user', required: true },\n    method_payment: { type: String, enum: ['pagoMovil', 'transferencia'], required: true },\n    currency_payment: { type: String, default:'Bs'},\n    n_transaction: { type: String, required: true },\n    name_bank: {type:String, maxlength:200},\n    number_phone: {type:String, maxlength: 12},\n    id_card_number: {type: String, maxlength: 8},\n    total_Bs: { type: Number, required: true },\n    total: { type: Number, required: true },\n    status: { type: String, enum: ['pendiente', 'confirmado', 'rechazado'], default: 'pendiente' },\n    products: [{\n        product: { type: Schema.ObjectId, ref: 'product' },\n        seller_id: { type: Schema.ObjectId, ref: 'user', required: true },\n        quantity: Number\n    }],\n    address: { type: mongoose.Schema.Types.Mixed, required: true },\n    price_dolar:{type:Number,default: 0},\n    createdAt: { type: Date, default: Date.now }\n});\n\nmodule.exports = mongoose.model('TempPayment', tempPaymentSchema);\n\n\n\n\n"],"mappings":"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","ignoreList":[]}},"mtime":1750638671880},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/services/paymentProcessor.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nconst TempPayment = require('../models/TempPayment');\nconst Sale = require('../models/Sale');\nconst SaleAddress = require('../models/SaleAddress');\nconst SaleDetail = require('../models/SaleDetail');\n//const emailService = require('./emailService');\n\nexports.processConfirmedPayment = async paymentId => {\n  const session = await mongoose.startSession();\n  session.startTransaction();\n  try {\n    const tempPayment = await TempPayment.findById(paymentId).populate('user products.product').session(session);\n\n    // 1. Crear venta\n    const sale = new Sale({\n      user: tempPayment.user,\n      total: tempPayment.total,\n      paymentMethod: tempPayment.method_payment,\n      currencyPayment: tempPayment.currency_payment,\n      nTransaction: tempPayment.n_transaction,\n      nameBank: tempPayment.name_bank,\n      numberPhone: tempPayment.number_phone,\n      idCardNumber: tempPayment.id_card_number,\n      priceDolar: tempPayment.price_dolar,\n      status: 'completado'\n    });\n\n    // 2. Crear dirección\n    const saleAddress = new SaleAddress({\n      sale: sale._id,\n      ...tempPayment.address\n    });\n\n    // 3. Crear detalles\n    const saleDetails = tempPayment.products.map(item => ({\n      sale: sale._id,\n      product: item.product,\n      quantity: item.quantity,\n      price: item.product.price\n    }));\n    await Promise.all([sale.save({\n      session\n    }), SaleAddress.create([saleAddress], {\n      session\n    }), SaleDetail.insertMany(saleDetails, {\n      session\n    }), TempPayment.deleteOne({\n      _id: paymentId\n    }).session(session)]);\n    await session.commitTransaction();\n\n    // 4. Enviar email\n    emailService.sendConfirmation(tempPayment.user.email, sale._id);\n    return {\n      success: true\n    };\n  } catch (error) {\n    await session.abortTransaction();\n    throw error;\n  } finally {\n    session.endSession();\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJUZW1wUGF5bWVudCIsInJlcXVpcmUiLCJTYWxlIiwiU2FsZUFkZHJlc3MiLCJTYWxlRGV0YWlsIiwiZXhwb3J0cyIsInByb2Nlc3NDb25maXJtZWRQYXltZW50IiwicGF5bWVudElkIiwic2Vzc2lvbiIsIm1vbmdvb3NlIiwic3RhcnRTZXNzaW9uIiwic3RhcnRUcmFuc2FjdGlvbiIsInRlbXBQYXltZW50IiwiZmluZEJ5SWQiLCJwb3B1bGF0ZSIsInNhbGUiLCJ1c2VyIiwidG90YWwiLCJwYXltZW50TWV0aG9kIiwibWV0aG9kX3BheW1lbnQiLCJjdXJyZW5jeVBheW1lbnQiLCJjdXJyZW5jeV9wYXltZW50IiwiblRyYW5zYWN0aW9uIiwibl90cmFuc2FjdGlvbiIsIm5hbWVCYW5rIiwibmFtZV9iYW5rIiwibnVtYmVyUGhvbmUiLCJudW1iZXJfcGhvbmUiLCJpZENhcmROdW1iZXIiLCJpZF9jYXJkX251bWJlciIsInByaWNlRG9sYXIiLCJwcmljZV9kb2xhciIsInN0YXR1cyIsInNhbGVBZGRyZXNzIiwiX2lkIiwiYWRkcmVzcyIsInNhbGVEZXRhaWxzIiwicHJvZHVjdHMiLCJtYXAiLCJpdGVtIiwicHJvZHVjdCIsInF1YW50aXR5IiwicHJpY2UiLCJQcm9taXNlIiwiYWxsIiwic2F2ZSIsImNyZWF0ZSIsImluc2VydE1hbnkiLCJkZWxldGVPbmUiLCJjb21taXRUcmFuc2FjdGlvbiIsImVtYWlsU2VydmljZSIsInNlbmRDb25maXJtYXRpb24iLCJlbWFpbCIsInN1Y2Nlc3MiLCJlcnJvciIsImFib3J0VHJhbnNhY3Rpb24iLCJlbmRTZXNzaW9uIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3NlcnZpY2VzLyIsInNvdXJjZXMiOlsicGF5bWVudFByb2Nlc3Nvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBUZW1wUGF5bWVudCA9IHJlcXVpcmUoJy4uL21vZGVscy9UZW1wUGF5bWVudCcpO1xuY29uc3QgU2FsZSA9IHJlcXVpcmUoJy4uL21vZGVscy9TYWxlJyk7XG5jb25zdCBTYWxlQWRkcmVzcyA9IHJlcXVpcmUoJy4uL21vZGVscy9TYWxlQWRkcmVzcycpO1xuY29uc3QgU2FsZURldGFpbCA9IHJlcXVpcmUoJy4uL21vZGVscy9TYWxlRGV0YWlsJyk7XG4vL2NvbnN0IGVtYWlsU2VydmljZSA9IHJlcXVpcmUoJy4vZW1haWxTZXJ2aWNlJyk7XG5cbmV4cG9ydHMucHJvY2Vzc0NvbmZpcm1lZFBheW1lbnQgPSBhc3luYyAocGF5bWVudElkKSA9PiB7XG4gIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBtb25nb29zZS5zdGFydFNlc3Npb24oKTtcbiAgc2Vzc2lvbi5zdGFydFRyYW5zYWN0aW9uKCk7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB0ZW1wUGF5bWVudCA9IGF3YWl0IFRlbXBQYXltZW50LmZpbmRCeUlkKHBheW1lbnRJZClcbiAgICAgIC5wb3B1bGF0ZSgndXNlciBwcm9kdWN0cy5wcm9kdWN0JylcbiAgICAgIC5zZXNzaW9uKHNlc3Npb24pO1xuXG4gICAgLy8gMS4gQ3JlYXIgdmVudGFcbiAgICBjb25zdCBzYWxlID0gbmV3IFNhbGUoe1xuICAgICAgdXNlcjogdGVtcFBheW1lbnQudXNlcixcbiAgICAgIHRvdGFsOiB0ZW1wUGF5bWVudC50b3RhbCxcbiAgICAgIHBheW1lbnRNZXRob2Q6IHRlbXBQYXltZW50Lm1ldGhvZF9wYXltZW50LFxuICAgICAgY3VycmVuY3lQYXltZW50OiB0ZW1wUGF5bWVudC5jdXJyZW5jeV9wYXltZW50LFxuICAgICAgblRyYW5zYWN0aW9uOiB0ZW1wUGF5bWVudC5uX3RyYW5zYWN0aW9uLFxuICAgICAgbmFtZUJhbms6IHRlbXBQYXltZW50Lm5hbWVfYmFuayxcbiAgICAgIG51bWJlclBob25lOiB0ZW1wUGF5bWVudC5udW1iZXJfcGhvbmUsXG4gICAgICBpZENhcmROdW1iZXI6IHRlbXBQYXltZW50LmlkX2NhcmRfbnVtYmVyLFxuICAgICAgcHJpY2VEb2xhcjogdGVtcFBheW1lbnQucHJpY2VfZG9sYXIsXG4gICAgICBzdGF0dXM6ICdjb21wbGV0YWRvJ1xuICAgIH0pO1xuXG4gICAgLy8gMi4gQ3JlYXIgZGlyZWNjacOzblxuICAgIGNvbnN0IHNhbGVBZGRyZXNzID0gbmV3IFNhbGVBZGRyZXNzKHtcbiAgICAgIHNhbGU6IHNhbGUuX2lkLFxuICAgICAgLi4udGVtcFBheW1lbnQuYWRkcmVzc1xuICAgIH0pO1xuXG4gICAgLy8gMy4gQ3JlYXIgZGV0YWxsZXNcbiAgICBjb25zdCBzYWxlRGV0YWlscyA9IHRlbXBQYXltZW50LnByb2R1Y3RzLm1hcChpdGVtID0+ICh7XG4gICAgICBzYWxlOiBzYWxlLl9pZCxcbiAgICAgIHByb2R1Y3Q6IGl0ZW0ucHJvZHVjdCxcbiAgICAgIHF1YW50aXR5OiBpdGVtLnF1YW50aXR5LFxuICAgICAgcHJpY2U6IGl0ZW0ucHJvZHVjdC5wcmljZVxuICAgIH0pKTtcblxuICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIHNhbGUuc2F2ZSh7IHNlc3Npb24gfSksXG4gICAgICBTYWxlQWRkcmVzcy5jcmVhdGUoW3NhbGVBZGRyZXNzXSwgeyBzZXNzaW9uIH0pLFxuICAgICAgU2FsZURldGFpbC5pbnNlcnRNYW55KHNhbGVEZXRhaWxzLCB7IHNlc3Npb24gfSksXG4gICAgICBUZW1wUGF5bWVudC5kZWxldGVPbmUoeyBfaWQ6IHBheW1lbnRJZCB9KS5zZXNzaW9uKHNlc3Npb24pXG4gICAgXSk7XG5cbiAgICBhd2FpdCBzZXNzaW9uLmNvbW1pdFRyYW5zYWN0aW9uKCk7XG4gICAgXG4gICAgLy8gNC4gRW52aWFyIGVtYWlsXG4gICAgZW1haWxTZXJ2aWNlLnNlbmRDb25maXJtYXRpb24odGVtcFBheW1lbnQudXNlci5lbWFpbCwgc2FsZS5faWQpO1xuXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgYXdhaXQgc2Vzc2lvbi5hYm9ydFRyYW5zYWN0aW9uKCk7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH0gZmluYWxseSB7XG4gICAgc2Vzc2lvbi5lbmRTZXNzaW9uKCk7XG4gIH1cbn07XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsV0FBVyxHQUFHQyxPQUFPLENBQUMsdUJBQXVCLENBQUM7QUFDcEQsTUFBTUMsSUFBSSxHQUFHRCxPQUFPLENBQUMsZ0JBQWdCLENBQUM7QUFDdEMsTUFBTUUsV0FBVyxHQUFHRixPQUFPLENBQUMsdUJBQXVCLENBQUM7QUFDcEQsTUFBTUcsVUFBVSxHQUFHSCxPQUFPLENBQUMsc0JBQXNCLENBQUM7QUFDbEQ7O0FBRUFJLE9BQU8sQ0FBQ0MsdUJBQXVCLEdBQUcsTUFBT0MsU0FBUyxJQUFLO0VBQ3JELE1BQU1DLE9BQU8sR0FBRyxNQUFNQyxRQUFRLENBQUNDLFlBQVksQ0FBQyxDQUFDO0VBQzdDRixPQUFPLENBQUNHLGdCQUFnQixDQUFDLENBQUM7RUFFMUIsSUFBSTtJQUNGLE1BQU1DLFdBQVcsR0FBRyxNQUFNWixXQUFXLENBQUNhLFFBQVEsQ0FBQ04sU0FBUyxDQUFDLENBQ3RETyxRQUFRLENBQUMsdUJBQXVCLENBQUMsQ0FDakNOLE9BQU8sQ0FBQ0EsT0FBTyxDQUFDOztJQUVuQjtJQUNBLE1BQU1PLElBQUksR0FBRyxJQUFJYixJQUFJLENBQUM7TUFDcEJjLElBQUksRUFBRUosV0FBVyxDQUFDSSxJQUFJO01BQ3RCQyxLQUFLLEVBQUVMLFdBQVcsQ0FBQ0ssS0FBSztNQUN4QkMsYUFBYSxFQUFFTixXQUFXLENBQUNPLGNBQWM7TUFDekNDLGVBQWUsRUFBRVIsV0FBVyxDQUFDUyxnQkFBZ0I7TUFDN0NDLFlBQVksRUFBRVYsV0FBVyxDQUFDVyxhQUFhO01BQ3ZDQyxRQUFRLEVBQUVaLFdBQVcsQ0FBQ2EsU0FBUztNQUMvQkMsV0FBVyxFQUFFZCxXQUFXLENBQUNlLFlBQVk7TUFDckNDLFlBQVksRUFBRWhCLFdBQVcsQ0FBQ2lCLGNBQWM7TUFDeENDLFVBQVUsRUFBRWxCLFdBQVcsQ0FBQ21CLFdBQVc7TUFDbkNDLE1BQU0sRUFBRTtJQUNWLENBQUMsQ0FBQzs7SUFFRjtJQUNBLE1BQU1DLFdBQVcsR0FBRyxJQUFJOUIsV0FBVyxDQUFDO01BQ2xDWSxJQUFJLEVBQUVBLElBQUksQ0FBQ21CLEdBQUc7TUFDZCxHQUFHdEIsV0FBVyxDQUFDdUI7SUFDakIsQ0FBQyxDQUFDOztJQUVGO0lBQ0EsTUFBTUMsV0FBVyxHQUFHeEIsV0FBVyxDQUFDeUIsUUFBUSxDQUFDQyxHQUFHLENBQUNDLElBQUksS0FBSztNQUNwRHhCLElBQUksRUFBRUEsSUFBSSxDQUFDbUIsR0FBRztNQUNkTSxPQUFPLEVBQUVELElBQUksQ0FBQ0MsT0FBTztNQUNyQkMsUUFBUSxFQUFFRixJQUFJLENBQUNFLFFBQVE7TUFDdkJDLEtBQUssRUFBRUgsSUFBSSxDQUFDQyxPQUFPLENBQUNFO0lBQ3RCLENBQUMsQ0FBQyxDQUFDO0lBRUgsTUFBTUMsT0FBTyxDQUFDQyxHQUFHLENBQUMsQ0FDaEI3QixJQUFJLENBQUM4QixJQUFJLENBQUM7TUFBRXJDO0lBQVEsQ0FBQyxDQUFDLEVBQ3RCTCxXQUFXLENBQUMyQyxNQUFNLENBQUMsQ0FBQ2IsV0FBVyxDQUFDLEVBQUU7TUFBRXpCO0lBQVEsQ0FBQyxDQUFDLEVBQzlDSixVQUFVLENBQUMyQyxVQUFVLENBQUNYLFdBQVcsRUFBRTtNQUFFNUI7SUFBUSxDQUFDLENBQUMsRUFDL0NSLFdBQVcsQ0FBQ2dELFNBQVMsQ0FBQztNQUFFZCxHQUFHLEVBQUUzQjtJQUFVLENBQUMsQ0FBQyxDQUFDQyxPQUFPLENBQUNBLE9BQU8sQ0FBQyxDQUMzRCxDQUFDO0lBRUYsTUFBTUEsT0FBTyxDQUFDeUMsaUJBQWlCLENBQUMsQ0FBQzs7SUFFakM7SUFDQUMsWUFBWSxDQUFDQyxnQkFBZ0IsQ0FBQ3ZDLFdBQVcsQ0FBQ0ksSUFBSSxDQUFDb0MsS0FBSyxFQUFFckMsSUFBSSxDQUFDbUIsR0FBRyxDQUFDO0lBRS9ELE9BQU87TUFBRW1CLE9BQU8sRUFBRTtJQUFLLENBQUM7RUFFMUIsQ0FBQyxDQUFDLE9BQU9DLEtBQUssRUFBRTtJQUNkLE1BQU05QyxPQUFPLENBQUMrQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ2hDLE1BQU1ELEtBQUs7RUFDYixDQUFDLFNBQVM7SUFDUjlDLE9BQU8sQ0FBQ2dELFVBQVUsQ0FBQyxDQUFDO0VBQ3RCO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["TempPayment","require","Sale","SaleAddress","SaleDetail","exports","processConfirmedPayment","paymentId","session","mongoose","startSession","startTransaction","tempPayment","findById","populate","sale","user","total","paymentMethod","method_payment","currencyPayment","currency_payment","nTransaction","n_transaction","nameBank","name_bank","numberPhone","number_phone","idCardNumber","id_card_number","priceDolar","price_dolar","status","saleAddress","_id","address","saleDetails","products","map","item","product","quantity","price","Promise","all","save","create","insertMany","deleteOne","commitTransaction","emailService","sendConfirmation","email","success","error","abortTransaction","endSession"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/services/","sources":["paymentProcessor.js"],"sourcesContent":["const TempPayment = require('../models/TempPayment');\nconst Sale = require('../models/Sale');\nconst SaleAddress = require('../models/SaleAddress');\nconst SaleDetail = require('../models/SaleDetail');\n//const emailService = require('./emailService');\n\nexports.processConfirmedPayment = async (paymentId) => {\n  const session = await mongoose.startSession();\n  session.startTransaction();\n\n  try {\n    const tempPayment = await TempPayment.findById(paymentId)\n      .populate('user products.product')\n      .session(session);\n\n    // 1. Crear venta\n    const sale = new Sale({\n      user: tempPayment.user,\n      total: tempPayment.total,\n      paymentMethod: tempPayment.method_payment,\n      currencyPayment: tempPayment.currency_payment,\n      nTransaction: tempPayment.n_transaction,\n      nameBank: tempPayment.name_bank,\n      numberPhone: tempPayment.number_phone,\n      idCardNumber: tempPayment.id_card_number,\n      priceDolar: tempPayment.price_dolar,\n      status: 'completado'\n    });\n\n    // 2. Crear dirección\n    const saleAddress = new SaleAddress({\n      sale: sale._id,\n      ...tempPayment.address\n    });\n\n    // 3. Crear detalles\n    const saleDetails = tempPayment.products.map(item => ({\n      sale: sale._id,\n      product: item.product,\n      quantity: item.quantity,\n      price: item.product.price\n    }));\n\n    await Promise.all([\n      sale.save({ session }),\n      SaleAddress.create([saleAddress], { session }),\n      SaleDetail.insertMany(saleDetails, { session }),\n      TempPayment.deleteOne({ _id: paymentId }).session(session)\n    ]);\n\n    await session.commitTransaction();\n    \n    // 4. Enviar email\n    emailService.sendConfirmation(tempPayment.user.email, sale._id);\n\n    return { success: true };\n\n  } catch (error) {\n    await session.abortTransaction();\n    throw error;\n  } finally {\n    session.endSession();\n  }\n};\n"],"mappings":";;AAAA,MAAMA,WAAW,GAAGC,OAAO,CAAC,uBAAuB,CAAC;AACpD,MAAMC,IAAI,GAAGD,OAAO,CAAC,gBAAgB,CAAC;AACtC,MAAME,WAAW,GAAGF,OAAO,CAAC,uBAAuB,CAAC;AACpD,MAAMG,UAAU,GAAGH,OAAO,CAAC,sBAAsB,CAAC;AAClD;;AAEAI,OAAO,CAACC,uBAAuB,GAAG,MAAOC,SAAS,IAAK;EACrD,MAAMC,OAAO,GAAG,MAAMC,QAAQ,CAACC,YAAY,CAAC,CAAC;EAC7CF,OAAO,CAACG,gBAAgB,CAAC,CAAC;EAE1B,IAAI;IACF,MAAMC,WAAW,GAAG,MAAMZ,WAAW,CAACa,QAAQ,CAACN,SAAS,CAAC,CACtDO,QAAQ,CAAC,uBAAuB,CAAC,CACjCN,OAAO,CAACA,OAAO,CAAC;;IAEnB;IACA,MAAMO,IAAI,GAAG,IAAIb,IAAI,CAAC;MACpBc,IAAI,EAAEJ,WAAW,CAACI,IAAI;MACtBC,KAAK,EAAEL,WAAW,CAACK,KAAK;MACxBC,aAAa,EAAEN,WAAW,CAACO,cAAc;MACzCC,eAAe,EAAER,WAAW,CAACS,gBAAgB;MAC7CC,YAAY,EAAEV,WAAW,CAACW,aAAa;MACvCC,QAAQ,EAAEZ,WAAW,CAACa,SAAS;MAC/BC,WAAW,EAAEd,WAAW,CAACe,YAAY;MACrCC,YAAY,EAAEhB,WAAW,CAACiB,cAAc;MACxCC,UAAU,EAAElB,WAAW,CAACmB,WAAW;MACnCC,MAAM,EAAE;IACV,CAAC,CAAC;;IAEF;IACA,MAAMC,WAAW,GAAG,IAAI9B,WAAW,CAAC;MAClCY,IAAI,EAAEA,IAAI,CAACmB,GAAG;MACd,GAAGtB,WAAW,CAACuB;IACjB,CAAC,CAAC;;IAEF;IACA,MAAMC,WAAW,GAAGxB,WAAW,CAACyB,QAAQ,CAACC,GAAG,CAACC,IAAI,KAAK;MACpDxB,IAAI,EAAEA,IAAI,CAACmB,GAAG;MACdM,OAAO,EAAED,IAAI,CAACC,OAAO;MACrBC,QAAQ,EAAEF,IAAI,CAACE,QAAQ;MACvBC,KAAK,EAAEH,IAAI,CAACC,OAAO,CAACE;IACtB,CAAC,CAAC,CAAC;IAEH,MAAMC,OAAO,CAACC,GAAG,CAAC,CAChB7B,IAAI,CAAC8B,IAAI,CAAC;MAAErC;IAAQ,CAAC,CAAC,EACtBL,WAAW,CAAC2C,MAAM,CAAC,CAACb,WAAW,CAAC,EAAE;MAAEzB;IAAQ,CAAC,CAAC,EAC9CJ,UAAU,CAAC2C,UAAU,CAACX,WAAW,EAAE;MAAE5B;IAAQ,CAAC,CAAC,EAC/CR,WAAW,CAACgD,SAAS,CAAC;MAAEd,GAAG,EAAE3B;IAAU,CAAC,CAAC,CAACC,OAAO,CAACA,OAAO,CAAC,CAC3D,CAAC;IAEF,MAAMA,OAAO,CAACyC,iBAAiB,CAAC,CAAC;;IAEjC;IACAC,YAAY,CAACC,gBAAgB,CAACvC,WAAW,CAACI,IAAI,CAACoC,KAAK,EAAErC,IAAI,CAACmB,GAAG,CAAC;IAE/D,OAAO;MAAEmB,OAAO,EAAE;IAAK,CAAC;EAE1B,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,MAAM9C,OAAO,CAAC+C,gBAAgB,CAAC,CAAC;IAChC,MAAMD,KAAK;EACb,CAAC,SAAS;IACR9C,OAAO,CAACgD,UAAU,CAAC,CAAC;EACtB;AACF,CAAC","ignoreList":[]}},"mtime":1750295035482},"{\"assumptions\":{},\"sourceRoot\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"filename\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/services/paymentProcessor.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$3\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$4\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$8\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.0:development":{"value":{"code":"\"use strict\";\n\nconst TempPayment = require('../models/TempPayment');\nconst Sale = require('../models/Sale');\nconst SaleAddress = require('../models/SaleAddress');\nconst SaleDetail = require('../models/SaleDetail');\n//const emailService = require('./emailService');\n\nexports.processConfirmedPayment = async paymentId => {\n  const session = await mongoose.startSession();\n  session.startTransaction();\n  try {\n    const tempPayment = await TempPayment.findById(paymentId).populate('user products.product').session(session);\n\n    // 1. Crear venta\n    const sale = new Sale({\n      user: tempPayment.user,\n      total: tempPayment.total,\n      paymentMethod: tempPayment.method_payment,\n      currencyPayment: tempPayment.currency_payment,\n      nTransaction: tempPayment.n_transaction,\n      nameBank: tempPayment.name_bank,\n      numberPhone: tempPayment.number_phone,\n      idCardNumber: tempPayment.id_card_number,\n      priceDolar: tempPayment.price_dolar,\n      status: 'completado'\n    });\n\n    // 2. Crear dirección\n    const saleAddress = new SaleAddress({\n      sale: sale._id,\n      ...tempPayment.address\n    });\n\n    // 3. Crear detalles\n    const saleDetails = tempPayment.products.map(item => ({\n      sale: sale._id,\n      product: item.product,\n      quantity: item.quantity,\n      price: item.product.price\n    }));\n    await Promise.all([sale.save({\n      session\n    }), SaleAddress.create([saleAddress], {\n      session\n    }), SaleDetail.insertMany(saleDetails, {\n      session\n    }), TempPayment.deleteOne({\n      _id: paymentId\n    }).session(session)]);\n    await session.commitTransaction();\n\n    // 4. Enviar email\n    emailService.sendConfirmation(tempPayment.user.email, sale._id);\n    return {\n      success: true\n    };\n  } catch (error) {\n    await session.abortTransaction();\n    throw error;\n  } finally {\n    session.endSession();\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJUZW1wUGF5bWVudCIsInJlcXVpcmUiLCJTYWxlIiwiU2FsZUFkZHJlc3MiLCJTYWxlRGV0YWlsIiwiZXhwb3J0cyIsInByb2Nlc3NDb25maXJtZWRQYXltZW50IiwicGF5bWVudElkIiwic2Vzc2lvbiIsIm1vbmdvb3NlIiwic3RhcnRTZXNzaW9uIiwic3RhcnRUcmFuc2FjdGlvbiIsInRlbXBQYXltZW50IiwiZmluZEJ5SWQiLCJwb3B1bGF0ZSIsInNhbGUiLCJ1c2VyIiwidG90YWwiLCJwYXltZW50TWV0aG9kIiwibWV0aG9kX3BheW1lbnQiLCJjdXJyZW5jeVBheW1lbnQiLCJjdXJyZW5jeV9wYXltZW50IiwiblRyYW5zYWN0aW9uIiwibl90cmFuc2FjdGlvbiIsIm5hbWVCYW5rIiwibmFtZV9iYW5rIiwibnVtYmVyUGhvbmUiLCJudW1iZXJfcGhvbmUiLCJpZENhcmROdW1iZXIiLCJpZF9jYXJkX251bWJlciIsInByaWNlRG9sYXIiLCJwcmljZV9kb2xhciIsInN0YXR1cyIsInNhbGVBZGRyZXNzIiwiX2lkIiwiYWRkcmVzcyIsInNhbGVEZXRhaWxzIiwicHJvZHVjdHMiLCJtYXAiLCJpdGVtIiwicHJvZHVjdCIsInF1YW50aXR5IiwicHJpY2UiLCJQcm9taXNlIiwiYWxsIiwic2F2ZSIsImNyZWF0ZSIsImluc2VydE1hbnkiLCJkZWxldGVPbmUiLCJjb21taXRUcmFuc2FjdGlvbiIsImVtYWlsU2VydmljZSIsInNlbmRDb25maXJtYXRpb24iLCJlbWFpbCIsInN1Y2Nlc3MiLCJlcnJvciIsImFib3J0VHJhbnNhY3Rpb24iLCJlbmRTZXNzaW9uIl0sInNvdXJjZVJvb3QiOiIvaG9tZS9qdmltL0RvY3VtZW50cy93b3Jrc3BhY2UvYWxpYW56YURDRUUvYXBpRWNvbW1lcmNlL3NlcnZpY2VzLyIsInNvdXJjZXMiOlsicGF5bWVudFByb2Nlc3Nvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBUZW1wUGF5bWVudCA9IHJlcXVpcmUoJy4uL21vZGVscy9UZW1wUGF5bWVudCcpO1xuY29uc3QgU2FsZSA9IHJlcXVpcmUoJy4uL21vZGVscy9TYWxlJyk7XG5jb25zdCBTYWxlQWRkcmVzcyA9IHJlcXVpcmUoJy4uL21vZGVscy9TYWxlQWRkcmVzcycpO1xuY29uc3QgU2FsZURldGFpbCA9IHJlcXVpcmUoJy4uL21vZGVscy9TYWxlRGV0YWlsJyk7XG4vL2NvbnN0IGVtYWlsU2VydmljZSA9IHJlcXVpcmUoJy4vZW1haWxTZXJ2aWNlJyk7XG5cbmV4cG9ydHMucHJvY2Vzc0NvbmZpcm1lZFBheW1lbnQgPSBhc3luYyAocGF5bWVudElkKSA9PiB7XG4gIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBtb25nb29zZS5zdGFydFNlc3Npb24oKTtcbiAgc2Vzc2lvbi5zdGFydFRyYW5zYWN0aW9uKCk7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB0ZW1wUGF5bWVudCA9IGF3YWl0IFRlbXBQYXltZW50LmZpbmRCeUlkKHBheW1lbnRJZClcbiAgICAgIC5wb3B1bGF0ZSgndXNlciBwcm9kdWN0cy5wcm9kdWN0JylcbiAgICAgIC5zZXNzaW9uKHNlc3Npb24pO1xuXG4gICAgLy8gMS4gQ3JlYXIgdmVudGFcbiAgICBjb25zdCBzYWxlID0gbmV3IFNhbGUoe1xuICAgICAgdXNlcjogdGVtcFBheW1lbnQudXNlcixcbiAgICAgIHRvdGFsOiB0ZW1wUGF5bWVudC50b3RhbCxcbiAgICAgIHBheW1lbnRNZXRob2Q6IHRlbXBQYXltZW50Lm1ldGhvZF9wYXltZW50LFxuICAgICAgY3VycmVuY3lQYXltZW50OiB0ZW1wUGF5bWVudC5jdXJyZW5jeV9wYXltZW50LFxuICAgICAgblRyYW5zYWN0aW9uOiB0ZW1wUGF5bWVudC5uX3RyYW5zYWN0aW9uLFxuICAgICAgbmFtZUJhbms6IHRlbXBQYXltZW50Lm5hbWVfYmFuayxcbiAgICAgIG51bWJlclBob25lOiB0ZW1wUGF5bWVudC5udW1iZXJfcGhvbmUsXG4gICAgICBpZENhcmROdW1iZXI6IHRlbXBQYXltZW50LmlkX2NhcmRfbnVtYmVyLFxuICAgICAgcHJpY2VEb2xhcjogdGVtcFBheW1lbnQucHJpY2VfZG9sYXIsXG4gICAgICBzdGF0dXM6ICdjb21wbGV0YWRvJ1xuICAgIH0pO1xuXG4gICAgLy8gMi4gQ3JlYXIgZGlyZWNjacOzblxuICAgIGNvbnN0IHNhbGVBZGRyZXNzID0gbmV3IFNhbGVBZGRyZXNzKHtcbiAgICAgIHNhbGU6IHNhbGUuX2lkLFxuICAgICAgLi4udGVtcFBheW1lbnQuYWRkcmVzc1xuICAgIH0pO1xuXG4gICAgLy8gMy4gQ3JlYXIgZGV0YWxsZXNcbiAgICBjb25zdCBzYWxlRGV0YWlscyA9IHRlbXBQYXltZW50LnByb2R1Y3RzLm1hcChpdGVtID0+ICh7XG4gICAgICBzYWxlOiBzYWxlLl9pZCxcbiAgICAgIHByb2R1Y3Q6IGl0ZW0ucHJvZHVjdCxcbiAgICAgIHF1YW50aXR5OiBpdGVtLnF1YW50aXR5LFxuICAgICAgcHJpY2U6IGl0ZW0ucHJvZHVjdC5wcmljZVxuICAgIH0pKTtcblxuICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIHNhbGUuc2F2ZSh7IHNlc3Npb24gfSksXG4gICAgICBTYWxlQWRkcmVzcy5jcmVhdGUoW3NhbGVBZGRyZXNzXSwgeyBzZXNzaW9uIH0pLFxuICAgICAgU2FsZURldGFpbC5pbnNlcnRNYW55KHNhbGVEZXRhaWxzLCB7IHNlc3Npb24gfSksXG4gICAgICBUZW1wUGF5bWVudC5kZWxldGVPbmUoeyBfaWQ6IHBheW1lbnRJZCB9KS5zZXNzaW9uKHNlc3Npb24pXG4gICAgXSk7XG5cbiAgICBhd2FpdCBzZXNzaW9uLmNvbW1pdFRyYW5zYWN0aW9uKCk7XG4gICAgXG4gICAgLy8gNC4gRW52aWFyIGVtYWlsXG4gICAgZW1haWxTZXJ2aWNlLnNlbmRDb25maXJtYXRpb24odGVtcFBheW1lbnQudXNlci5lbWFpbCwgc2FsZS5faWQpO1xuXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgYXdhaXQgc2Vzc2lvbi5hYm9ydFRyYW5zYWN0aW9uKCk7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH0gZmluYWxseSB7XG4gICAgc2Vzc2lvbi5lbmRTZXNzaW9uKCk7XG4gIH1cbn07XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsV0FBVyxHQUFHQyxPQUFPLENBQUMsdUJBQXVCLENBQUM7QUFDcEQsTUFBTUMsSUFBSSxHQUFHRCxPQUFPLENBQUMsZ0JBQWdCLENBQUM7QUFDdEMsTUFBTUUsV0FBVyxHQUFHRixPQUFPLENBQUMsdUJBQXVCLENBQUM7QUFDcEQsTUFBTUcsVUFBVSxHQUFHSCxPQUFPLENBQUMsc0JBQXNCLENBQUM7QUFDbEQ7O0FBRUFJLE9BQU8sQ0FBQ0MsdUJBQXVCLEdBQUcsTUFBT0MsU0FBUyxJQUFLO0VBQ3JELE1BQU1DLE9BQU8sR0FBRyxNQUFNQyxRQUFRLENBQUNDLFlBQVksQ0FBQyxDQUFDO0VBQzdDRixPQUFPLENBQUNHLGdCQUFnQixDQUFDLENBQUM7RUFFMUIsSUFBSTtJQUNGLE1BQU1DLFdBQVcsR0FBRyxNQUFNWixXQUFXLENBQUNhLFFBQVEsQ0FBQ04sU0FBUyxDQUFDLENBQ3RETyxRQUFRLENBQUMsdUJBQXVCLENBQUMsQ0FDakNOLE9BQU8sQ0FBQ0EsT0FBTyxDQUFDOztJQUVuQjtJQUNBLE1BQU1PLElBQUksR0FBRyxJQUFJYixJQUFJLENBQUM7TUFDcEJjLElBQUksRUFBRUosV0FBVyxDQUFDSSxJQUFJO01BQ3RCQyxLQUFLLEVBQUVMLFdBQVcsQ0FBQ0ssS0FBSztNQUN4QkMsYUFBYSxFQUFFTixXQUFXLENBQUNPLGNBQWM7TUFDekNDLGVBQWUsRUFBRVIsV0FBVyxDQUFDUyxnQkFBZ0I7TUFDN0NDLFlBQVksRUFBRVYsV0FBVyxDQUFDVyxhQUFhO01BQ3ZDQyxRQUFRLEVBQUVaLFdBQVcsQ0FBQ2EsU0FBUztNQUMvQkMsV0FBVyxFQUFFZCxXQUFXLENBQUNlLFlBQVk7TUFDckNDLFlBQVksRUFBRWhCLFdBQVcsQ0FBQ2lCLGNBQWM7TUFDeENDLFVBQVUsRUFBRWxCLFdBQVcsQ0FBQ21CLFdBQVc7TUFDbkNDLE1BQU0sRUFBRTtJQUNWLENBQUMsQ0FBQzs7SUFFRjtJQUNBLE1BQU1DLFdBQVcsR0FBRyxJQUFJOUIsV0FBVyxDQUFDO01BQ2xDWSxJQUFJLEVBQUVBLElBQUksQ0FBQ21CLEdBQUc7TUFDZCxHQUFHdEIsV0FBVyxDQUFDdUI7SUFDakIsQ0FBQyxDQUFDOztJQUVGO0lBQ0EsTUFBTUMsV0FBVyxHQUFHeEIsV0FBVyxDQUFDeUIsUUFBUSxDQUFDQyxHQUFHLENBQUNDLElBQUksS0FBSztNQUNwRHhCLElBQUksRUFBRUEsSUFBSSxDQUFDbUIsR0FBRztNQUNkTSxPQUFPLEVBQUVELElBQUksQ0FBQ0MsT0FBTztNQUNyQkMsUUFBUSxFQUFFRixJQUFJLENBQUNFLFFBQVE7TUFDdkJDLEtBQUssRUFBRUgsSUFBSSxDQUFDQyxPQUFPLENBQUNFO0lBQ3RCLENBQUMsQ0FBQyxDQUFDO0lBRUgsTUFBTUMsT0FBTyxDQUFDQyxHQUFHLENBQUMsQ0FDaEI3QixJQUFJLENBQUM4QixJQUFJLENBQUM7TUFBRXJDO0lBQVEsQ0FBQyxDQUFDLEVBQ3RCTCxXQUFXLENBQUMyQyxNQUFNLENBQUMsQ0FBQ2IsV0FBVyxDQUFDLEVBQUU7TUFBRXpCO0lBQVEsQ0FBQyxDQUFDLEVBQzlDSixVQUFVLENBQUMyQyxVQUFVLENBQUNYLFdBQVcsRUFBRTtNQUFFNUI7SUFBUSxDQUFDLENBQUMsRUFDL0NSLFdBQVcsQ0FBQ2dELFNBQVMsQ0FBQztNQUFFZCxHQUFHLEVBQUUzQjtJQUFVLENBQUMsQ0FBQyxDQUFDQyxPQUFPLENBQUNBLE9BQU8sQ0FBQyxDQUMzRCxDQUFDO0lBRUYsTUFBTUEsT0FBTyxDQUFDeUMsaUJBQWlCLENBQUMsQ0FBQzs7SUFFakM7SUFDQUMsWUFBWSxDQUFDQyxnQkFBZ0IsQ0FBQ3ZDLFdBQVcsQ0FBQ0ksSUFBSSxDQUFDb0MsS0FBSyxFQUFFckMsSUFBSSxDQUFDbUIsR0FBRyxDQUFDO0lBRS9ELE9BQU87TUFBRW1CLE9BQU8sRUFBRTtJQUFLLENBQUM7RUFFMUIsQ0FBQyxDQUFDLE9BQU9DLEtBQUssRUFBRTtJQUNkLE1BQU05QyxPQUFPLENBQUMrQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ2hDLE1BQU1ELEtBQUs7RUFDYixDQUFDLFNBQVM7SUFDUjlDLE9BQU8sQ0FBQ2dELFVBQVUsQ0FBQyxDQUFDO0VBQ3RCO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["TempPayment","require","Sale","SaleAddress","SaleDetail","exports","processConfirmedPayment","paymentId","session","mongoose","startSession","startTransaction","tempPayment","findById","populate","sale","user","total","paymentMethod","method_payment","currencyPayment","currency_payment","nTransaction","n_transaction","nameBank","name_bank","numberPhone","number_phone","idCardNumber","id_card_number","priceDolar","price_dolar","status","saleAddress","_id","address","saleDetails","products","map","item","product","quantity","price","Promise","all","save","create","insertMany","deleteOne","commitTransaction","emailService","sendConfirmation","email","success","error","abortTransaction","endSession"],"sourceRoot":"/home/jvim/Documents/workspace/alianzaDCEE/apiEcommerce/services/","sources":["paymentProcessor.js"],"sourcesContent":["const TempPayment = require('../models/TempPayment');\nconst Sale = require('../models/Sale');\nconst SaleAddress = require('../models/SaleAddress');\nconst SaleDetail = require('../models/SaleDetail');\n//const emailService = require('./emailService');\n\nexports.processConfirmedPayment = async (paymentId) => {\n  const session = await mongoose.startSession();\n  session.startTransaction();\n\n  try {\n    const tempPayment = await TempPayment.findById(paymentId)\n      .populate('user products.product')\n      .session(session);\n\n    // 1. Crear venta\n    const sale = new Sale({\n      user: tempPayment.user,\n      total: tempPayment.total,\n      paymentMethod: tempPayment.method_payment,\n      currencyPayment: tempPayment.currency_payment,\n      nTransaction: tempPayment.n_transaction,\n      nameBank: tempPayment.name_bank,\n      numberPhone: tempPayment.number_phone,\n      idCardNumber: tempPayment.id_card_number,\n      priceDolar: tempPayment.price_dolar,\n      status: 'completado'\n    });\n\n    // 2. Crear dirección\n    const saleAddress = new SaleAddress({\n      sale: sale._id,\n      ...tempPayment.address\n    });\n\n    // 3. Crear detalles\n    const saleDetails = tempPayment.products.map(item => ({\n      sale: sale._id,\n      product: item.product,\n      quantity: item.quantity,\n      price: item.product.price\n    }));\n\n    await Promise.all([\n      sale.save({ session }),\n      SaleAddress.create([saleAddress], { session }),\n      SaleDetail.insertMany(saleDetails, { session }),\n      TempPayment.deleteOne({ _id: paymentId }).session(session)\n    ]);\n\n    await session.commitTransaction();\n    \n    // 4. Enviar email\n    emailService.sendConfirmation(tempPayment.user.email, sale._id);\n\n    return { success: true };\n\n  } catch (error) {\n    await session.abortTransaction();\n    throw error;\n  } finally {\n    session.endSession();\n  }\n};\n"],"mappings":";;AAAA,MAAMA,WAAW,GAAGC,OAAO,CAAC,uBAAuB,CAAC;AACpD,MAAMC,IAAI,GAAGD,OAAO,CAAC,gBAAgB,CAAC;AACtC,MAAME,WAAW,GAAGF,OAAO,CAAC,uBAAuB,CAAC;AACpD,MAAMG,UAAU,GAAGH,OAAO,CAAC,sBAAsB,CAAC;AAClD;;AAEAI,OAAO,CAACC,uBAAuB,GAAG,MAAOC,SAAS,IAAK;EACrD,MAAMC,OAAO,GAAG,MAAMC,QAAQ,CAACC,YAAY,CAAC,CAAC;EAC7CF,OAAO,CAACG,gBAAgB,CAAC,CAAC;EAE1B,IAAI;IACF,MAAMC,WAAW,GAAG,MAAMZ,WAAW,CAACa,QAAQ,CAACN,SAAS,CAAC,CACtDO,QAAQ,CAAC,uBAAuB,CAAC,CACjCN,OAAO,CAACA,OAAO,CAAC;;IAEnB;IACA,MAAMO,IAAI,GAAG,IAAIb,IAAI,CAAC;MACpBc,IAAI,EAAEJ,WAAW,CAACI,IAAI;MACtBC,KAAK,EAAEL,WAAW,CAACK,KAAK;MACxBC,aAAa,EAAEN,WAAW,CAACO,cAAc;MACzCC,eAAe,EAAER,WAAW,CAACS,gBAAgB;MAC7CC,YAAY,EAAEV,WAAW,CAACW,aAAa;MACvCC,QAAQ,EAAEZ,WAAW,CAACa,SAAS;MAC/BC,WAAW,EAAEd,WAAW,CAACe,YAAY;MACrCC,YAAY,EAAEhB,WAAW,CAACiB,cAAc;MACxCC,UAAU,EAAElB,WAAW,CAACmB,WAAW;MACnCC,MAAM,EAAE;IACV,CAAC,CAAC;;IAEF;IACA,MAAMC,WAAW,GAAG,IAAI9B,WAAW,CAAC;MAClCY,IAAI,EAAEA,IAAI,CAACmB,GAAG;MACd,GAAGtB,WAAW,CAACuB;IACjB,CAAC,CAAC;;IAEF;IACA,MAAMC,WAAW,GAAGxB,WAAW,CAACyB,QAAQ,CAACC,GAAG,CAACC,IAAI,KAAK;MACpDxB,IAAI,EAAEA,IAAI,CAACmB,GAAG;MACdM,OAAO,EAAED,IAAI,CAACC,OAAO;MACrBC,QAAQ,EAAEF,IAAI,CAACE,QAAQ;MACvBC,KAAK,EAAEH,IAAI,CAACC,OAAO,CAACE;IACtB,CAAC,CAAC,CAAC;IAEH,MAAMC,OAAO,CAACC,GAAG,CAAC,CAChB7B,IAAI,CAAC8B,IAAI,CAAC;MAAErC;IAAQ,CAAC,CAAC,EACtBL,WAAW,CAAC2C,MAAM,CAAC,CAACb,WAAW,CAAC,EAAE;MAAEzB;IAAQ,CAAC,CAAC,EAC9CJ,UAAU,CAAC2C,UAAU,CAACX,WAAW,EAAE;MAAE5B;IAAQ,CAAC,CAAC,EAC/CR,WAAW,CAACgD,SAAS,CAAC;MAAEd,GAAG,EAAE3B;IAAU,CAAC,CAAC,CAACC,OAAO,CAACA,OAAO,CAAC,CAC3D,CAAC;IAEF,MAAMA,OAAO,CAACyC,iBAAiB,CAAC,CAAC;;IAEjC;IACAC,YAAY,CAACC,gBAAgB,CAACvC,WAAW,CAACI,IAAI,CAACoC,KAAK,EAAErC,IAAI,CAACmB,GAAG,CAAC;IAE/D,OAAO;MAAEmB,OAAO,EAAE;IAAK,CAAC;EAE1B,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,MAAM9C,OAAO,CAAC+C,gBAAgB,CAAC,CAAC;IAChC,MAAMD,KAAK;EACb,CAAC,SAAS;IACR9C,OAAO,CAACgD,UAAU,CAAC,CAAC;EACtB;AACF,CAAC","ignoreList":[]}},"mtime":1750295035482}}